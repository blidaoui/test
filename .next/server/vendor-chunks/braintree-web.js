"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/braintree-web";
exports.ids = ["vendor-chunks/braintree-web"];
exports.modules = {

/***/ "(ssr)/./node_modules/braintree-web/apple-pay/apple-pay.js":
/*!***********************************************************!*\
  !*** ./node_modules/braintree-web/apple-pay/apple-pay.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/apple-pay/errors.js\");\nvar methods = __webpack_require__(/*! ../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar convertMethodsToError = __webpack_require__(/*! ../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\n\n/**\n * @typedef {object} ApplePay~tokenizePayload\n * @property {string} nonce The payment method nonce.\n * @property {object} details Additional details.\n * @property {string} details.cardType Type of card, ex: Visa, MasterCard.\n * @property {string} details.cardHolderName The name of the card holder.\n * @property {string} details.dpanLastTwo Last two digits of card number.\n * @property {string} description A human-readable description.\n * @property {string} type The payment method type, always `ApplePayCard`.\n * @property {object} binData Information about the card based on the bin.\n * @property {string} binData.commercial Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.countryOfIssuance The country of issuance.\n * @property {string} binData.debit Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.durbinRegulated Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.healthcare Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.issuingBank The issuing bank.\n * @property {string} binData.payroll Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.prepaid Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.productId The product id.\n */\n\n/**\n * An Apple Pay Payment Authorization Event object.\n * @typedef {object} ApplePayPaymentAuthorizedEvent\n * @external ApplePayPaymentAuthorizedEvent\n * @see {@link https://developer.apple.com/reference/applepayjs/applepaypaymentauthorizedevent ApplePayPaymentAuthorizedEvent}\n */\n\n/**\n * An Apple Pay Payment Request object.\n * @typedef {object} ApplePayPaymentRequest\n * @external ApplePayPaymentRequest\n * @see {@link https://developer.apple.com/reference/applepayjs/1916082-applepay_js_data_types/paymentrequest PaymentRequest}\n */\n\n/**\n * @class\n * @param {object} options Options\n * @description <strong>You cannot use this constructor directly. Use {@link module:braintree-web/apple-pay.create|braintree.applePay.create} instead.</strong>\n * @classdesc This class represents an Apple Pay component. Instances of this class have methods for validating the merchant server and tokenizing payments.\n */\nfunction ApplePay(options) {\n  this._instantiatedWithClient = Boolean(!options.useDeferredClient);\n  this._client = options.client;\n  this._createPromise = options.createPromise;\n\n  if (this._client) {\n    this._setMerchantIdentifier();\n  }\n}\n\nApplePay.prototype._waitForClient = function () {\n  if (this._client) {\n    return Promise.resolve();\n  }\n\n  return this._createPromise.then(\n    function (client) {\n      this._client = client;\n\n      this._setMerchantIdentifier();\n    }.bind(this)\n  );\n};\n\nApplePay.prototype._setMerchantIdentifier = function () {\n  var applePayConfig =\n    this._client.getConfiguration().gatewayConfiguration.applePayWeb;\n\n  if (!applePayConfig) {\n    return;\n  }\n  /**\n   * @name ApplePay#merchantIdentifier\n   * @description A special merchant ID which represents the merchant association with Braintree. Required when using `ApplePaySession.canMakePaymentsWithActiveCard`.\n   * @example\n   * var promise = ApplePaySession.canMakePaymentsWithActiveCard(applePayInstance.merchantIdentifier);\n   * promise.then(function (canMakePaymentsWithActiveCard) {\n   *   if (canMakePaymentsWithActiveCard) {\n   *     // Set up Apple Pay buttons\n   *   }\n   * });\n   */\n  Object.defineProperty(this, \"merchantIdentifier\", {\n    value: applePayConfig.merchantIdentifier,\n    configurable: false,\n    writable: false,\n  });\n};\n\n/**\n * Merges a payment request with Braintree defaults to return an {external:ApplePayPaymentRequest}.\n *\n * The following properties are assigned to `paymentRequest` if not already defined. Their default values come from the Braintree gateway.\n * - `countryCode`\n * - `currencyCode`\n * - `merchantCapabilities`\n * - `supportedNetworks`\n * @public\n * @param {external:ApplePayPaymentRequest} paymentRequest The payment request details to apply on top of those from Braintree.\n * @returns {external:ApplePayPaymentRequest|Promise} The decorated `paymentRequest` object. If `useDeferredClient` is used along with an `authorization`, this method will return a promise that resolves with the `paymentRequest` object.\n * @example\n * var applePay = require('braintree-web/apple-pay');\n *\n * applePay.create({client: clientInstance}, function (applePayErr, applePayInstance) {\n *   if (applePayErr) {\n *     // Handle error here\n *     return;\n *   }\n *\n *   var paymentRequest = applePayInstance.createPaymentRequest({\n *     total: {\n *       label: 'My Company',\n *       amount: '19.99'\n *     }\n *   });\n *\n *   var session = new ApplePaySession(3, paymentRequest);\n *\n *   // ...\n * @example <caption>With deferred client</caption>\n * var applePay = require('braintree-web/apple-pay');\n *\n * applePay.create({\n *   authorization: 'client-token-or-tokenization-key',\n *   useDeferredClient: true\n * }, function (applePayErr, applePayInstance) {\n *   if (applePayErr) {\n *     // Handle error here\n *     return;\n *   }\n *\n *   applePayInstance.createPaymentRequest({\n *     total: {\n *       label: 'My Company',\n *       amount: '19.99'\n *     }\n *   }).then(function (paymentRequest) {\n *     var session = new ApplePaySession(3, paymentRequest);\n *\n *     // ...\n *   });\n */\nApplePay.prototype.createPaymentRequest = function (paymentRequest) {\n  if (this._instantiatedWithClient) {\n    return this._createPaymentRequestSynchronously(paymentRequest);\n  }\n\n  return this._waitForClient().then(\n    function () {\n      return this._createPaymentRequestSynchronously(paymentRequest);\n    }.bind(this)\n  );\n};\n\nApplePay.prototype._createPaymentRequestSynchronously = function (\n  paymentRequest\n) {\n  var applePay =\n    this._client.getConfiguration().gatewayConfiguration.applePayWeb;\n  var defaults = {\n    countryCode: applePay.countryCode,\n    currencyCode: applePay.currencyCode,\n    merchantCapabilities: applePay.merchantCapabilities || [\"supports3DS\"],\n    supportedNetworks: applePay.supportedNetworks.map(function (network) {\n      return network === \"mastercard\" ? \"masterCard\" : network;\n    }),\n  };\n\n  return Object.assign({}, defaults, paymentRequest);\n};\n\n/**\n * Validates your merchant website, as required by `ApplePaySession` before payment can be authorized.\n * @public\n * @param {object} options Options\n * @param {string} options.validationURL The validationURL from an `ApplePayValidateMerchantEvent`.\n * @param {string} options.displayName The canonical name for your store. Use a non-localized name. This parameter should be a UTF-8 string that is a maximum of 64 characters. The system may display this name to the user.\n * @param {callback} [callback] The second argument, <code>data</code>, is the Apple Pay merchant session object. If no callback is provided, `performValidation` returns a promise.\n * Pass the merchant session to your Apple Pay session's `completeMerchantValidation` method.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * var applePay = require('braintree-web/apple-pay');\n *\n * applePay.create({client: clientInstance}, function (applePayErr, applePayInstance) {\n *   if (applePayErr) {\n *     // Handle error here\n *     return;\n *   }\n *\n *   var paymentRequest = applePayInstance.createPaymentRequest({\n *     total: {\n *       label: 'My Company',\n *       amount: '19.99'\n *     }\n *   });\n *   var session = new ApplePaySession(3, paymentRequest);\n *\n *   session.onvalidatemerchant = function (event) {\n *     applePayInstance.performValidation({\n *       validationURL: event.validationURL,\n *       displayName: 'My Great Store'\n *     }, function (validationErr, validationData) {\n *       if (validationErr) {\n *         console.error(validationErr);\n *         session.abort();\n *         return;\n *       }\n *\n *       session.completeMerchantValidation(validationData);\n *     });\n *   };\n * });\n */\nApplePay.prototype.performValidation = function (options) {\n  var self = this;\n\n  if (!options || !options.validationURL) {\n    return Promise.reject(\n      new BraintreeError(errors.APPLE_PAY_VALIDATION_URL_REQUIRED)\n    );\n  }\n\n  return this._waitForClient()\n    .then(function () {\n      var applePayWebSession = {\n        validationUrl: options.validationURL,\n        domainName: options.domainName || window.location.hostname,\n        merchantIdentifier:\n          options.merchantIdentifier || self.merchantIdentifier,\n      };\n\n      if (options.displayName != null) {\n        applePayWebSession.displayName = options.displayName;\n      }\n\n      return self._client.request({\n        method: \"post\",\n        endpoint: \"apple_pay_web/sessions\",\n        data: {\n          _meta: { source: \"apple-pay\" },\n          applePayWebSession: applePayWebSession,\n        },\n      });\n    })\n    .then(function (response) {\n      analytics.sendEvent(self._client, \"applepay.performValidation.succeeded\");\n\n      return Promise.resolve(response);\n    })\n    .catch(function (err) {\n      analytics.sendEvent(self._client, \"applepay.performValidation.failed\");\n\n      if (err.code === \"CLIENT_REQUEST_ERROR\") {\n        return Promise.reject(\n          new BraintreeError({\n            type: errors.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,\n            code: errors.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,\n            message: errors.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,\n            details: {\n              originalError: err.details.originalError,\n            },\n          })\n        );\n      }\n\n      return Promise.reject(\n        new BraintreeError({\n          type: errors.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,\n          code: errors.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,\n          message: errors.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,\n          details: {\n            originalError: err,\n          },\n        })\n      );\n    });\n};\n\n/**\n * Tokenizes an Apple Pay payment. This will likely be called in your `ApplePaySession`'s `onpaymentauthorized` callback.\n * @public\n * @param {object} options Options\n * @param {object} options.token The `payment.token` property of an {@link external:ApplePayPaymentAuthorizedEvent}.\n * @param {callback} [callback] The second argument, <code>data</code>, is a {@link ApplePay~tokenizePayload|tokenizePayload}. If no callback is provided, `tokenize` returns a promise that resolves with a {@link ApplePay~tokenizePayload|tokenizePayload}.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * var applePay = require('braintree-web/apple-pay');\n *\n * applePay.create({client: clientInstance}, function (applePayErr, applePayInstance) {\n *   if (applePayErr) {\n *     // Handle error here\n *     return;\n *   }\n *\n *   var paymentRequest = applePayInstance.createPaymentRequest({\n *     total: {\n *       label: 'My Company',\n *       amount: '19.99'\n *     }\n *   });\n *   var session = new ApplePaySession(3, paymentRequest);\n *\n *   session.onpaymentauthorized = function (event) {\n *     applePayInstance.tokenize({\n *       token: event.payment.token\n *     }, function (tokenizeErr, tokenizedPayload) {\n *       if (tokenizeErr) {\n *         session.completePayment(ApplePaySession.STATUS_FAILURE);\n *         return;\n *       }\n *       // Send the tokenizedPayload to your server here!\n *\n *       // Once the transaction is complete, call completePayment\n *       // to close the Apple Pay sheet\n *       session.completePayment(ApplePaySession.STATUS_SUCCESS);\n *     });\n *   };\n *\n *   // ...\n * });\n */\nApplePay.prototype.tokenize = function (options) {\n  var self = this;\n\n  if (!options.token) {\n    return Promise.reject(\n      new BraintreeError(errors.APPLE_PAY_PAYMENT_TOKEN_REQUIRED)\n    );\n  }\n\n  return this._waitForClient()\n    .then(function () {\n      return self._client.request({\n        method: \"post\",\n        endpoint: \"payment_methods/apple_payment_tokens\",\n        data: {\n          _meta: {\n            source: \"apple-pay\",\n          },\n          applePaymentToken: Object.assign({}, options.token, {\n            // The gateway requires this key to be base64-encoded.\n            paymentData: btoa(JSON.stringify(options.token.paymentData)),\n          }),\n        },\n      });\n    })\n    .then(function (response) {\n      analytics.sendEvent(self._client, \"applepay.tokenize.succeeded\");\n\n      return Promise.resolve(response.applePayCards[0]);\n    })\n    .catch(function (err) {\n      analytics.sendEvent(self._client, \"applepay.tokenize.failed\");\n\n      return Promise.reject(\n        new BraintreeError({\n          type: errors.APPLE_PAY_TOKENIZATION.type,\n          code: errors.APPLE_PAY_TOKENIZATION.code,\n          message: errors.APPLE_PAY_TOKENIZATION.message,\n          details: {\n            originalError: err,\n          },\n        })\n      );\n    });\n};\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/apple-pay.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * applePayInstance.teardown();\n * @example <caption>With callback</caption>\n * applePayInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nApplePay.prototype.teardown = function () {\n  convertMethodsToError(this, methods(ApplePay.prototype));\n\n  return Promise.resolve();\n};\n\nmodule.exports = wrapPromise.wrapPrototype(ApplePay);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9hcHBsZS1wYXkvYXBwbGUtcGF5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHFCQUFxQixtQkFBTyxDQUFDLHlGQUF3QjtBQUNyRCxnQkFBZ0IsbUJBQU8sQ0FBQyw2RUFBa0I7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLHdFQUFVO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDdEMsNEJBQTRCLG1CQUFPLENBQUMsMkdBQWlDO0FBQ3JFLGtCQUFrQixtQkFBTyxDQUFDLGtHQUF5Qjs7QUFFbkQ7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQix1RUFBdUUsdUVBQXVFO0FBQzlJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxrRUFBa0UsZ0NBQWdDO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsYUFBYSx5Q0FBeUM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLHlCQUF5QjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxQkFBcUI7QUFDeEM7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxrREFBa0QsOENBQThDO0FBQ25ILFdBQVcsVUFBVSx5REFBeUQsK0NBQStDLGlGQUFpRiwrQ0FBK0M7QUFDN1AsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EseUNBQXlDLG1EQUFtRDtBQUM1RjtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2FwcGxlLXBheS9hcHBsZS1wYXkuanM/NTAxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgYW5hbHl0aWNzID0gcmVxdWlyZShcIi4uL2xpYi9hbmFseXRpY3NcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xudmFyIG1ldGhvZHMgPSByZXF1aXJlKFwiLi4vbGliL21ldGhvZHNcIik7XG52YXIgY29udmVydE1ldGhvZHNUb0Vycm9yID0gcmVxdWlyZShcIi4uL2xpYi9jb252ZXJ0LW1ldGhvZHMtdG8tZXJyb3JcIik7XG52YXIgd3JhcFByb21pc2UgPSByZXF1aXJlKFwiQGJyYWludHJlZS93cmFwLXByb21pc2VcIik7XG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gQXBwbGVQYXl+dG9rZW5pemVQYXlsb2FkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbm9uY2UgVGhlIHBheW1lbnQgbWV0aG9kIG5vbmNlLlxuICogQHByb3BlcnR5IHtvYmplY3R9IGRldGFpbHMgQWRkaXRpb25hbCBkZXRhaWxzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMuY2FyZFR5cGUgVHlwZSBvZiBjYXJkLCBleDogVmlzYSwgTWFzdGVyQ2FyZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmNhcmRIb2xkZXJOYW1lIFRoZSBuYW1lIG9mIHRoZSBjYXJkIGhvbGRlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmRwYW5MYXN0VHdvIExhc3QgdHdvIGRpZ2l0cyBvZiBjYXJkIG51bWJlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXNjcmlwdGlvbiBBIGh1bWFuLXJlYWRhYmxlIGRlc2NyaXB0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHBheW1lbnQgbWV0aG9kIHR5cGUsIGFsd2F5cyBgQXBwbGVQYXlDYXJkYC5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBiaW5EYXRhIEluZm9ybWF0aW9uIGFib3V0IHRoZSBjYXJkIGJhc2VkIG9uIHRoZSBiaW4uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5jb21tZXJjaWFsIFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmNvdW50cnlPZklzc3VhbmNlIFRoZSBjb3VudHJ5IG9mIGlzc3VhbmNlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEuZGViaXQgUG9zc2libGUgdmFsdWVzOiAnWWVzJywgJ05vJywgJ1Vua25vd24nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEuZHVyYmluUmVndWxhdGVkIFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmhlYWx0aGNhcmUgUG9zc2libGUgdmFsdWVzOiAnWWVzJywgJ05vJywgJ1Vua25vd24nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEuaXNzdWluZ0JhbmsgVGhlIGlzc3VpbmcgYmFuay5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLnBheXJvbGwgUG9zc2libGUgdmFsdWVzOiAnWWVzJywgJ05vJywgJ1Vua25vd24nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEucHJlcGFpZCBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5wcm9kdWN0SWQgVGhlIHByb2R1Y3QgaWQuXG4gKi9cblxuLyoqXG4gKiBBbiBBcHBsZSBQYXkgUGF5bWVudCBBdXRob3JpemF0aW9uIEV2ZW50IG9iamVjdC5cbiAqIEB0eXBlZGVmIHtvYmplY3R9IEFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRFdmVudFxuICogQGV4dGVybmFsIEFwcGxlUGF5UGF5bWVudEF1dGhvcml6ZWRFdmVudFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL3JlZmVyZW5jZS9hcHBsZXBheWpzL2FwcGxlcGF5cGF5bWVudGF1dGhvcml6ZWRldmVudCBBcHBsZVBheVBheW1lbnRBdXRob3JpemVkRXZlbnR9XG4gKi9cblxuLyoqXG4gKiBBbiBBcHBsZSBQYXkgUGF5bWVudCBSZXF1ZXN0IG9iamVjdC5cbiAqIEB0eXBlZGVmIHtvYmplY3R9IEFwcGxlUGF5UGF5bWVudFJlcXVlc3RcbiAqIEBleHRlcm5hbCBBcHBsZVBheVBheW1lbnRSZXF1ZXN0XG4gKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vcmVmZXJlbmNlL2FwcGxlcGF5anMvMTkxNjA4Mi1hcHBsZXBheV9qc19kYXRhX3R5cGVzL3BheW1lbnRyZXF1ZXN0IFBheW1lbnRSZXF1ZXN0fVxuICovXG5cbi8qKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zXG4gKiBAZGVzY3JpcHRpb24gPHN0cm9uZz5Zb3UgY2Fubm90IHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBVc2Uge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2FwcGxlLXBheS5jcmVhdGV8YnJhaW50cmVlLmFwcGxlUGF5LmNyZWF0ZX0gaW5zdGVhZC48L3N0cm9uZz5cbiAqIEBjbGFzc2Rlc2MgVGhpcyBjbGFzcyByZXByZXNlbnRzIGFuIEFwcGxlIFBheSBjb21wb25lbnQuIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGhhdmUgbWV0aG9kcyBmb3IgdmFsaWRhdGluZyB0aGUgbWVyY2hhbnQgc2VydmVyIGFuZCB0b2tlbml6aW5nIHBheW1lbnRzLlxuICovXG5mdW5jdGlvbiBBcHBsZVBheShvcHRpb25zKSB7XG4gIHRoaXMuX2luc3RhbnRpYXRlZFdpdGhDbGllbnQgPSBCb29sZWFuKCFvcHRpb25zLnVzZURlZmVycmVkQ2xpZW50KTtcbiAgdGhpcy5fY2xpZW50ID0gb3B0aW9ucy5jbGllbnQ7XG4gIHRoaXMuX2NyZWF0ZVByb21pc2UgPSBvcHRpb25zLmNyZWF0ZVByb21pc2U7XG5cbiAgaWYgKHRoaXMuX2NsaWVudCkge1xuICAgIHRoaXMuX3NldE1lcmNoYW50SWRlbnRpZmllcigpO1xuICB9XG59XG5cbkFwcGxlUGF5LnByb3RvdHlwZS5fd2FpdEZvckNsaWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX2NsaWVudCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9jcmVhdGVQcm9taXNlLnRoZW4oXG4gICAgZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuXG4gICAgICB0aGlzLl9zZXRNZXJjaGFudElkZW50aWZpZXIoKTtcbiAgICB9LmJpbmQodGhpcylcbiAgKTtcbn07XG5cbkFwcGxlUGF5LnByb3RvdHlwZS5fc2V0TWVyY2hhbnRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYXBwbGVQYXlDb25maWcgPVxuICAgIHRoaXMuX2NsaWVudC5nZXRDb25maWd1cmF0aW9uKCkuZ2F0ZXdheUNvbmZpZ3VyYXRpb24uYXBwbGVQYXlXZWI7XG5cbiAgaWYgKCFhcHBsZVBheUNvbmZpZykge1xuICAgIHJldHVybjtcbiAgfVxuICAvKipcbiAgICogQG5hbWUgQXBwbGVQYXkjbWVyY2hhbnRJZGVudGlmaWVyXG4gICAqIEBkZXNjcmlwdGlvbiBBIHNwZWNpYWwgbWVyY2hhbnQgSUQgd2hpY2ggcmVwcmVzZW50cyB0aGUgbWVyY2hhbnQgYXNzb2NpYXRpb24gd2l0aCBCcmFpbnRyZWUuIFJlcXVpcmVkIHdoZW4gdXNpbmcgYEFwcGxlUGF5U2Vzc2lvbi5jYW5NYWtlUGF5bWVudHNXaXRoQWN0aXZlQ2FyZGAuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwcm9taXNlID0gQXBwbGVQYXlTZXNzaW9uLmNhbk1ha2VQYXltZW50c1dpdGhBY3RpdmVDYXJkKGFwcGxlUGF5SW5zdGFuY2UubWVyY2hhbnRJZGVudGlmaWVyKTtcbiAgICogcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjYW5NYWtlUGF5bWVudHNXaXRoQWN0aXZlQ2FyZCkge1xuICAgKiAgIGlmIChjYW5NYWtlUGF5bWVudHNXaXRoQWN0aXZlQ2FyZCkge1xuICAgKiAgICAgLy8gU2V0IHVwIEFwcGxlIFBheSBidXR0b25zXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1lcmNoYW50SWRlbnRpZmllclwiLCB7XG4gICAgdmFsdWU6IGFwcGxlUGF5Q29uZmlnLm1lcmNoYW50SWRlbnRpZmllcixcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgfSk7XG59O1xuXG4vKipcbiAqIE1lcmdlcyBhIHBheW1lbnQgcmVxdWVzdCB3aXRoIEJyYWludHJlZSBkZWZhdWx0cyB0byByZXR1cm4gYW4ge2V4dGVybmFsOkFwcGxlUGF5UGF5bWVudFJlcXVlc3R9LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgYXNzaWduZWQgdG8gYHBheW1lbnRSZXF1ZXN0YCBpZiBub3QgYWxyZWFkeSBkZWZpbmVkLiBUaGVpciBkZWZhdWx0IHZhbHVlcyBjb21lIGZyb20gdGhlIEJyYWludHJlZSBnYXRld2F5LlxuICogLSBgY291bnRyeUNvZGVgXG4gKiAtIGBjdXJyZW5jeUNvZGVgXG4gKiAtIGBtZXJjaGFudENhcGFiaWxpdGllc2BcbiAqIC0gYHN1cHBvcnRlZE5ldHdvcmtzYFxuICogQHB1YmxpY1xuICogQHBhcmFtIHtleHRlcm5hbDpBcHBsZVBheVBheW1lbnRSZXF1ZXN0fSBwYXltZW50UmVxdWVzdCBUaGUgcGF5bWVudCByZXF1ZXN0IGRldGFpbHMgdG8gYXBwbHkgb24gdG9wIG9mIHRob3NlIGZyb20gQnJhaW50cmVlLlxuICogQHJldHVybnMge2V4dGVybmFsOkFwcGxlUGF5UGF5bWVudFJlcXVlc3R8UHJvbWlzZX0gVGhlIGRlY29yYXRlZCBgcGF5bWVudFJlcXVlc3RgIG9iamVjdC4gSWYgYHVzZURlZmVycmVkQ2xpZW50YCBpcyB1c2VkIGFsb25nIHdpdGggYW4gYGF1dGhvcml6YXRpb25gLCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBgcGF5bWVudFJlcXVlc3RgIG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgYXBwbGVQYXkgPSByZXF1aXJlKCdicmFpbnRyZWUtd2ViL2FwcGxlLXBheScpO1xuICpcbiAqIGFwcGxlUGF5LmNyZWF0ZSh7Y2xpZW50OiBjbGllbnRJbnN0YW5jZX0sIGZ1bmN0aW9uIChhcHBsZVBheUVyciwgYXBwbGVQYXlJbnN0YW5jZSkge1xuICogICBpZiAoYXBwbGVQYXlFcnIpIHtcbiAqICAgICAvLyBIYW5kbGUgZXJyb3IgaGVyZVxuICogICAgIHJldHVybjtcbiAqICAgfVxuICpcbiAqICAgdmFyIHBheW1lbnRSZXF1ZXN0ID0gYXBwbGVQYXlJbnN0YW5jZS5jcmVhdGVQYXltZW50UmVxdWVzdCh7XG4gKiAgICAgdG90YWw6IHtcbiAqICAgICAgIGxhYmVsOiAnTXkgQ29tcGFueScsXG4gKiAgICAgICBhbW91bnQ6ICcxOS45OSdcbiAqICAgICB9XG4gKiAgIH0pO1xuICpcbiAqICAgdmFyIHNlc3Npb24gPSBuZXcgQXBwbGVQYXlTZXNzaW9uKDMsIHBheW1lbnRSZXF1ZXN0KTtcbiAqXG4gKiAgIC8vIC4uLlxuICogQGV4YW1wbGUgPGNhcHRpb24+V2l0aCBkZWZlcnJlZCBjbGllbnQ8L2NhcHRpb24+XG4gKiB2YXIgYXBwbGVQYXkgPSByZXF1aXJlKCdicmFpbnRyZWUtd2ViL2FwcGxlLXBheScpO1xuICpcbiAqIGFwcGxlUGF5LmNyZWF0ZSh7XG4gKiAgIGF1dGhvcml6YXRpb246ICdjbGllbnQtdG9rZW4tb3ItdG9rZW5pemF0aW9uLWtleScsXG4gKiAgIHVzZURlZmVycmVkQ2xpZW50OiB0cnVlXG4gKiB9LCBmdW5jdGlvbiAoYXBwbGVQYXlFcnIsIGFwcGxlUGF5SW5zdGFuY2UpIHtcbiAqICAgaWYgKGFwcGxlUGF5RXJyKSB7XG4gKiAgICAgLy8gSGFuZGxlIGVycm9yIGhlcmVcbiAqICAgICByZXR1cm47XG4gKiAgIH1cbiAqXG4gKiAgIGFwcGxlUGF5SW5zdGFuY2UuY3JlYXRlUGF5bWVudFJlcXVlc3Qoe1xuICogICAgIHRvdGFsOiB7XG4gKiAgICAgICBsYWJlbDogJ015IENvbXBhbnknLFxuICogICAgICAgYW1vdW50OiAnMTkuOTknXG4gKiAgICAgfVxuICogICB9KS50aGVuKGZ1bmN0aW9uIChwYXltZW50UmVxdWVzdCkge1xuICogICAgIHZhciBzZXNzaW9uID0gbmV3IEFwcGxlUGF5U2Vzc2lvbigzLCBwYXltZW50UmVxdWVzdCk7XG4gKlxuICogICAgIC8vIC4uLlxuICogICB9KTtcbiAqL1xuQXBwbGVQYXkucHJvdG90eXBlLmNyZWF0ZVBheW1lbnRSZXF1ZXN0ID0gZnVuY3Rpb24gKHBheW1lbnRSZXF1ZXN0KSB7XG4gIGlmICh0aGlzLl9pbnN0YW50aWF0ZWRXaXRoQ2xpZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVBheW1lbnRSZXF1ZXN0U3luY2hyb25vdXNseShwYXltZW50UmVxdWVzdCk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fd2FpdEZvckNsaWVudCgpLnRoZW4oXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVBheW1lbnRSZXF1ZXN0U3luY2hyb25vdXNseShwYXltZW50UmVxdWVzdCk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5BcHBsZVBheS5wcm90b3R5cGUuX2NyZWF0ZVBheW1lbnRSZXF1ZXN0U3luY2hyb25vdXNseSA9IGZ1bmN0aW9uIChcbiAgcGF5bWVudFJlcXVlc3Rcbikge1xuICB2YXIgYXBwbGVQYXkgPVxuICAgIHRoaXMuX2NsaWVudC5nZXRDb25maWd1cmF0aW9uKCkuZ2F0ZXdheUNvbmZpZ3VyYXRpb24uYXBwbGVQYXlXZWI7XG4gIHZhciBkZWZhdWx0cyA9IHtcbiAgICBjb3VudHJ5Q29kZTogYXBwbGVQYXkuY291bnRyeUNvZGUsXG4gICAgY3VycmVuY3lDb2RlOiBhcHBsZVBheS5jdXJyZW5jeUNvZGUsXG4gICAgbWVyY2hhbnRDYXBhYmlsaXRpZXM6IGFwcGxlUGF5Lm1lcmNoYW50Q2FwYWJpbGl0aWVzIHx8IFtcInN1cHBvcnRzM0RTXCJdLFxuICAgIHN1cHBvcnRlZE5ldHdvcmtzOiBhcHBsZVBheS5zdXBwb3J0ZWROZXR3b3Jrcy5tYXAoZnVuY3Rpb24gKG5ldHdvcmspIHtcbiAgICAgIHJldHVybiBuZXR3b3JrID09PSBcIm1hc3RlcmNhcmRcIiA/IFwibWFzdGVyQ2FyZFwiIDogbmV0d29yaztcbiAgICB9KSxcbiAgfTtcblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHBheW1lbnRSZXF1ZXN0KTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHlvdXIgbWVyY2hhbnQgd2Vic2l0ZSwgYXMgcmVxdWlyZWQgYnkgYEFwcGxlUGF5U2Vzc2lvbmAgYmVmb3JlIHBheW1lbnQgY2FuIGJlIGF1dGhvcml6ZWQuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy52YWxpZGF0aW9uVVJMIFRoZSB2YWxpZGF0aW9uVVJMIGZyb20gYW4gYEFwcGxlUGF5VmFsaWRhdGVNZXJjaGFudEV2ZW50YC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmRpc3BsYXlOYW1lIFRoZSBjYW5vbmljYWwgbmFtZSBmb3IgeW91ciBzdG9yZS4gVXNlIGEgbm9uLWxvY2FsaXplZCBuYW1lLiBUaGlzIHBhcmFtZXRlciBzaG91bGQgYmUgYSBVVEYtOCBzdHJpbmcgdGhhdCBpcyBhIG1heGltdW0gb2YgNjQgY2hhcmFjdGVycy4gVGhlIHN5c3RlbSBtYXkgZGlzcGxheSB0aGlzIG5hbWUgdG8gdGhlIHVzZXIuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQsIDxjb2RlPmRhdGE8L2NvZGU+LCBpcyB0aGUgQXBwbGUgUGF5IG1lcmNoYW50IHNlc3Npb24gb2JqZWN0LiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgYHBlcmZvcm1WYWxpZGF0aW9uYCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqIFBhc3MgdGhlIG1lcmNoYW50IHNlc3Npb24gdG8geW91ciBBcHBsZSBQYXkgc2Vzc2lvbidzIGBjb21wbGV0ZU1lcmNoYW50VmFsaWRhdGlvbmAgbWV0aG9kLlxuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgYXBwbGVQYXkgPSByZXF1aXJlKCdicmFpbnRyZWUtd2ViL2FwcGxlLXBheScpO1xuICpcbiAqIGFwcGxlUGF5LmNyZWF0ZSh7Y2xpZW50OiBjbGllbnRJbnN0YW5jZX0sIGZ1bmN0aW9uIChhcHBsZVBheUVyciwgYXBwbGVQYXlJbnN0YW5jZSkge1xuICogICBpZiAoYXBwbGVQYXlFcnIpIHtcbiAqICAgICAvLyBIYW5kbGUgZXJyb3IgaGVyZVxuICogICAgIHJldHVybjtcbiAqICAgfVxuICpcbiAqICAgdmFyIHBheW1lbnRSZXF1ZXN0ID0gYXBwbGVQYXlJbnN0YW5jZS5jcmVhdGVQYXltZW50UmVxdWVzdCh7XG4gKiAgICAgdG90YWw6IHtcbiAqICAgICAgIGxhYmVsOiAnTXkgQ29tcGFueScsXG4gKiAgICAgICBhbW91bnQ6ICcxOS45OSdcbiAqICAgICB9XG4gKiAgIH0pO1xuICogICB2YXIgc2Vzc2lvbiA9IG5ldyBBcHBsZVBheVNlc3Npb24oMywgcGF5bWVudFJlcXVlc3QpO1xuICpcbiAqICAgc2Vzc2lvbi5vbnZhbGlkYXRlbWVyY2hhbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAqICAgICBhcHBsZVBheUluc3RhbmNlLnBlcmZvcm1WYWxpZGF0aW9uKHtcbiAqICAgICAgIHZhbGlkYXRpb25VUkw6IGV2ZW50LnZhbGlkYXRpb25VUkwsXG4gKiAgICAgICBkaXNwbGF5TmFtZTogJ015IEdyZWF0IFN0b3JlJ1xuICogICAgIH0sIGZ1bmN0aW9uICh2YWxpZGF0aW9uRXJyLCB2YWxpZGF0aW9uRGF0YSkge1xuICogICAgICAgaWYgKHZhbGlkYXRpb25FcnIpIHtcbiAqICAgICAgICAgY29uc29sZS5lcnJvcih2YWxpZGF0aW9uRXJyKTtcbiAqICAgICAgICAgc2Vzc2lvbi5hYm9ydCgpO1xuICogICAgICAgICByZXR1cm47XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgc2Vzc2lvbi5jb21wbGV0ZU1lcmNoYW50VmFsaWRhdGlvbih2YWxpZGF0aW9uRGF0YSk7XG4gKiAgICAgfSk7XG4gKiAgIH07XG4gKiB9KTtcbiAqL1xuQXBwbGVQYXkucHJvdG90eXBlLnBlcmZvcm1WYWxpZGF0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy52YWxpZGF0aW9uVVJMKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5BUFBMRV9QQVlfVkFMSURBVElPTl9VUkxfUkVRVUlSRUQpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl93YWl0Rm9yQ2xpZW50KClcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXBwbGVQYXlXZWJTZXNzaW9uID0ge1xuICAgICAgICB2YWxpZGF0aW9uVXJsOiBvcHRpb25zLnZhbGlkYXRpb25VUkwsXG4gICAgICAgIGRvbWFpbk5hbWU6IG9wdGlvbnMuZG9tYWluTmFtZSB8fCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgICAgIG1lcmNoYW50SWRlbnRpZmllcjpcbiAgICAgICAgICBvcHRpb25zLm1lcmNoYW50SWRlbnRpZmllciB8fCBzZWxmLm1lcmNoYW50SWRlbnRpZmllcixcbiAgICAgIH07XG5cbiAgICAgIGlmIChvcHRpb25zLmRpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICAgICAgYXBwbGVQYXlXZWJTZXNzaW9uLmRpc3BsYXlOYW1lID0gb3B0aW9ucy5kaXNwbGF5TmFtZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGYuX2NsaWVudC5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcbiAgICAgICAgZW5kcG9pbnQ6IFwiYXBwbGVfcGF5X3dlYi9zZXNzaW9uc1wiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgX21ldGE6IHsgc291cmNlOiBcImFwcGxlLXBheVwiIH0sXG4gICAgICAgICAgYXBwbGVQYXlXZWJTZXNzaW9uOiBhcHBsZVBheVdlYlNlc3Npb24sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChzZWxmLl9jbGllbnQsIFwiYXBwbGVwYXkucGVyZm9ybVZhbGlkYXRpb24uc3VjY2VlZGVkXCIpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KHNlbGYuX2NsaWVudCwgXCJhcHBsZXBheS5wZXJmb3JtVmFsaWRhdGlvbi5mYWlsZWRcIik7XG5cbiAgICAgIGlmIChlcnIuY29kZSA9PT0gXCJDTElFTlRfUkVRVUVTVF9FUlJPUlwiKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgICAgdHlwZTogZXJyb3JzLkFQUExFX1BBWV9NRVJDSEFOVF9WQUxJREFUSU9OX0ZBSUxFRC50eXBlLFxuICAgICAgICAgICAgY29kZTogZXJyb3JzLkFQUExFX1BBWV9NRVJDSEFOVF9WQUxJREFUSU9OX0ZBSUxFRC5jb2RlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JzLkFQUExFX1BBWV9NRVJDSEFOVF9WQUxJREFUSU9OX0ZBSUxFRC5tZXNzYWdlLFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnIuZGV0YWlscy5vcmlnaW5hbEVycm9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICAgICAgdHlwZTogZXJyb3JzLkFQUExFX1BBWV9NRVJDSEFOVF9WQUxJREFUSU9OX05FVFdPUksudHlwZSxcbiAgICAgICAgICBjb2RlOiBlcnJvcnMuQVBQTEVfUEFZX01FUkNIQU5UX1ZBTElEQVRJT05fTkVUV09SSy5jb2RlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9ycy5BUFBMRV9QQVlfTUVSQ0hBTlRfVkFMSURBVElPTl9ORVRXT1JLLm1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBUb2tlbml6ZXMgYW4gQXBwbGUgUGF5IHBheW1lbnQuIFRoaXMgd2lsbCBsaWtlbHkgYmUgY2FsbGVkIGluIHlvdXIgYEFwcGxlUGF5U2Vzc2lvbmAncyBgb25wYXltZW50YXV0aG9yaXplZGAgY2FsbGJhY2suXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy50b2tlbiBUaGUgYHBheW1lbnQudG9rZW5gIHByb3BlcnR5IG9mIGFuIHtAbGluayBleHRlcm5hbDpBcHBsZVBheVBheW1lbnRBdXRob3JpemVkRXZlbnR9LlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCA8Y29kZT5kYXRhPC9jb2RlPiwgaXMgYSB7QGxpbmsgQXBwbGVQYXl+dG9rZW5pemVQYXlsb2FkfHRva2VuaXplUGF5bG9hZH0uIElmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLCBgdG9rZW5pemVgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHtAbGluayBBcHBsZVBheX50b2tlbml6ZVBheWxvYWR8dG9rZW5pemVQYXlsb2FkfS5cbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKiBAZXhhbXBsZVxuICogdmFyIGFwcGxlUGF5ID0gcmVxdWlyZSgnYnJhaW50cmVlLXdlYi9hcHBsZS1wYXknKTtcbiAqXG4gKiBhcHBsZVBheS5jcmVhdGUoe2NsaWVudDogY2xpZW50SW5zdGFuY2V9LCBmdW5jdGlvbiAoYXBwbGVQYXlFcnIsIGFwcGxlUGF5SW5zdGFuY2UpIHtcbiAqICAgaWYgKGFwcGxlUGF5RXJyKSB7XG4gKiAgICAgLy8gSGFuZGxlIGVycm9yIGhlcmVcbiAqICAgICByZXR1cm47XG4gKiAgIH1cbiAqXG4gKiAgIHZhciBwYXltZW50UmVxdWVzdCA9IGFwcGxlUGF5SW5zdGFuY2UuY3JlYXRlUGF5bWVudFJlcXVlc3Qoe1xuICogICAgIHRvdGFsOiB7XG4gKiAgICAgICBsYWJlbDogJ015IENvbXBhbnknLFxuICogICAgICAgYW1vdW50OiAnMTkuOTknXG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgdmFyIHNlc3Npb24gPSBuZXcgQXBwbGVQYXlTZXNzaW9uKDMsIHBheW1lbnRSZXF1ZXN0KTtcbiAqXG4gKiAgIHNlc3Npb24ub25wYXltZW50YXV0aG9yaXplZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICogICAgIGFwcGxlUGF5SW5zdGFuY2UudG9rZW5pemUoe1xuICogICAgICAgdG9rZW46IGV2ZW50LnBheW1lbnQudG9rZW5cbiAqICAgICB9LCBmdW5jdGlvbiAodG9rZW5pemVFcnIsIHRva2VuaXplZFBheWxvYWQpIHtcbiAqICAgICAgIGlmICh0b2tlbml6ZUVycikge1xuICogICAgICAgICBzZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX0ZBSUxVUkUpO1xuICogICAgICAgICByZXR1cm47XG4gKiAgICAgICB9XG4gKiAgICAgICAvLyBTZW5kIHRoZSB0b2tlbml6ZWRQYXlsb2FkIHRvIHlvdXIgc2VydmVyIGhlcmUhXG4gKlxuICogICAgICAgLy8gT25jZSB0aGUgdHJhbnNhY3Rpb24gaXMgY29tcGxldGUsIGNhbGwgY29tcGxldGVQYXltZW50XG4gKiAgICAgICAvLyB0byBjbG9zZSB0aGUgQXBwbGUgUGF5IHNoZWV0XG4gKiAgICAgICBzZXNzaW9uLmNvbXBsZXRlUGF5bWVudChBcHBsZVBheVNlc3Npb24uU1RBVFVTX1NVQ0NFU1MpO1xuICogICAgIH0pO1xuICogICB9O1xuICpcbiAqICAgLy8gLi4uXG4gKiB9KTtcbiAqL1xuQXBwbGVQYXkucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICghb3B0aW9ucy50b2tlbikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuQVBQTEVfUEFZX1BBWU1FTlRfVE9LRU5fUkVRVUlSRUQpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl93YWl0Rm9yQ2xpZW50KClcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2VsZi5fY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICBlbmRwb2ludDogXCJwYXltZW50X21ldGhvZHMvYXBwbGVfcGF5bWVudF90b2tlbnNcIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgICBzb3VyY2U6IFwiYXBwbGUtcGF5XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHBsZVBheW1lbnRUb2tlbjogT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucy50b2tlbiwge1xuICAgICAgICAgICAgLy8gVGhlIGdhdGV3YXkgcmVxdWlyZXMgdGhpcyBrZXkgdG8gYmUgYmFzZTY0LWVuY29kZWQuXG4gICAgICAgICAgICBwYXltZW50RGF0YTogYnRvYShKU09OLnN0cmluZ2lmeShvcHRpb25zLnRva2VuLnBheW1lbnREYXRhKSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChzZWxmLl9jbGllbnQsIFwiYXBwbGVwYXkudG9rZW5pemUuc3VjY2VlZGVkXCIpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLmFwcGxlUGF5Q2FyZHNbMF0pO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoc2VsZi5fY2xpZW50LCBcImFwcGxlcGF5LnRva2VuaXplLmZhaWxlZFwiKTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgIHR5cGU6IGVycm9ycy5BUFBMRV9QQVlfVE9LRU5JWkFUSU9OLnR5cGUsXG4gICAgICAgICAgY29kZTogZXJyb3JzLkFQUExFX1BBWV9UT0tFTklaQVRJT04uY29kZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvcnMuQVBQTEVfUEFZX1RPS0VOSVpBVElPTi5tZXNzYWdlLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogQ2xlYW5seSB0ZWFyIGRvd24gYW55dGhpbmcgc2V0IHVwIGJ5IHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9hcHBsZS1wYXkuY3JlYXRlfGNyZWF0ZX0uXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIENhbGxlZCBvbmNlIHRlYXJkb3duIGlzIGNvbXBsZXRlLiBObyBkYXRhIGlzIHJldHVybmVkIGlmIHRlYXJkb3duIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHkuXG4gKiBAZXhhbXBsZVxuICogYXBwbGVQYXlJbnN0YW5jZS50ZWFyZG93bigpO1xuICogQGV4YW1wbGUgPGNhcHRpb24+V2l0aCBjYWxsYmFjazwvY2FwdGlvbj5cbiAqIGFwcGxlUGF5SW5zdGFuY2UudGVhcmRvd24oZnVuY3Rpb24gKCkge1xuICogICAvLyB0ZWFyZG93biBpcyBjb21wbGV0ZVxuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5BcHBsZVBheS5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnZlcnRNZXRob2RzVG9FcnJvcih0aGlzLCBtZXRob2RzKEFwcGxlUGF5LnByb3RvdHlwZSkpO1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gd3JhcFByb21pc2Uud3JhcFByb3RvdHlwZShBcHBsZVBheSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/apple-pay/apple-pay.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/apple-pay/errors.js":
/*!********************************************************!*\
  !*** ./node_modules/braintree-web/apple-pay/errors.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Apple Pay - Creation Error Codes\n * @description Errors that occur when [creating the Apple Pay component](./module-braintree-web_apple-pay.html#.create).\n * @property {MERCHANT} APPLE_PAY_NOT_ENABLED Occurs when the authorization used is not authorized to process Apple Pay.\n */\n\n/**\n * @name BraintreeError.Apple Pay - performValidation Error Codes\n * @description Errors that occur when [validating](./ApplePay.html#performValidation).\n * @property {MERCHANT} APPLE_PAY_VALIDATION_URL_REQUIRED Occurs when the `validationURL` option is not passed in.\n * @property {MERCHANT} APPLE_PAY_MERCHANT_VALIDATION_FAILED Occurs when the website domain has not been registered in the Braintree control panel.\n * @property {NETWORK} APPLE_PAY_MERCHANT_VALIDATION_NETWORK Occurs when an unknown network error occurs.\n */\n\n/**\n * @name BraintreeError.Apple Pay - tokenize Error Codes\n * @description Errors that occur when [tokenizing](./ApplePay.html#tokenize).\n * @property {MERCHANT} APPLE_PAY_PAYMENT_TOKEN_REQUIRED Occurs when the `token` option is not passed in.\n * @property {NETWORK} APPLE_PAY_TOKENIZATION Occurs when an unknown network error occurs.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  APPLE_PAY_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"APPLE_PAY_NOT_ENABLED\",\n    message: \"Apple Pay is not enabled for this merchant.\",\n  },\n  APPLE_PAY_VALIDATION_URL_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"APPLE_PAY_VALIDATION_URL_REQUIRED\",\n    message: \"performValidation must be called with a validationURL.\",\n  },\n  APPLE_PAY_MERCHANT_VALIDATION_NETWORK: {\n    type: BraintreeError.types.NETWORK,\n    code: \"APPLE_PAY_MERCHANT_VALIDATION_NETWORK\",\n    message: \"A network error occurred when validating the Apple Pay merchant.\",\n  },\n  APPLE_PAY_MERCHANT_VALIDATION_FAILED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"APPLE_PAY_MERCHANT_VALIDATION_FAILED\",\n    message:\n      \"Make sure you have registered your domain name in the Braintree Control Panel.\",\n  },\n  APPLE_PAY_PAYMENT_TOKEN_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"APPLE_PAY_PAYMENT_TOKEN_REQUIRED\",\n    message: \"tokenize must be called with a payment token.\",\n  },\n  APPLE_PAY_TOKENIZATION: {\n    type: BraintreeError.types.NETWORK,\n    code: \"APPLE_PAY_TOKENIZATION\",\n    message: \"A network error occurred when processing the Apple Pay payment.\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9hcHBsZS1wYXkvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsU0FBUztBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCOztBQUVBLHFCQUFxQixtQkFBTyxDQUFDLHlGQUF3Qjs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2FwcGxlLXBheS9lcnJvcnMuanM/MGFiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5BcHBsZSBQYXkgLSBDcmVhdGlvbiBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gW2NyZWF0aW5nIHRoZSBBcHBsZSBQYXkgY29tcG9uZW50XSguL21vZHVsZS1icmFpbnRyZWUtd2ViX2FwcGxlLXBheS5odG1sIy5jcmVhdGUpLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gQVBQTEVfUEFZX05PVF9FTkFCTEVEIE9jY3VycyB3aGVuIHRoZSBhdXRob3JpemF0aW9uIHVzZWQgaXMgbm90IGF1dGhvcml6ZWQgdG8gcHJvY2VzcyBBcHBsZSBQYXkuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5BcHBsZSBQYXkgLSBwZXJmb3JtVmFsaWRhdGlvbiBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gW3ZhbGlkYXRpbmddKC4vQXBwbGVQYXkuaHRtbCNwZXJmb3JtVmFsaWRhdGlvbikuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBBUFBMRV9QQVlfVkFMSURBVElPTl9VUkxfUkVRVUlSRUQgT2NjdXJzIHdoZW4gdGhlIGB2YWxpZGF0aW9uVVJMYCBvcHRpb24gaXMgbm90IHBhc3NlZCBpbi5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IEFQUExFX1BBWV9NRVJDSEFOVF9WQUxJREFUSU9OX0ZBSUxFRCBPY2N1cnMgd2hlbiB0aGUgd2Vic2l0ZSBkb21haW4gaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgaW4gdGhlIEJyYWludHJlZSBjb250cm9sIHBhbmVsLlxuICogQHByb3BlcnR5IHtORVRXT1JLfSBBUFBMRV9QQVlfTUVSQ0hBTlRfVkFMSURBVElPTl9ORVRXT1JLIE9jY3VycyB3aGVuIGFuIHVua25vd24gbmV0d29yayBlcnJvciBvY2N1cnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5BcHBsZSBQYXkgLSB0b2tlbml6ZSBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gW3Rva2VuaXppbmddKC4vQXBwbGVQYXkuaHRtbCN0b2tlbml6ZSkuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBBUFBMRV9QQVlfUEFZTUVOVF9UT0tFTl9SRVFVSVJFRCBPY2N1cnMgd2hlbiB0aGUgYHRva2VuYCBvcHRpb24gaXMgbm90IHBhc3NlZCBpbi5cbiAqIEBwcm9wZXJ0eSB7TkVUV09SS30gQVBQTEVfUEFZX1RPS0VOSVpBVElPTiBPY2N1cnMgd2hlbiBhbiB1bmtub3duIG5ldHdvcmsgZXJyb3Igb2NjdXJzLlxuICovXG5cbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQVBQTEVfUEFZX05PVF9FTkFCTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJBUFBMRV9QQVlfTk9UX0VOQUJMRURcIixcbiAgICBtZXNzYWdlOiBcIkFwcGxlIFBheSBpcyBub3QgZW5hYmxlZCBmb3IgdGhpcyBtZXJjaGFudC5cIixcbiAgfSxcbiAgQVBQTEVfUEFZX1ZBTElEQVRJT05fVVJMX1JFUVVJUkVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJBUFBMRV9QQVlfVkFMSURBVElPTl9VUkxfUkVRVUlSRURcIixcbiAgICBtZXNzYWdlOiBcInBlcmZvcm1WYWxpZGF0aW9uIG11c3QgYmUgY2FsbGVkIHdpdGggYSB2YWxpZGF0aW9uVVJMLlwiLFxuICB9LFxuICBBUFBMRV9QQVlfTUVSQ0hBTlRfVkFMSURBVElPTl9ORVRXT1JLOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTkVUV09SSyxcbiAgICBjb2RlOiBcIkFQUExFX1BBWV9NRVJDSEFOVF9WQUxJREFUSU9OX05FVFdPUktcIixcbiAgICBtZXNzYWdlOiBcIkEgbmV0d29yayBlcnJvciBvY2N1cnJlZCB3aGVuIHZhbGlkYXRpbmcgdGhlIEFwcGxlIFBheSBtZXJjaGFudC5cIixcbiAgfSxcbiAgQVBQTEVfUEFZX01FUkNIQU5UX1ZBTElEQVRJT05fRkFJTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJBUFBMRV9QQVlfTUVSQ0hBTlRfVkFMSURBVElPTl9GQUlMRURcIixcbiAgICBtZXNzYWdlOlxuICAgICAgXCJNYWtlIHN1cmUgeW91IGhhdmUgcmVnaXN0ZXJlZCB5b3VyIGRvbWFpbiBuYW1lIGluIHRoZSBCcmFpbnRyZWUgQ29udHJvbCBQYW5lbC5cIixcbiAgfSxcbiAgQVBQTEVfUEFZX1BBWU1FTlRfVE9LRU5fUkVRVUlSRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkFQUExFX1BBWV9QQVlNRU5UX1RPS0VOX1JFUVVJUkVEXCIsXG4gICAgbWVzc2FnZTogXCJ0b2tlbml6ZSBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgcGF5bWVudCB0b2tlbi5cIixcbiAgfSxcbiAgQVBQTEVfUEFZX1RPS0VOSVpBVElPTjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk5FVFdPUkssXG4gICAgY29kZTogXCJBUFBMRV9QQVlfVE9LRU5JWkFUSU9OXCIsXG4gICAgbWVzc2FnZTogXCJBIG5ldHdvcmsgZXJyb3Igb2NjdXJyZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSBBcHBsZSBQYXkgcGF5bWVudC5cIixcbiAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/apple-pay/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/apple-pay/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/braintree-web/apple-pay/index.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @module braintree-web/apple-pay\n * @description Accept Apple Pay on the Web. *This component is currently in beta and is subject to change.*\n */\n\nvar ApplePay = __webpack_require__(/*! ./apple-pay */ \"(ssr)/./node_modules/braintree-web/apple-pay/apple-pay.js\");\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar basicComponentVerification = __webpack_require__(/*! ../lib/basic-component-verification */ \"(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\");\nvar createAssetsUrl = __webpack_require__(/*! ../lib/create-assets-url */ \"(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\");\nvar createDeferredClient = __webpack_require__(/*! ../lib/create-deferred-client */ \"(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/apple-pay/errors.js\");\nvar VERSION = \"3.99.0\";\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\n\n/**\n * @static\n * @function create\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {boolean} [options.useDeferredClient] Used in conjunction with `authorization`, allows the Apple Pay instance to be available right away by fetching the client configuration in the background. When this option is used, {@link ApplePay#createPaymentRequest} will return a promise that resolves with the configuration instead of returning synchronously.\n * @param {callback} [callback] The second argument, `data`, is the {@link ApplePay} instance. If no callback is provided, `create` returns a promise that resolves with the {@link ApplePay} instance.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nfunction create(options) {\n  var name = \"Apple Pay\";\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      var applePayInstance;\n      var createPromise = createDeferredClient\n        .create({\n          authorization: options.authorization,\n          client: options.client,\n          debug: options.debug,\n          assetsUrl: createAssetsUrl.create(options.authorization),\n          name: name,\n        })\n        .then(function (client) {\n          if (!client.getConfiguration().gatewayConfiguration.applePayWeb) {\n            return Promise.reject(\n              new BraintreeError(errors.APPLE_PAY_NOT_ENABLED)\n            );\n          }\n\n          analytics.sendEvent(client, \"applepay.initialized\");\n\n          return client;\n        });\n\n      options.createPromise = createPromise;\n      applePayInstance = new ApplePay(options);\n\n      if (!options.useDeferredClient) {\n        return createPromise.then(function (client) {\n          applePayInstance._client = client;\n\n          return applePayInstance;\n        });\n      }\n\n      return applePayInstance;\n    });\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9hcHBsZS1wYXkvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxtQkFBTyxDQUFDLDhFQUFhO0FBQ3BDLGdCQUFnQixtQkFBTyxDQUFDLDZFQUFrQjtBQUMxQyxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7QUFDckQsaUNBQWlDLG1CQUFPLENBQUMsbUhBQXFDO0FBQzlFLHNCQUFzQixtQkFBTyxDQUFDLDZGQUEwQjtBQUN4RCwyQkFBMkIsbUJBQU8sQ0FBQyx1R0FBK0I7QUFDbEUsYUFBYSxtQkFBTyxDQUFDLHdFQUFVO0FBQy9CO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsa0dBQXlCOztBQUVuRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLG9CQUFvQixjQUFjO0FBQ3JELFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVMsa05BQWtOLHFDQUFxQztBQUMzUSxXQUFXLFVBQVUsZ0RBQWdELGdCQUFnQix5RkFBeUYsZ0JBQWdCO0FBQzlMLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxhQUFhO0FBQ3RFLFlBQVk7QUFDWjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvYXBwbGUtcGF5L2luZGV4LmpzPzJmYWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG1vZHVsZSBicmFpbnRyZWUtd2ViL2FwcGxlLXBheVxuICogQGRlc2NyaXB0aW9uIEFjY2VwdCBBcHBsZSBQYXkgb24gdGhlIFdlYi4gKlRoaXMgY29tcG9uZW50IGlzIGN1cnJlbnRseSBpbiBiZXRhIGFuZCBpcyBzdWJqZWN0IHRvIGNoYW5nZS4qXG4gKi9cblxudmFyIEFwcGxlUGF5ID0gcmVxdWlyZShcIi4vYXBwbGUtcGF5XCIpO1xudmFyIGFuYWx5dGljcyA9IHJlcXVpcmUoXCIuLi9saWIvYW5hbHl0aWNzXCIpO1xudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgYmFzaWNDb21wb25lbnRWZXJpZmljYXRpb24gPSByZXF1aXJlKFwiLi4vbGliL2Jhc2ljLWNvbXBvbmVudC12ZXJpZmljYXRpb25cIik7XG52YXIgY3JlYXRlQXNzZXRzVXJsID0gcmVxdWlyZShcIi4uL2xpYi9jcmVhdGUtYXNzZXRzLXVybFwiKTtcbnZhciBjcmVhdGVEZWZlcnJlZENsaWVudCA9IHJlcXVpcmUoXCIuLi9saWIvY3JlYXRlLWRlZmVycmVkLWNsaWVudFwiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi9lcnJvcnNcIik7XG52YXIgVkVSU0lPTiA9IFwiMy45OS4wXCI7XG52YXIgd3JhcFByb21pc2UgPSByZXF1aXJlKFwiQGJyYWludHJlZS93cmFwLXByb21pc2VcIik7XG5cbi8qKlxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIGNyZWF0ZVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ3JlYXRpb24gb3B0aW9uczpcbiAqIEBwYXJhbSB7Q2xpZW50fSBbb3B0aW9ucy5jbGllbnRdIEEge0BsaW5rIENsaWVudH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXV0aG9yaXphdGlvbl0gQSB0b2tlbml6YXRpb25LZXkgb3IgY2xpZW50VG9rZW4uIENhbiBiZSB1c2VkIGluIHBsYWNlIG9mIGBvcHRpb25zLmNsaWVudGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZURlZmVycmVkQ2xpZW50XSBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYGF1dGhvcml6YXRpb25gLCBhbGxvd3MgdGhlIEFwcGxlIFBheSBpbnN0YW5jZSB0byBiZSBhdmFpbGFibGUgcmlnaHQgYXdheSBieSBmZXRjaGluZyB0aGUgY2xpZW50IGNvbmZpZ3VyYXRpb24gaW4gdGhlIGJhY2tncm91bmQuIFdoZW4gdGhpcyBvcHRpb24gaXMgdXNlZCwge0BsaW5rIEFwcGxlUGF5I2NyZWF0ZVBheW1lbnRSZXF1ZXN0fSB3aWxsIHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb25maWd1cmF0aW9uIGluc3RlYWQgb2YgcmV0dXJuaW5nIHN5bmNocm9ub3VzbHkuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQsIGBkYXRhYCwgaXMgdGhlIHtAbGluayBBcHBsZVBheX0gaW5zdGFuY2UuIElmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLCBgY3JlYXRlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHtAbGluayBBcHBsZVBheX0gaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5mdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICB2YXIgbmFtZSA9IFwiQXBwbGUgUGF5XCI7XG5cbiAgcmV0dXJuIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uXG4gICAgLnZlcmlmeSh7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgY2xpZW50OiBvcHRpb25zLmNsaWVudCxcbiAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcHBsZVBheUluc3RhbmNlO1xuICAgICAgdmFyIGNyZWF0ZVByb21pc2UgPSBjcmVhdGVEZWZlcnJlZENsaWVudFxuICAgICAgICAuY3JlYXRlKHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLmF1dGhvcml6YXRpb24sXG4gICAgICAgICAgY2xpZW50OiBvcHRpb25zLmNsaWVudCxcbiAgICAgICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1ZyxcbiAgICAgICAgICBhc3NldHNVcmw6IGNyZWF0ZUFzc2V0c1VybC5jcmVhdGUob3B0aW9ucy5hdXRob3JpemF0aW9uKSxcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICAgICAgaWYgKCFjbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpLmdhdGV3YXlDb25maWd1cmF0aW9uLmFwcGxlUGF5V2ViKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuQVBQTEVfUEFZX05PVF9FTkFCTEVEKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KGNsaWVudCwgXCJhcHBsZXBheS5pbml0aWFsaXplZFwiKTtcblxuICAgICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICAgIH0pO1xuXG4gICAgICBvcHRpb25zLmNyZWF0ZVByb21pc2UgPSBjcmVhdGVQcm9taXNlO1xuICAgICAgYXBwbGVQYXlJbnN0YW5jZSA9IG5ldyBBcHBsZVBheShvcHRpb25zKTtcblxuICAgICAgaWYgKCFvcHRpb25zLnVzZURlZmVycmVkQ2xpZW50KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgIGFwcGxlUGF5SW5zdGFuY2UuX2NsaWVudCA9IGNsaWVudDtcblxuICAgICAgICAgIHJldHVybiBhcHBsZVBheUluc3RhbmNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFwcGxlUGF5SW5zdGFuY2U7XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6IHdyYXBQcm9taXNlKGNyZWF0ZSksXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgU0RLLCBpLmUuIGB7QHBrZyB2ZXJzaW9ufWAuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBWRVJTSU9OOiBWRVJTSU9OLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/apple-pay/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/client.js":
/*!*****************************************************!*\
  !*** ./node_modules/braintree-web/client/client.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BRAINTREE_VERSION = (__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/braintree-web/client/constants.js\").BRAINTREE_VERSION);\n\nvar GraphQL = __webpack_require__(/*! ./request/graphql */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/index.js\");\nvar request = __webpack_require__(/*! ./request */ \"(ssr)/./node_modules/braintree-web/client/request/index.js\");\nvar isVerifiedDomain = __webpack_require__(/*! ../lib/is-verified-domain */ \"(ssr)/./node_modules/braintree-web/lib/is-verified-domain.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar convertToBraintreeError = __webpack_require__(/*! ../lib/convert-to-braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-to-braintree-error.js\");\nvar getGatewayConfiguration = (__webpack_require__(/*! ./get-configuration */ \"(ssr)/./node_modules/braintree-web/client/get-configuration.js\").getConfiguration);\nvar createAuthorizationData = __webpack_require__(/*! ../lib/create-authorization-data */ \"(ssr)/./node_modules/braintree-web/lib/create-authorization-data.js\");\nvar addMetadata = __webpack_require__(/*! ../lib/add-metadata */ \"(ssr)/./node_modules/braintree-web/lib/add-metadata.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar once = __webpack_require__(/*! ../lib/once */ \"(ssr)/./node_modules/braintree-web/lib/once.js\");\nvar deferred = __webpack_require__(/*! ../lib/deferred */ \"(ssr)/./node_modules/braintree-web/lib/deferred.js\");\nvar assign = (__webpack_require__(/*! ../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/client/errors.js\");\nvar VERSION = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").VERSION);\nvar GRAPHQL_URLS = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").GRAPHQL_URLS);\nvar methods = __webpack_require__(/*! ../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar convertMethodsToError = __webpack_require__(/*! ../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar assets = __webpack_require__(/*! ../lib/assets */ \"(ssr)/./node_modules/braintree-web/lib/assets.js\");\nvar FRAUDNET_FNCLS = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").FRAUDNET_FNCLS);\nvar FRAUDNET_SOURCE = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").FRAUDNET_SOURCE);\nvar FRAUDNET_URL = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").FRAUDNET_URL);\n\nvar cachedClients = {};\n\n/**\n * This object is returned by {@link Client#getConfiguration|getConfiguration}. This information is used extensively by other Braintree modules to properly configure themselves.\n * @typedef {object} Client~configuration\n * @property {object} client The braintree-web/client parameters.\n * @property {string} client.authorization A tokenizationKey or clientToken.\n * @property {object} gatewayConfiguration Gateway-supplied configuration.\n * @property {object} analyticsMetadata Analytics-specific data.\n * @property {string} analyticsMetadata.sessionId Uniquely identifies a browsing session.\n * @property {string} analyticsMetadata.sdkVersion The braintree.js version.\n * @property {string} analyticsMetadata.merchantAppId Identifies the merchant's web app.\n */\n\n/**\n * @class\n * @param {Client~configuration} configuration Options\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/client.create|braintree.client.create} instead.</strong>\n * @classdesc This class is required by many other Braintree components. It serves as the base API layer that communicates with our servers. It is also capable of being used to formulate direct calls to our servers, such as direct credit card tokenization. See {@link Client#request}.\n */\nfunction Client(configuration) {\n  var configurationJSON, gatewayConfiguration;\n\n  configuration = configuration || {};\n\n  configurationJSON = JSON.stringify(configuration);\n  gatewayConfiguration = configuration.gatewayConfiguration;\n\n  if (!gatewayConfiguration) {\n    throw new BraintreeError(errors.CLIENT_MISSING_GATEWAY_CONFIGURATION);\n  }\n\n  [\"assetsUrl\", \"clientApiUrl\", \"configUrl\"].forEach(function (property) {\n    if (\n      property in gatewayConfiguration &&\n      !isVerifiedDomain(gatewayConfiguration[property])\n    ) {\n      throw new BraintreeError({\n        type: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,\n        code: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,\n        message: property + \" property is on an invalid domain.\",\n      });\n    }\n  });\n\n  /**\n   * Returns a copy of the configuration values.\n   * @public\n   * @returns {Client~configuration} configuration\n   */\n  this.getConfiguration = function () {\n    return JSON.parse(configurationJSON);\n  };\n\n  this._request = request;\n  this._configuration = this.getConfiguration();\n\n  this._clientApiBaseUrl = gatewayConfiguration.clientApiUrl + \"/v1/\";\n\n  if (gatewayConfiguration.graphQL) {\n    if (!isVerifiedDomain(gatewayConfiguration.graphQL.url)) {\n      throw new BraintreeError({\n        type: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,\n        code: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,\n        message: \"graphQL.url property is on an invalid domain.\",\n      });\n    }\n\n    this._graphQL = new GraphQL({\n      graphQL: gatewayConfiguration.graphQL,\n    });\n  }\n}\n\nClient.initialize = function (options) {\n  var clientInstance, authData;\n  var promise = cachedClients[options.authorization];\n\n  if (promise) {\n    analytics.sendEvent(promise, \"custom.client.load.cached\");\n\n    return promise;\n  }\n\n  try {\n    authData = createAuthorizationData(options.authorization);\n  } catch (err) {\n    return Promise.reject(\n      new BraintreeError(errors.CLIENT_INVALID_AUTHORIZATION)\n    );\n  }\n\n  promise = getGatewayConfiguration(authData).then(function (configuration) {\n    if (options.debug) {\n      configuration.isDebug = true;\n    }\n\n    configuration.authorization = options.authorization;\n\n    clientInstance = new Client(configuration);\n\n    return clientInstance;\n  });\n\n  cachedClients[options.authorization] = promise;\n\n  analytics.sendEvent(promise, \"custom.client.load.initialized\");\n\n  return promise\n    .then(function (client) {\n      analytics.sendEvent(clientInstance, \"custom.client.load.succeeded\");\n\n      return client;\n    })\n    .catch(function (err) {\n      delete cachedClients[options.authorization];\n\n      return Promise.reject(err);\n    });\n};\n\n// Primarily used for testing the client initalization call\nClient.clearCache = function () {\n  cachedClients = {};\n};\n\nClient.prototype._findOrCreateFraudnetJSON = function (clientMetadataId) {\n  var el = document.querySelector('script[fncls=\"' + FRAUDNET_FNCLS + '\"]');\n  var config, additionalData, authorizationFingerprint, parameters;\n\n  if (!el) {\n    el = document.body.appendChild(document.createElement(\"script\"));\n    el.type = \"application/json\";\n    el.setAttribute(\"fncls\", FRAUDNET_FNCLS);\n  }\n\n  config = this.getConfiguration();\n  additionalData = {\n    rda_tenant: \"bt_card\", // eslint-disable-line camelcase\n    mid: config.gatewayConfiguration.merchantId,\n  };\n  authorizationFingerprint = config.authorizationFingerprint;\n\n  if (authorizationFingerprint) {\n    authorizationFingerprint.split(\"&\").forEach(function (pieces) {\n      var component = pieces.split(\"=\");\n\n      if (component[0] === \"customer_id\" && component.length > 1) {\n        additionalData.cid = component[1];\n      }\n    });\n  }\n\n  parameters = {\n    f: clientMetadataId.substr(0, 32),\n    fp: additionalData,\n    bu: false,\n    s: FRAUDNET_SOURCE,\n  };\n  el.text = JSON.stringify(parameters);\n};\n\n/**\n * Used by other modules to formulate all network requests to the Braintree gateway. It is also capable of being used directly from your own form to tokenize credit card information. However, be sure to satisfy PCI compliance if you use direct card tokenization.\n * @public\n * @param {object} options Request options:\n * @param {string} options.method HTTP method, e.g. \"get\" or \"post\".\n * @param {string} options.endpoint Endpoint path, e.g. \"payment_methods\".\n * @param {object} options.data Data to send with the request.\n * @param {number} [options.timeout=60000] Set a timeout (in milliseconds) for the request.\n * @param {callback} [callback] The second argument, <code>data</code>, is the returned server data.\n * @example\n * <caption>Direct Credit Card Tokenization</caption>\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   var form = document.getElementById('my-form-id');\n *   var data = {\n *     creditCard: {\n *       number: form['cc-number'].value,\n *       cvv: form['cc-cvv'].value,\n *       expirationDate: form['cc-expiration-date'].value,\n *       billingAddress: {\n *         postalCode: form['cc-postal-code'].value\n *       },\n *       options: {\n *         validate: false\n *       }\n *     }\n *   };\n *\n *   // Warning: For a merchant to be eligible for the easiest level of PCI compliance (SAQ A),\n *   // payment fields cannot be hosted on your checkout page.\n *   // For an alternative to the following, use Hosted Fields.\n *   clientInstance.request({\n *     endpoint: 'payment_methods/credit_cards',\n *     method: 'post',\n *     data: data\n *   }, function (requestErr, response) {\n *     // More detailed example of handling API errors: https://codepen.io/braintree/pen/MbwjdM\n *     if (requestErr) { throw new Error(requestErr); }\n *\n *     console.log('Got nonce:', response.creditCards[0].nonce);\n *   });\n * });\n * @example\n * <caption>Tokenizing Fields for AVS Checks</caption>\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   var form = document.getElementById('my-form-id');\n *   var data = {\n *     creditCard: {\n *       number: form['cc-number'].value,\n *       cvv: form['cc-cvv'].value,\n *       expirationDate: form['cc-date'].value,\n *       // The billing address can be checked with AVS rules.\n *       // See: https://articles.braintreepayments.com/support/guides/fraud-tools/basic/avs-cvv-rules\n *       billingAddress: {\n *         postalCode: form['cc-postal-code'].value,\n *         streetAddress: form['cc-street-address'].value,\n *         countryName: form['cc-country-name'].value,\n *         countryCodeAlpha2: form['cc-country-alpha2'].value,\n *         countryCodeAlpha3: form['cc-country-alpha3'].value,\n *         countryCodeNumeric: form['cc-country-numeric'].value\n *       },\n *       options: {\n *         validate: false\n *       }\n *     }\n *   };\n *\n *   // Warning: For a merchant to be eligible for the easiest level of PCI compliance (SAQ A),\n *   // payment fields cannot be hosted on your checkout page.\n *   // For an alternative to the following, use Hosted Fields.\n *   clientInstance.request({\n *     endpoint: 'payment_methods/credit_cards',\n *     method: 'post',\n *     data: data\n *   }, function (requestErr, response) {\n *     // More detailed example of handling API errors: https://codepen.io/braintree/pen/MbwjdM\n *     if (requestErr) { throw new Error(requestErr); }\n *\n *     console.log('Got nonce:', response.creditCards[0].nonce);\n *   });\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nClient.prototype.request = function (options, callback) {\n  var self = this; // eslint-disable-line no-invalid-this\n  var requestPromise = new Promise(function (resolve, reject) {\n    var optionName, api, baseUrl, requestOptions;\n    var shouldCollectData = Boolean(\n      options.endpoint === \"payment_methods/credit_cards\" &&\n        self.getConfiguration().gatewayConfiguration.creditCards\n          .collectDeviceData\n    );\n\n    if (options.api !== \"graphQLApi\") {\n      if (!options.method) {\n        optionName = \"options.method\";\n      } else if (!options.endpoint) {\n        optionName = \"options.endpoint\";\n      }\n    }\n\n    if (optionName) {\n      throw new BraintreeError({\n        type: errors.CLIENT_OPTION_REQUIRED.type,\n        code: errors.CLIENT_OPTION_REQUIRED.code,\n        message: optionName + \" is required when making a request.\",\n      });\n    }\n\n    if (\"api\" in options) {\n      api = options.api;\n    } else {\n      api = \"clientApi\";\n    }\n\n    requestOptions = {\n      method: options.method,\n      graphQL: self._graphQL,\n      timeout: options.timeout,\n      metadata: self._configuration.analyticsMetadata,\n    };\n\n    if (api === \"clientApi\") {\n      baseUrl = self._clientApiBaseUrl;\n\n      requestOptions.data = addMetadata(self._configuration, options.data);\n    } else if (api === \"graphQLApi\") {\n      baseUrl =\n        GRAPHQL_URLS[self._configuration.gatewayConfiguration.environment];\n      options.endpoint = \"\";\n      requestOptions.method = \"post\";\n      requestOptions.data = assign(\n        {\n          clientSdkMetadata: {\n            platform: self._configuration.analyticsMetadata.platform,\n            source: self._configuration.analyticsMetadata.source,\n            integration: self._configuration.analyticsMetadata.integration,\n            sessionId: self._configuration.analyticsMetadata.sessionId,\n            version: VERSION,\n          },\n        },\n        options.data\n      );\n\n      requestOptions.headers = getAuthorizationHeadersForGraphQL(\n        self._configuration\n      );\n    } else {\n      throw new BraintreeError({\n        type: errors.CLIENT_OPTION_INVALID.type,\n        code: errors.CLIENT_OPTION_INVALID.code,\n        message: \"options.api is invalid.\",\n      });\n    }\n\n    requestOptions.url = baseUrl + options.endpoint;\n    requestOptions.sendAnalyticsEvent = function (kind) {\n      analytics.sendEvent(self, kind);\n    };\n\n    self._request(requestOptions, function (err, data, status) {\n      var resolvedData, requestError;\n\n      requestError = formatRequestError(status, err);\n\n      if (requestError) {\n        reject(requestError);\n\n        return;\n      }\n\n      if (api === \"graphQLApi\" && data.errors) {\n        reject(\n          convertToBraintreeError(data.errors, {\n            type: errors.CLIENT_GRAPHQL_REQUEST_ERROR.type,\n            code: errors.CLIENT_GRAPHQL_REQUEST_ERROR.code,\n            message: errors.CLIENT_GRAPHQL_REQUEST_ERROR.message,\n          })\n        );\n\n        return;\n      }\n\n      resolvedData = assign({ _httpStatus: status }, data);\n\n      if (\n        shouldCollectData &&\n        resolvedData.creditCards &&\n        resolvedData.creditCards.length > 0\n      ) {\n        self._findOrCreateFraudnetJSON(resolvedData.creditCards[0].nonce);\n\n        assets.loadScript({\n          src: FRAUDNET_URL,\n          forceScriptReload: true,\n        });\n      }\n      resolve(resolvedData);\n    });\n  });\n\n  if (typeof callback === \"function\") {\n    callback = once(deferred(callback));\n\n    requestPromise\n      .then(function (response) {\n        callback(null, response, response._httpStatus);\n      })\n      .catch(function (err) {\n        var status = err && err.details && err.details.httpStatus;\n\n        callback(err, null, status);\n      });\n\n    return;\n  }\n\n  return requestPromise; // eslint-disable-line consistent-return\n};\n\n// eslint-disable-next-line consistent-return\nfunction formatRequestError(status, err) {\n  var requestError;\n\n  if (status === -1) {\n    requestError = new BraintreeError(errors.CLIENT_REQUEST_TIMEOUT);\n  } else if (status === 401) {\n    requestError = new BraintreeError(errors.CLIENT_AUTHORIZATION_INVALID);\n  } else if (status === 403) {\n    requestError = new BraintreeError(errors.CLIENT_AUTHORIZATION_INSUFFICIENT);\n  } else if (status === 429) {\n    requestError = new BraintreeError(errors.CLIENT_RATE_LIMITED);\n  } else if (status >= 500) {\n    requestError = new BraintreeError(errors.CLIENT_GATEWAY_NETWORK);\n  } else if (status < 200 || status >= 400) {\n    requestError = convertToBraintreeError(err, {\n      type: errors.CLIENT_REQUEST_ERROR.type,\n      code: errors.CLIENT_REQUEST_ERROR.code,\n      message: errors.CLIENT_REQUEST_ERROR.message,\n    });\n  }\n\n  if (requestError) {\n    requestError.details = requestError.details || {};\n    requestError.details.httpStatus = status;\n\n    return requestError;\n  }\n}\n\nClient.prototype.toJSON = function () {\n  return this.getConfiguration();\n};\n\n/**\n * Returns the Client version.\n * @public\n * @returns {String} The created client's version.\n * @example\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   console.log(clientInstance.getVersion()); // Ex: 1.0.0\n * });\n * @returns {void}\n */\nClient.prototype.getVersion = function () {\n  return VERSION;\n};\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/client.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * clientInstance.teardown();\n * @example <caption>With callback</caption>\n * clientInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nClient.prototype.teardown = wrapPromise(function () {\n  var self = this; // eslint-disable-line no-invalid-this\n\n  delete cachedClients[self.getConfiguration().authorization];\n  convertMethodsToError(self, methods(Client.prototype));\n\n  return Promise.resolve();\n});\n\nfunction getAuthorizationHeadersForGraphQL(configuration) {\n  var token =\n    configuration.authorizationFingerprint || configuration.authorization;\n\n  return {\n    Authorization: \"Bearer \" + token,\n    \"Braintree-Version\": BRAINTREE_VERSION,\n  };\n}\n\nmodule.exports = Client;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHdCQUF3QixvSEFBd0M7O0FBRWhFLGNBQWMsbUJBQU8sQ0FBQyw2RkFBbUI7QUFDekMsY0FBYyxtQkFBTyxDQUFDLDZFQUFXO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLCtGQUEyQjtBQUMxRCxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7QUFDckQsOEJBQThCLG1CQUFPLENBQUMsK0dBQW1DO0FBQ3pFLDhCQUE4QixtSUFBK0M7QUFDN0UsOEJBQThCLG1CQUFPLENBQUMsNkdBQWtDO0FBQ3hFLGtCQUFrQixtQkFBTyxDQUFDLG1GQUFxQjtBQUMvQyxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBeUI7QUFDbkQsV0FBVyxtQkFBTyxDQUFDLG1FQUFhO0FBQ2hDLGVBQWUsbUJBQU8sQ0FBQywyRUFBaUI7QUFDeEMsYUFBYSxxR0FBK0I7QUFDNUMsZ0JBQWdCLG1CQUFPLENBQUMsNkVBQWtCO0FBQzFDLGFBQWEsbUJBQU8sQ0FBQyxxRUFBVTtBQUMvQixjQUFjLDRHQUFtQztBQUNqRCxtQkFBbUIsaUhBQXdDO0FBQzNELGNBQWMsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDdEMsNEJBQTRCLG1CQUFPLENBQUMsMkdBQWlDO0FBQ3JFLGFBQWEsbUJBQU8sQ0FBQyx1RUFBZTtBQUNwQyxxQkFBcUIsbUhBQTBDO0FBQy9ELHNCQUFzQixvSEFBMkM7QUFDakUsbUJBQW1CLGlIQUF3Qzs7QUFFM0Q7O0FBRUE7QUFDQSwrQkFBK0IsK0NBQStDO0FBQzlFLGFBQWEsUUFBUTtBQUNyQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTtBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDLG1FQUFtRSxrRUFBa0U7QUFDckksc1FBQXNRLHFCQUFxQjtBQUMzUjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNCQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0osYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUEsOEJBQThCLHFCQUFxQjs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQSx5QkFBeUI7QUFDekI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osK0NBQStDO0FBQy9DLElBQUk7QUFDSixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsZ0RBQWdEO0FBQ3pGO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvY2xpZW50L2NsaWVudC5qcz8yNWQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQlJBSU5UUkVFX1ZFUlNJT04gPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIikuQlJBSU5UUkVFX1ZFUlNJT047XG5cbnZhciBHcmFwaFFMID0gcmVxdWlyZShcIi4vcmVxdWVzdC9ncmFwaHFsXCIpO1xudmFyIHJlcXVlc3QgPSByZXF1aXJlKFwiLi9yZXF1ZXN0XCIpO1xudmFyIGlzVmVyaWZpZWREb21haW4gPSByZXF1aXJlKFwiLi4vbGliL2lzLXZlcmlmaWVkLWRvbWFpblwiKTtcbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGNvbnZlcnRUb0JyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9jb252ZXJ0LXRvLWJyYWludHJlZS1lcnJvclwiKTtcbnZhciBnZXRHYXRld2F5Q29uZmlndXJhdGlvbiA9IHJlcXVpcmUoXCIuL2dldC1jb25maWd1cmF0aW9uXCIpLmdldENvbmZpZ3VyYXRpb247XG52YXIgY3JlYXRlQXV0aG9yaXphdGlvbkRhdGEgPSByZXF1aXJlKFwiLi4vbGliL2NyZWF0ZS1hdXRob3JpemF0aW9uLWRhdGFcIik7XG52YXIgYWRkTWV0YWRhdGEgPSByZXF1aXJlKFwiLi4vbGliL2FkZC1tZXRhZGF0YVwiKTtcbnZhciB3cmFwUHJvbWlzZSA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL3dyYXAtcHJvbWlzZVwiKTtcbnZhciBvbmNlID0gcmVxdWlyZShcIi4uL2xpYi9vbmNlXCIpO1xudmFyIGRlZmVycmVkID0gcmVxdWlyZShcIi4uL2xpYi9kZWZlcnJlZFwiKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi4vbGliL2Fzc2lnblwiKS5hc3NpZ247XG52YXIgYW5hbHl0aWNzID0gcmVxdWlyZShcIi4uL2xpYi9hbmFseXRpY3NcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xudmFyIFZFUlNJT04gPSByZXF1aXJlKFwiLi4vbGliL2NvbnN0YW50c1wiKS5WRVJTSU9OO1xudmFyIEdSQVBIUUxfVVJMUyA9IHJlcXVpcmUoXCIuLi9saWIvY29uc3RhbnRzXCIpLkdSQVBIUUxfVVJMUztcbnZhciBtZXRob2RzID0gcmVxdWlyZShcIi4uL2xpYi9tZXRob2RzXCIpO1xudmFyIGNvbnZlcnRNZXRob2RzVG9FcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvY29udmVydC1tZXRob2RzLXRvLWVycm9yXCIpO1xudmFyIGFzc2V0cyA9IHJlcXVpcmUoXCIuLi9saWIvYXNzZXRzXCIpO1xudmFyIEZSQVVETkVUX0ZOQ0xTID0gcmVxdWlyZShcIi4uL2xpYi9jb25zdGFudHNcIikuRlJBVURORVRfRk5DTFM7XG52YXIgRlJBVURORVRfU09VUkNFID0gcmVxdWlyZShcIi4uL2xpYi9jb25zdGFudHNcIikuRlJBVURORVRfU09VUkNFO1xudmFyIEZSQVVETkVUX1VSTCA9IHJlcXVpcmUoXCIuLi9saWIvY29uc3RhbnRzXCIpLkZSQVVETkVUX1VSTDtcblxudmFyIGNhY2hlZENsaWVudHMgPSB7fTtcblxuLyoqXG4gKiBUaGlzIG9iamVjdCBpcyByZXR1cm5lZCBieSB7QGxpbmsgQ2xpZW50I2dldENvbmZpZ3VyYXRpb258Z2V0Q29uZmlndXJhdGlvbn0uIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZCBleHRlbnNpdmVseSBieSBvdGhlciBCcmFpbnRyZWUgbW9kdWxlcyB0byBwcm9wZXJseSBjb25maWd1cmUgdGhlbXNlbHZlcy5cbiAqIEB0eXBlZGVmIHtvYmplY3R9IENsaWVudH5jb25maWd1cmF0aW9uXG4gKiBAcHJvcGVydHkge29iamVjdH0gY2xpZW50IFRoZSBicmFpbnRyZWUtd2ViL2NsaWVudCBwYXJhbWV0ZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNsaWVudC5hdXRob3JpemF0aW9uIEEgdG9rZW5pemF0aW9uS2V5IG9yIGNsaWVudFRva2VuLlxuICogQHByb3BlcnR5IHtvYmplY3R9IGdhdGV3YXlDb25maWd1cmF0aW9uIEdhdGV3YXktc3VwcGxpZWQgY29uZmlndXJhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBhbmFseXRpY3NNZXRhZGF0YSBBbmFseXRpY3Mtc3BlY2lmaWMgZGF0YS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhbmFseXRpY3NNZXRhZGF0YS5zZXNzaW9uSWQgVW5pcXVlbHkgaWRlbnRpZmllcyBhIGJyb3dzaW5nIHNlc3Npb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYW5hbHl0aWNzTWV0YWRhdGEuc2RrVmVyc2lvbiBUaGUgYnJhaW50cmVlLmpzIHZlcnNpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYW5hbHl0aWNzTWV0YWRhdGEubWVyY2hhbnRBcHBJZCBJZGVudGlmaWVzIHRoZSBtZXJjaGFudCdzIHdlYiBhcHAuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7Q2xpZW50fmNvbmZpZ3VyYXRpb259IGNvbmZpZ3VyYXRpb24gT3B0aW9uc1xuICogQGRlc2NyaXB0aW9uIDxzdHJvbmc+RG8gbm90IHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBVc2Uge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2NsaWVudC5jcmVhdGV8YnJhaW50cmVlLmNsaWVudC5jcmVhdGV9IGluc3RlYWQuPC9zdHJvbmc+XG4gKiBAY2xhc3NkZXNjIFRoaXMgY2xhc3MgaXMgcmVxdWlyZWQgYnkgbWFueSBvdGhlciBCcmFpbnRyZWUgY29tcG9uZW50cy4gSXQgc2VydmVzIGFzIHRoZSBiYXNlIEFQSSBsYXllciB0aGF0IGNvbW11bmljYXRlcyB3aXRoIG91ciBzZXJ2ZXJzLiBJdCBpcyBhbHNvIGNhcGFibGUgb2YgYmVpbmcgdXNlZCB0byBmb3JtdWxhdGUgZGlyZWN0IGNhbGxzIHRvIG91ciBzZXJ2ZXJzLCBzdWNoIGFzIGRpcmVjdCBjcmVkaXQgY2FyZCB0b2tlbml6YXRpb24uIFNlZSB7QGxpbmsgQ2xpZW50I3JlcXVlc3R9LlxuICovXG5mdW5jdGlvbiBDbGllbnQoY29uZmlndXJhdGlvbikge1xuICB2YXIgY29uZmlndXJhdGlvbkpTT04sIGdhdGV3YXlDb25maWd1cmF0aW9uO1xuXG4gIGNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uIHx8IHt9O1xuXG4gIGNvbmZpZ3VyYXRpb25KU09OID0gSlNPTi5zdHJpbmdpZnkoY29uZmlndXJhdGlvbik7XG4gIGdhdGV3YXlDb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbi5nYXRld2F5Q29uZmlndXJhdGlvbjtcblxuICBpZiAoIWdhdGV3YXlDb25maWd1cmF0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5DTElFTlRfTUlTU0lOR19HQVRFV0FZX0NPTkZJR1VSQVRJT04pO1xuICB9XG5cbiAgW1wiYXNzZXRzVXJsXCIsIFwiY2xpZW50QXBpVXJsXCIsIFwiY29uZmlnVXJsXCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgaWYgKFxuICAgICAgcHJvcGVydHkgaW4gZ2F0ZXdheUNvbmZpZ3VyYXRpb24gJiZcbiAgICAgICFpc1ZlcmlmaWVkRG9tYWluKGdhdGV3YXlDb25maWd1cmF0aW9uW3Byb3BlcnR5XSlcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICAgIHR5cGU6IGVycm9ycy5DTElFTlRfR0FURVdBWV9DT05GSUdVUkFUSU9OX0lOVkFMSURfRE9NQUlOLnR5cGUsXG4gICAgICAgIGNvZGU6IGVycm9ycy5DTElFTlRfR0FURVdBWV9DT05GSUdVUkFUSU9OX0lOVkFMSURfRE9NQUlOLmNvZGUsXG4gICAgICAgIG1lc3NhZ2U6IHByb3BlcnR5ICsgXCIgcHJvcGVydHkgaXMgb24gYW4gaW52YWxpZCBkb21haW4uXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGUgY29uZmlndXJhdGlvbiB2YWx1ZXMuXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge0NsaWVudH5jb25maWd1cmF0aW9ufSBjb25maWd1cmF0aW9uXG4gICAqL1xuICB0aGlzLmdldENvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY29uZmlndXJhdGlvbkpTT04pO1xuICB9O1xuXG4gIHRoaXMuX3JlcXVlc3QgPSByZXF1ZXN0O1xuICB0aGlzLl9jb25maWd1cmF0aW9uID0gdGhpcy5nZXRDb25maWd1cmF0aW9uKCk7XG5cbiAgdGhpcy5fY2xpZW50QXBpQmFzZVVybCA9IGdhdGV3YXlDb25maWd1cmF0aW9uLmNsaWVudEFwaVVybCArIFwiL3YxL1wiO1xuXG4gIGlmIChnYXRld2F5Q29uZmlndXJhdGlvbi5ncmFwaFFMKSB7XG4gICAgaWYgKCFpc1ZlcmlmaWVkRG9tYWluKGdhdGV3YXlDb25maWd1cmF0aW9uLmdyYXBoUUwudXJsKSkge1xuICAgICAgdGhyb3cgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogZXJyb3JzLkNMSUVOVF9HQVRFV0FZX0NPTkZJR1VSQVRJT05fSU5WQUxJRF9ET01BSU4udHlwZSxcbiAgICAgICAgY29kZTogZXJyb3JzLkNMSUVOVF9HQVRFV0FZX0NPTkZJR1VSQVRJT05fSU5WQUxJRF9ET01BSU4uY29kZSxcbiAgICAgICAgbWVzc2FnZTogXCJncmFwaFFMLnVybCBwcm9wZXJ0eSBpcyBvbiBhbiBpbnZhbGlkIGRvbWFpbi5cIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2dyYXBoUUwgPSBuZXcgR3JhcGhRTCh7XG4gICAgICBncmFwaFFMOiBnYXRld2F5Q29uZmlndXJhdGlvbi5ncmFwaFFMLFxuICAgIH0pO1xuICB9XG59XG5cbkNsaWVudC5pbml0aWFsaXplID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIGNsaWVudEluc3RhbmNlLCBhdXRoRGF0YTtcbiAgdmFyIHByb21pc2UgPSBjYWNoZWRDbGllbnRzW29wdGlvbnMuYXV0aG9yaXphdGlvbl07XG5cbiAgaWYgKHByb21pc2UpIHtcbiAgICBhbmFseXRpY3Muc2VuZEV2ZW50KHByb21pc2UsIFwiY3VzdG9tLmNsaWVudC5sb2FkLmNhY2hlZFwiKTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBhdXRoRGF0YSA9IGNyZWF0ZUF1dGhvcml6YXRpb25EYXRhKG9wdGlvbnMuYXV0aG9yaXphdGlvbik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuQ0xJRU5UX0lOVkFMSURfQVVUSE9SSVpBVElPTilcbiAgICApO1xuICB9XG5cbiAgcHJvbWlzZSA9IGdldEdhdGV3YXlDb25maWd1cmF0aW9uKGF1dGhEYXRhKS50aGVuKGZ1bmN0aW9uIChjb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKG9wdGlvbnMuZGVidWcpIHtcbiAgICAgIGNvbmZpZ3VyYXRpb24uaXNEZWJ1ZyA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uZmlndXJhdGlvbi5hdXRob3JpemF0aW9uID0gb3B0aW9ucy5hdXRob3JpemF0aW9uO1xuXG4gICAgY2xpZW50SW5zdGFuY2UgPSBuZXcgQ2xpZW50KGNvbmZpZ3VyYXRpb24pO1xuXG4gICAgcmV0dXJuIGNsaWVudEluc3RhbmNlO1xuICB9KTtcblxuICBjYWNoZWRDbGllbnRzW29wdGlvbnMuYXV0aG9yaXphdGlvbl0gPSBwcm9taXNlO1xuXG4gIGFuYWx5dGljcy5zZW5kRXZlbnQocHJvbWlzZSwgXCJjdXN0b20uY2xpZW50LmxvYWQuaW5pdGlhbGl6ZWRcIik7XG5cbiAgcmV0dXJuIHByb21pc2VcbiAgICAudGhlbihmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KGNsaWVudEluc3RhbmNlLCBcImN1c3RvbS5jbGllbnQubG9hZC5zdWNjZWVkZWRcIik7XG5cbiAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgZGVsZXRlIGNhY2hlZENsaWVudHNbb3B0aW9ucy5hdXRob3JpemF0aW9uXTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG59O1xuXG4vLyBQcmltYXJpbHkgdXNlZCBmb3IgdGVzdGluZyB0aGUgY2xpZW50IGluaXRhbGl6YXRpb24gY2FsbFxuQ2xpZW50LmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gIGNhY2hlZENsaWVudHMgPSB7fTtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUuX2ZpbmRPckNyZWF0ZUZyYXVkbmV0SlNPTiA9IGZ1bmN0aW9uIChjbGllbnRNZXRhZGF0YUlkKSB7XG4gIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtmbmNscz1cIicgKyBGUkFVRE5FVF9GTkNMUyArICdcIl0nKTtcbiAgdmFyIGNvbmZpZywgYWRkaXRpb25hbERhdGEsIGF1dGhvcml6YXRpb25GaW5nZXJwcmludCwgcGFyYW1ldGVycztcblxuICBpZiAoIWVsKSB7XG4gICAgZWwgPSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpO1xuICAgIGVsLnR5cGUgPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJmbmNsc1wiLCBGUkFVRE5FVF9GTkNMUyk7XG4gIH1cblxuICBjb25maWcgPSB0aGlzLmdldENvbmZpZ3VyYXRpb24oKTtcbiAgYWRkaXRpb25hbERhdGEgPSB7XG4gICAgcmRhX3RlbmFudDogXCJidF9jYXJkXCIsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG4gICAgbWlkOiBjb25maWcuZ2F0ZXdheUNvbmZpZ3VyYXRpb24ubWVyY2hhbnRJZCxcbiAgfTtcbiAgYXV0aG9yaXphdGlvbkZpbmdlcnByaW50ID0gY29uZmlnLmF1dGhvcml6YXRpb25GaW5nZXJwcmludDtcblxuICBpZiAoYXV0aG9yaXphdGlvbkZpbmdlcnByaW50KSB7XG4gICAgYXV0aG9yaXphdGlvbkZpbmdlcnByaW50LnNwbGl0KFwiJlwiKS5mb3JFYWNoKGZ1bmN0aW9uIChwaWVjZXMpIHtcbiAgICAgIHZhciBjb21wb25lbnQgPSBwaWVjZXMuc3BsaXQoXCI9XCIpO1xuXG4gICAgICBpZiAoY29tcG9uZW50WzBdID09PSBcImN1c3RvbWVyX2lkXCIgJiYgY29tcG9uZW50Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYWRkaXRpb25hbERhdGEuY2lkID0gY29tcG9uZW50WzFdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcGFyYW1ldGVycyA9IHtcbiAgICBmOiBjbGllbnRNZXRhZGF0YUlkLnN1YnN0cigwLCAzMiksXG4gICAgZnA6IGFkZGl0aW9uYWxEYXRhLFxuICAgIGJ1OiBmYWxzZSxcbiAgICBzOiBGUkFVRE5FVF9TT1VSQ0UsXG4gIH07XG4gIGVsLnRleHQgPSBKU09OLnN0cmluZ2lmeShwYXJhbWV0ZXJzKTtcbn07XG5cbi8qKlxuICogVXNlZCBieSBvdGhlciBtb2R1bGVzIHRvIGZvcm11bGF0ZSBhbGwgbmV0d29yayByZXF1ZXN0cyB0byB0aGUgQnJhaW50cmVlIGdhdGV3YXkuIEl0IGlzIGFsc28gY2FwYWJsZSBvZiBiZWluZyB1c2VkIGRpcmVjdGx5IGZyb20geW91ciBvd24gZm9ybSB0byB0b2tlbml6ZSBjcmVkaXQgY2FyZCBpbmZvcm1hdGlvbi4gSG93ZXZlciwgYmUgc3VyZSB0byBzYXRpc2Z5IFBDSSBjb21wbGlhbmNlIGlmIHlvdSB1c2UgZGlyZWN0IGNhcmQgdG9rZW5pemF0aW9uLlxuICogQHB1YmxpY1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgUmVxdWVzdCBvcHRpb25zOlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubWV0aG9kIEhUVFAgbWV0aG9kLCBlLmcuIFwiZ2V0XCIgb3IgXCJwb3N0XCIuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5lbmRwb2ludCBFbmRwb2ludCBwYXRoLCBlLmcuIFwicGF5bWVudF9tZXRob2RzXCIuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5kYXRhIERhdGEgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWVvdXQ9NjAwMDBdIFNldCBhIHRpbWVvdXQgKGluIG1pbGxpc2Vjb25kcykgZm9yIHRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCA8Y29kZT5kYXRhPC9jb2RlPiwgaXMgdGhlIHJldHVybmVkIHNlcnZlciBkYXRhLlxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkRpcmVjdCBDcmVkaXQgQ2FyZCBUb2tlbml6YXRpb248L2NhcHRpb24+XG4gKiB2YXIgY3JlYXRlQ2xpZW50ID0gcmVxdWlyZSgnYnJhaW50cmVlLXdlYi9jbGllbnQnKS5jcmVhdGU7XG4gKlxuICogY3JlYXRlQ2xpZW50KHtcbiAqICAgYXV0aG9yaXphdGlvbjogQ0xJRU5UX0FVVEhPUklaQVRJT05cbiAqIH0sIGZ1bmN0aW9uIChjcmVhdGVFcnIsIGNsaWVudEluc3RhbmNlKSB7XG4gKiAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LWZvcm0taWQnKTtcbiAqICAgdmFyIGRhdGEgPSB7XG4gKiAgICAgY3JlZGl0Q2FyZDoge1xuICogICAgICAgbnVtYmVyOiBmb3JtWydjYy1udW1iZXInXS52YWx1ZSxcbiAqICAgICAgIGN2djogZm9ybVsnY2MtY3Z2J10udmFsdWUsXG4gKiAgICAgICBleHBpcmF0aW9uRGF0ZTogZm9ybVsnY2MtZXhwaXJhdGlvbi1kYXRlJ10udmFsdWUsXG4gKiAgICAgICBiaWxsaW5nQWRkcmVzczoge1xuICogICAgICAgICBwb3N0YWxDb2RlOiBmb3JtWydjYy1wb3N0YWwtY29kZSddLnZhbHVlXG4gKiAgICAgICB9LFxuICogICAgICAgb3B0aW9uczoge1xuICogICAgICAgICB2YWxpZGF0ZTogZmFsc2VcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgIH07XG4gKlxuICogICAvLyBXYXJuaW5nOiBGb3IgYSBtZXJjaGFudCB0byBiZSBlbGlnaWJsZSBmb3IgdGhlIGVhc2llc3QgbGV2ZWwgb2YgUENJIGNvbXBsaWFuY2UgKFNBUSBBKSxcbiAqICAgLy8gcGF5bWVudCBmaWVsZHMgY2Fubm90IGJlIGhvc3RlZCBvbiB5b3VyIGNoZWNrb3V0IHBhZ2UuXG4gKiAgIC8vIEZvciBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgZm9sbG93aW5nLCB1c2UgSG9zdGVkIEZpZWxkcy5cbiAqICAgY2xpZW50SW5zdGFuY2UucmVxdWVzdCh7XG4gKiAgICAgZW5kcG9pbnQ6ICdwYXltZW50X21ldGhvZHMvY3JlZGl0X2NhcmRzJyxcbiAqICAgICBtZXRob2Q6ICdwb3N0JyxcbiAqICAgICBkYXRhOiBkYXRhXG4gKiAgIH0sIGZ1bmN0aW9uIChyZXF1ZXN0RXJyLCByZXNwb25zZSkge1xuICogICAgIC8vIE1vcmUgZGV0YWlsZWQgZXhhbXBsZSBvZiBoYW5kbGluZyBBUEkgZXJyb3JzOiBodHRwczovL2NvZGVwZW4uaW8vYnJhaW50cmVlL3Blbi9NYndqZE1cbiAqICAgICBpZiAocmVxdWVzdEVycikgeyB0aHJvdyBuZXcgRXJyb3IocmVxdWVzdEVycik7IH1cbiAqXG4gKiAgICAgY29uc29sZS5sb2coJ0dvdCBub25jZTonLCByZXNwb25zZS5jcmVkaXRDYXJkc1swXS5ub25jZSk7XG4gKiAgIH0pO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+VG9rZW5pemluZyBGaWVsZHMgZm9yIEFWUyBDaGVja3M8L2NhcHRpb24+XG4gKiB2YXIgY3JlYXRlQ2xpZW50ID0gcmVxdWlyZSgnYnJhaW50cmVlLXdlYi9jbGllbnQnKS5jcmVhdGU7XG4gKlxuICogY3JlYXRlQ2xpZW50KHtcbiAqICAgYXV0aG9yaXphdGlvbjogQ0xJRU5UX0FVVEhPUklaQVRJT05cbiAqIH0sIGZ1bmN0aW9uIChjcmVhdGVFcnIsIGNsaWVudEluc3RhbmNlKSB7XG4gKiAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LWZvcm0taWQnKTtcbiAqICAgdmFyIGRhdGEgPSB7XG4gKiAgICAgY3JlZGl0Q2FyZDoge1xuICogICAgICAgbnVtYmVyOiBmb3JtWydjYy1udW1iZXInXS52YWx1ZSxcbiAqICAgICAgIGN2djogZm9ybVsnY2MtY3Z2J10udmFsdWUsXG4gKiAgICAgICBleHBpcmF0aW9uRGF0ZTogZm9ybVsnY2MtZGF0ZSddLnZhbHVlLFxuICogICAgICAgLy8gVGhlIGJpbGxpbmcgYWRkcmVzcyBjYW4gYmUgY2hlY2tlZCB3aXRoIEFWUyBydWxlcy5cbiAqICAgICAgIC8vIFNlZTogaHR0cHM6Ly9hcnRpY2xlcy5icmFpbnRyZWVwYXltZW50cy5jb20vc3VwcG9ydC9ndWlkZXMvZnJhdWQtdG9vbHMvYmFzaWMvYXZzLWN2di1ydWxlc1xuICogICAgICAgYmlsbGluZ0FkZHJlc3M6IHtcbiAqICAgICAgICAgcG9zdGFsQ29kZTogZm9ybVsnY2MtcG9zdGFsLWNvZGUnXS52YWx1ZSxcbiAqICAgICAgICAgc3RyZWV0QWRkcmVzczogZm9ybVsnY2Mtc3RyZWV0LWFkZHJlc3MnXS52YWx1ZSxcbiAqICAgICAgICAgY291bnRyeU5hbWU6IGZvcm1bJ2NjLWNvdW50cnktbmFtZSddLnZhbHVlLFxuICogICAgICAgICBjb3VudHJ5Q29kZUFscGhhMjogZm9ybVsnY2MtY291bnRyeS1hbHBoYTInXS52YWx1ZSxcbiAqICAgICAgICAgY291bnRyeUNvZGVBbHBoYTM6IGZvcm1bJ2NjLWNvdW50cnktYWxwaGEzJ10udmFsdWUsXG4gKiAgICAgICAgIGNvdW50cnlDb2RlTnVtZXJpYzogZm9ybVsnY2MtY291bnRyeS1udW1lcmljJ10udmFsdWVcbiAqICAgICAgIH0sXG4gKiAgICAgICBvcHRpb25zOiB7XG4gKiAgICAgICAgIHZhbGlkYXRlOiBmYWxzZVxuICogICAgICAgfVxuICogICAgIH1cbiAqICAgfTtcbiAqXG4gKiAgIC8vIFdhcm5pbmc6IEZvciBhIG1lcmNoYW50IHRvIGJlIGVsaWdpYmxlIGZvciB0aGUgZWFzaWVzdCBsZXZlbCBvZiBQQ0kgY29tcGxpYW5jZSAoU0FRIEEpLFxuICogICAvLyBwYXltZW50IGZpZWxkcyBjYW5ub3QgYmUgaG9zdGVkIG9uIHlvdXIgY2hlY2tvdXQgcGFnZS5cbiAqICAgLy8gRm9yIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBmb2xsb3dpbmcsIHVzZSBIb3N0ZWQgRmllbGRzLlxuICogICBjbGllbnRJbnN0YW5jZS5yZXF1ZXN0KHtcbiAqICAgICBlbmRwb2ludDogJ3BheW1lbnRfbWV0aG9kcy9jcmVkaXRfY2FyZHMnLFxuICogICAgIG1ldGhvZDogJ3Bvc3QnLFxuICogICAgIGRhdGE6IGRhdGFcbiAqICAgfSwgZnVuY3Rpb24gKHJlcXVlc3RFcnIsIHJlc3BvbnNlKSB7XG4gKiAgICAgLy8gTW9yZSBkZXRhaWxlZCBleGFtcGxlIG9mIGhhbmRsaW5nIEFQSSBlcnJvcnM6IGh0dHBzOi8vY29kZXBlbi5pby9icmFpbnRyZWUvcGVuL01id2pkTVxuICogICAgIGlmIChyZXF1ZXN0RXJyKSB7IHRocm93IG5ldyBFcnJvcihyZXF1ZXN0RXJyKTsgfVxuICpcbiAqICAgICBjb25zb2xlLmxvZygnR290IG5vbmNlOicsIHJlc3BvbnNlLmNyZWRpdENhcmRzWzBdLm5vbmNlKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cbkNsaWVudC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG4gIHZhciByZXF1ZXN0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgb3B0aW9uTmFtZSwgYXBpLCBiYXNlVXJsLCByZXF1ZXN0T3B0aW9ucztcbiAgICB2YXIgc2hvdWxkQ29sbGVjdERhdGEgPSBCb29sZWFuKFxuICAgICAgb3B0aW9ucy5lbmRwb2ludCA9PT0gXCJwYXltZW50X21ldGhvZHMvY3JlZGl0X2NhcmRzXCIgJiZcbiAgICAgICAgc2VsZi5nZXRDb25maWd1cmF0aW9uKCkuZ2F0ZXdheUNvbmZpZ3VyYXRpb24uY3JlZGl0Q2FyZHNcbiAgICAgICAgICAuY29sbGVjdERldmljZURhdGFcbiAgICApO1xuXG4gICAgaWYgKG9wdGlvbnMuYXBpICE9PSBcImdyYXBoUUxBcGlcIikge1xuICAgICAgaWYgKCFvcHRpb25zLm1ldGhvZCkge1xuICAgICAgICBvcHRpb25OYW1lID0gXCJvcHRpb25zLm1ldGhvZFwiO1xuICAgICAgfSBlbHNlIGlmICghb3B0aW9ucy5lbmRwb2ludCkge1xuICAgICAgICBvcHRpb25OYW1lID0gXCJvcHRpb25zLmVuZHBvaW50XCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbk5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICAgIHR5cGU6IGVycm9ycy5DTElFTlRfT1BUSU9OX1JFUVVJUkVELnR5cGUsXG4gICAgICAgIGNvZGU6IGVycm9ycy5DTElFTlRfT1BUSU9OX1JFUVVJUkVELmNvZGUsXG4gICAgICAgIG1lc3NhZ2U6IG9wdGlvbk5hbWUgKyBcIiBpcyByZXF1aXJlZCB3aGVuIG1ha2luZyBhIHJlcXVlc3QuXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoXCJhcGlcIiBpbiBvcHRpb25zKSB7XG4gICAgICBhcGkgPSBvcHRpb25zLmFwaTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpID0gXCJjbGllbnRBcGlcIjtcbiAgICB9XG5cbiAgICByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QsXG4gICAgICBncmFwaFFMOiBzZWxmLl9ncmFwaFFMLFxuICAgICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxuICAgICAgbWV0YWRhdGE6IHNlbGYuX2NvbmZpZ3VyYXRpb24uYW5hbHl0aWNzTWV0YWRhdGEsXG4gICAgfTtcblxuICAgIGlmIChhcGkgPT09IFwiY2xpZW50QXBpXCIpIHtcbiAgICAgIGJhc2VVcmwgPSBzZWxmLl9jbGllbnRBcGlCYXNlVXJsO1xuXG4gICAgICByZXF1ZXN0T3B0aW9ucy5kYXRhID0gYWRkTWV0YWRhdGEoc2VsZi5fY29uZmlndXJhdGlvbiwgb3B0aW9ucy5kYXRhKTtcbiAgICB9IGVsc2UgaWYgKGFwaSA9PT0gXCJncmFwaFFMQXBpXCIpIHtcbiAgICAgIGJhc2VVcmwgPVxuICAgICAgICBHUkFQSFFMX1VSTFNbc2VsZi5fY29uZmlndXJhdGlvbi5nYXRld2F5Q29uZmlndXJhdGlvbi5lbnZpcm9ubWVudF07XG4gICAgICBvcHRpb25zLmVuZHBvaW50ID0gXCJcIjtcbiAgICAgIHJlcXVlc3RPcHRpb25zLm1ldGhvZCA9IFwicG9zdFwiO1xuICAgICAgcmVxdWVzdE9wdGlvbnMuZGF0YSA9IGFzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgIGNsaWVudFNka01ldGFkYXRhOiB7XG4gICAgICAgICAgICBwbGF0Zm9ybTogc2VsZi5fY29uZmlndXJhdGlvbi5hbmFseXRpY3NNZXRhZGF0YS5wbGF0Zm9ybSxcbiAgICAgICAgICAgIHNvdXJjZTogc2VsZi5fY29uZmlndXJhdGlvbi5hbmFseXRpY3NNZXRhZGF0YS5zb3VyY2UsXG4gICAgICAgICAgICBpbnRlZ3JhdGlvbjogc2VsZi5fY29uZmlndXJhdGlvbi5hbmFseXRpY3NNZXRhZGF0YS5pbnRlZ3JhdGlvbixcbiAgICAgICAgICAgIHNlc3Npb25JZDogc2VsZi5fY29uZmlndXJhdGlvbi5hbmFseXRpY3NNZXRhZGF0YS5zZXNzaW9uSWQsXG4gICAgICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMuZGF0YVxuICAgICAgKTtcblxuICAgICAgcmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IGdldEF1dGhvcml6YXRpb25IZWFkZXJzRm9yR3JhcGhRTChcbiAgICAgICAgc2VsZi5fY29uZmlndXJhdGlvblxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogZXJyb3JzLkNMSUVOVF9PUFRJT05fSU5WQUxJRC50eXBlLFxuICAgICAgICBjb2RlOiBlcnJvcnMuQ0xJRU5UX09QVElPTl9JTlZBTElELmNvZGUsXG4gICAgICAgIG1lc3NhZ2U6IFwib3B0aW9ucy5hcGkgaXMgaW52YWxpZC5cIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlcXVlc3RPcHRpb25zLnVybCA9IGJhc2VVcmwgKyBvcHRpb25zLmVuZHBvaW50O1xuICAgIHJlcXVlc3RPcHRpb25zLnNlbmRBbmFseXRpY3NFdmVudCA9IGZ1bmN0aW9uIChraW5kKSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KHNlbGYsIGtpbmQpO1xuICAgIH07XG5cbiAgICBzZWxmLl9yZXF1ZXN0KHJlcXVlc3RPcHRpb25zLCBmdW5jdGlvbiAoZXJyLCBkYXRhLCBzdGF0dXMpIHtcbiAgICAgIHZhciByZXNvbHZlZERhdGEsIHJlcXVlc3RFcnJvcjtcblxuICAgICAgcmVxdWVzdEVycm9yID0gZm9ybWF0UmVxdWVzdEVycm9yKHN0YXR1cywgZXJyKTtcblxuICAgICAgaWYgKHJlcXVlc3RFcnJvcikge1xuICAgICAgICByZWplY3QocmVxdWVzdEVycm9yKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhcGkgPT09IFwiZ3JhcGhRTEFwaVwiICYmIGRhdGEuZXJyb3JzKSB7XG4gICAgICAgIHJlamVjdChcbiAgICAgICAgICBjb252ZXJ0VG9CcmFpbnRyZWVFcnJvcihkYXRhLmVycm9ycywge1xuICAgICAgICAgICAgdHlwZTogZXJyb3JzLkNMSUVOVF9HUkFQSFFMX1JFUVVFU1RfRVJST1IudHlwZSxcbiAgICAgICAgICAgIGNvZGU6IGVycm9ycy5DTElFTlRfR1JBUEhRTF9SRVFVRVNUX0VSUk9SLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvcnMuQ0xJRU5UX0dSQVBIUUxfUkVRVUVTVF9FUlJPUi5tZXNzYWdlLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXNvbHZlZERhdGEgPSBhc3NpZ24oeyBfaHR0cFN0YXR1czogc3RhdHVzIH0sIGRhdGEpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHNob3VsZENvbGxlY3REYXRhICYmXG4gICAgICAgIHJlc29sdmVkRGF0YS5jcmVkaXRDYXJkcyAmJlxuICAgICAgICByZXNvbHZlZERhdGEuY3JlZGl0Q2FyZHMubGVuZ3RoID4gMFxuICAgICAgKSB7XG4gICAgICAgIHNlbGYuX2ZpbmRPckNyZWF0ZUZyYXVkbmV0SlNPTihyZXNvbHZlZERhdGEuY3JlZGl0Q2FyZHNbMF0ubm9uY2UpO1xuXG4gICAgICAgIGFzc2V0cy5sb2FkU2NyaXB0KHtcbiAgICAgICAgICBzcmM6IEZSQVVETkVUX1VSTCxcbiAgICAgICAgICBmb3JjZVNjcmlwdFJlbG9hZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXNvbHZlKHJlc29sdmVkRGF0YSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNhbGxiYWNrID0gb25jZShkZWZlcnJlZChjYWxsYmFjaykpO1xuXG4gICAgcmVxdWVzdFByb21pc2VcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZSwgcmVzcG9uc2UuX2h0dHBTdGF0dXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBzdGF0dXMgPSBlcnIgJiYgZXJyLmRldGFpbHMgJiYgZXJyLmRldGFpbHMuaHR0cFN0YXR1cztcblxuICAgICAgICBjYWxsYmFjayhlcnIsIG51bGwsIHN0YXR1cyk7XG4gICAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiByZXF1ZXN0UHJvbWlzZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5mdW5jdGlvbiBmb3JtYXRSZXF1ZXN0RXJyb3Ioc3RhdHVzLCBlcnIpIHtcbiAgdmFyIHJlcXVlc3RFcnJvcjtcblxuICBpZiAoc3RhdHVzID09PSAtMSkge1xuICAgIHJlcXVlc3RFcnJvciA9IG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuQ0xJRU5UX1JFUVVFU1RfVElNRU9VVCk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDEpIHtcbiAgICByZXF1ZXN0RXJyb3IgPSBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLkNMSUVOVF9BVVRIT1JJWkFUSU9OX0lOVkFMSUQpO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XG4gICAgcmVxdWVzdEVycm9yID0gbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5DTElFTlRfQVVUSE9SSVpBVElPTl9JTlNVRkZJQ0lFTlQpO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgcmVxdWVzdEVycm9yID0gbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5DTElFTlRfUkFURV9MSU1JVEVEKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPj0gNTAwKSB7XG4gICAgcmVxdWVzdEVycm9yID0gbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5DTElFTlRfR0FURVdBWV9ORVRXT1JLKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPCAyMDAgfHwgc3RhdHVzID49IDQwMCkge1xuICAgIHJlcXVlc3RFcnJvciA9IGNvbnZlcnRUb0JyYWludHJlZUVycm9yKGVyciwge1xuICAgICAgdHlwZTogZXJyb3JzLkNMSUVOVF9SRVFVRVNUX0VSUk9SLnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuQ0xJRU5UX1JFUVVFU1RfRVJST1IuY29kZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9ycy5DTElFTlRfUkVRVUVTVF9FUlJPUi5tZXNzYWdlLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHJlcXVlc3RFcnJvcikge1xuICAgIHJlcXVlc3RFcnJvci5kZXRhaWxzID0gcmVxdWVzdEVycm9yLmRldGFpbHMgfHwge307XG4gICAgcmVxdWVzdEVycm9yLmRldGFpbHMuaHR0cFN0YXR1cyA9IHN0YXR1cztcblxuICAgIHJldHVybiByZXF1ZXN0RXJyb3I7XG4gIH1cbn1cblxuQ2xpZW50LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgQ2xpZW50IHZlcnNpb24uXG4gKiBAcHVibGljXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgY3JlYXRlZCBjbGllbnQncyB2ZXJzaW9uLlxuICogQGV4YW1wbGVcbiAqIHZhciBjcmVhdGVDbGllbnQgPSByZXF1aXJlKCdicmFpbnRyZWUtd2ViL2NsaWVudCcpLmNyZWF0ZTtcbiAqXG4gKiBjcmVhdGVDbGllbnQoe1xuICogICBhdXRob3JpemF0aW9uOiBDTElFTlRfQVVUSE9SSVpBVElPTlxuICogfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgY2xpZW50SW5zdGFuY2UpIHtcbiAqICAgY29uc29sZS5sb2coY2xpZW50SW5zdGFuY2UuZ2V0VmVyc2lvbigpKTsgLy8gRXg6IDEuMC4wXG4gKiB9KTtcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5DbGllbnQucHJvdG90eXBlLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBWRVJTSU9OO1xufTtcblxuLyoqXG4gKiBDbGVhbmx5IHRlYXIgZG93biBhbnl0aGluZyBzZXQgdXAgYnkge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2NsaWVudC5jcmVhdGV8Y3JlYXRlfS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uY2UgdGVhcmRvd24gaXMgY29tcGxldGUuIE5vIGRhdGEgaXMgcmV0dXJuZWQgaWYgdGVhcmRvd24gY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAqIEBleGFtcGxlXG4gKiBjbGllbnRJbnN0YW5jZS50ZWFyZG93bigpO1xuICogQGV4YW1wbGUgPGNhcHRpb24+V2l0aCBjYWxsYmFjazwvY2FwdGlvbj5cbiAqIGNsaWVudEluc3RhbmNlLnRlYXJkb3duKGZ1bmN0aW9uICgpIHtcbiAqICAgLy8gdGVhcmRvd24gaXMgY29tcGxldGVcbiAqIH0pO1xuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqL1xuQ2xpZW50LnByb3RvdHlwZS50ZWFyZG93biA9IHdyYXBQcm9taXNlKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuXG4gIGRlbGV0ZSBjYWNoZWRDbGllbnRzW3NlbGYuZ2V0Q29uZmlndXJhdGlvbigpLmF1dGhvcml6YXRpb25dO1xuICBjb252ZXJ0TWV0aG9kc1RvRXJyb3Ioc2VsZiwgbWV0aG9kcyhDbGllbnQucHJvdG90eXBlKSk7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufSk7XG5cbmZ1bmN0aW9uIGdldEF1dGhvcml6YXRpb25IZWFkZXJzRm9yR3JhcGhRTChjb25maWd1cmF0aW9uKSB7XG4gIHZhciB0b2tlbiA9XG4gICAgY29uZmlndXJhdGlvbi5hdXRob3JpemF0aW9uRmluZ2VycHJpbnQgfHwgY29uZmlndXJhdGlvbi5hdXRob3JpemF0aW9uO1xuXG4gIHJldHVybiB7XG4gICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyB0b2tlbixcbiAgICBcIkJyYWludHJlZS1WZXJzaW9uXCI6IEJSQUlOVFJFRV9WRVJTSU9OLFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/constants.js":
/*!********************************************************!*\
  !*** ./node_modules/braintree-web/client/constants.js ***!
  \********************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  BRAINTREE_VERSION: \"2018-05-10\",\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvY29uc3RhbnRzLmpzP2MwNWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBCUkFJTlRSRUVfVkVSU0lPTjogXCIyMDE4LTA1LTEwXCIsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/errors.js":
/*!*****************************************************!*\
  !*** ./node_modules/braintree-web/client/errors.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Client - Internal Error Codes\n * @ignore\n * @description These codes should never be experienced by the merchant directly.\n * @property {MERCHANT} CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN An error to prevent client creation for domains that are not allowed in the JS.\n * @property {INTERNAL} CLIENT_MISSING_GATEWAY_CONFIGURATION Occurs when the client is created without a gateway configuration. Should never happen.\n */\n\n/**\n * @name BraintreeError.Client - Create Error Codes\n * @description Errors that may occur when [creating the client](./module-braintree-web_client.html#.create)\n * @property {MERCHANT} CLIENT_INVALID_AUTHORIZATION Occurs when client token cannot be parsed.\n */\n\n/**\n * @name BraintreeError.Client - Request Error Codes\n * @description Errors that may occur when [using the request method](./Client.html#request)\n * @property {MERCHANT} CLIENT_OPTION_REQUIRED An option required in the request method was not provided. Usually `options.method` or `options.endpoint`\n * @property {MERCHANT} CLIENT_OPTION_INVALID The request option provided is invalid.\n * @property {MERCHANT} CLIENT_GATEWAY_NETWORK The Braintree gateway could not be contacted.\n * @property {NETWORK} CLIENT_REQUEST_TIMEOUT The request took too long to complete and timed out.\n * @property {NETWORK} CLIENT_REQUEST_ERROR The response from a request had status 400 or greater.\n * @property {NETWORK} CLIENT_GRAPHQL_REQUEST_ERROR The response from a request to GraphQL contained an error.\n * @property {MERCHANT} CLIENT_RATE_LIMITED The response from a request had a status of 429, indicating rate limiting.\n * @property {MERCHANT} CLIENT_AUTHORIZATION_INSUFFICIENT The user associated with the client token or tokenization key does not have permissions to make the request.\n * @property {MERCHANT} CLIENT_AUTHORIZATION_INVALID The provided authorization could not be found. Either the client token has expired and a new client token must be generated or the tokenization key used is set to be inactive or has been deleted.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN\",\n  },\n  CLIENT_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_OPTION_REQUIRED\",\n  },\n  CLIENT_OPTION_INVALID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_OPTION_INVALID\",\n  },\n  CLIENT_MISSING_GATEWAY_CONFIGURATION: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"CLIENT_MISSING_GATEWAY_CONFIGURATION\",\n    message: \"Missing gatewayConfiguration.\",\n  },\n  CLIENT_INVALID_AUTHORIZATION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_INVALID_AUTHORIZATION\",\n    message:\n      \"Authorization is invalid. Make sure your client token or tokenization key is valid.\",\n  },\n  CLIENT_GATEWAY_NETWORK: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_GATEWAY_NETWORK\",\n    message: \"Cannot contact the gateway at this time.\",\n  },\n  CLIENT_REQUEST_TIMEOUT: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_REQUEST_TIMEOUT\",\n    message: \"Request timed out waiting for a reply.\",\n  },\n  CLIENT_REQUEST_ERROR: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_REQUEST_ERROR\",\n    message: \"There was a problem with your request.\",\n  },\n  CLIENT_GRAPHQL_REQUEST_ERROR: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_GRAPHQL_REQUEST_ERROR\",\n    message: \"There was a problem with your request.\",\n  },\n  CLIENT_RATE_LIMITED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_RATE_LIMITED\",\n    message: \"You are being rate-limited; please try again in a few minutes.\",\n  },\n  CLIENT_AUTHORIZATION_INSUFFICIENT: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_AUTHORIZATION_INSUFFICIENT\",\n    message: \"The authorization used has insufficient privileges.\",\n  },\n  CLIENT_AUTHORIZATION_INVALID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_AUTHORIZATION_INVALID\",\n    message:\n      \"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted.\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEI7O0FBRUEscUJBQXFCLG1CQUFPLENBQUMseUZBQXdCOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2NsaWVudC9lcnJvcnMuanM/YWM4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5DbGllbnQgLSBJbnRlcm5hbCBFcnJvciBDb2Rlc1xuICogQGlnbm9yZVxuICogQGRlc2NyaXB0aW9uIFRoZXNlIGNvZGVzIHNob3VsZCBuZXZlciBiZSBleHBlcmllbmNlZCBieSB0aGUgbWVyY2hhbnQgZGlyZWN0bHkuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBDTElFTlRfR0FURVdBWV9DT05GSUdVUkFUSU9OX0lOVkFMSURfRE9NQUlOIEFuIGVycm9yIHRvIHByZXZlbnQgY2xpZW50IGNyZWF0aW9uIGZvciBkb21haW5zIHRoYXQgYXJlIG5vdCBhbGxvd2VkIGluIHRoZSBKUy5cbiAqIEBwcm9wZXJ0eSB7SU5URVJOQUx9IENMSUVOVF9NSVNTSU5HX0dBVEVXQVlfQ09ORklHVVJBVElPTiBPY2N1cnMgd2hlbiB0aGUgY2xpZW50IGlzIGNyZWF0ZWQgd2l0aG91dCBhIGdhdGV3YXkgY29uZmlndXJhdGlvbi4gU2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLkNsaWVudCAtIENyZWF0ZSBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG1heSBvY2N1ciB3aGVuIFtjcmVhdGluZyB0aGUgY2xpZW50XSguL21vZHVsZS1icmFpbnRyZWUtd2ViX2NsaWVudC5odG1sIy5jcmVhdGUpXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBDTElFTlRfSU5WQUxJRF9BVVRIT1JJWkFUSU9OIE9jY3VycyB3aGVuIGNsaWVudCB0b2tlbiBjYW5ub3QgYmUgcGFyc2VkLlxuICovXG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuQ2xpZW50IC0gUmVxdWVzdCBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG1heSBvY2N1ciB3aGVuIFt1c2luZyB0aGUgcmVxdWVzdCBtZXRob2RdKC4vQ2xpZW50Lmh0bWwjcmVxdWVzdClcbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IENMSUVOVF9PUFRJT05fUkVRVUlSRUQgQW4gb3B0aW9uIHJlcXVpcmVkIGluIHRoZSByZXF1ZXN0IG1ldGhvZCB3YXMgbm90IHByb3ZpZGVkLiBVc3VhbGx5IGBvcHRpb25zLm1ldGhvZGAgb3IgYG9wdGlvbnMuZW5kcG9pbnRgXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBDTElFTlRfT1BUSU9OX0lOVkFMSUQgVGhlIHJlcXVlc3Qgb3B0aW9uIHByb3ZpZGVkIGlzIGludmFsaWQuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBDTElFTlRfR0FURVdBWV9ORVRXT1JLIFRoZSBCcmFpbnRyZWUgZ2F0ZXdheSBjb3VsZCBub3QgYmUgY29udGFjdGVkLlxuICogQHByb3BlcnR5IHtORVRXT1JLfSBDTElFTlRfUkVRVUVTVF9USU1FT1VUIFRoZSByZXF1ZXN0IHRvb2sgdG9vIGxvbmcgdG8gY29tcGxldGUgYW5kIHRpbWVkIG91dC5cbiAqIEBwcm9wZXJ0eSB7TkVUV09SS30gQ0xJRU5UX1JFUVVFU1RfRVJST1IgVGhlIHJlc3BvbnNlIGZyb20gYSByZXF1ZXN0IGhhZCBzdGF0dXMgNDAwIG9yIGdyZWF0ZXIuXG4gKiBAcHJvcGVydHkge05FVFdPUkt9IENMSUVOVF9HUkFQSFFMX1JFUVVFU1RfRVJST1IgVGhlIHJlc3BvbnNlIGZyb20gYSByZXF1ZXN0IHRvIEdyYXBoUUwgY29udGFpbmVkIGFuIGVycm9yLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gQ0xJRU5UX1JBVEVfTElNSVRFRCBUaGUgcmVzcG9uc2UgZnJvbSBhIHJlcXVlc3QgaGFkIGEgc3RhdHVzIG9mIDQyOSwgaW5kaWNhdGluZyByYXRlIGxpbWl0aW5nLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gQ0xJRU5UX0FVVEhPUklaQVRJT05fSU5TVUZGSUNJRU5UIFRoZSB1c2VyIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2xpZW50IHRva2VuIG9yIHRva2VuaXphdGlvbiBrZXkgZG9lcyBub3QgaGF2ZSBwZXJtaXNzaW9ucyB0byBtYWtlIHRoZSByZXF1ZXN0LlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gQ0xJRU5UX0FVVEhPUklaQVRJT05fSU5WQUxJRCBUaGUgcHJvdmlkZWQgYXV0aG9yaXphdGlvbiBjb3VsZCBub3QgYmUgZm91bmQuIEVpdGhlciB0aGUgY2xpZW50IHRva2VuIGhhcyBleHBpcmVkIGFuZCBhIG5ldyBjbGllbnQgdG9rZW4gbXVzdCBiZSBnZW5lcmF0ZWQgb3IgdGhlIHRva2VuaXphdGlvbiBrZXkgdXNlZCBpcyBzZXQgdG8gYmUgaW5hY3RpdmUgb3IgaGFzIGJlZW4gZGVsZXRlZC5cbiAqL1xuXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENMSUVOVF9HQVRFV0FZX0NPTkZJR1VSQVRJT05fSU5WQUxJRF9ET01BSU46IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkNMSUVOVF9HQVRFV0FZX0NPTkZJR1VSQVRJT05fSU5WQUxJRF9ET01BSU5cIixcbiAgfSxcbiAgQ0xJRU5UX09QVElPTl9SRVFVSVJFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiQ0xJRU5UX09QVElPTl9SRVFVSVJFRFwiLFxuICB9LFxuICBDTElFTlRfT1BUSU9OX0lOVkFMSUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkNMSUVOVF9PUFRJT05fSU5WQUxJRFwiLFxuICB9LFxuICBDTElFTlRfTUlTU0lOR19HQVRFV0FZX0NPTkZJR1VSQVRJT046IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5JTlRFUk5BTCxcbiAgICBjb2RlOiBcIkNMSUVOVF9NSVNTSU5HX0dBVEVXQVlfQ09ORklHVVJBVElPTlwiLFxuICAgIG1lc3NhZ2U6IFwiTWlzc2luZyBnYXRld2F5Q29uZmlndXJhdGlvbi5cIixcbiAgfSxcbiAgQ0xJRU5UX0lOVkFMSURfQVVUSE9SSVpBVElPTjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiQ0xJRU5UX0lOVkFMSURfQVVUSE9SSVpBVElPTlwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIkF1dGhvcml6YXRpb24gaXMgaW52YWxpZC4gTWFrZSBzdXJlIHlvdXIgY2xpZW50IHRva2VuIG9yIHRva2VuaXphdGlvbiBrZXkgaXMgdmFsaWQuXCIsXG4gIH0sXG4gIENMSUVOVF9HQVRFV0FZX05FVFdPUks6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5ORVRXT1JLLFxuICAgIGNvZGU6IFwiQ0xJRU5UX0dBVEVXQVlfTkVUV09SS1wiLFxuICAgIG1lc3NhZ2U6IFwiQ2Fubm90IGNvbnRhY3QgdGhlIGdhdGV3YXkgYXQgdGhpcyB0aW1lLlwiLFxuICB9LFxuICBDTElFTlRfUkVRVUVTVF9USU1FT1VUOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTkVUV09SSyxcbiAgICBjb2RlOiBcIkNMSUVOVF9SRVFVRVNUX1RJTUVPVVRcIixcbiAgICBtZXNzYWdlOiBcIlJlcXVlc3QgdGltZWQgb3V0IHdhaXRpbmcgZm9yIGEgcmVwbHkuXCIsXG4gIH0sXG4gIENMSUVOVF9SRVFVRVNUX0VSUk9SOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTkVUV09SSyxcbiAgICBjb2RlOiBcIkNMSUVOVF9SRVFVRVNUX0VSUk9SXCIsXG4gICAgbWVzc2FnZTogXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggeW91ciByZXF1ZXN0LlwiLFxuICB9LFxuICBDTElFTlRfR1JBUEhRTF9SRVFVRVNUX0VSUk9SOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTkVUV09SSyxcbiAgICBjb2RlOiBcIkNMSUVOVF9HUkFQSFFMX1JFUVVFU1RfRVJST1JcIixcbiAgICBtZXNzYWdlOiBcIlRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB5b3VyIHJlcXVlc3QuXCIsXG4gIH0sXG4gIENMSUVOVF9SQVRFX0xJTUlURUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkNMSUVOVF9SQVRFX0xJTUlURURcIixcbiAgICBtZXNzYWdlOiBcIllvdSBhcmUgYmVpbmcgcmF0ZS1saW1pdGVkOyBwbGVhc2UgdHJ5IGFnYWluIGluIGEgZmV3IG1pbnV0ZXMuXCIsXG4gIH0sXG4gIENMSUVOVF9BVVRIT1JJWkFUSU9OX0lOU1VGRklDSUVOVDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiQ0xJRU5UX0FVVEhPUklaQVRJT05fSU5TVUZGSUNJRU5UXCIsXG4gICAgbWVzc2FnZTogXCJUaGUgYXV0aG9yaXphdGlvbiB1c2VkIGhhcyBpbnN1ZmZpY2llbnQgcHJpdmlsZWdlcy5cIixcbiAgfSxcbiAgQ0xJRU5UX0FVVEhPUklaQVRJT05fSU5WQUxJRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiQ0xJRU5UX0FVVEhPUklaQVRJT05fSU5WQUxJRFwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIkVpdGhlciB0aGUgY2xpZW50IHRva2VuIGhhcyBleHBpcmVkIGFuZCBhIG5ldyBvbmUgc2hvdWxkIGJlIGdlbmVyYXRlZCBvciB0aGUgdG9rZW5pemF0aW9uIGtleSBoYXMgYmVlbiBkZWFjdGl2YXRlZCBvciBkZWxldGVkLlwiLFxuICB9LFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/get-configuration.js":
/*!****************************************************************!*\
  !*** ./node_modules/braintree-web/client/get-configuration.js ***!
  \****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar request = __webpack_require__(/*! ./request */ \"(ssr)/./node_modules/braintree-web/client/request/index.js\");\nvar uuid = __webpack_require__(/*! @braintree/uuid */ \"(ssr)/./node_modules/@braintree/uuid/index.js\");\nvar constants = __webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/client/errors.js\");\nvar GraphQL = __webpack_require__(/*! ./request/graphql */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/index.js\");\nvar GRAPHQL_URLS = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").GRAPHQL_URLS);\nvar isDateStringBeforeOrOn = __webpack_require__(/*! ../lib/is-date-string-before-or-on */ \"(ssr)/./node_modules/braintree-web/lib/is-date-string-before-or-on.js\");\n\nvar BRAINTREE_VERSION = (__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/braintree-web/client/constants.js\").BRAINTREE_VERSION);\n\nfunction getConfiguration(authData) {\n  return new Promise(function (resolve, reject) {\n    var configuration, attrs, configUrl, reqOptions;\n    var sessionId = uuid();\n    var analyticsMetadata = {\n      merchantAppId: window.location.host,\n      platform: constants.PLATFORM,\n      sdkVersion: constants.VERSION,\n      source: constants.SOURCE,\n      // NEXT_MAJOR_VERSION remove one of these to not duplicate data. Target parity with mobile platforms approach.\n      integration: constants.INTEGRATION,\n      integrationType: constants.INTEGRATION,\n      sessionId: sessionId,\n    };\n\n    attrs = authData.attrs;\n    configUrl = authData.configUrl;\n\n    attrs._meta = analyticsMetadata;\n    attrs.braintreeLibraryVersion = constants.BRAINTREE_LIBRARY_VERSION;\n    attrs.configVersion = \"3\";\n\n    reqOptions = {\n      url: configUrl,\n      method: \"GET\",\n      data: attrs,\n    };\n\n    if (attrs.authorizationFingerprint && authData.graphQL) {\n      if (isDateStringBeforeOrOn(authData.graphQL.date, BRAINTREE_VERSION)) {\n        reqOptions.graphQL = new GraphQL({\n          graphQL: {\n            url: authData.graphQL.url,\n            features: [\"configuration\"],\n          },\n        });\n      }\n\n      reqOptions.metadata = analyticsMetadata;\n    } else if (attrs.tokenizationKey) {\n      reqOptions.graphQL = new GraphQL({\n        graphQL: {\n          url: GRAPHQL_URLS[authData.environment],\n          features: [\"configuration\"],\n        },\n      });\n\n      reqOptions.metadata = analyticsMetadata;\n    }\n\n    // NEXT_MAJOR_VERSION\n    // there are various issues with the config endpoint where the values returned\n    // do not match the values from the merchant account id passed into a client token\n    // we need to update the configuration request endpoint to be able to pass the\n    // correct values. The following ones are incorrect\n    // * applePayWeb - definitely supportedNetworks, which compiles all the card\n    //    networks from all the merchant accounts instead of providing just the\n    //    ones from the specified one. The same is probably true for ios apple pay\n    //    Also the merchantidentifier\n    // NEXT_MAJOR_VERSION Allow passing in merchant account id when creating the component\n    // to fetch the config for that merchant account id (particularly helpful when using\n    // a tokenization key for authorization)\n    request(reqOptions, function (err, response, status) {\n      var errorTemplate;\n\n      if (err) {\n        if (status === 403) {\n          errorTemplate = errors.CLIENT_AUTHORIZATION_INSUFFICIENT;\n        } else if (status === 401) {\n          errorTemplate = errors.CLIENT_AUTHORIZATION_INVALID;\n        } else {\n          errorTemplate = errors.CLIENT_GATEWAY_NETWORK;\n        }\n\n        reject(\n          new BraintreeError({\n            type: errorTemplate.type,\n            code: errorTemplate.code,\n            message: errorTemplate.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n\n        return;\n      }\n\n      configuration = {\n        authorizationType: attrs.tokenizationKey\n          ? \"TOKENIZATION_KEY\"\n          : \"CLIENT_TOKEN\",\n        authorizationFingerprint: attrs.authorizationFingerprint,\n        analyticsMetadata: analyticsMetadata,\n        gatewayConfiguration: response,\n      };\n\n      resolve(configuration);\n    });\n  });\n}\n\nmodule.exports = {\n  getConfiguration: wrapPromise(getConfiguration),\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvZ2V0LWNvbmZpZ3VyYXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIscUJBQXFCLG1CQUFPLENBQUMseUZBQXdCO0FBQ3JELGtCQUFrQixtQkFBTyxDQUFDLGtHQUF5QjtBQUNuRCxjQUFjLG1CQUFPLENBQUMsNkVBQVc7QUFDakMsV0FBVyxtQkFBTyxDQUFDLHNFQUFpQjtBQUNwQyxnQkFBZ0IsbUJBQU8sQ0FBQyw2RUFBa0I7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLHFFQUFVO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyw2RkFBbUI7QUFDekMsbUJBQW1CLGlIQUF3QztBQUMzRCw2QkFBNkIsbUJBQU8sQ0FBQyxpSEFBb0M7O0FBRXpFLHdCQUF3QixvSEFBd0M7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvZ2V0LWNvbmZpZ3VyYXRpb24uanM/MTBjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgd3JhcFByb21pc2UgPSByZXF1aXJlKFwiQGJyYWludHJlZS93cmFwLXByb21pc2VcIik7XG52YXIgcmVxdWVzdCA9IHJlcXVpcmUoXCIuL3JlcXVlc3RcIik7XG52YXIgdXVpZCA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL3V1aWRcIik7XG52YXIgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL2xpYi9jb25zdGFudHNcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xudmFyIEdyYXBoUUwgPSByZXF1aXJlKFwiLi9yZXF1ZXN0L2dyYXBocWxcIik7XG52YXIgR1JBUEhRTF9VUkxTID0gcmVxdWlyZShcIi4uL2xpYi9jb25zdGFudHNcIikuR1JBUEhRTF9VUkxTO1xudmFyIGlzRGF0ZVN0cmluZ0JlZm9yZU9yT24gPSByZXF1aXJlKFwiLi4vbGliL2lzLWRhdGUtc3RyaW5nLWJlZm9yZS1vci1vblwiKTtcblxudmFyIEJSQUlOVFJFRV9WRVJTSU9OID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpLkJSQUlOVFJFRV9WRVJTSU9OO1xuXG5mdW5jdGlvbiBnZXRDb25maWd1cmF0aW9uKGF1dGhEYXRhKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIGNvbmZpZ3VyYXRpb24sIGF0dHJzLCBjb25maWdVcmwsIHJlcU9wdGlvbnM7XG4gICAgdmFyIHNlc3Npb25JZCA9IHV1aWQoKTtcbiAgICB2YXIgYW5hbHl0aWNzTWV0YWRhdGEgPSB7XG4gICAgICBtZXJjaGFudEFwcElkOiB3aW5kb3cubG9jYXRpb24uaG9zdCxcbiAgICAgIHBsYXRmb3JtOiBjb25zdGFudHMuUExBVEZPUk0sXG4gICAgICBzZGtWZXJzaW9uOiBjb25zdGFudHMuVkVSU0lPTixcbiAgICAgIHNvdXJjZTogY29uc3RhbnRzLlNPVVJDRSxcbiAgICAgIC8vIE5FWFRfTUFKT1JfVkVSU0lPTiByZW1vdmUgb25lIG9mIHRoZXNlIHRvIG5vdCBkdXBsaWNhdGUgZGF0YS4gVGFyZ2V0IHBhcml0eSB3aXRoIG1vYmlsZSBwbGF0Zm9ybXMgYXBwcm9hY2guXG4gICAgICBpbnRlZ3JhdGlvbjogY29uc3RhbnRzLklOVEVHUkFUSU9OLFxuICAgICAgaW50ZWdyYXRpb25UeXBlOiBjb25zdGFudHMuSU5URUdSQVRJT04sXG4gICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICB9O1xuXG4gICAgYXR0cnMgPSBhdXRoRGF0YS5hdHRycztcbiAgICBjb25maWdVcmwgPSBhdXRoRGF0YS5jb25maWdVcmw7XG5cbiAgICBhdHRycy5fbWV0YSA9IGFuYWx5dGljc01ldGFkYXRhO1xuICAgIGF0dHJzLmJyYWludHJlZUxpYnJhcnlWZXJzaW9uID0gY29uc3RhbnRzLkJSQUlOVFJFRV9MSUJSQVJZX1ZFUlNJT047XG4gICAgYXR0cnMuY29uZmlnVmVyc2lvbiA9IFwiM1wiO1xuXG4gICAgcmVxT3B0aW9ucyA9IHtcbiAgICAgIHVybDogY29uZmlnVXJsLFxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgZGF0YTogYXR0cnMsXG4gICAgfTtcblxuICAgIGlmIChhdHRycy5hdXRob3JpemF0aW9uRmluZ2VycHJpbnQgJiYgYXV0aERhdGEuZ3JhcGhRTCkge1xuICAgICAgaWYgKGlzRGF0ZVN0cmluZ0JlZm9yZU9yT24oYXV0aERhdGEuZ3JhcGhRTC5kYXRlLCBCUkFJTlRSRUVfVkVSU0lPTikpIHtcbiAgICAgICAgcmVxT3B0aW9ucy5ncmFwaFFMID0gbmV3IEdyYXBoUUwoe1xuICAgICAgICAgIGdyYXBoUUw6IHtcbiAgICAgICAgICAgIHVybDogYXV0aERhdGEuZ3JhcGhRTC51cmwsXG4gICAgICAgICAgICBmZWF0dXJlczogW1wiY29uZmlndXJhdGlvblwiXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmVxT3B0aW9ucy5tZXRhZGF0YSA9IGFuYWx5dGljc01ldGFkYXRhO1xuICAgIH0gZWxzZSBpZiAoYXR0cnMudG9rZW5pemF0aW9uS2V5KSB7XG4gICAgICByZXFPcHRpb25zLmdyYXBoUUwgPSBuZXcgR3JhcGhRTCh7XG4gICAgICAgIGdyYXBoUUw6IHtcbiAgICAgICAgICB1cmw6IEdSQVBIUUxfVVJMU1thdXRoRGF0YS5lbnZpcm9ubWVudF0sXG4gICAgICAgICAgZmVhdHVyZXM6IFtcImNvbmZpZ3VyYXRpb25cIl0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcmVxT3B0aW9ucy5tZXRhZGF0YSA9IGFuYWx5dGljc01ldGFkYXRhO1xuICAgIH1cblxuICAgIC8vIE5FWFRfTUFKT1JfVkVSU0lPTlxuICAgIC8vIHRoZXJlIGFyZSB2YXJpb3VzIGlzc3VlcyB3aXRoIHRoZSBjb25maWcgZW5kcG9pbnQgd2hlcmUgdGhlIHZhbHVlcyByZXR1cm5lZFxuICAgIC8vIGRvIG5vdCBtYXRjaCB0aGUgdmFsdWVzIGZyb20gdGhlIG1lcmNoYW50IGFjY291bnQgaWQgcGFzc2VkIGludG8gYSBjbGllbnQgdG9rZW5cbiAgICAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgY29uZmlndXJhdGlvbiByZXF1ZXN0IGVuZHBvaW50IHRvIGJlIGFibGUgdG8gcGFzcyB0aGVcbiAgICAvLyBjb3JyZWN0IHZhbHVlcy4gVGhlIGZvbGxvd2luZyBvbmVzIGFyZSBpbmNvcnJlY3RcbiAgICAvLyAqIGFwcGxlUGF5V2ViIC0gZGVmaW5pdGVseSBzdXBwb3J0ZWROZXR3b3Jrcywgd2hpY2ggY29tcGlsZXMgYWxsIHRoZSBjYXJkXG4gICAgLy8gICAgbmV0d29ya3MgZnJvbSBhbGwgdGhlIG1lcmNoYW50IGFjY291bnRzIGluc3RlYWQgb2YgcHJvdmlkaW5nIGp1c3QgdGhlXG4gICAgLy8gICAgb25lcyBmcm9tIHRoZSBzcGVjaWZpZWQgb25lLiBUaGUgc2FtZSBpcyBwcm9iYWJseSB0cnVlIGZvciBpb3MgYXBwbGUgcGF5XG4gICAgLy8gICAgQWxzbyB0aGUgbWVyY2hhbnRpZGVudGlmaWVyXG4gICAgLy8gTkVYVF9NQUpPUl9WRVJTSU9OIEFsbG93IHBhc3NpbmcgaW4gbWVyY2hhbnQgYWNjb3VudCBpZCB3aGVuIGNyZWF0aW5nIHRoZSBjb21wb25lbnRcbiAgICAvLyB0byBmZXRjaCB0aGUgY29uZmlnIGZvciB0aGF0IG1lcmNoYW50IGFjY291bnQgaWQgKHBhcnRpY3VsYXJseSBoZWxwZnVsIHdoZW4gdXNpbmdcbiAgICAvLyBhIHRva2VuaXphdGlvbiBrZXkgZm9yIGF1dGhvcml6YXRpb24pXG4gICAgcmVxdWVzdChyZXFPcHRpb25zLCBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSwgc3RhdHVzKSB7XG4gICAgICB2YXIgZXJyb3JUZW1wbGF0ZTtcblxuICAgICAgaWYgKGVycikge1xuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICBlcnJvclRlbXBsYXRlID0gZXJyb3JzLkNMSUVOVF9BVVRIT1JJWkFUSU9OX0lOU1VGRklDSUVOVDtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIGVycm9yVGVtcGxhdGUgPSBlcnJvcnMuQ0xJRU5UX0FVVEhPUklaQVRJT05fSU5WQUxJRDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcnJvclRlbXBsYXRlID0gZXJyb3JzLkNMSUVOVF9HQVRFV0FZX05FVFdPUks7XG4gICAgICAgIH1cblxuICAgICAgICByZWplY3QoXG4gICAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICAgIHR5cGU6IGVycm9yVGVtcGxhdGUudHlwZSxcbiAgICAgICAgICAgIGNvZGU6IGVycm9yVGVtcGxhdGUuY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVGVtcGxhdGUubWVzc2FnZSxcbiAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgYXV0aG9yaXphdGlvblR5cGU6IGF0dHJzLnRva2VuaXphdGlvbktleVxuICAgICAgICAgID8gXCJUT0tFTklaQVRJT05fS0VZXCJcbiAgICAgICAgICA6IFwiQ0xJRU5UX1RPS0VOXCIsXG4gICAgICAgIGF1dGhvcml6YXRpb25GaW5nZXJwcmludDogYXR0cnMuYXV0aG9yaXphdGlvbkZpbmdlcnByaW50LFxuICAgICAgICBhbmFseXRpY3NNZXRhZGF0YTogYW5hbHl0aWNzTWV0YWRhdGEsXG4gICAgICAgIGdhdGV3YXlDb25maWd1cmF0aW9uOiByZXNwb25zZSxcbiAgICAgIH07XG5cbiAgICAgIHJlc29sdmUoY29uZmlndXJhdGlvbik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Q29uZmlndXJhdGlvbjogd3JhcFByb21pc2UoZ2V0Q29uZmlndXJhdGlvbiksXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/get-configuration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/index.js":
/*!****************************************************!*\
  !*** ./node_modules/braintree-web/client/index.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar Client = __webpack_require__(/*! ./client */ \"(ssr)/./node_modules/braintree-web/client/client.js\");\nvar VERSION = \"3.99.0\";\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar sharedErrors = __webpack_require__(/*! ../lib/errors */ \"(ssr)/./node_modules/braintree-web/lib/errors.js\");\n\n/** @module braintree-web/client */\n\n/**\n * @function create\n * @description This function is the entry point for the <code>braintree.client</code> module. It is used for creating {@link Client} instances that service communication to Braintree servers.\n * @param {object} options Object containing all {@link Client} options:\n * @param {string} options.authorization A tokenizationKey or clientToken.\n * @param {callback} [callback] The second argument, <code>data</code>, is the {@link Client} instance.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   if (createErr) {\n *     if (createErr.code === 'CLIENT_AUTHORIZATION_INVALID') {\n *       // either the client token has expired, and a new one should be generated\n *       // or the tokenization key was deactivated or deleted\n *     } else {\n *       console.log('something went wrong creating the client instance', createErr);\n *     }\n *     return;\n *   }\n *\n *  // set up other components\n * });\n * @static\n */\nfunction create(options) {\n  if (!options.authorization) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,\n        code: sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,\n        message:\n          \"options.authorization is required when instantiating a client.\",\n      })\n    );\n  }\n\n  return Client.initialize(options);\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIscUJBQXFCLG1CQUFPLENBQUMseUZBQXdCO0FBQ3JELGFBQWEsbUJBQU8sQ0FBQyxxRUFBVTtBQUMvQjtBQUNBLGtCQUFrQixtQkFBTyxDQUFDLGtHQUF5QjtBQUNuRCxtQkFBbUIsbUJBQU8sQ0FBQyx1RUFBZTs7QUFFMUM7O0FBRUE7QUFDQTtBQUNBLHdIQUF3SCxjQUFjO0FBQ3RJLFdBQVcsUUFBUSwrQkFBK0IsY0FBYztBQUNoRSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVLDJEQUEyRCxjQUFjO0FBQzlGLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsYUFBYTtBQUN0RSxZQUFZO0FBQ1o7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2NsaWVudC9pbmRleC5qcz9lMjg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcbnZhciBDbGllbnQgPSByZXF1aXJlKFwiLi9jbGllbnRcIik7XG52YXIgVkVSU0lPTiA9IFwiMy45OS4wXCI7XG52YXIgd3JhcFByb21pc2UgPSByZXF1aXJlKFwiQGJyYWludHJlZS93cmFwLXByb21pc2VcIik7XG52YXIgc2hhcmVkRXJyb3JzID0gcmVxdWlyZShcIi4uL2xpYi9lcnJvcnNcIik7XG5cbi8qKiBAbW9kdWxlIGJyYWludHJlZS13ZWIvY2xpZW50ICovXG5cbi8qKlxuICogQGZ1bmN0aW9uIGNyZWF0ZVxuICogQGRlc2NyaXB0aW9uIFRoaXMgZnVuY3Rpb24gaXMgdGhlIGVudHJ5IHBvaW50IGZvciB0aGUgPGNvZGU+YnJhaW50cmVlLmNsaWVudDwvY29kZT4gbW9kdWxlLiBJdCBpcyB1c2VkIGZvciBjcmVhdGluZyB7QGxpbmsgQ2xpZW50fSBpbnN0YW5jZXMgdGhhdCBzZXJ2aWNlIGNvbW11bmljYXRpb24gdG8gQnJhaW50cmVlIHNlcnZlcnMuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPYmplY3QgY29udGFpbmluZyBhbGwge0BsaW5rIENsaWVudH0gb3B0aW9uczpcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmF1dGhvcml6YXRpb24gQSB0b2tlbml6YXRpb25LZXkgb3IgY2xpZW50VG9rZW4uXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQsIDxjb2RlPmRhdGE8L2NvZGU+LCBpcyB0aGUge0BsaW5rIENsaWVudH0gaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICogQGV4YW1wbGVcbiAqIHZhciBjcmVhdGVDbGllbnQgPSByZXF1aXJlKCdicmFpbnRyZWUtd2ViL2NsaWVudCcpLmNyZWF0ZTtcbiAqXG4gKiBjcmVhdGVDbGllbnQoe1xuICogICBhdXRob3JpemF0aW9uOiBDTElFTlRfQVVUSE9SSVpBVElPTlxuICogfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgY2xpZW50SW5zdGFuY2UpIHtcbiAqICAgaWYgKGNyZWF0ZUVycikge1xuICogICAgIGlmIChjcmVhdGVFcnIuY29kZSA9PT0gJ0NMSUVOVF9BVVRIT1JJWkFUSU9OX0lOVkFMSUQnKSB7XG4gKiAgICAgICAvLyBlaXRoZXIgdGhlIGNsaWVudCB0b2tlbiBoYXMgZXhwaXJlZCwgYW5kIGEgbmV3IG9uZSBzaG91bGQgYmUgZ2VuZXJhdGVkXG4gKiAgICAgICAvLyBvciB0aGUgdG9rZW5pemF0aW9uIGtleSB3YXMgZGVhY3RpdmF0ZWQgb3IgZGVsZXRlZFxuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICBjb25zb2xlLmxvZygnc29tZXRoaW5nIHdlbnQgd3JvbmcgY3JlYXRpbmcgdGhlIGNsaWVudCBpbnN0YW5jZScsIGNyZWF0ZUVycik7XG4gKiAgICAgfVxuICogICAgIHJldHVybjtcbiAqICAgfVxuICpcbiAqICAvLyBzZXQgdXAgb3RoZXIgY29tcG9uZW50c1xuICogfSk7XG4gKiBAc3RhdGljXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucy5hdXRob3JpemF0aW9uKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogc2hhcmVkRXJyb3JzLklOU1RBTlRJQVRJT05fT1BUSU9OX1JFUVVJUkVELnR5cGUsXG4gICAgICAgIGNvZGU6IHNoYXJlZEVycm9ycy5JTlNUQU5USUFUSU9OX09QVElPTl9SRVFVSVJFRC5jb2RlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIFwib3B0aW9ucy5hdXRob3JpemF0aW9uIGlzIHJlcXVpcmVkIHdoZW4gaW5zdGFudGlhdGluZyBhIGNsaWVudC5cIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBDbGllbnQuaW5pdGlhbGl6ZShvcHRpb25zKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZTogd3JhcFByb21pc2UoY3JlYXRlKSxcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBTREssIGkuZS4gYHtAcGtnIHZlcnNpb259YC5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIFZFUlNJT046IFZFUlNJT04sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/ajax-driver.js":
/*!******************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/ajax-driver.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar querystring = __webpack_require__(/*! ../../lib/querystring */ \"(ssr)/./node_modules/braintree-web/lib/querystring.js\");\nvar assign = (__webpack_require__(/*! ../../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar prepBody = __webpack_require__(/*! ./prep-body */ \"(ssr)/./node_modules/braintree-web/client/request/prep-body.js\");\nvar parseBody = __webpack_require__(/*! ./parse-body */ \"(ssr)/./node_modules/braintree-web/client/request/parse-body.js\");\nvar xhr = __webpack_require__(/*! ./xhr */ \"(ssr)/./node_modules/braintree-web/client/request/xhr.js\");\nvar isXHRAvailable = xhr.isAvailable;\nvar GraphQLRequest = __webpack_require__(/*! ./graphql/request */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/request.js\");\nvar DefaultRequest = __webpack_require__(/*! ./default-request */ \"(ssr)/./node_modules/braintree-web/client/request/default-request.js\");\n\nvar MAX_TCP_RETRYCOUNT = 1;\nvar TCP_PRECONNECT_BUG_STATUS_CODE = 408;\n\nfunction requestShouldRetry(status) {\n  return !status || status === TCP_PRECONNECT_BUG_STATUS_CODE;\n}\n\nfunction graphQLRequestShouldRetryWithClientApi(body) {\n  var errorClass =\n    !body.data &&\n    body.errors &&\n    body.errors[0] &&\n    body.errors[0].extensions &&\n    body.errors[0].extensions.errorClass;\n\n  return errorClass === \"UNKNOWN\" || errorClass === \"INTERNAL\";\n}\n\nfunction _requestWithRetry(options, tcpRetryCount, cb) {\n  var status, resBody, ajaxRequest, body, method, headers, parsedBody;\n  var url = options.url;\n  var graphQL = options.graphQL;\n  var timeout = options.timeout;\n  var req = xhr.getRequestObject();\n  var callback = cb;\n  var isGraphQLRequest = Boolean(\n    graphQL && graphQL.isGraphQLRequest(url, options.data)\n  );\n\n  options.headers = assign(\n    { \"Content-Type\": \"application/json\" },\n    options.headers\n  );\n\n  if (isGraphQLRequest) {\n    ajaxRequest = new GraphQLRequest(options);\n  } else {\n    ajaxRequest = new DefaultRequest(options);\n  }\n\n  url = ajaxRequest.getUrl();\n  body = ajaxRequest.getBody();\n  method = ajaxRequest.getMethod();\n  headers = ajaxRequest.getHeaders();\n\n  if (method === \"GET\") {\n    url = querystring.queryify(url, body);\n    body = null;\n  }\n\n  if (isXHRAvailable) {\n    req.onreadystatechange = function () {\n      if (req.readyState !== 4) {\n        return;\n      }\n\n      if (req.status === 0 && isGraphQLRequest) {\n        // If a merchant experiences a connection\n        // issue to the GraphQL endpoint (possibly\n        // due to a Content Security Policy), retry\n        // the request against the old client API.\n        delete options.graphQL;\n        _requestWithRetry(options, tcpRetryCount, cb);\n\n        return;\n      }\n\n      parsedBody = parseBody(req.responseText);\n      resBody = ajaxRequest.adaptResponseBody(parsedBody);\n      status = ajaxRequest.determineStatus(req.status, parsedBody);\n\n      if (status >= 400 || status < 200) {\n        if (\n          isGraphQLRequest &&\n          graphQLRequestShouldRetryWithClientApi(parsedBody)\n        ) {\n          delete options.graphQL;\n          _requestWithRetry(options, tcpRetryCount, cb);\n\n          return;\n        }\n\n        if (tcpRetryCount < MAX_TCP_RETRYCOUNT && requestShouldRetry(status)) {\n          tcpRetryCount++;\n          _requestWithRetry(options, tcpRetryCount, cb);\n\n          return;\n        }\n        callback(resBody || \"error\", null, status || 500);\n      } else {\n        callback(null, resBody, status);\n      }\n    };\n  } else {\n    if (options.headers) {\n      url = querystring.queryify(url, headers);\n    }\n\n    req.onload = function () {\n      callback(null, parseBody(req.responseText), req.status);\n    };\n\n    req.onerror = function () {\n      // XDomainRequest does not report a body or status for errors, so\n      // hardcode to 'error' and 500, respectively\n      callback(\"error\", null, 500);\n    };\n\n    // This must remain for IE9 to work\n    req.onprogress = function () {};\n\n    req.ontimeout = function () {\n      callback(\"timeout\", null, -1);\n    };\n  }\n\n  try {\n    req.open(method, url, true);\n  } catch (requestOpenError) {\n    // If a merchant has a Content Security Policy and they have\n    // not allowed our endpoints, some browsers may\n    // synchronously throw an error. If it is not a GraphQL\n    // request, we throw the error. If it is a GraphQL request\n    // we remove the GraphQL option and try the request against\n    // the old client API.\n    if (!isGraphQLRequest) {\n      throw requestOpenError;\n    }\n\n    delete options.graphQL;\n\n    _requestWithRetry(options, tcpRetryCount, cb);\n\n    return;\n  }\n\n  req.timeout = timeout;\n\n  if (isXHRAvailable) {\n    Object.keys(headers).forEach(function (headerKey) {\n      req.setRequestHeader(headerKey, headers[headerKey]);\n    });\n  }\n\n  try {\n    req.send(prepBody(method, body));\n  } catch (e) {\n    /* ignored */\n  }\n}\n\nfunction request(options, cb) {\n  _requestWithRetry(options, 0, cb);\n}\n\nmodule.exports = {\n  request: request,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9hamF4LWRyaXZlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixrQkFBa0IsbUJBQU8sQ0FBQyxvRkFBdUI7QUFDakQsYUFBYSx3R0FBa0M7QUFDL0MsZUFBZSxtQkFBTyxDQUFDLG1GQUFhO0FBQ3BDLGdCQUFnQixtQkFBTyxDQUFDLHFGQUFjO0FBQ3RDLFVBQVUsbUJBQU8sQ0FBQyx1RUFBTztBQUN6QjtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLCtGQUFtQjtBQUNoRCxxQkFBcUIsbUJBQU8sQ0FBQywrRkFBbUI7O0FBRWhEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLG9DQUFvQztBQUMxQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9hamF4LWRyaXZlci5qcz9kYzRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgcXVlcnlzdHJpbmcgPSByZXF1aXJlKFwiLi4vLi4vbGliL3F1ZXJ5c3RyaW5nXCIpO1xudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuLi8uLi9saWIvYXNzaWduXCIpLmFzc2lnbjtcbnZhciBwcmVwQm9keSA9IHJlcXVpcmUoXCIuL3ByZXAtYm9keVwiKTtcbnZhciBwYXJzZUJvZHkgPSByZXF1aXJlKFwiLi9wYXJzZS1ib2R5XCIpO1xudmFyIHhociA9IHJlcXVpcmUoXCIuL3hoclwiKTtcbnZhciBpc1hIUkF2YWlsYWJsZSA9IHhoci5pc0F2YWlsYWJsZTtcbnZhciBHcmFwaFFMUmVxdWVzdCA9IHJlcXVpcmUoXCIuL2dyYXBocWwvcmVxdWVzdFwiKTtcbnZhciBEZWZhdWx0UmVxdWVzdCA9IHJlcXVpcmUoXCIuL2RlZmF1bHQtcmVxdWVzdFwiKTtcblxudmFyIE1BWF9UQ1BfUkVUUllDT1VOVCA9IDE7XG52YXIgVENQX1BSRUNPTk5FQ1RfQlVHX1NUQVRVU19DT0RFID0gNDA4O1xuXG5mdW5jdGlvbiByZXF1ZXN0U2hvdWxkUmV0cnkoc3RhdHVzKSB7XG4gIHJldHVybiAhc3RhdHVzIHx8IHN0YXR1cyA9PT0gVENQX1BSRUNPTk5FQ1RfQlVHX1NUQVRVU19DT0RFO1xufVxuXG5mdW5jdGlvbiBncmFwaFFMUmVxdWVzdFNob3VsZFJldHJ5V2l0aENsaWVudEFwaShib2R5KSB7XG4gIHZhciBlcnJvckNsYXNzID1cbiAgICAhYm9keS5kYXRhICYmXG4gICAgYm9keS5lcnJvcnMgJiZcbiAgICBib2R5LmVycm9yc1swXSAmJlxuICAgIGJvZHkuZXJyb3JzWzBdLmV4dGVuc2lvbnMgJiZcbiAgICBib2R5LmVycm9yc1swXS5leHRlbnNpb25zLmVycm9yQ2xhc3M7XG5cbiAgcmV0dXJuIGVycm9yQ2xhc3MgPT09IFwiVU5LTk9XTlwiIHx8IGVycm9yQ2xhc3MgPT09IFwiSU5URVJOQUxcIjtcbn1cblxuZnVuY3Rpb24gX3JlcXVlc3RXaXRoUmV0cnkob3B0aW9ucywgdGNwUmV0cnlDb3VudCwgY2IpIHtcbiAgdmFyIHN0YXR1cywgcmVzQm9keSwgYWpheFJlcXVlc3QsIGJvZHksIG1ldGhvZCwgaGVhZGVycywgcGFyc2VkQm9keTtcbiAgdmFyIHVybCA9IG9wdGlvbnMudXJsO1xuICB2YXIgZ3JhcGhRTCA9IG9wdGlvbnMuZ3JhcGhRTDtcbiAgdmFyIHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG4gIHZhciByZXEgPSB4aHIuZ2V0UmVxdWVzdE9iamVjdCgpO1xuICB2YXIgY2FsbGJhY2sgPSBjYjtcbiAgdmFyIGlzR3JhcGhRTFJlcXVlc3QgPSBCb29sZWFuKFxuICAgIGdyYXBoUUwgJiYgZ3JhcGhRTC5pc0dyYXBoUUxSZXF1ZXN0KHVybCwgb3B0aW9ucy5kYXRhKVxuICApO1xuXG4gIG9wdGlvbnMuaGVhZGVycyA9IGFzc2lnbihcbiAgICB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgb3B0aW9ucy5oZWFkZXJzXG4gICk7XG5cbiAgaWYgKGlzR3JhcGhRTFJlcXVlc3QpIHtcbiAgICBhamF4UmVxdWVzdCA9IG5ldyBHcmFwaFFMUmVxdWVzdChvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBhamF4UmVxdWVzdCA9IG5ldyBEZWZhdWx0UmVxdWVzdChvcHRpb25zKTtcbiAgfVxuXG4gIHVybCA9IGFqYXhSZXF1ZXN0LmdldFVybCgpO1xuICBib2R5ID0gYWpheFJlcXVlc3QuZ2V0Qm9keSgpO1xuICBtZXRob2QgPSBhamF4UmVxdWVzdC5nZXRNZXRob2QoKTtcbiAgaGVhZGVycyA9IGFqYXhSZXF1ZXN0LmdldEhlYWRlcnMoKTtcblxuICBpZiAobWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgdXJsID0gcXVlcnlzdHJpbmcucXVlcnlpZnkodXJsLCBib2R5KTtcbiAgICBib2R5ID0gbnVsbDtcbiAgfVxuXG4gIGlmIChpc1hIUkF2YWlsYWJsZSkge1xuICAgIHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocmVxLnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVxLnN0YXR1cyA9PT0gMCAmJiBpc0dyYXBoUUxSZXF1ZXN0KSB7XG4gICAgICAgIC8vIElmIGEgbWVyY2hhbnQgZXhwZXJpZW5jZXMgYSBjb25uZWN0aW9uXG4gICAgICAgIC8vIGlzc3VlIHRvIHRoZSBHcmFwaFFMIGVuZHBvaW50IChwb3NzaWJseVxuICAgICAgICAvLyBkdWUgdG8gYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSksIHJldHJ5XG4gICAgICAgIC8vIHRoZSByZXF1ZXN0IGFnYWluc3QgdGhlIG9sZCBjbGllbnQgQVBJLlxuICAgICAgICBkZWxldGUgb3B0aW9ucy5ncmFwaFFMO1xuICAgICAgICBfcmVxdWVzdFdpdGhSZXRyeShvcHRpb25zLCB0Y3BSZXRyeUNvdW50LCBjYik7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwYXJzZWRCb2R5ID0gcGFyc2VCb2R5KHJlcS5yZXNwb25zZVRleHQpO1xuICAgICAgcmVzQm9keSA9IGFqYXhSZXF1ZXN0LmFkYXB0UmVzcG9uc2VCb2R5KHBhcnNlZEJvZHkpO1xuICAgICAgc3RhdHVzID0gYWpheFJlcXVlc3QuZGV0ZXJtaW5lU3RhdHVzKHJlcS5zdGF0dXMsIHBhcnNlZEJvZHkpO1xuXG4gICAgICBpZiAoc3RhdHVzID49IDQwMCB8fCBzdGF0dXMgPCAyMDApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzR3JhcGhRTFJlcXVlc3QgJiZcbiAgICAgICAgICBncmFwaFFMUmVxdWVzdFNob3VsZFJldHJ5V2l0aENsaWVudEFwaShwYXJzZWRCb2R5KVxuICAgICAgICApIHtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5ncmFwaFFMO1xuICAgICAgICAgIF9yZXF1ZXN0V2l0aFJldHJ5KG9wdGlvbnMsIHRjcFJldHJ5Q291bnQsIGNiKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0Y3BSZXRyeUNvdW50IDwgTUFYX1RDUF9SRVRSWUNPVU5UICYmIHJlcXVlc3RTaG91bGRSZXRyeShzdGF0dXMpKSB7XG4gICAgICAgICAgdGNwUmV0cnlDb3VudCsrO1xuICAgICAgICAgIF9yZXF1ZXN0V2l0aFJldHJ5KG9wdGlvbnMsIHRjcFJldHJ5Q291bnQsIGNiKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhyZXNCb2R5IHx8IFwiZXJyb3JcIiwgbnVsbCwgc3RhdHVzIHx8IDUwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXNCb2R5LCBzdGF0dXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdXJsID0gcXVlcnlzdHJpbmcucXVlcnlpZnkodXJsLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICByZXEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcGFyc2VCb2R5KHJlcS5yZXNwb25zZVRleHQpLCByZXEuc3RhdHVzKTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBYRG9tYWluUmVxdWVzdCBkb2VzIG5vdCByZXBvcnQgYSBib2R5IG9yIHN0YXR1cyBmb3IgZXJyb3JzLCBzb1xuICAgICAgLy8gaGFyZGNvZGUgdG8gJ2Vycm9yJyBhbmQgNTAwLCByZXNwZWN0aXZlbHlcbiAgICAgIGNhbGxiYWNrKFwiZXJyb3JcIiwgbnVsbCwgNTAwKTtcbiAgICB9O1xuXG4gICAgLy8gVGhpcyBtdXN0IHJlbWFpbiBmb3IgSUU5IHRvIHdvcmtcbiAgICByZXEub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgcmVxLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKFwidGltZW91dFwiLCBudWxsLCAtMSk7XG4gICAgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVxLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICB9IGNhdGNoIChyZXF1ZXN0T3BlbkVycm9yKSB7XG4gICAgLy8gSWYgYSBtZXJjaGFudCBoYXMgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBhbmQgdGhleSBoYXZlXG4gICAgLy8gbm90IGFsbG93ZWQgb3VyIGVuZHBvaW50cywgc29tZSBicm93c2VycyBtYXlcbiAgICAvLyBzeW5jaHJvbm91c2x5IHRocm93IGFuIGVycm9yLiBJZiBpdCBpcyBub3QgYSBHcmFwaFFMXG4gICAgLy8gcmVxdWVzdCwgd2UgdGhyb3cgdGhlIGVycm9yLiBJZiBpdCBpcyBhIEdyYXBoUUwgcmVxdWVzdFxuICAgIC8vIHdlIHJlbW92ZSB0aGUgR3JhcGhRTCBvcHRpb24gYW5kIHRyeSB0aGUgcmVxdWVzdCBhZ2FpbnN0XG4gICAgLy8gdGhlIG9sZCBjbGllbnQgQVBJLlxuICAgIGlmICghaXNHcmFwaFFMUmVxdWVzdCkge1xuICAgICAgdGhyb3cgcmVxdWVzdE9wZW5FcnJvcjtcbiAgICB9XG5cbiAgICBkZWxldGUgb3B0aW9ucy5ncmFwaFFMO1xuXG4gICAgX3JlcXVlc3RXaXRoUmV0cnkob3B0aW9ucywgdGNwUmV0cnlDb3VudCwgY2IpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmVxLnRpbWVvdXQgPSB0aW1lb3V0O1xuXG4gIGlmIChpc1hIUkF2YWlsYWJsZSkge1xuICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGhlYWRlcktleSkge1xuICAgICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyS2V5LCBoZWFkZXJzW2hlYWRlcktleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXEuc2VuZChwcmVwQm9keShtZXRob2QsIGJvZHkpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qIGlnbm9yZWQgKi9cbiAgfVxufVxuXG5mdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMsIGNiKSB7XG4gIF9yZXF1ZXN0V2l0aFJldHJ5KG9wdGlvbnMsIDAsIGNiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJlcXVlc3Q6IHJlcXVlc3QsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/ajax-driver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/default-request.js":
/*!**********************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/default-request.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\nfunction DefaultRequest(options) {\n  this._url = options.url;\n  this._data = options.data;\n  this._method = options.method;\n  this._headers = options.headers;\n}\n\nDefaultRequest.prototype.getUrl = function () {\n  return this._url;\n};\n\nDefaultRequest.prototype.getBody = function () {\n  return this._data;\n};\n\nDefaultRequest.prototype.getMethod = function () {\n  return this._method;\n};\n\nDefaultRequest.prototype.getHeaders = function () {\n  return this._headers;\n};\n\nDefaultRequest.prototype.adaptResponseBody = function (parsedBody) {\n  return parsedBody;\n};\n\nDefaultRequest.prototype.determineStatus = function (status) {\n  return status;\n};\n\nmodule.exports = DefaultRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9kZWZhdWx0LXJlcXVlc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2NsaWVudC9yZXF1ZXN0L2RlZmF1bHQtcmVxdWVzdC5qcz8zMjE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBEZWZhdWx0UmVxdWVzdChvcHRpb25zKSB7XG4gIHRoaXMuX3VybCA9IG9wdGlvbnMudXJsO1xuICB0aGlzLl9kYXRhID0gb3B0aW9ucy5kYXRhO1xuICB0aGlzLl9tZXRob2QgPSBvcHRpb25zLm1ldGhvZDtcbiAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbn1cblxuRGVmYXVsdFJlcXVlc3QucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3VybDtcbn07XG5cbkRlZmF1bHRSZXF1ZXN0LnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fZGF0YTtcbn07XG5cbkRlZmF1bHRSZXF1ZXN0LnByb3RvdHlwZS5nZXRNZXRob2QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9tZXRob2Q7XG59O1xuXG5EZWZhdWx0UmVxdWVzdC5wcm90b3R5cGUuZ2V0SGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2hlYWRlcnM7XG59O1xuXG5EZWZhdWx0UmVxdWVzdC5wcm90b3R5cGUuYWRhcHRSZXNwb25zZUJvZHkgPSBmdW5jdGlvbiAocGFyc2VkQm9keSkge1xuICByZXR1cm4gcGFyc2VkQm9keTtcbn07XG5cbkRlZmF1bHRSZXF1ZXN0LnByb3RvdHlwZS5kZXRlcm1pbmVTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gIHJldHVybiBzdGF0dXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlZmF1bHRSZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/default-request.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/configuration.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/graphql/adapters/configuration.js ***!
  \*************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar errorResponseAdapter = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/error.js\");\nvar assign = (__webpack_require__(/*! ../../../../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\n\n/* eslint-disable camelcase */\nvar cardTypeTransforms = {\n  creditCard: {\n    AMERICAN_EXPRESS: \"American Express\",\n    DISCOVER: \"Discover\",\n    INTERNATIONAL_MAESTRO: \"Maestro\",\n    JCB: \"JCB\",\n    MASTERCARD: \"MasterCard\",\n    SOLO: \"Solo\",\n    UK_MAESTRO: \"UK Maestro\",\n    UNION_PAY: \"UnionPay\",\n    VISA: \"Visa\",\n    ELO: \"Elo\",\n    HIPER: \"Hiper\",\n    HIPERCARD: \"Hipercard\",\n  },\n  applePayWeb: {\n    VISA: \"visa\",\n    MASTERCARD: \"mastercard\",\n    DISCOVER: \"discover\",\n    AMERICAN_EXPRESS: \"amex\",\n    INTERNATIONAL_MAESTRO: \"maestro\",\n    ELO: \"elo\",\n  },\n  visaCheckout: {\n    VISA: \"Visa\",\n    MASTERCARD: \"MasterCard\",\n    DISCOVER: \"Discover\",\n    AMERICAN_EXPRESS: \"American Express\",\n  },\n  googlePay: {\n    VISA: \"visa\",\n    MASTERCARD: \"mastercard\",\n    DISCOVER: \"discover\",\n    AMERICAN_EXPRESS: \"amex\",\n    INTERNATIONAL_MAESTRO: \"maestro\",\n    ELO: \"elo\",\n  },\n  masterpass: {\n    VISA: \"visa\",\n    MASTERCARD: \"master\",\n    DISCOVER: \"discover\",\n    AMERICAN_EXPRESS: \"amex\",\n    DINERS: \"diners\",\n    INTERNATIONAL_MAESTRO: \"maestro\",\n    JCB: \"jcb\",\n  },\n};\n/* eslint-enable camelcase */\n\nfunction configurationResponseAdapter(responseBody, ctx) {\n  var adaptedResponse;\n\n  if (responseBody.data && !responseBody.errors) {\n    adaptedResponse = adaptConfigurationResponseBody(responseBody, ctx);\n  } else {\n    adaptedResponse = errorResponseAdapter(responseBody);\n  }\n\n  return adaptedResponse;\n}\n\nfunction adaptConfigurationResponseBody(body, ctx) {\n  var configuration = body.data.clientConfiguration;\n  var response;\n\n  response = {\n    environment: configuration.environment.toLowerCase(),\n    clientApiUrl: configuration.clientApiUrl,\n    assetsUrl: configuration.assetsUrl,\n    analytics: {\n      url: configuration.analyticsUrl,\n    },\n    merchantId: configuration.merchantId,\n    venmo: \"off\",\n  };\n\n  if (configuration.supportedFeatures) {\n    response.graphQL = {\n      url: ctx._graphQL._config.url,\n      features: configuration.supportedFeatures.map(function (feature) {\n        return feature.toLowerCase();\n      }),\n    };\n  }\n\n  if (configuration.braintreeApi) {\n    response.braintreeApi = configuration.braintreeApi;\n  }\n\n  if (configuration.applePayWeb) {\n    response.applePayWeb = configuration.applePayWeb;\n    response.applePayWeb.supportedNetworks = mapCardTypes(\n      configuration.applePayWeb.supportedCardBrands,\n      cardTypeTransforms.applePayWeb\n    );\n\n    delete response.applePayWeb.supportedCardBrands;\n  }\n\n  if (configuration.ideal) {\n    response.ideal = configuration.ideal;\n  }\n\n  if (configuration.kount) {\n    response.kount = {\n      kountMerchantId: configuration.kount.merchantId,\n    };\n  }\n\n  if (configuration.creditCard) {\n    response.challenges = configuration.creditCard.challenges.map(function (\n      challenge\n    ) {\n      return challenge.toLowerCase();\n    });\n\n    response.creditCards = {\n      supportedCardTypes: mapCardTypes(\n        configuration.creditCard.supportedCardBrands,\n        cardTypeTransforms.creditCard\n      ),\n    };\n    response.threeDSecureEnabled = configuration.creditCard.threeDSecureEnabled;\n    response.threeDSecure = configuration.creditCard.threeDSecure;\n  } else {\n    response.challenges = [];\n    response.creditCards = {\n      supportedCardTypes: [],\n    };\n    response.threeDSecureEnabled = false;\n  }\n\n  if (configuration.googlePay) {\n    response.androidPay = {\n      displayName: configuration.googlePay.displayName,\n      enabled: true,\n      environment: configuration.googlePay.environment.toLowerCase(),\n      googleAuthorizationFingerprint:\n        configuration.googlePay.googleAuthorization,\n      paypalClientId: configuration.googlePay.paypalClientId,\n      supportedNetworks: mapCardTypes(\n        configuration.googlePay.supportedCardBrands,\n        cardTypeTransforms.googlePay\n      ),\n    };\n  }\n\n  if (configuration.venmo) {\n    response.payWithVenmo = {\n      merchantId: configuration.venmo.merchantId,\n      accessToken: configuration.venmo.accessToken,\n      environment: configuration.venmo.environment.toLowerCase(),\n      enrichedCustomerDataEnabled:\n        configuration.venmo.enrichedCustomerDataEnabled,\n    };\n  }\n\n  if (configuration.paypal) {\n    response.paypalEnabled = true;\n    response.paypal = assign({}, configuration.paypal);\n    response.paypal.currencyIsoCode = response.paypal.currencyCode;\n    response.paypal.environment = response.paypal.environment.toLowerCase();\n\n    delete response.paypal.currencyCode;\n  } else {\n    response.paypalEnabled = false;\n  }\n\n  if (configuration.unionPay) {\n    response.unionPay = {\n      enabled: true,\n      merchantAccountId: configuration.unionPay.merchantAccountId,\n    };\n  }\n\n  if (configuration.visaCheckout) {\n    response.visaCheckout = {\n      apikey: configuration.visaCheckout.apiKey,\n      encryptionKey: configuration.visaCheckout.encryptionKey,\n      externalClientId: configuration.visaCheckout.externalClientId,\n      supportedCardTypes: mapCardTypes(\n        configuration.visaCheckout.supportedCardBrands,\n        cardTypeTransforms.visaCheckout\n      ),\n    };\n  }\n\n  if (configuration.masterpass) {\n    response.masterpass = {\n      merchantCheckoutId: configuration.masterpass.merchantCheckoutId,\n      supportedNetworks: mapCardTypes(\n        configuration.masterpass.supportedCardBrands,\n        cardTypeTransforms.masterpass\n      ),\n    };\n  }\n\n  if (configuration.usBankAccount) {\n    response.usBankAccount = {\n      routeId: configuration.usBankAccount.routeId,\n      plaid: {\n        publicKey: configuration.usBankAccount.plaidPublicKey,\n      },\n    };\n  }\n\n  return response;\n}\n\nfunction mapCardTypes(cardTypes, cardTypeTransformMap) {\n  return cardTypes.reduce(function (acc, type) {\n    if (cardTypeTransformMap.hasOwnProperty(type)) {\n      return acc.concat(cardTypeTransformMap[type]);\n    }\n\n    return acc;\n  }, []);\n}\n\nmodule.exports = configurationResponseAdapter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL2FkYXB0ZXJzL2NvbmZpZ3VyYXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsMkJBQTJCLG1CQUFPLENBQUMsNEZBQVM7QUFDNUMsYUFBYSw4R0FBd0M7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvY2xpZW50L3JlcXVlc3QvZ3JhcGhxbC9hZGFwdGVycy9jb25maWd1cmF0aW9uLmpzPzg3ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBlcnJvclJlc3BvbnNlQWRhcHRlciA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9saWIvYXNzaWduXCIpLmFzc2lnbjtcblxuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG52YXIgY2FyZFR5cGVUcmFuc2Zvcm1zID0ge1xuICBjcmVkaXRDYXJkOiB7XG4gICAgQU1FUklDQU5fRVhQUkVTUzogXCJBbWVyaWNhbiBFeHByZXNzXCIsXG4gICAgRElTQ09WRVI6IFwiRGlzY292ZXJcIixcbiAgICBJTlRFUk5BVElPTkFMX01BRVNUUk86IFwiTWFlc3Ryb1wiLFxuICAgIEpDQjogXCJKQ0JcIixcbiAgICBNQVNURVJDQVJEOiBcIk1hc3RlckNhcmRcIixcbiAgICBTT0xPOiBcIlNvbG9cIixcbiAgICBVS19NQUVTVFJPOiBcIlVLIE1hZXN0cm9cIixcbiAgICBVTklPTl9QQVk6IFwiVW5pb25QYXlcIixcbiAgICBWSVNBOiBcIlZpc2FcIixcbiAgICBFTE86IFwiRWxvXCIsXG4gICAgSElQRVI6IFwiSGlwZXJcIixcbiAgICBISVBFUkNBUkQ6IFwiSGlwZXJjYXJkXCIsXG4gIH0sXG4gIGFwcGxlUGF5V2ViOiB7XG4gICAgVklTQTogXCJ2aXNhXCIsXG4gICAgTUFTVEVSQ0FSRDogXCJtYXN0ZXJjYXJkXCIsXG4gICAgRElTQ09WRVI6IFwiZGlzY292ZXJcIixcbiAgICBBTUVSSUNBTl9FWFBSRVNTOiBcImFtZXhcIixcbiAgICBJTlRFUk5BVElPTkFMX01BRVNUUk86IFwibWFlc3Ryb1wiLFxuICAgIEVMTzogXCJlbG9cIixcbiAgfSxcbiAgdmlzYUNoZWNrb3V0OiB7XG4gICAgVklTQTogXCJWaXNhXCIsXG4gICAgTUFTVEVSQ0FSRDogXCJNYXN0ZXJDYXJkXCIsXG4gICAgRElTQ09WRVI6IFwiRGlzY292ZXJcIixcbiAgICBBTUVSSUNBTl9FWFBSRVNTOiBcIkFtZXJpY2FuIEV4cHJlc3NcIixcbiAgfSxcbiAgZ29vZ2xlUGF5OiB7XG4gICAgVklTQTogXCJ2aXNhXCIsXG4gICAgTUFTVEVSQ0FSRDogXCJtYXN0ZXJjYXJkXCIsXG4gICAgRElTQ09WRVI6IFwiZGlzY292ZXJcIixcbiAgICBBTUVSSUNBTl9FWFBSRVNTOiBcImFtZXhcIixcbiAgICBJTlRFUk5BVElPTkFMX01BRVNUUk86IFwibWFlc3Ryb1wiLFxuICAgIEVMTzogXCJlbG9cIixcbiAgfSxcbiAgbWFzdGVycGFzczoge1xuICAgIFZJU0E6IFwidmlzYVwiLFxuICAgIE1BU1RFUkNBUkQ6IFwibWFzdGVyXCIsXG4gICAgRElTQ09WRVI6IFwiZGlzY292ZXJcIixcbiAgICBBTUVSSUNBTl9FWFBSRVNTOiBcImFtZXhcIixcbiAgICBESU5FUlM6IFwiZGluZXJzXCIsXG4gICAgSU5URVJOQVRJT05BTF9NQUVTVFJPOiBcIm1hZXN0cm9cIixcbiAgICBKQ0I6IFwiamNiXCIsXG4gIH0sXG59O1xuLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cblxuZnVuY3Rpb24gY29uZmlndXJhdGlvblJlc3BvbnNlQWRhcHRlcihyZXNwb25zZUJvZHksIGN0eCkge1xuICB2YXIgYWRhcHRlZFJlc3BvbnNlO1xuXG4gIGlmIChyZXNwb25zZUJvZHkuZGF0YSAmJiAhcmVzcG9uc2VCb2R5LmVycm9ycykge1xuICAgIGFkYXB0ZWRSZXNwb25zZSA9IGFkYXB0Q29uZmlndXJhdGlvblJlc3BvbnNlQm9keShyZXNwb25zZUJvZHksIGN0eCk7XG4gIH0gZWxzZSB7XG4gICAgYWRhcHRlZFJlc3BvbnNlID0gZXJyb3JSZXNwb25zZUFkYXB0ZXIocmVzcG9uc2VCb2R5KTtcbiAgfVxuXG4gIHJldHVybiBhZGFwdGVkUmVzcG9uc2U7XG59XG5cbmZ1bmN0aW9uIGFkYXB0Q29uZmlndXJhdGlvblJlc3BvbnNlQm9keShib2R5LCBjdHgpIHtcbiAgdmFyIGNvbmZpZ3VyYXRpb24gPSBib2R5LmRhdGEuY2xpZW50Q29uZmlndXJhdGlvbjtcbiAgdmFyIHJlc3BvbnNlO1xuXG4gIHJlc3BvbnNlID0ge1xuICAgIGVudmlyb25tZW50OiBjb25maWd1cmF0aW9uLmVudmlyb25tZW50LnRvTG93ZXJDYXNlKCksXG4gICAgY2xpZW50QXBpVXJsOiBjb25maWd1cmF0aW9uLmNsaWVudEFwaVVybCxcbiAgICBhc3NldHNVcmw6IGNvbmZpZ3VyYXRpb24uYXNzZXRzVXJsLFxuICAgIGFuYWx5dGljczoge1xuICAgICAgdXJsOiBjb25maWd1cmF0aW9uLmFuYWx5dGljc1VybCxcbiAgICB9LFxuICAgIG1lcmNoYW50SWQ6IGNvbmZpZ3VyYXRpb24ubWVyY2hhbnRJZCxcbiAgICB2ZW5tbzogXCJvZmZcIixcbiAgfTtcblxuICBpZiAoY29uZmlndXJhdGlvbi5zdXBwb3J0ZWRGZWF0dXJlcykge1xuICAgIHJlc3BvbnNlLmdyYXBoUUwgPSB7XG4gICAgICB1cmw6IGN0eC5fZ3JhcGhRTC5fY29uZmlnLnVybCxcbiAgICAgIGZlYXR1cmVzOiBjb25maWd1cmF0aW9uLnN1cHBvcnRlZEZlYXR1cmVzLm1hcChmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICByZXR1cm4gZmVhdHVyZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSksXG4gICAgfTtcbiAgfVxuXG4gIGlmIChjb25maWd1cmF0aW9uLmJyYWludHJlZUFwaSkge1xuICAgIHJlc3BvbnNlLmJyYWludHJlZUFwaSA9IGNvbmZpZ3VyYXRpb24uYnJhaW50cmVlQXBpO1xuICB9XG5cbiAgaWYgKGNvbmZpZ3VyYXRpb24uYXBwbGVQYXlXZWIpIHtcbiAgICByZXNwb25zZS5hcHBsZVBheVdlYiA9IGNvbmZpZ3VyYXRpb24uYXBwbGVQYXlXZWI7XG4gICAgcmVzcG9uc2UuYXBwbGVQYXlXZWIuc3VwcG9ydGVkTmV0d29ya3MgPSBtYXBDYXJkVHlwZXMoXG4gICAgICBjb25maWd1cmF0aW9uLmFwcGxlUGF5V2ViLnN1cHBvcnRlZENhcmRCcmFuZHMsXG4gICAgICBjYXJkVHlwZVRyYW5zZm9ybXMuYXBwbGVQYXlXZWJcbiAgICApO1xuXG4gICAgZGVsZXRlIHJlc3BvbnNlLmFwcGxlUGF5V2ViLnN1cHBvcnRlZENhcmRCcmFuZHM7XG4gIH1cblxuICBpZiAoY29uZmlndXJhdGlvbi5pZGVhbCkge1xuICAgIHJlc3BvbnNlLmlkZWFsID0gY29uZmlndXJhdGlvbi5pZGVhbDtcbiAgfVxuXG4gIGlmIChjb25maWd1cmF0aW9uLmtvdW50KSB7XG4gICAgcmVzcG9uc2Uua291bnQgPSB7XG4gICAgICBrb3VudE1lcmNoYW50SWQ6IGNvbmZpZ3VyYXRpb24ua291bnQubWVyY2hhbnRJZCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGNvbmZpZ3VyYXRpb24uY3JlZGl0Q2FyZCkge1xuICAgIHJlc3BvbnNlLmNoYWxsZW5nZXMgPSBjb25maWd1cmF0aW9uLmNyZWRpdENhcmQuY2hhbGxlbmdlcy5tYXAoZnVuY3Rpb24gKFxuICAgICAgY2hhbGxlbmdlXG4gICAgKSB7XG4gICAgICByZXR1cm4gY2hhbGxlbmdlLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICByZXNwb25zZS5jcmVkaXRDYXJkcyA9IHtcbiAgICAgIHN1cHBvcnRlZENhcmRUeXBlczogbWFwQ2FyZFR5cGVzKFxuICAgICAgICBjb25maWd1cmF0aW9uLmNyZWRpdENhcmQuc3VwcG9ydGVkQ2FyZEJyYW5kcyxcbiAgICAgICAgY2FyZFR5cGVUcmFuc2Zvcm1zLmNyZWRpdENhcmRcbiAgICAgICksXG4gICAgfTtcbiAgICByZXNwb25zZS50aHJlZURTZWN1cmVFbmFibGVkID0gY29uZmlndXJhdGlvbi5jcmVkaXRDYXJkLnRocmVlRFNlY3VyZUVuYWJsZWQ7XG4gICAgcmVzcG9uc2UudGhyZWVEU2VjdXJlID0gY29uZmlndXJhdGlvbi5jcmVkaXRDYXJkLnRocmVlRFNlY3VyZTtcbiAgfSBlbHNlIHtcbiAgICByZXNwb25zZS5jaGFsbGVuZ2VzID0gW107XG4gICAgcmVzcG9uc2UuY3JlZGl0Q2FyZHMgPSB7XG4gICAgICBzdXBwb3J0ZWRDYXJkVHlwZXM6IFtdLFxuICAgIH07XG4gICAgcmVzcG9uc2UudGhyZWVEU2VjdXJlRW5hYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGNvbmZpZ3VyYXRpb24uZ29vZ2xlUGF5KSB7XG4gICAgcmVzcG9uc2UuYW5kcm9pZFBheSA9IHtcbiAgICAgIGRpc3BsYXlOYW1lOiBjb25maWd1cmF0aW9uLmdvb2dsZVBheS5kaXNwbGF5TmFtZSxcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBlbnZpcm9ubWVudDogY29uZmlndXJhdGlvbi5nb29nbGVQYXkuZW52aXJvbm1lbnQudG9Mb3dlckNhc2UoKSxcbiAgICAgIGdvb2dsZUF1dGhvcml6YXRpb25GaW5nZXJwcmludDpcbiAgICAgICAgY29uZmlndXJhdGlvbi5nb29nbGVQYXkuZ29vZ2xlQXV0aG9yaXphdGlvbixcbiAgICAgIHBheXBhbENsaWVudElkOiBjb25maWd1cmF0aW9uLmdvb2dsZVBheS5wYXlwYWxDbGllbnRJZCxcbiAgICAgIHN1cHBvcnRlZE5ldHdvcmtzOiBtYXBDYXJkVHlwZXMoXG4gICAgICAgIGNvbmZpZ3VyYXRpb24uZ29vZ2xlUGF5LnN1cHBvcnRlZENhcmRCcmFuZHMsXG4gICAgICAgIGNhcmRUeXBlVHJhbnNmb3Jtcy5nb29nbGVQYXlcbiAgICAgICksXG4gICAgfTtcbiAgfVxuXG4gIGlmIChjb25maWd1cmF0aW9uLnZlbm1vKSB7XG4gICAgcmVzcG9uc2UucGF5V2l0aFZlbm1vID0ge1xuICAgICAgbWVyY2hhbnRJZDogY29uZmlndXJhdGlvbi52ZW5tby5tZXJjaGFudElkLFxuICAgICAgYWNjZXNzVG9rZW46IGNvbmZpZ3VyYXRpb24udmVubW8uYWNjZXNzVG9rZW4sXG4gICAgICBlbnZpcm9ubWVudDogY29uZmlndXJhdGlvbi52ZW5tby5lbnZpcm9ubWVudC50b0xvd2VyQ2FzZSgpLFxuICAgICAgZW5yaWNoZWRDdXN0b21lckRhdGFFbmFibGVkOlxuICAgICAgICBjb25maWd1cmF0aW9uLnZlbm1vLmVucmljaGVkQ3VzdG9tZXJEYXRhRW5hYmxlZCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGNvbmZpZ3VyYXRpb24ucGF5cGFsKSB7XG4gICAgcmVzcG9uc2UucGF5cGFsRW5hYmxlZCA9IHRydWU7XG4gICAgcmVzcG9uc2UucGF5cGFsID0gYXNzaWduKHt9LCBjb25maWd1cmF0aW9uLnBheXBhbCk7XG4gICAgcmVzcG9uc2UucGF5cGFsLmN1cnJlbmN5SXNvQ29kZSA9IHJlc3BvbnNlLnBheXBhbC5jdXJyZW5jeUNvZGU7XG4gICAgcmVzcG9uc2UucGF5cGFsLmVudmlyb25tZW50ID0gcmVzcG9uc2UucGF5cGFsLmVudmlyb25tZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBkZWxldGUgcmVzcG9uc2UucGF5cGFsLmN1cnJlbmN5Q29kZTtcbiAgfSBlbHNlIHtcbiAgICByZXNwb25zZS5wYXlwYWxFbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAoY29uZmlndXJhdGlvbi51bmlvblBheSkge1xuICAgIHJlc3BvbnNlLnVuaW9uUGF5ID0ge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIG1lcmNoYW50QWNjb3VudElkOiBjb25maWd1cmF0aW9uLnVuaW9uUGF5Lm1lcmNoYW50QWNjb3VudElkLFxuICAgIH07XG4gIH1cblxuICBpZiAoY29uZmlndXJhdGlvbi52aXNhQ2hlY2tvdXQpIHtcbiAgICByZXNwb25zZS52aXNhQ2hlY2tvdXQgPSB7XG4gICAgICBhcGlrZXk6IGNvbmZpZ3VyYXRpb24udmlzYUNoZWNrb3V0LmFwaUtleSxcbiAgICAgIGVuY3J5cHRpb25LZXk6IGNvbmZpZ3VyYXRpb24udmlzYUNoZWNrb3V0LmVuY3J5cHRpb25LZXksXG4gICAgICBleHRlcm5hbENsaWVudElkOiBjb25maWd1cmF0aW9uLnZpc2FDaGVja291dC5leHRlcm5hbENsaWVudElkLFxuICAgICAgc3VwcG9ydGVkQ2FyZFR5cGVzOiBtYXBDYXJkVHlwZXMoXG4gICAgICAgIGNvbmZpZ3VyYXRpb24udmlzYUNoZWNrb3V0LnN1cHBvcnRlZENhcmRCcmFuZHMsXG4gICAgICAgIGNhcmRUeXBlVHJhbnNmb3Jtcy52aXNhQ2hlY2tvdXRcbiAgICAgICksXG4gICAgfTtcbiAgfVxuXG4gIGlmIChjb25maWd1cmF0aW9uLm1hc3RlcnBhc3MpIHtcbiAgICByZXNwb25zZS5tYXN0ZXJwYXNzID0ge1xuICAgICAgbWVyY2hhbnRDaGVja291dElkOiBjb25maWd1cmF0aW9uLm1hc3RlcnBhc3MubWVyY2hhbnRDaGVja291dElkLFxuICAgICAgc3VwcG9ydGVkTmV0d29ya3M6IG1hcENhcmRUeXBlcyhcbiAgICAgICAgY29uZmlndXJhdGlvbi5tYXN0ZXJwYXNzLnN1cHBvcnRlZENhcmRCcmFuZHMsXG4gICAgICAgIGNhcmRUeXBlVHJhbnNmb3Jtcy5tYXN0ZXJwYXNzXG4gICAgICApLFxuICAgIH07XG4gIH1cblxuICBpZiAoY29uZmlndXJhdGlvbi51c0JhbmtBY2NvdW50KSB7XG4gICAgcmVzcG9uc2UudXNCYW5rQWNjb3VudCA9IHtcbiAgICAgIHJvdXRlSWQ6IGNvbmZpZ3VyYXRpb24udXNCYW5rQWNjb3VudC5yb3V0ZUlkLFxuICAgICAgcGxhaWQ6IHtcbiAgICAgICAgcHVibGljS2V5OiBjb25maWd1cmF0aW9uLnVzQmFua0FjY291bnQucGxhaWRQdWJsaWNLZXksXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbmZ1bmN0aW9uIG1hcENhcmRUeXBlcyhjYXJkVHlwZXMsIGNhcmRUeXBlVHJhbnNmb3JtTWFwKSB7XG4gIHJldHVybiBjYXJkVHlwZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHR5cGUpIHtcbiAgICBpZiAoY2FyZFR5cGVUcmFuc2Zvcm1NYXAuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgIHJldHVybiBhY2MuY29uY2F0KGNhcmRUeXBlVHJhbnNmb3JtTWFwW3R5cGVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29uZmlndXJhdGlvblJlc3BvbnNlQWRhcHRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/configuration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/credit-card-tokenization.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/graphql/adapters/credit-card-tokenization.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar errorResponseAdapter = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/error.js\");\n\nvar CARD_BRAND_MAP = {\n  /* eslint-disable camelcase */\n  AMERICAN_EXPRESS: \"American Express\",\n  DINERS: \"Discover\",\n  DISCOVER: \"Discover\",\n  ELO: \"Elo\",\n  HIPER: \"Hiper\",\n  HIPERCARD: \"Hipercard\",\n  INTERNATIONAL_MAESTRO: \"Maestro\",\n  JCB: \"JCB\",\n  MASTERCARD: \"MasterCard\",\n  UK_MAESTRO: \"Maestro\",\n  UNION_PAY: \"UnionPay\",\n  VISA: \"Visa\",\n  /* eslint-enable camelcase */\n};\n\nvar BIN_DATA_MAP = {\n  YES: \"Yes\",\n  NO: \"No\",\n  UNKNOWN: \"Unknown\",\n};\n\nvar AUTHENTICATION_INSIGHT_MAP = {\n  PSDTWO: \"psd2\",\n};\n\nfunction creditCardTokenizationResponseAdapter(responseBody) {\n  var adaptedResponse;\n\n  if (responseBody.data && !responseBody.errors) {\n    adaptedResponse = adaptTokenizeCreditCardResponseBody(responseBody);\n  } else {\n    adaptedResponse = errorResponseAdapter(responseBody);\n  }\n\n  return adaptedResponse;\n}\n\nfunction adaptTokenizeCreditCardResponseBody(body) {\n  var data = body.data.tokenizeCreditCard;\n  var creditCard = data.creditCard;\n  var lastTwo = creditCard.last4 ? creditCard.last4.substr(2, 4) : \"\";\n  var binData = creditCard.binData;\n  var response, regulationEnvironment;\n\n  if (binData) {\n    [\n      \"commercial\",\n      \"debit\",\n      \"durbinRegulated\",\n      \"healthcare\",\n      \"payroll\",\n      \"prepaid\",\n    ].forEach(function (key) {\n      if (binData[key]) {\n        binData[key] = BIN_DATA_MAP[binData[key]];\n      } else {\n        binData[key] = \"Unknown\";\n      }\n    });\n\n    [\"issuingBank\", \"countryOfIssuance\", \"productId\"].forEach(function (key) {\n      if (!binData[key]) {\n        binData[key] = \"Unknown\";\n      }\n    });\n  }\n\n  response = {\n    creditCards: [\n      {\n        binData: binData,\n        consumed: false,\n        description: lastTwo ? \"ending in \" + lastTwo : \"\",\n        nonce: data.token,\n        details: {\n          cardholderName: creditCard.cardholderName,\n          expirationMonth: creditCard.expirationMonth,\n          expirationYear: creditCard.expirationYear,\n          bin: creditCard.bin || \"\",\n          cardType: CARD_BRAND_MAP[creditCard.brandCode] || \"Unknown\",\n          lastFour: creditCard.last4 || \"\",\n          lastTwo: lastTwo,\n        },\n        type: \"CreditCard\",\n        threeDSecureInfo: null,\n      },\n    ],\n  };\n\n  if (data.authenticationInsight) {\n    regulationEnvironment =\n      data.authenticationInsight.customerAuthenticationRegulationEnvironment;\n    response.creditCards[0].authenticationInsight = {\n      regulationEnvironment:\n        AUTHENTICATION_INSIGHT_MAP[regulationEnvironment] ||\n        regulationEnvironment.toLowerCase(),\n    };\n  }\n\n  return response;\n}\n\nmodule.exports = creditCardTokenizationResponseAdapter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL2FkYXB0ZXJzL2NyZWRpdC1jYXJkLXRva2VuaXphdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiwyQkFBMkIsbUJBQU8sQ0FBQyw0RkFBUzs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2NsaWVudC9yZXF1ZXN0L2dyYXBocWwvYWRhcHRlcnMvY3JlZGl0LWNhcmQtdG9rZW5pemF0aW9uLmpzPzliZjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBlcnJvclJlc3BvbnNlQWRhcHRlciA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuXG52YXIgQ0FSRF9CUkFORF9NQVAgPSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuICBBTUVSSUNBTl9FWFBSRVNTOiBcIkFtZXJpY2FuIEV4cHJlc3NcIixcbiAgRElORVJTOiBcIkRpc2NvdmVyXCIsXG4gIERJU0NPVkVSOiBcIkRpc2NvdmVyXCIsXG4gIEVMTzogXCJFbG9cIixcbiAgSElQRVI6IFwiSGlwZXJcIixcbiAgSElQRVJDQVJEOiBcIkhpcGVyY2FyZFwiLFxuICBJTlRFUk5BVElPTkFMX01BRVNUUk86IFwiTWFlc3Ryb1wiLFxuICBKQ0I6IFwiSkNCXCIsXG4gIE1BU1RFUkNBUkQ6IFwiTWFzdGVyQ2FyZFwiLFxuICBVS19NQUVTVFJPOiBcIk1hZXN0cm9cIixcbiAgVU5JT05fUEFZOiBcIlVuaW9uUGF5XCIsXG4gIFZJU0E6IFwiVmlzYVwiLFxuICAvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xufTtcblxudmFyIEJJTl9EQVRBX01BUCA9IHtcbiAgWUVTOiBcIlllc1wiLFxuICBOTzogXCJOb1wiLFxuICBVTktOT1dOOiBcIlVua25vd25cIixcbn07XG5cbnZhciBBVVRIRU5USUNBVElPTl9JTlNJR0hUX01BUCA9IHtcbiAgUFNEVFdPOiBcInBzZDJcIixcbn07XG5cbmZ1bmN0aW9uIGNyZWRpdENhcmRUb2tlbml6YXRpb25SZXNwb25zZUFkYXB0ZXIocmVzcG9uc2VCb2R5KSB7XG4gIHZhciBhZGFwdGVkUmVzcG9uc2U7XG5cbiAgaWYgKHJlc3BvbnNlQm9keS5kYXRhICYmICFyZXNwb25zZUJvZHkuZXJyb3JzKSB7XG4gICAgYWRhcHRlZFJlc3BvbnNlID0gYWRhcHRUb2tlbml6ZUNyZWRpdENhcmRSZXNwb25zZUJvZHkocmVzcG9uc2VCb2R5KTtcbiAgfSBlbHNlIHtcbiAgICBhZGFwdGVkUmVzcG9uc2UgPSBlcnJvclJlc3BvbnNlQWRhcHRlcihyZXNwb25zZUJvZHkpO1xuICB9XG5cbiAgcmV0dXJuIGFkYXB0ZWRSZXNwb25zZTtcbn1cblxuZnVuY3Rpb24gYWRhcHRUb2tlbml6ZUNyZWRpdENhcmRSZXNwb25zZUJvZHkoYm9keSkge1xuICB2YXIgZGF0YSA9IGJvZHkuZGF0YS50b2tlbml6ZUNyZWRpdENhcmQ7XG4gIHZhciBjcmVkaXRDYXJkID0gZGF0YS5jcmVkaXRDYXJkO1xuICB2YXIgbGFzdFR3byA9IGNyZWRpdENhcmQubGFzdDQgPyBjcmVkaXRDYXJkLmxhc3Q0LnN1YnN0cigyLCA0KSA6IFwiXCI7XG4gIHZhciBiaW5EYXRhID0gY3JlZGl0Q2FyZC5iaW5EYXRhO1xuICB2YXIgcmVzcG9uc2UsIHJlZ3VsYXRpb25FbnZpcm9ubWVudDtcblxuICBpZiAoYmluRGF0YSkge1xuICAgIFtcbiAgICAgIFwiY29tbWVyY2lhbFwiLFxuICAgICAgXCJkZWJpdFwiLFxuICAgICAgXCJkdXJiaW5SZWd1bGF0ZWRcIixcbiAgICAgIFwiaGVhbHRoY2FyZVwiLFxuICAgICAgXCJwYXlyb2xsXCIsXG4gICAgICBcInByZXBhaWRcIixcbiAgICBdLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGJpbkRhdGFba2V5XSkge1xuICAgICAgICBiaW5EYXRhW2tleV0gPSBCSU5fREFUQV9NQVBbYmluRGF0YVtrZXldXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbkRhdGFba2V5XSA9IFwiVW5rbm93blwiO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgW1wiaXNzdWluZ0JhbmtcIiwgXCJjb3VudHJ5T2ZJc3N1YW5jZVwiLCBcInByb2R1Y3RJZFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghYmluRGF0YVtrZXldKSB7XG4gICAgICAgIGJpbkRhdGFba2V5XSA9IFwiVW5rbm93blwiO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVzcG9uc2UgPSB7XG4gICAgY3JlZGl0Q2FyZHM6IFtcbiAgICAgIHtcbiAgICAgICAgYmluRGF0YTogYmluRGF0YSxcbiAgICAgICAgY29uc3VtZWQ6IGZhbHNlLFxuICAgICAgICBkZXNjcmlwdGlvbjogbGFzdFR3byA/IFwiZW5kaW5nIGluIFwiICsgbGFzdFR3byA6IFwiXCIsXG4gICAgICAgIG5vbmNlOiBkYXRhLnRva2VuLFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgY2FyZGhvbGRlck5hbWU6IGNyZWRpdENhcmQuY2FyZGhvbGRlck5hbWUsXG4gICAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiBjcmVkaXRDYXJkLmV4cGlyYXRpb25Nb250aCxcbiAgICAgICAgICBleHBpcmF0aW9uWWVhcjogY3JlZGl0Q2FyZC5leHBpcmF0aW9uWWVhcixcbiAgICAgICAgICBiaW46IGNyZWRpdENhcmQuYmluIHx8IFwiXCIsXG4gICAgICAgICAgY2FyZFR5cGU6IENBUkRfQlJBTkRfTUFQW2NyZWRpdENhcmQuYnJhbmRDb2RlXSB8fCBcIlVua25vd25cIixcbiAgICAgICAgICBsYXN0Rm91cjogY3JlZGl0Q2FyZC5sYXN0NCB8fCBcIlwiLFxuICAgICAgICAgIGxhc3RUd286IGxhc3RUd28sXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFwiQ3JlZGl0Q2FyZFwiLFxuICAgICAgICB0aHJlZURTZWN1cmVJbmZvOiBudWxsLFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuXG4gIGlmIChkYXRhLmF1dGhlbnRpY2F0aW9uSW5zaWdodCkge1xuICAgIHJlZ3VsYXRpb25FbnZpcm9ubWVudCA9XG4gICAgICBkYXRhLmF1dGhlbnRpY2F0aW9uSW5zaWdodC5jdXN0b21lckF1dGhlbnRpY2F0aW9uUmVndWxhdGlvbkVudmlyb25tZW50O1xuICAgIHJlc3BvbnNlLmNyZWRpdENhcmRzWzBdLmF1dGhlbnRpY2F0aW9uSW5zaWdodCA9IHtcbiAgICAgIHJlZ3VsYXRpb25FbnZpcm9ubWVudDpcbiAgICAgICAgQVVUSEVOVElDQVRJT05fSU5TSUdIVF9NQVBbcmVndWxhdGlvbkVudmlyb25tZW50XSB8fFxuICAgICAgICByZWd1bGF0aW9uRW52aXJvbm1lbnQudG9Mb3dlckNhc2UoKSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWRpdENhcmRUb2tlbml6YXRpb25SZXNwb25zZUFkYXB0ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/credit-card-tokenization.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/error.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/graphql/adapters/error.js ***!
  \*****************************************************************************/
/***/ ((module) => {

eval("\n\nfunction errorResponseAdapter(responseBody) {\n  var response;\n  var errorClass =\n    responseBody.errors &&\n    responseBody.errors[0] &&\n    responseBody.errors[0].extensions &&\n    responseBody.errors[0].extensions.errorClass;\n\n  if (errorClass === \"VALIDATION\") {\n    response = userErrorResponseAdapter(responseBody);\n  } else if (errorClass) {\n    response = errorWithClassResponseAdapter(responseBody);\n  } else {\n    response = {\n      error: { message: \"There was a problem serving your request\" },\n      fieldErrors: [],\n    };\n  }\n\n  return response;\n}\n\nfunction errorWithClassResponseAdapter(responseBody) {\n  return {\n    error: { message: responseBody.errors[0].message },\n    fieldErrors: [],\n  };\n}\n\nfunction userErrorResponseAdapter(responseBody) {\n  var fieldErrors = buildFieldErrors(responseBody.errors);\n\n  if (fieldErrors.length === 0) {\n    return { error: { message: responseBody.errors[0].message } };\n  }\n\n  return {\n    error: { message: getLegacyMessage(fieldErrors) },\n    fieldErrors: fieldErrors,\n  };\n}\n\nfunction buildFieldErrors(errors) {\n  var fieldErrors = [];\n\n  errors.forEach(function (error) {\n    if (!(error.extensions && error.extensions.inputPath)) {\n      return;\n    }\n    addFieldError(error.extensions.inputPath.slice(1), error, fieldErrors);\n  });\n\n  return fieldErrors;\n}\n\nfunction addFieldError(inputPath, errorDetail, fieldErrors) {\n  var fieldError;\n  var legacyCode = errorDetail.extensions.legacyCode;\n  var inputField = inputPath[0];\n\n  if (inputPath.length === 1) {\n    fieldErrors.push({\n      code: legacyCode,\n      field: inputField,\n      message: errorDetail.message,\n    });\n\n    return;\n  }\n\n  fieldErrors.forEach(function (candidate) {\n    if (candidate.field === inputField) {\n      fieldError = candidate;\n    }\n  });\n\n  if (!fieldError) {\n    fieldError = { field: inputField, fieldErrors: [] };\n    fieldErrors.push(fieldError);\n  }\n\n  addFieldError(inputPath.slice(1), errorDetail, fieldError.fieldErrors);\n}\n\nfunction getLegacyMessage(errors) {\n  var legacyMessages = {\n    creditCard: \"Credit card is invalid\",\n  };\n\n  var field = errors[0].field;\n\n  return legacyMessages[field];\n}\n\nmodule.exports = errorResponseAdapter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL2FkYXB0ZXJzL2Vycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxlQUFlLHFEQUFxRDtBQUNwRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSx5Q0FBeUM7QUFDdEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFNBQVM7QUFDdEI7O0FBRUE7QUFDQSxhQUFhLHdDQUF3QztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2NsaWVudC9yZXF1ZXN0L2dyYXBocWwvYWRhcHRlcnMvZXJyb3IuanM/NjJiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gZXJyb3JSZXNwb25zZUFkYXB0ZXIocmVzcG9uc2VCb2R5KSB7XG4gIHZhciByZXNwb25zZTtcbiAgdmFyIGVycm9yQ2xhc3MgPVxuICAgIHJlc3BvbnNlQm9keS5lcnJvcnMgJiZcbiAgICByZXNwb25zZUJvZHkuZXJyb3JzWzBdICYmXG4gICAgcmVzcG9uc2VCb2R5LmVycm9yc1swXS5leHRlbnNpb25zICYmXG4gICAgcmVzcG9uc2VCb2R5LmVycm9yc1swXS5leHRlbnNpb25zLmVycm9yQ2xhc3M7XG5cbiAgaWYgKGVycm9yQ2xhc3MgPT09IFwiVkFMSURBVElPTlwiKSB7XG4gICAgcmVzcG9uc2UgPSB1c2VyRXJyb3JSZXNwb25zZUFkYXB0ZXIocmVzcG9uc2VCb2R5KTtcbiAgfSBlbHNlIGlmIChlcnJvckNsYXNzKSB7XG4gICAgcmVzcG9uc2UgPSBlcnJvcldpdGhDbGFzc1Jlc3BvbnNlQWRhcHRlcihyZXNwb25zZUJvZHkpO1xuICB9IGVsc2Uge1xuICAgIHJlc3BvbnNlID0ge1xuICAgICAgZXJyb3I6IHsgbWVzc2FnZTogXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHNlcnZpbmcgeW91ciByZXF1ZXN0XCIgfSxcbiAgICAgIGZpZWxkRXJyb3JzOiBbXSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5mdW5jdGlvbiBlcnJvcldpdGhDbGFzc1Jlc3BvbnNlQWRhcHRlcihyZXNwb25zZUJvZHkpIHtcbiAgcmV0dXJuIHtcbiAgICBlcnJvcjogeyBtZXNzYWdlOiByZXNwb25zZUJvZHkuZXJyb3JzWzBdLm1lc3NhZ2UgfSxcbiAgICBmaWVsZEVycm9yczogW10sXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZXJFcnJvclJlc3BvbnNlQWRhcHRlcihyZXNwb25zZUJvZHkpIHtcbiAgdmFyIGZpZWxkRXJyb3JzID0gYnVpbGRGaWVsZEVycm9ycyhyZXNwb25zZUJvZHkuZXJyb3JzKTtcblxuICBpZiAoZmllbGRFcnJvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IHsgbWVzc2FnZTogcmVzcG9uc2VCb2R5LmVycm9yc1swXS5tZXNzYWdlIH0gfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZXJyb3I6IHsgbWVzc2FnZTogZ2V0TGVnYWN5TWVzc2FnZShmaWVsZEVycm9ycykgfSxcbiAgICBmaWVsZEVycm9yczogZmllbGRFcnJvcnMsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRmllbGRFcnJvcnMoZXJyb3JzKSB7XG4gIHZhciBmaWVsZEVycm9ycyA9IFtdO1xuXG4gIGVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGlmICghKGVycm9yLmV4dGVuc2lvbnMgJiYgZXJyb3IuZXh0ZW5zaW9ucy5pbnB1dFBhdGgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkZEZpZWxkRXJyb3IoZXJyb3IuZXh0ZW5zaW9ucy5pbnB1dFBhdGguc2xpY2UoMSksIGVycm9yLCBmaWVsZEVycm9ycyk7XG4gIH0pO1xuXG4gIHJldHVybiBmaWVsZEVycm9ycztcbn1cblxuZnVuY3Rpb24gYWRkRmllbGRFcnJvcihpbnB1dFBhdGgsIGVycm9yRGV0YWlsLCBmaWVsZEVycm9ycykge1xuICB2YXIgZmllbGRFcnJvcjtcbiAgdmFyIGxlZ2FjeUNvZGUgPSBlcnJvckRldGFpbC5leHRlbnNpb25zLmxlZ2FjeUNvZGU7XG4gIHZhciBpbnB1dEZpZWxkID0gaW5wdXRQYXRoWzBdO1xuXG4gIGlmIChpbnB1dFBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgZmllbGRFcnJvcnMucHVzaCh7XG4gICAgICBjb2RlOiBsZWdhY3lDb2RlLFxuICAgICAgZmllbGQ6IGlucHV0RmllbGQsXG4gICAgICBtZXNzYWdlOiBlcnJvckRldGFpbC5tZXNzYWdlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZmllbGRFcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgaWYgKGNhbmRpZGF0ZS5maWVsZCA9PT0gaW5wdXRGaWVsZCkge1xuICAgICAgZmllbGRFcnJvciA9IGNhbmRpZGF0ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICghZmllbGRFcnJvcikge1xuICAgIGZpZWxkRXJyb3IgPSB7IGZpZWxkOiBpbnB1dEZpZWxkLCBmaWVsZEVycm9yczogW10gfTtcbiAgICBmaWVsZEVycm9ycy5wdXNoKGZpZWxkRXJyb3IpO1xuICB9XG5cbiAgYWRkRmllbGRFcnJvcihpbnB1dFBhdGguc2xpY2UoMSksIGVycm9yRGV0YWlsLCBmaWVsZEVycm9yLmZpZWxkRXJyb3JzKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGVnYWN5TWVzc2FnZShlcnJvcnMpIHtcbiAgdmFyIGxlZ2FjeU1lc3NhZ2VzID0ge1xuICAgIGNyZWRpdENhcmQ6IFwiQ3JlZGl0IGNhcmQgaXMgaW52YWxpZFwiLFxuICB9O1xuXG4gIHZhciBmaWVsZCA9IGVycm9yc1swXS5maWVsZDtcblxuICByZXR1cm4gbGVnYWN5TWVzc2FnZXNbZmllbGRdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVycm9yUmVzcG9uc2VBZGFwdGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/graphql/generators/configuration.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/graphql/generators/configuration.js ***!
  \***************************************************************************************/
/***/ ((module) => {

eval("\n\nvar CONFIGURATION_QUERY =\n  \"query ClientConfiguration { \" +\n  \"  clientConfiguration { \" +\n  \"    analyticsUrl \" +\n  \"    environment \" +\n  \"    merchantId \" +\n  \"    assetsUrl \" +\n  \"    clientApiUrl \" +\n  \"    creditCard { \" +\n  \"      supportedCardBrands \" +\n  \"      challenges \" +\n  \"      threeDSecureEnabled \" +\n  \"      threeDSecure { \" +\n  \"        cardinalAuthenticationJWT \" +\n  \"      } \" +\n  \"    } \" +\n  \"    applePayWeb { \" +\n  \"      countryCode \" +\n  \"      currencyCode \" +\n  \"      merchantIdentifier \" +\n  \"      supportedCardBrands \" +\n  \"    } \" +\n  \"    googlePay { \" +\n  \"      displayName \" +\n  \"      supportedCardBrands \" +\n  \"      environment \" +\n  \"      googleAuthorization \" +\n  \"      paypalClientId \" +\n  \"    } \" +\n  \"    ideal { \" +\n  \"      routeId \" +\n  \"      assetsUrl \" +\n  \"    } \" +\n  \"    kount { \" +\n  \"      merchantId \" +\n  \"    } \" +\n  \"    masterpass { \" +\n  \"      merchantCheckoutId \" +\n  \"      supportedCardBrands \" +\n  \"    } \" +\n  \"    paypal { \" +\n  \"      displayName \" +\n  \"      clientId \" +\n  \"      assetsUrl \" +\n  \"      environment \" +\n  \"      environmentNoNetwork \" +\n  \"      unvettedMerchant \" +\n  \"      braintreeClientId \" +\n  \"      billingAgreementsEnabled \" +\n  \"      merchantAccountId \" +\n  \"      currencyCode \" +\n  \"      payeeEmail \" +\n  \"    } \" +\n  \"    unionPay { \" +\n  \"      merchantAccountId \" +\n  \"    } \" +\n  \"    usBankAccount { \" +\n  \"      routeId \" +\n  \"      plaidPublicKey \" +\n  \"    } \" +\n  \"    venmo { \" +\n  \"      merchantId \" +\n  \"      accessToken \" +\n  \"      environment \" +\n  \"      enrichedCustomerDataEnabled\" +\n  \"    } \" +\n  \"    visaCheckout { \" +\n  \"      apiKey \" +\n  \"      externalClientId \" +\n  \"      supportedCardBrands \" +\n  \"    } \" +\n  \"    braintreeApi { \" +\n  \"      accessToken \" +\n  \"      url \" +\n  \"    } \" +\n  \"    supportedFeatures \" +\n  \"  } \" +\n  \"}\";\n\nfunction configuration() {\n  return {\n    query: CONFIGURATION_QUERY,\n    operationName: \"ClientConfiguration\",\n  };\n}\n\nmodule.exports = configuration;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL2dlbmVyYXRvcnMvY29uZmlndXJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBLCtCQUErQjtBQUMvQiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxlQUFlO0FBQ2Y7QUFDQTtBQUNBLFNBQVM7QUFDVCxlQUFlO0FBQ2Y7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCO0FBQ2xCO0FBQ0EsU0FBUztBQUNULHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2NsaWVudC9yZXF1ZXN0L2dyYXBocWwvZ2VuZXJhdG9ycy9jb25maWd1cmF0aW9uLmpzP2FjNWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBDT05GSUdVUkFUSU9OX1FVRVJZID1cbiAgXCJxdWVyeSBDbGllbnRDb25maWd1cmF0aW9uIHsgXCIgK1xuICBcIiAgY2xpZW50Q29uZmlndXJhdGlvbiB7IFwiICtcbiAgXCIgICAgYW5hbHl0aWNzVXJsIFwiICtcbiAgXCIgICAgZW52aXJvbm1lbnQgXCIgK1xuICBcIiAgICBtZXJjaGFudElkIFwiICtcbiAgXCIgICAgYXNzZXRzVXJsIFwiICtcbiAgXCIgICAgY2xpZW50QXBpVXJsIFwiICtcbiAgXCIgICAgY3JlZGl0Q2FyZCB7IFwiICtcbiAgXCIgICAgICBzdXBwb3J0ZWRDYXJkQnJhbmRzIFwiICtcbiAgXCIgICAgICBjaGFsbGVuZ2VzIFwiICtcbiAgXCIgICAgICB0aHJlZURTZWN1cmVFbmFibGVkIFwiICtcbiAgXCIgICAgICB0aHJlZURTZWN1cmUgeyBcIiArXG4gIFwiICAgICAgICBjYXJkaW5hbEF1dGhlbnRpY2F0aW9uSldUIFwiICtcbiAgXCIgICAgICB9IFwiICtcbiAgXCIgICAgfSBcIiArXG4gIFwiICAgIGFwcGxlUGF5V2ViIHsgXCIgK1xuICBcIiAgICAgIGNvdW50cnlDb2RlIFwiICtcbiAgXCIgICAgICBjdXJyZW5jeUNvZGUgXCIgK1xuICBcIiAgICAgIG1lcmNoYW50SWRlbnRpZmllciBcIiArXG4gIFwiICAgICAgc3VwcG9ydGVkQ2FyZEJyYW5kcyBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICBnb29nbGVQYXkgeyBcIiArXG4gIFwiICAgICAgZGlzcGxheU5hbWUgXCIgK1xuICBcIiAgICAgIHN1cHBvcnRlZENhcmRCcmFuZHMgXCIgK1xuICBcIiAgICAgIGVudmlyb25tZW50IFwiICtcbiAgXCIgICAgICBnb29nbGVBdXRob3JpemF0aW9uIFwiICtcbiAgXCIgICAgICBwYXlwYWxDbGllbnRJZCBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICBpZGVhbCB7IFwiICtcbiAgXCIgICAgICByb3V0ZUlkIFwiICtcbiAgXCIgICAgICBhc3NldHNVcmwgXCIgK1xuICBcIiAgICB9IFwiICtcbiAgXCIgICAga291bnQgeyBcIiArXG4gIFwiICAgICAgbWVyY2hhbnRJZCBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICBtYXN0ZXJwYXNzIHsgXCIgK1xuICBcIiAgICAgIG1lcmNoYW50Q2hlY2tvdXRJZCBcIiArXG4gIFwiICAgICAgc3VwcG9ydGVkQ2FyZEJyYW5kcyBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICBwYXlwYWwgeyBcIiArXG4gIFwiICAgICAgZGlzcGxheU5hbWUgXCIgK1xuICBcIiAgICAgIGNsaWVudElkIFwiICtcbiAgXCIgICAgICBhc3NldHNVcmwgXCIgK1xuICBcIiAgICAgIGVudmlyb25tZW50IFwiICtcbiAgXCIgICAgICBlbnZpcm9ubWVudE5vTmV0d29yayBcIiArXG4gIFwiICAgICAgdW52ZXR0ZWRNZXJjaGFudCBcIiArXG4gIFwiICAgICAgYnJhaW50cmVlQ2xpZW50SWQgXCIgK1xuICBcIiAgICAgIGJpbGxpbmdBZ3JlZW1lbnRzRW5hYmxlZCBcIiArXG4gIFwiICAgICAgbWVyY2hhbnRBY2NvdW50SWQgXCIgK1xuICBcIiAgICAgIGN1cnJlbmN5Q29kZSBcIiArXG4gIFwiICAgICAgcGF5ZWVFbWFpbCBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICB1bmlvblBheSB7IFwiICtcbiAgXCIgICAgICBtZXJjaGFudEFjY291bnRJZCBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICB1c0JhbmtBY2NvdW50IHsgXCIgK1xuICBcIiAgICAgIHJvdXRlSWQgXCIgK1xuICBcIiAgICAgIHBsYWlkUHVibGljS2V5IFwiICtcbiAgXCIgICAgfSBcIiArXG4gIFwiICAgIHZlbm1vIHsgXCIgK1xuICBcIiAgICAgIG1lcmNoYW50SWQgXCIgK1xuICBcIiAgICAgIGFjY2Vzc1Rva2VuIFwiICtcbiAgXCIgICAgICBlbnZpcm9ubWVudCBcIiArXG4gIFwiICAgICAgZW5yaWNoZWRDdXN0b21lckRhdGFFbmFibGVkXCIgK1xuICBcIiAgICB9IFwiICtcbiAgXCIgICAgdmlzYUNoZWNrb3V0IHsgXCIgK1xuICBcIiAgICAgIGFwaUtleSBcIiArXG4gIFwiICAgICAgZXh0ZXJuYWxDbGllbnRJZCBcIiArXG4gIFwiICAgICAgc3VwcG9ydGVkQ2FyZEJyYW5kcyBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICBicmFpbnRyZWVBcGkgeyBcIiArXG4gIFwiICAgICAgYWNjZXNzVG9rZW4gXCIgK1xuICBcIiAgICAgIHVybCBcIiArXG4gIFwiICAgIH0gXCIgK1xuICBcIiAgICBzdXBwb3J0ZWRGZWF0dXJlcyBcIiArXG4gIFwiICB9IFwiICtcbiAgXCJ9XCI7XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyYXRpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcXVlcnk6IENPTkZJR1VSQVRJT05fUVVFUlksXG4gICAgb3BlcmF0aW9uTmFtZTogXCJDbGllbnRDb25maWd1cmF0aW9uXCIsXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29uZmlndXJhdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/graphql/generators/configuration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/graphql/generators/credit-card-tokenization.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/graphql/generators/credit-card-tokenization.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar assign = (__webpack_require__(/*! ../../../../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\n\nfunction createMutation(config) {\n  var hasAuthenticationInsight = config.hasAuthenticationInsight;\n  var mutation = \"mutation TokenizeCreditCard($input: TokenizeCreditCardInput!\";\n\n  if (hasAuthenticationInsight) {\n    mutation += \", $authenticationInsightInput: AuthenticationInsightInput!\";\n  }\n\n  mutation +=\n    \") { \" +\n    \"  tokenizeCreditCard(input: $input) { \" +\n    \"    token \" +\n    \"    creditCard { \" +\n    \"      bin \" +\n    \"      brandCode \" +\n    \"      last4 \" +\n    \"      cardholderName \" +\n    \"      expirationMonth\" +\n    \"      expirationYear\" +\n    \"      binData { \" +\n    \"        prepaid \" +\n    \"        healthcare \" +\n    \"        debit \" +\n    \"        durbinRegulated \" +\n    \"        commercial \" +\n    \"        payroll \" +\n    \"        issuingBank \" +\n    \"        countryOfIssuance \" +\n    \"        productId \" +\n    \"      } \" +\n    \"    } \";\n\n  if (hasAuthenticationInsight) {\n    mutation +=\n      \"    authenticationInsight(input: $authenticationInsightInput) {\" +\n      \"      customerAuthenticationRegulationEnvironment\" +\n      \"    }\";\n  }\n\n  mutation += \"  } }\";\n\n  return mutation;\n}\n\nfunction createCreditCardTokenizationBody(body, options) {\n  var cc = body.creditCard;\n  var billingAddress = cc && cc.billingAddress;\n  var expDate = cc && cc.expirationDate;\n  var expirationMonth =\n    cc && (cc.expirationMonth || (expDate && expDate.split(\"/\")[0].trim()));\n  var expirationYear =\n    cc && (cc.expirationYear || (expDate && expDate.split(\"/\")[1].trim()));\n  var variables = {\n    input: {\n      creditCard: {\n        number: cc && cc.number,\n        expirationMonth: expirationMonth,\n        expirationYear: expirationYear,\n        cvv: cc && cc.cvv,\n        cardholderName: cc && cc.cardholderName,\n      },\n      options: {},\n    },\n  };\n\n  if (options.hasAuthenticationInsight) {\n    variables.authenticationInsightInput = {\n      merchantAccountId: body.merchantAccountId,\n    };\n  }\n\n  if (billingAddress) {\n    variables.input.creditCard.billingAddress = billingAddress;\n  }\n\n  variables.input = addValidationRule(body, variables.input);\n\n  return variables;\n}\n\nfunction addValidationRule(body, input) {\n  var validate;\n\n  if (\n    body.creditCard &&\n    body.creditCard.options &&\n    typeof body.creditCard.options.validate === \"boolean\"\n  ) {\n    validate = body.creditCard.options.validate;\n  } else if (\n    (body.authorizationFingerprint && body.tokenizationKey) ||\n    body.authorizationFingerprint\n  ) {\n    validate = true;\n  } else if (body.tokenizationKey) {\n    validate = false;\n  }\n\n  if (typeof validate === \"boolean\") {\n    input.options = assign(\n      {\n        validate: validate,\n      },\n      input.options\n    );\n  }\n\n  return input;\n}\n\nfunction creditCardTokenization(body) {\n  var options = {\n    hasAuthenticationInsight: Boolean(\n      body.authenticationInsight && body.merchantAccountId\n    ),\n  };\n\n  return {\n    query: createMutation(options),\n    variables: createCreditCardTokenizationBody(body, options),\n    operationName: \"TokenizeCreditCard\",\n  };\n}\n\nmodule.exports = creditCardTokenization;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL2dlbmVyYXRvcnMvY3JlZGl0LWNhcmQtdG9rZW5pemF0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGFBQWEsOEdBQXdDOztBQUVyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNULDJDQUEyQztBQUMzQztBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7O0FBRVg7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBLFlBQVk7QUFDWjs7QUFFQSxvQkFBb0I7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsaUJBQWlCO0FBQ2pCLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL2dlbmVyYXRvcnMvY3JlZGl0LWNhcmQtdG9rZW5pemF0aW9uLmpzPzdjMjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbGliL2Fzc2lnblwiKS5hc3NpZ247XG5cbmZ1bmN0aW9uIGNyZWF0ZU11dGF0aW9uKGNvbmZpZykge1xuICB2YXIgaGFzQXV0aGVudGljYXRpb25JbnNpZ2h0ID0gY29uZmlnLmhhc0F1dGhlbnRpY2F0aW9uSW5zaWdodDtcbiAgdmFyIG11dGF0aW9uID0gXCJtdXRhdGlvbiBUb2tlbml6ZUNyZWRpdENhcmQoJGlucHV0OiBUb2tlbml6ZUNyZWRpdENhcmRJbnB1dCFcIjtcblxuICBpZiAoaGFzQXV0aGVudGljYXRpb25JbnNpZ2h0KSB7XG4gICAgbXV0YXRpb24gKz0gXCIsICRhdXRoZW50aWNhdGlvbkluc2lnaHRJbnB1dDogQXV0aGVudGljYXRpb25JbnNpZ2h0SW5wdXQhXCI7XG4gIH1cblxuICBtdXRhdGlvbiArPVxuICAgIFwiKSB7IFwiICtcbiAgICBcIiAgdG9rZW5pemVDcmVkaXRDYXJkKGlucHV0OiAkaW5wdXQpIHsgXCIgK1xuICAgIFwiICAgIHRva2VuIFwiICtcbiAgICBcIiAgICBjcmVkaXRDYXJkIHsgXCIgK1xuICAgIFwiICAgICAgYmluIFwiICtcbiAgICBcIiAgICAgIGJyYW5kQ29kZSBcIiArXG4gICAgXCIgICAgICBsYXN0NCBcIiArXG4gICAgXCIgICAgICBjYXJkaG9sZGVyTmFtZSBcIiArXG4gICAgXCIgICAgICBleHBpcmF0aW9uTW9udGhcIiArXG4gICAgXCIgICAgICBleHBpcmF0aW9uWWVhclwiICtcbiAgICBcIiAgICAgIGJpbkRhdGEgeyBcIiArXG4gICAgXCIgICAgICAgIHByZXBhaWQgXCIgK1xuICAgIFwiICAgICAgICBoZWFsdGhjYXJlIFwiICtcbiAgICBcIiAgICAgICAgZGViaXQgXCIgK1xuICAgIFwiICAgICAgICBkdXJiaW5SZWd1bGF0ZWQgXCIgK1xuICAgIFwiICAgICAgICBjb21tZXJjaWFsIFwiICtcbiAgICBcIiAgICAgICAgcGF5cm9sbCBcIiArXG4gICAgXCIgICAgICAgIGlzc3VpbmdCYW5rIFwiICtcbiAgICBcIiAgICAgICAgY291bnRyeU9mSXNzdWFuY2UgXCIgK1xuICAgIFwiICAgICAgICBwcm9kdWN0SWQgXCIgK1xuICAgIFwiICAgICAgfSBcIiArXG4gICAgXCIgICAgfSBcIjtcblxuICBpZiAoaGFzQXV0aGVudGljYXRpb25JbnNpZ2h0KSB7XG4gICAgbXV0YXRpb24gKz1cbiAgICAgIFwiICAgIGF1dGhlbnRpY2F0aW9uSW5zaWdodChpbnB1dDogJGF1dGhlbnRpY2F0aW9uSW5zaWdodElucHV0KSB7XCIgK1xuICAgICAgXCIgICAgICBjdXN0b21lckF1dGhlbnRpY2F0aW9uUmVndWxhdGlvbkVudmlyb25tZW50XCIgK1xuICAgICAgXCIgICAgfVwiO1xuICB9XG5cbiAgbXV0YXRpb24gKz0gXCIgIH0gfVwiO1xuXG4gIHJldHVybiBtdXRhdGlvbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ3JlZGl0Q2FyZFRva2VuaXphdGlvbkJvZHkoYm9keSwgb3B0aW9ucykge1xuICB2YXIgY2MgPSBib2R5LmNyZWRpdENhcmQ7XG4gIHZhciBiaWxsaW5nQWRkcmVzcyA9IGNjICYmIGNjLmJpbGxpbmdBZGRyZXNzO1xuICB2YXIgZXhwRGF0ZSA9IGNjICYmIGNjLmV4cGlyYXRpb25EYXRlO1xuICB2YXIgZXhwaXJhdGlvbk1vbnRoID1cbiAgICBjYyAmJiAoY2MuZXhwaXJhdGlvbk1vbnRoIHx8IChleHBEYXRlICYmIGV4cERhdGUuc3BsaXQoXCIvXCIpWzBdLnRyaW0oKSkpO1xuICB2YXIgZXhwaXJhdGlvblllYXIgPVxuICAgIGNjICYmIChjYy5leHBpcmF0aW9uWWVhciB8fCAoZXhwRGF0ZSAmJiBleHBEYXRlLnNwbGl0KFwiL1wiKVsxXS50cmltKCkpKTtcbiAgdmFyIHZhcmlhYmxlcyA9IHtcbiAgICBpbnB1dDoge1xuICAgICAgY3JlZGl0Q2FyZDoge1xuICAgICAgICBudW1iZXI6IGNjICYmIGNjLm51bWJlcixcbiAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiBleHBpcmF0aW9uTW9udGgsXG4gICAgICAgIGV4cGlyYXRpb25ZZWFyOiBleHBpcmF0aW9uWWVhcixcbiAgICAgICAgY3Z2OiBjYyAmJiBjYy5jdnYsXG4gICAgICAgIGNhcmRob2xkZXJOYW1lOiBjYyAmJiBjYy5jYXJkaG9sZGVyTmFtZSxcbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICB9LFxuICB9O1xuXG4gIGlmIChvcHRpb25zLmhhc0F1dGhlbnRpY2F0aW9uSW5zaWdodCkge1xuICAgIHZhcmlhYmxlcy5hdXRoZW50aWNhdGlvbkluc2lnaHRJbnB1dCA9IHtcbiAgICAgIG1lcmNoYW50QWNjb3VudElkOiBib2R5Lm1lcmNoYW50QWNjb3VudElkLFxuICAgIH07XG4gIH1cblxuICBpZiAoYmlsbGluZ0FkZHJlc3MpIHtcbiAgICB2YXJpYWJsZXMuaW5wdXQuY3JlZGl0Q2FyZC5iaWxsaW5nQWRkcmVzcyA9IGJpbGxpbmdBZGRyZXNzO1xuICB9XG5cbiAgdmFyaWFibGVzLmlucHV0ID0gYWRkVmFsaWRhdGlvblJ1bGUoYm9keSwgdmFyaWFibGVzLmlucHV0KTtcblxuICByZXR1cm4gdmFyaWFibGVzO1xufVxuXG5mdW5jdGlvbiBhZGRWYWxpZGF0aW9uUnVsZShib2R5LCBpbnB1dCkge1xuICB2YXIgdmFsaWRhdGU7XG5cbiAgaWYgKFxuICAgIGJvZHkuY3JlZGl0Q2FyZCAmJlxuICAgIGJvZHkuY3JlZGl0Q2FyZC5vcHRpb25zICYmXG4gICAgdHlwZW9mIGJvZHkuY3JlZGl0Q2FyZC5vcHRpb25zLnZhbGlkYXRlID09PSBcImJvb2xlYW5cIlxuICApIHtcbiAgICB2YWxpZGF0ZSA9IGJvZHkuY3JlZGl0Q2FyZC5vcHRpb25zLnZhbGlkYXRlO1xuICB9IGVsc2UgaWYgKFxuICAgIChib2R5LmF1dGhvcml6YXRpb25GaW5nZXJwcmludCAmJiBib2R5LnRva2VuaXphdGlvbktleSkgfHxcbiAgICBib2R5LmF1dGhvcml6YXRpb25GaW5nZXJwcmludFxuICApIHtcbiAgICB2YWxpZGF0ZSA9IHRydWU7XG4gIH0gZWxzZSBpZiAoYm9keS50b2tlbml6YXRpb25LZXkpIHtcbiAgICB2YWxpZGF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWxpZGF0ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICBpbnB1dC5vcHRpb25zID0gYXNzaWduKFxuICAgICAge1xuICAgICAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgICB9LFxuICAgICAgaW5wdXQub3B0aW9uc1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gaW5wdXQ7XG59XG5cbmZ1bmN0aW9uIGNyZWRpdENhcmRUb2tlbml6YXRpb24oYm9keSkge1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBoYXNBdXRoZW50aWNhdGlvbkluc2lnaHQ6IEJvb2xlYW4oXG4gICAgICBib2R5LmF1dGhlbnRpY2F0aW9uSW5zaWdodCAmJiBib2R5Lm1lcmNoYW50QWNjb3VudElkXG4gICAgKSxcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBjcmVhdGVNdXRhdGlvbihvcHRpb25zKSxcbiAgICB2YXJpYWJsZXM6IGNyZWF0ZUNyZWRpdENhcmRUb2tlbml6YXRpb25Cb2R5KGJvZHksIG9wdGlvbnMpLFxuICAgIG9wZXJhdGlvbk5hbWU6IFwiVG9rZW5pemVDcmVkaXRDYXJkXCIsXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlZGl0Q2FyZFRva2VuaXphdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/graphql/generators/credit-card-tokenization.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/graphql/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/graphql/index.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\n\nvar features = {\n  tokenize_credit_cards: \"payment_methods/credit_cards\", // eslint-disable-line camelcase\n  configuration: \"configuration\",\n};\n\nvar disallowedInputPaths = [\"creditCard.options.unionPayEnrollment\"];\n\nfunction GraphQL(config) {\n  this._config = config.graphQL;\n}\n\nGraphQL.prototype.getGraphQLEndpoint = function () {\n  return this._config.url;\n};\n\nGraphQL.prototype.isGraphQLRequest = function (url, body) {\n  var featureEnabled;\n  var path = this.getClientApiPath(url);\n\n  if (!this._isGraphQLEnabled() || !path) {\n    return false;\n  }\n\n  featureEnabled = this._config.features.some(function (feature) {\n    return features[feature] === path;\n  });\n\n  if (containsDisallowedlistedKeys(body)) {\n    return false;\n  }\n\n  return featureEnabled;\n};\n\nGraphQL.prototype.getClientApiPath = function (url) {\n  var path;\n  var clientApiPrefix = \"/client_api/v1/\";\n  var pathParts = url.split(clientApiPrefix);\n\n  if (pathParts.length > 1) {\n    path = pathParts[1].split(\"?\")[0];\n  }\n\n  return path;\n};\n\nGraphQL.prototype._isGraphQLEnabled = function () {\n  return Boolean(this._config);\n};\n\nfunction containsDisallowedlistedKeys(body) {\n  return disallowedInputPaths.some(function (keys) {\n    var value = keys.split(\".\").reduce(function (accumulator, key) {\n      return accumulator && accumulator[key];\n    }, body);\n\n    return value !== undefined; // eslint-disable-line no-undefined\n  });\n}\n\nmodule.exports = GraphQL;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLGdDQUFnQztBQUNoQyxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvY2xpZW50L3JlcXVlc3QvZ3JhcGhxbC9pbmRleC5qcz8wZTA5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgZmVhdHVyZXMgPSB7XG4gIHRva2VuaXplX2NyZWRpdF9jYXJkczogXCJwYXltZW50X21ldGhvZHMvY3JlZGl0X2NhcmRzXCIsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG4gIGNvbmZpZ3VyYXRpb246IFwiY29uZmlndXJhdGlvblwiLFxufTtcblxudmFyIGRpc2FsbG93ZWRJbnB1dFBhdGhzID0gW1wiY3JlZGl0Q2FyZC5vcHRpb25zLnVuaW9uUGF5RW5yb2xsbWVudFwiXTtcblxuZnVuY3Rpb24gR3JhcGhRTChjb25maWcpIHtcbiAgdGhpcy5fY29uZmlnID0gY29uZmlnLmdyYXBoUUw7XG59XG5cbkdyYXBoUUwucHJvdG90eXBlLmdldEdyYXBoUUxFbmRwb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2NvbmZpZy51cmw7XG59O1xuXG5HcmFwaFFMLnByb3RvdHlwZS5pc0dyYXBoUUxSZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCwgYm9keSkge1xuICB2YXIgZmVhdHVyZUVuYWJsZWQ7XG4gIHZhciBwYXRoID0gdGhpcy5nZXRDbGllbnRBcGlQYXRoKHVybCk7XG5cbiAgaWYgKCF0aGlzLl9pc0dyYXBoUUxFbmFibGVkKCkgfHwgIXBhdGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmZWF0dXJlRW5hYmxlZCA9IHRoaXMuX2NvbmZpZy5mZWF0dXJlcy5zb21lKGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgcmV0dXJuIGZlYXR1cmVzW2ZlYXR1cmVdID09PSBwYXRoO1xuICB9KTtcblxuICBpZiAoY29udGFpbnNEaXNhbGxvd2VkbGlzdGVkS2V5cyhib2R5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBmZWF0dXJlRW5hYmxlZDtcbn07XG5cbkdyYXBoUUwucHJvdG90eXBlLmdldENsaWVudEFwaVBhdGggPSBmdW5jdGlvbiAodXJsKSB7XG4gIHZhciBwYXRoO1xuICB2YXIgY2xpZW50QXBpUHJlZml4ID0gXCIvY2xpZW50X2FwaS92MS9cIjtcbiAgdmFyIHBhdGhQYXJ0cyA9IHVybC5zcGxpdChjbGllbnRBcGlQcmVmaXgpO1xuXG4gIGlmIChwYXRoUGFydHMubGVuZ3RoID4gMSkge1xuICAgIHBhdGggPSBwYXRoUGFydHNbMV0uc3BsaXQoXCI/XCIpWzBdO1xuICB9XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5HcmFwaFFMLnByb3RvdHlwZS5faXNHcmFwaFFMRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEJvb2xlYW4odGhpcy5fY29uZmlnKTtcbn07XG5cbmZ1bmN0aW9uIGNvbnRhaW5zRGlzYWxsb3dlZGxpc3RlZEtleXMoYm9keSkge1xuICByZXR1cm4gZGlzYWxsb3dlZElucHV0UGF0aHMuc29tZShmdW5jdGlvbiAoa2V5cykge1xuICAgIHZhciB2YWx1ZSA9IGtleXMuc3BsaXQoXCIuXCIpLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIGtleSkge1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yICYmIGFjY3VtdWxhdG9yW2tleV07XG4gICAgfSwgYm9keSk7XG5cbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZmluZWRcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gR3JhcGhRTDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/graphql/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/graphql/request.js":
/*!**********************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/graphql/request.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BRAINTREE_VERSION = (__webpack_require__(/*! ../../constants */ \"(ssr)/./node_modules/braintree-web/client/constants.js\").BRAINTREE_VERSION);\n\nvar assign = (__webpack_require__(/*! ../../../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar snakeCaseToCamelCase = __webpack_require__(/*! ../../../lib/snake-case-to-camel-case */ \"(ssr)/./node_modules/braintree-web/lib/snake-case-to-camel-case.js\");\n\nvar creditCardTokenizationBodyGenerator = __webpack_require__(/*! ./generators/credit-card-tokenization */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/generators/credit-card-tokenization.js\");\nvar creditCardTokenizationResponseAdapter = __webpack_require__(/*! ./adapters/credit-card-tokenization */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/credit-card-tokenization.js\");\n\nvar configurationBodyGenerator = __webpack_require__(/*! ./generators/configuration */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/generators/configuration.js\");\nvar configurationResponseAdapter = __webpack_require__(/*! ./adapters/configuration */ \"(ssr)/./node_modules/braintree-web/client/request/graphql/adapters/configuration.js\");\n\nvar generators = {\n  \"payment_methods/credit_cards\": creditCardTokenizationBodyGenerator,\n  configuration: configurationBodyGenerator,\n};\nvar adapters = {\n  \"payment_methods/credit_cards\": creditCardTokenizationResponseAdapter,\n  configuration: configurationResponseAdapter,\n};\n\nfunction GraphQLRequest(options) {\n  var clientApiPath = options.graphQL.getClientApiPath(options.url);\n\n  this._graphQL = options.graphQL;\n  this._data = options.data;\n  this._method = options.method;\n  this._headers = options.headers;\n  this._clientSdkMetadata = {\n    source: options.metadata.source,\n    integration: options.metadata.integration,\n    sessionId: options.metadata.sessionId,\n  };\n  this._sendAnalyticsEvent = options.sendAnalyticsEvent || Function.prototype;\n\n  this._generator = generators[clientApiPath];\n  this._adapter = adapters[clientApiPath];\n\n  this._sendAnalyticsEvent(\"graphql.init\");\n}\n\nGraphQLRequest.prototype.getUrl = function () {\n  return this._graphQL.getGraphQLEndpoint();\n};\n\nGraphQLRequest.prototype.getBody = function () {\n  var formattedBody = formatBodyKeys(this._data);\n  var generatedBody = this._generator(formattedBody);\n  var body = assign(\n    { clientSdkMetadata: this._clientSdkMetadata },\n    generatedBody\n  );\n\n  return JSON.stringify(body);\n};\n\nGraphQLRequest.prototype.getMethod = function () {\n  return \"POST\";\n};\n\nGraphQLRequest.prototype.getHeaders = function () {\n  var authorization, headers;\n\n  if (this._data.authorizationFingerprint) {\n    this._sendAnalyticsEvent(\"graphql.authorization-fingerprint\");\n    authorization = this._data.authorizationFingerprint;\n  } else {\n    this._sendAnalyticsEvent(\"graphql.tokenization-key\");\n    authorization = this._data.tokenizationKey;\n  }\n\n  headers = {\n    Authorization: \"Bearer \" + authorization,\n    \"Braintree-Version\": BRAINTREE_VERSION,\n  };\n\n  return assign({}, this._headers, headers);\n};\n\nGraphQLRequest.prototype.adaptResponseBody = function (parsedBody) {\n  return this._adapter(parsedBody, this);\n};\n\nGraphQLRequest.prototype.determineStatus = function (\n  httpStatus,\n  parsedResponse\n) {\n  var status, errorClass;\n\n  if (httpStatus === 200) {\n    errorClass =\n      parsedResponse.errors &&\n      parsedResponse.errors[0] &&\n      parsedResponse.errors[0].extensions &&\n      parsedResponse.errors[0].extensions.errorClass;\n\n    if (parsedResponse.data && !parsedResponse.errors) {\n      status = 200;\n    } else if (errorClass === \"VALIDATION\") {\n      status = 422;\n    } else if (errorClass === \"AUTHORIZATION\") {\n      status = 403;\n    } else if (errorClass === \"AUTHENTICATION\") {\n      status = 401;\n    } else if (isGraphQLError(errorClass, parsedResponse)) {\n      status = 403;\n    } else {\n      status = 500;\n    }\n  } else if (!httpStatus) {\n    status = 500;\n  } else {\n    status = httpStatus;\n  }\n\n  this._sendAnalyticsEvent(\"graphql.status.\" + httpStatus);\n  this._sendAnalyticsEvent(\"graphql.determinedStatus.\" + status);\n\n  return status;\n};\n\nfunction isGraphQLError(errorClass, parsedResponse) {\n  return !errorClass && parsedResponse.errors[0].message;\n}\n\nfunction formatBodyKeys(originalBody) {\n  var body = {};\n\n  Object.keys(originalBody).forEach(function (key) {\n    var camelCaseKey = snakeCaseToCamelCase(key);\n\n    if (typeof originalBody[key] === \"object\") {\n      body[camelCaseKey] = formatBodyKeys(originalBody[key]);\n    } else if (typeof originalBody[key] === \"number\") {\n      body[camelCaseKey] = String(originalBody[key]);\n    } else {\n      body[camelCaseKey] = originalBody[key];\n    }\n  });\n\n  return body;\n}\n\nmodule.exports = GraphQLRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9ncmFwaHFsL3JlcXVlc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsd0JBQXdCLHdIQUE0Qzs7QUFFcEUsYUFBYSwyR0FBcUM7QUFDbEQsMkJBQTJCLG1CQUFPLENBQUMsaUhBQXVDOztBQUUxRSwwQ0FBMEMsbUJBQU8sQ0FBQywrSUFBdUM7QUFDekYsNENBQTRDLG1CQUFPLENBQUMsMklBQXFDOztBQUV6RixpQ0FBaUMsbUJBQU8sQ0FBQyx5SEFBNEI7QUFDckUsbUNBQW1DLG1CQUFPLENBQUMscUhBQTBCOztBQUVyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNENBQTRDO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2NsaWVudC9yZXF1ZXN0L2dyYXBocWwvcmVxdWVzdC5qcz9iY2Y3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQlJBSU5UUkVFX1ZFUlNJT04gPSByZXF1aXJlKFwiLi4vLi4vY29uc3RhbnRzXCIpLkJSQUlOVFJFRV9WRVJTSU9OO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9hc3NpZ25cIikuYXNzaWduO1xudmFyIHNuYWtlQ2FzZVRvQ2FtZWxDYXNlID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9zbmFrZS1jYXNlLXRvLWNhbWVsLWNhc2VcIik7XG5cbnZhciBjcmVkaXRDYXJkVG9rZW5pemF0aW9uQm9keUdlbmVyYXRvciA9IHJlcXVpcmUoXCIuL2dlbmVyYXRvcnMvY3JlZGl0LWNhcmQtdG9rZW5pemF0aW9uXCIpO1xudmFyIGNyZWRpdENhcmRUb2tlbml6YXRpb25SZXNwb25zZUFkYXB0ZXIgPSByZXF1aXJlKFwiLi9hZGFwdGVycy9jcmVkaXQtY2FyZC10b2tlbml6YXRpb25cIik7XG5cbnZhciBjb25maWd1cmF0aW9uQm9keUdlbmVyYXRvciA9IHJlcXVpcmUoXCIuL2dlbmVyYXRvcnMvY29uZmlndXJhdGlvblwiKTtcbnZhciBjb25maWd1cmF0aW9uUmVzcG9uc2VBZGFwdGVyID0gcmVxdWlyZShcIi4vYWRhcHRlcnMvY29uZmlndXJhdGlvblwiKTtcblxudmFyIGdlbmVyYXRvcnMgPSB7XG4gIFwicGF5bWVudF9tZXRob2RzL2NyZWRpdF9jYXJkc1wiOiBjcmVkaXRDYXJkVG9rZW5pemF0aW9uQm9keUdlbmVyYXRvcixcbiAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbkJvZHlHZW5lcmF0b3IsXG59O1xudmFyIGFkYXB0ZXJzID0ge1xuICBcInBheW1lbnRfbWV0aG9kcy9jcmVkaXRfY2FyZHNcIjogY3JlZGl0Q2FyZFRva2VuaXphdGlvblJlc3BvbnNlQWRhcHRlcixcbiAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvblJlc3BvbnNlQWRhcHRlcixcbn07XG5cbmZ1bmN0aW9uIEdyYXBoUUxSZXF1ZXN0KG9wdGlvbnMpIHtcbiAgdmFyIGNsaWVudEFwaVBhdGggPSBvcHRpb25zLmdyYXBoUUwuZ2V0Q2xpZW50QXBpUGF0aChvcHRpb25zLnVybCk7XG5cbiAgdGhpcy5fZ3JhcGhRTCA9IG9wdGlvbnMuZ3JhcGhRTDtcbiAgdGhpcy5fZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgdGhpcy5fbWV0aG9kID0gb3B0aW9ucy5tZXRob2Q7XG4gIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIHRoaXMuX2NsaWVudFNka01ldGFkYXRhID0ge1xuICAgIHNvdXJjZTogb3B0aW9ucy5tZXRhZGF0YS5zb3VyY2UsXG4gICAgaW50ZWdyYXRpb246IG9wdGlvbnMubWV0YWRhdGEuaW50ZWdyYXRpb24sXG4gICAgc2Vzc2lvbklkOiBvcHRpb25zLm1ldGFkYXRhLnNlc3Npb25JZCxcbiAgfTtcbiAgdGhpcy5fc2VuZEFuYWx5dGljc0V2ZW50ID0gb3B0aW9ucy5zZW5kQW5hbHl0aWNzRXZlbnQgfHwgRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIHRoaXMuX2dlbmVyYXRvciA9IGdlbmVyYXRvcnNbY2xpZW50QXBpUGF0aF07XG4gIHRoaXMuX2FkYXB0ZXIgPSBhZGFwdGVyc1tjbGllbnRBcGlQYXRoXTtcblxuICB0aGlzLl9zZW5kQW5hbHl0aWNzRXZlbnQoXCJncmFwaHFsLmluaXRcIik7XG59XG5cbkdyYXBoUUxSZXF1ZXN0LnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9ncmFwaFFMLmdldEdyYXBoUUxFbmRwb2ludCgpO1xufTtcblxuR3JhcGhRTFJlcXVlc3QucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmb3JtYXR0ZWRCb2R5ID0gZm9ybWF0Qm9keUtleXModGhpcy5fZGF0YSk7XG4gIHZhciBnZW5lcmF0ZWRCb2R5ID0gdGhpcy5fZ2VuZXJhdG9yKGZvcm1hdHRlZEJvZHkpO1xuICB2YXIgYm9keSA9IGFzc2lnbihcbiAgICB7IGNsaWVudFNka01ldGFkYXRhOiB0aGlzLl9jbGllbnRTZGtNZXRhZGF0YSB9LFxuICAgIGdlbmVyYXRlZEJvZHlcbiAgKTtcblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG59O1xuXG5HcmFwaFFMUmVxdWVzdC5wcm90b3R5cGUuZ2V0TWV0aG9kID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gXCJQT1NUXCI7XG59O1xuXG5HcmFwaFFMUmVxdWVzdC5wcm90b3R5cGUuZ2V0SGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGF1dGhvcml6YXRpb24sIGhlYWRlcnM7XG5cbiAgaWYgKHRoaXMuX2RhdGEuYXV0aG9yaXphdGlvbkZpbmdlcnByaW50KSB7XG4gICAgdGhpcy5fc2VuZEFuYWx5dGljc0V2ZW50KFwiZ3JhcGhxbC5hdXRob3JpemF0aW9uLWZpbmdlcnByaW50XCIpO1xuICAgIGF1dGhvcml6YXRpb24gPSB0aGlzLl9kYXRhLmF1dGhvcml6YXRpb25GaW5nZXJwcmludDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9zZW5kQW5hbHl0aWNzRXZlbnQoXCJncmFwaHFsLnRva2VuaXphdGlvbi1rZXlcIik7XG4gICAgYXV0aG9yaXphdGlvbiA9IHRoaXMuX2RhdGEudG9rZW5pemF0aW9uS2V5O1xuICB9XG5cbiAgaGVhZGVycyA9IHtcbiAgICBBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGhvcml6YXRpb24sXG4gICAgXCJCcmFpbnRyZWUtVmVyc2lvblwiOiBCUkFJTlRSRUVfVkVSU0lPTixcbiAgfTtcblxuICByZXR1cm4gYXNzaWduKHt9LCB0aGlzLl9oZWFkZXJzLCBoZWFkZXJzKTtcbn07XG5cbkdyYXBoUUxSZXF1ZXN0LnByb3RvdHlwZS5hZGFwdFJlc3BvbnNlQm9keSA9IGZ1bmN0aW9uIChwYXJzZWRCb2R5KSB7XG4gIHJldHVybiB0aGlzLl9hZGFwdGVyKHBhcnNlZEJvZHksIHRoaXMpO1xufTtcblxuR3JhcGhRTFJlcXVlc3QucHJvdG90eXBlLmRldGVybWluZVN0YXR1cyA9IGZ1bmN0aW9uIChcbiAgaHR0cFN0YXR1cyxcbiAgcGFyc2VkUmVzcG9uc2Vcbikge1xuICB2YXIgc3RhdHVzLCBlcnJvckNsYXNzO1xuXG4gIGlmIChodHRwU3RhdHVzID09PSAyMDApIHtcbiAgICBlcnJvckNsYXNzID1cbiAgICAgIHBhcnNlZFJlc3BvbnNlLmVycm9ycyAmJlxuICAgICAgcGFyc2VkUmVzcG9uc2UuZXJyb3JzWzBdICYmXG4gICAgICBwYXJzZWRSZXNwb25zZS5lcnJvcnNbMF0uZXh0ZW5zaW9ucyAmJlxuICAgICAgcGFyc2VkUmVzcG9uc2UuZXJyb3JzWzBdLmV4dGVuc2lvbnMuZXJyb3JDbGFzcztcblxuICAgIGlmIChwYXJzZWRSZXNwb25zZS5kYXRhICYmICFwYXJzZWRSZXNwb25zZS5lcnJvcnMpIHtcbiAgICAgIHN0YXR1cyA9IDIwMDtcbiAgICB9IGVsc2UgaWYgKGVycm9yQ2xhc3MgPT09IFwiVkFMSURBVElPTlwiKSB7XG4gICAgICBzdGF0dXMgPSA0MjI7XG4gICAgfSBlbHNlIGlmIChlcnJvckNsYXNzID09PSBcIkFVVEhPUklaQVRJT05cIikge1xuICAgICAgc3RhdHVzID0gNDAzO1xuICAgIH0gZWxzZSBpZiAoZXJyb3JDbGFzcyA9PT0gXCJBVVRIRU5USUNBVElPTlwiKSB7XG4gICAgICBzdGF0dXMgPSA0MDE7XG4gICAgfSBlbHNlIGlmIChpc0dyYXBoUUxFcnJvcihlcnJvckNsYXNzLCBwYXJzZWRSZXNwb25zZSkpIHtcbiAgICAgIHN0YXR1cyA9IDQwMztcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdHVzID0gNTAwO1xuICAgIH1cbiAgfSBlbHNlIGlmICghaHR0cFN0YXR1cykge1xuICAgIHN0YXR1cyA9IDUwMDtcbiAgfSBlbHNlIHtcbiAgICBzdGF0dXMgPSBodHRwU3RhdHVzO1xuICB9XG5cbiAgdGhpcy5fc2VuZEFuYWx5dGljc0V2ZW50KFwiZ3JhcGhxbC5zdGF0dXMuXCIgKyBodHRwU3RhdHVzKTtcbiAgdGhpcy5fc2VuZEFuYWx5dGljc0V2ZW50KFwiZ3JhcGhxbC5kZXRlcm1pbmVkU3RhdHVzLlwiICsgc3RhdHVzKTtcblxuICByZXR1cm4gc3RhdHVzO1xufTtcblxuZnVuY3Rpb24gaXNHcmFwaFFMRXJyb3IoZXJyb3JDbGFzcywgcGFyc2VkUmVzcG9uc2UpIHtcbiAgcmV0dXJuICFlcnJvckNsYXNzICYmIHBhcnNlZFJlc3BvbnNlLmVycm9yc1swXS5tZXNzYWdlO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRCb2R5S2V5cyhvcmlnaW5hbEJvZHkpIHtcbiAgdmFyIGJvZHkgPSB7fTtcblxuICBPYmplY3Qua2V5cyhvcmlnaW5hbEJvZHkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBjYW1lbENhc2VLZXkgPSBzbmFrZUNhc2VUb0NhbWVsQ2FzZShrZXkpO1xuXG4gICAgaWYgKHR5cGVvZiBvcmlnaW5hbEJvZHlba2V5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgYm9keVtjYW1lbENhc2VLZXldID0gZm9ybWF0Qm9keUtleXMob3JpZ2luYWxCb2R5W2tleV0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9yaWdpbmFsQm9keVtrZXldID09PSBcIm51bWJlclwiKSB7XG4gICAgICBib2R5W2NhbWVsQ2FzZUtleV0gPSBTdHJpbmcob3JpZ2luYWxCb2R5W2tleV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5W2NhbWVsQ2FzZUtleV0gPSBvcmlnaW5hbEJvZHlba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBib2R5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdyYXBoUUxSZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/graphql/request.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/index.js":
/*!************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/index.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar once = __webpack_require__(/*! ../../lib/once */ \"(ssr)/./node_modules/braintree-web/lib/once.js\");\nvar AJAXDriver = __webpack_require__(/*! ./ajax-driver */ \"(ssr)/./node_modules/braintree-web/client/request/ajax-driver.js\");\n\nmodule.exports = function (options, cb) {\n  cb = once(cb || Function.prototype);\n  options.method = (options.method || \"GET\").toUpperCase();\n  options.timeout = options.timeout == null ? 60000 : options.timeout;\n  options.data = options.data || {};\n\n  AJAXDriver.request(options, cb);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixXQUFXLG1CQUFPLENBQUMsc0VBQWdCO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLHVGQUFlOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvY2xpZW50L3JlcXVlc3QvaW5kZXguanM/MGE2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG9uY2UgPSByZXF1aXJlKFwiLi4vLi4vbGliL29uY2VcIik7XG52YXIgQUpBWERyaXZlciA9IHJlcXVpcmUoXCIuL2FqYXgtZHJpdmVyXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYikge1xuICBjYiA9IG9uY2UoY2IgfHwgRnVuY3Rpb24ucHJvdG90eXBlKTtcbiAgb3B0aW9ucy5tZXRob2QgPSAob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikudG9VcHBlckNhc2UoKTtcbiAgb3B0aW9ucy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0ID09IG51bGwgPyA2MDAwMCA6IG9wdGlvbnMudGltZW91dDtcbiAgb3B0aW9ucy5kYXRhID0gb3B0aW9ucy5kYXRhIHx8IHt9O1xuXG4gIEFKQVhEcml2ZXIucmVxdWVzdChvcHRpb25zLCBjYik7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/parse-body.js":
/*!*****************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/parse-body.js ***!
  \*****************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (body) {\n  try {\n    body = JSON.parse(body);\n  } catch (e) {\n    /* ignored */\n  }\n\n  return body;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9wYXJzZS1ib2R5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvY2xpZW50L3JlcXVlc3QvcGFyc2UtYm9keS5qcz9mZWE4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChib2R5KSB7XG4gIHRyeSB7XG4gICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBpZ25vcmVkICovXG4gIH1cblxuICByZXR1cm4gYm9keTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/parse-body.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/prep-body.js":
/*!****************************************************************!*\
  !*** ./node_modules/braintree-web/client/request/prep-body.js ***!
  \****************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (method, body) {\n  if (typeof method !== \"string\") {\n    throw new Error(\"Method must be a string\");\n  }\n\n  if (method.toLowerCase() !== \"get\" && body != null) {\n    body = typeof body === \"string\" ? body : JSON.stringify(body);\n  }\n\n  return body;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC9wcmVwLWJvZHkuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvY2xpZW50L3JlcXVlc3QvcHJlcC1ib2R5LmpzPzQ2MmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1ldGhvZCwgYm9keSkge1xuICBpZiAodHlwZW9mIG1ldGhvZCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuICB9XG5cbiAgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpICE9PSBcImdldFwiICYmIGJvZHkgIT0gbnVsbCkge1xuICAgIGJvZHkgPSB0eXBlb2YgYm9keSA9PT0gXCJzdHJpbmdcIiA/IGJvZHkgOiBKU09OLnN0cmluZ2lmeShib2R5KTtcbiAgfVxuXG4gIHJldHVybiBib2R5O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/prep-body.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/client/request/xhr.js":
/*!**********************************************************!*\
  !*** ./node_modules/braintree-web/client/request/xhr.js ***!
  \**********************************************************/
/***/ ((module) => {

eval("\n\nvar isXHRAvailable =\n  typeof window !== \"undefined\" &&\n  window.XMLHttpRequest &&\n  \"withCredentials\" in new window.XMLHttpRequest();\n\nfunction getRequestObject() {\n  return isXHRAvailable\n    ? new window.XMLHttpRequest()\n    : new window.XDomainRequest();\n}\n\nmodule.exports = {\n  isAvailable: isXHRAvailable,\n  getRequestObject: getRequestObject,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC94aHIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9jbGllbnQvcmVxdWVzdC94aHIuanM/ZGJhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzWEhSQXZhaWxhYmxlID1cbiAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgJiZcbiAgXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cbmZ1bmN0aW9uIGdldFJlcXVlc3RPYmplY3QoKSB7XG4gIHJldHVybiBpc1hIUkF2YWlsYWJsZVxuICAgID8gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpXG4gICAgOiBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0F2YWlsYWJsZTogaXNYSFJBdmFpbGFibGUsXG4gIGdldFJlcXVlc3RPYmplY3Q6IGdldFJlcXVlc3RPYmplY3QsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/client/request/xhr.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/google-payment/errors.js":
/*!*************************************************************!*\
  !*** ./node_modules/braintree-web/google-payment/errors.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Google Payment - Creation Error Codes\n * @description Errors that occur when [creating the Google Payment component](./module-braintree-web_google-payment.html#.create).\n * @property {MERCHANT} GOOGLE_PAYMENT_NOT_ENABLED Occurs when Google Pay is not enabled on the Braintree control panel.\n * @property {MERCHANT} GOOGLE_PAYMENT_UNSUPPORTED_VERSION Occurs when a Google Pay version is used that is not supported by the Braintree SDK.\n */\n\n/**\n * @name BraintreeError.Google Payment - parseResponse Error Codes\n * @description Errors that occur when [parsing the response from Google](./GooglePayment.html#parseResponse).\n * @property {UNKNOWN} GOOGLE_PAYMENT_GATEWAY_ERROR Occurs when Google Pay could not be tokenized.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  GOOGLE_PAYMENT_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"GOOGLE_PAYMENT_NOT_ENABLED\",\n    message: \"Google Pay is not enabled for this merchant.\",\n  },\n  GOOGLE_PAYMENT_GATEWAY_ERROR: {\n    code: \"GOOGLE_PAYMENT_GATEWAY_ERROR\",\n    message:\n      \"There was an error when tokenizing the Google Pay payment method.\",\n    type: BraintreeError.types.UNKNOWN,\n  },\n  GOOGLE_PAYMENT_UNSUPPORTED_VERSION: {\n    code: \"GOOGLE_PAYMENT_UNSUPPORTED_VERSION\",\n    type: BraintreeError.types.MERCHANT,\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9nb29nbGUtcGF5bWVudC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7O0FBRUEscUJBQXFCLG1CQUFPLENBQUMseUZBQXdCOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2dvb2dsZS1wYXltZW50L2Vycm9ycy5qcz9kMzc0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLkdvb2dsZSBQYXltZW50IC0gQ3JlYXRpb24gRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIFtjcmVhdGluZyB0aGUgR29vZ2xlIFBheW1lbnQgY29tcG9uZW50XSguL21vZHVsZS1icmFpbnRyZWUtd2ViX2dvb2dsZS1wYXltZW50Lmh0bWwjLmNyZWF0ZSkuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBHT09HTEVfUEFZTUVOVF9OT1RfRU5BQkxFRCBPY2N1cnMgd2hlbiBHb29nbGUgUGF5IGlzIG5vdCBlbmFibGVkIG9uIHRoZSBCcmFpbnRyZWUgY29udHJvbCBwYW5lbC5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IEdPT0dMRV9QQVlNRU5UX1VOU1VQUE9SVEVEX1ZFUlNJT04gT2NjdXJzIHdoZW4gYSBHb29nbGUgUGF5IHZlcnNpb24gaXMgdXNlZCB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIEJyYWludHJlZSBTREsuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5Hb29nbGUgUGF5bWVudCAtIHBhcnNlUmVzcG9uc2UgRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIFtwYXJzaW5nIHRoZSByZXNwb25zZSBmcm9tIEdvb2dsZV0oLi9Hb29nbGVQYXltZW50Lmh0bWwjcGFyc2VSZXNwb25zZSkuXG4gKiBAcHJvcGVydHkge1VOS05PV059IEdPT0dMRV9QQVlNRU5UX0dBVEVXQVlfRVJST1IgT2NjdXJzIHdoZW4gR29vZ2xlIFBheSBjb3VsZCBub3QgYmUgdG9rZW5pemVkLlxuICovXG5cbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgR09PR0xFX1BBWU1FTlRfTk9UX0VOQUJMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkdPT0dMRV9QQVlNRU5UX05PVF9FTkFCTEVEXCIsXG4gICAgbWVzc2FnZTogXCJHb29nbGUgUGF5IGlzIG5vdCBlbmFibGVkIGZvciB0aGlzIG1lcmNoYW50LlwiLFxuICB9LFxuICBHT09HTEVfUEFZTUVOVF9HQVRFV0FZX0VSUk9SOiB7XG4gICAgY29kZTogXCJHT09HTEVfUEFZTUVOVF9HQVRFV0FZX0VSUk9SXCIsXG4gICAgbWVzc2FnZTpcbiAgICAgIFwiVGhlcmUgd2FzIGFuIGVycm9yIHdoZW4gdG9rZW5pemluZyB0aGUgR29vZ2xlIFBheSBwYXltZW50IG1ldGhvZC5cIixcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5VTktOT1dOLFxuICB9LFxuICBHT09HTEVfUEFZTUVOVF9VTlNVUFBPUlRFRF9WRVJTSU9OOiB7XG4gICAgY29kZTogXCJHT09HTEVfUEFZTUVOVF9VTlNVUFBPUlRFRF9WRVJTSU9OXCIsXG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/google-payment/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/google-payment/google-payment.js":
/*!*********************************************************************!*\
  !*** ./node_modules/braintree-web/google-payment/google-payment.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar assign = (__webpack_require__(/*! ../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar convertMethodsToError = __webpack_require__(/*! ../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar find = __webpack_require__(/*! ../lib/find */ \"(ssr)/./node_modules/braintree-web/lib/find.js\");\nvar generateGooglePayConfiguration = __webpack_require__(/*! ../lib/generate-google-pay-configuration */ \"(ssr)/./node_modules/braintree-web/lib/generate-google-pay-configuration.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/google-payment/errors.js\");\nvar methods = __webpack_require__(/*! ../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\n\nvar CREATE_PAYMENT_DATA_REQUEST_METHODS = {\n  1: \"_createV1PaymentDataRequest\",\n  2: \"_createV2PaymentDataRequest\",\n};\n\n/**\n * @typedef {object} GooglePayment~tokenizePayload\n * @property {string} nonce The payment method nonce.\n * @property {object} details Additional account details.\n * @property {string} details.cardType Type of card, ex: Visa, MasterCard.\n * @property {string} details.lastFour Last four digits of card number.\n * @property {string} details.lastTwo Last two digits of card number.\n * @property {boolean} details.isNetworkTokenized True if the card is network tokenized.\n * @property {string} details.bin First six digits of card number.\n * @property {string} description A human-readable description.\n * @property {string} type The payment method type, `CreditCard` or `AndroidPayCard`.\n * @property {object} binData Information about the card based on the bin.\n * @property {string} binData.commercial Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.countryOfIssuance The country of issuance.\n * @property {string} binData.debit Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.durbinRegulated Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.healthcare Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.issuingBank The issuing bank.\n * @property {string} binData.payroll Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.prepaid Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.productId The product id.\n */\n\n/**\n * @class GooglePayment\n * @param {object} options Google Payment {@link module:braintree-web/google-payment.create create} options.\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/google-payment.create|braintree-web.google-payment.create} instead.</strong>\n * @classdesc This class represents a Google Payment component produced by {@link module:braintree-web/google-payment.create|braintree-web/google-payment.create}. Instances of this class have methods for initializing the Google Pay flow.\n */\nfunction GooglePayment(options) {\n  this._createPromise = options.createPromise;\n  this._client = options.client;\n  this._useDeferredClient = options.useDeferredClient;\n  // NEXT_MAJOR_VERSION this should be updated to 2 (or whatever the current latest version is)\n  this._googlePayVersion = options.googlePayVersion || 1;\n  this._googleMerchantId = options.googleMerchantId;\n\n  if (this._isUnsupportedGooglePayAPIVersion()) {\n    throw new BraintreeError({\n      code: errors.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.code,\n      message:\n        \"The Braintree SDK does not support Google Pay version \" +\n        this._googlePayVersion +\n        \". Please upgrade the version of your Braintree SDK and contact support if this error persists.\",\n      type: errors.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.type,\n    });\n  }\n}\n\nGooglePayment.prototype._waitForClient = function () {\n  if (this._client) {\n    return Promise.resolve();\n  }\n\n  return this._createPromise.then(\n    function (client) {\n      this._client = client;\n    }.bind(this)\n  );\n};\n\nGooglePayment.prototype._isUnsupportedGooglePayAPIVersion = function () {\n  // if we don't have createPaymentDatqRequest method for the specific\n  // API version, then the version is not supported\n  return !(this._googlePayVersion in CREATE_PAYMENT_DATA_REQUEST_METHODS);\n};\n\nGooglePayment.prototype._getDefaultConfig = function () {\n  if (!this._defaultConfig) {\n    this._defaultConfig = generateGooglePayConfiguration(\n      this._client.getConfiguration(),\n      this._googlePayVersion,\n      this._googleMerchantId\n    );\n  }\n\n  return this._defaultConfig;\n};\n\nGooglePayment.prototype._createV1PaymentDataRequest = function (\n  paymentDataRequest\n) {\n  var defaultConfig = this._getDefaultConfig();\n  var overrideCardNetworks =\n    paymentDataRequest.cardRequirements &&\n    paymentDataRequest.cardRequirements.allowedCardNetworks;\n  var defaultConfigCardNetworks =\n    defaultConfig.cardRequirements.allowedCardNetworks;\n  var allowedCardNetworks = overrideCardNetworks || defaultConfigCardNetworks;\n\n  paymentDataRequest = assign({}, defaultConfig, paymentDataRequest);\n\n  // this way we can preserve allowedCardNetworks from default integration\n  // if merchant did not pass any in `cardRequirements`\n  paymentDataRequest.cardRequirements.allowedCardNetworks = allowedCardNetworks;\n\n  return paymentDataRequest;\n};\n\nGooglePayment.prototype._createV2PaymentDataRequest = function (\n  paymentDataRequest\n) {\n  var defaultConfig = this._getDefaultConfig();\n\n  if (paymentDataRequest.allowedPaymentMethods) {\n    paymentDataRequest.allowedPaymentMethods.forEach(function (paymentMethod) {\n      var defaultPaymentMethod = find(\n        defaultConfig.allowedPaymentMethods,\n        \"type\",\n        paymentMethod.type\n      );\n\n      if (defaultPaymentMethod) {\n        applyDefaultsToPaymentMethodConfiguration(\n          paymentMethod,\n          defaultPaymentMethod\n        );\n      }\n    });\n  }\n\n  paymentDataRequest = assign({}, defaultConfig, paymentDataRequest);\n\n  return paymentDataRequest;\n};\n\n/**\n * Create a configuration object for use in the `loadPaymentData` method.\n *\n * **Note**: Version 1 of the Google Pay Api is deprecated and will become unsupported in a future version. Until then, version 1 will continue to be used by default, and version 1 schema parameters and overrides will remain functional on existing integrations. However, new integrations and all following examples will be presented in the GooglePay version 2 schema. See [Google Pay's upgrade guide](https://developers.google.com/pay/api/web/guides/resources/update-to-latest-version) to see how to update your integration.\n *\n * If `options.googlePayVersion === 2` was set during the initial {@link module:braintree-web/google-payment.create|create} call, overrides must match the Google Pay v2 schema to be valid.\n *\n * @public\n * @param {object} overrides The supplied parameters for creating the PaymentDataRequest object. Required parameters are:\n *  @param {object} overrides.transactionInfo Object according to the [Google Pay Transaction Info](https://developers.google.com/pay/api/web/reference/object#TransactionInfo) spec.\n *  Optionally, any of the parameters in the [PaymentDataRequest](https://developers.google.com/pay/api/web/reference/object#PaymentDataRequest) parameters can be overridden, but note that it is recommended only to override top level parameters to avoid squashing deeply nested configuration objects. An example can be found below showing how to safely edit these deeply nested objects.\n * @example\n * var paymentDataRequest = googlePaymentInstance.createPaymentDataRequest({\n *   merchantInfo: {\n *     merchantId: 'my-merchant-id-from-google'\n *   },\n *   transactionInfo: {\n *     currencyCode: 'USD',\n *     totalPriceStatus: 'FINAL',\n *     totalPrice: '100.00'\n *   }\n * });\n *\n * // Update card payment methods to require billing address\n * var cardPaymentMethod = paymentDataRequest.allowedPaymentMethods;\n * cardPaymentMethod.parameters.billingAddressRequired = true;\n * cardPaymentMethod.parameters.billingAddressParameters = {\n *   format: 'FULL',\n *   phoneNumberRequired: true\n * };\n *\n * var paymentsClient = new google.payments.api.PaymentsClient({\n *   environment: 'TEST' // or 'PRODUCTION'\n * })\n *\n * paymentsClient.loadPaymentData(paymentDataRequest).then(function (response) {\n *   // handle response with googlePaymentInstance.parseResponse\n *   // (see below)\n * });\n * @example <caption>With deferred client</caption>\n * googlePaymentInstance.createPaymentDataRequest({\n *   merchantInfo: {\n *     merchantId: 'my-merchant-id-from-google'\n *   },\n *   transactionInfo: {\n *     currencyCode: 'USD',\n *     totalPriceStatus: 'FINAL',\n *     totalPrice: '100.00'\n *   }\n * }).then(function (paymentDataRequest) {\n *   // Update card payment methods to require billing address\n *   var cardPaymentMethod = paymentDataRequest.allowedPaymentMethods;\n *   cardPaymentMethod.parameters.billingAddressRequired = true;\n *   cardPaymentMethod.parameters.billingAddressParameters = {\n *     format: 'FULL',\n *     phoneNumberRequired: true\n *   };\n *\n *   var paymentsClient = new google.payments.api.PaymentsClient({\n *     environment: 'TEST' // or 'PRODUCTION'\n *   })\n *\n *   return paymentsClient.loadPaymentData(paymentDataRequest);\n * }).then(function (response) {\n *   // handle response with googlePaymentInstance.parseResponse\n *   // (see below)\n * });\n * @returns {object|Promise} Returns a configuration object for Google PaymentDataRequest. If instantiated with `useDeferredClient` and an `authorization` it will return a promise that resolves with the configuration.\n */\nGooglePayment.prototype.createPaymentDataRequest = function (overrides) {\n  if (!this._useDeferredClient) {\n    return this._createPaymentDataRequestSyncronously(overrides);\n  }\n\n  return this._waitForClient().then(\n    function () {\n      return this._createPaymentDataRequestSyncronously(overrides);\n    }.bind(this)\n  );\n};\n\nGooglePayment.prototype._createPaymentDataRequestSyncronously = function (\n  overrides\n) {\n  var paymentDataRequest = assign({}, overrides);\n  var version = this._googlePayVersion;\n  var createPaymentDataRequestMethod =\n    CREATE_PAYMENT_DATA_REQUEST_METHODS[version];\n\n  analytics.sendEvent(\n    this._createPromise,\n    \"google-payment.v\" + version + \".createPaymentDataRequest\"\n  );\n\n  return this[createPaymentDataRequestMethod](paymentDataRequest);\n};\n\n/**\n * Parse the response from the tokenization.\n * @public\n * @param {object} response The response back from the Google Pay tokenization.\n * @param {callback} [callback] The second argument, <code>data</code>, is a {@link GooglePay~tokenizePayload|tokenizePayload}. If no callback is provided, `parseResponse` returns a promise that resolves with a {@link GooglePayment~tokenizePayload|tokenizePayload}.\n * @example with callback\n * var paymentsClient = new google.payments.api.PaymentsClient({\n *   environment: 'TEST' // or 'PRODUCTION'\n * })\n *\n * paymentsClient.loadPaymentData(paymentDataRequestFromCreatePaymentDataRequest).then(function (response) {\n *   googlePaymentInstance.parseResponse(response, function (err, data) {\n *     if (err) {\n *       // handle errors\n *     }\n *     // send parsedResponse.nonce to your server\n *   });\n * });\n * @example with promise\n * var paymentsClient = new google.payments.api.PaymentsClient({\n *   environment: 'TEST' // or 'PRODUCTION'\n * })\n *\n * paymentsClient.loadPaymentData(paymentDataRequestFromCreatePaymentDataRequest).then(function (response) {\n *   return googlePaymentInstance.parseResponse(response);\n * }).then(function (parsedResponse) {\n *   // send parsedResponse.nonce to your server\n * }).catch(function (err) {\n *   // handle errors\n * });\n * @returns {(Promise|void)} Returns a promise that resolves the parsed response if no callback is provided.\n */\nGooglePayment.prototype.parseResponse = function (response) {\n  var self = this;\n\n  return Promise.resolve()\n    .then(function () {\n      var payload;\n      var rawResponse =\n        response.apiVersion === 2\n          ? response.paymentMethodData.tokenizationData.token\n          : response.paymentMethodToken.token;\n      var parsedResponse = JSON.parse(rawResponse);\n      var error = parsedResponse.error;\n\n      if (error) {\n        return Promise.reject(error);\n      }\n\n      analytics.sendEvent(\n        self._createPromise,\n        \"google-payment.parseResponse.succeeded\"\n      );\n\n      if (parsedResponse.paypalAccounts) {\n        payload = parsedResponse.paypalAccounts[0];\n        analytics.sendEvent(\n          self._createPromise,\n          \"google-payment.parseResponse.succeeded.paypal\"\n        );\n\n        return Promise.resolve({\n          nonce: payload.nonce,\n          type: payload.type,\n          description: payload.description,\n        });\n      }\n      payload = parsedResponse.androidPayCards[0];\n      analytics.sendEvent(\n        self._createPromise,\n        \"google-payment.parseResponse.succeeded.google-payment\"\n      );\n\n      return Promise.resolve({\n        nonce: payload.nonce,\n        type: payload.type,\n        description: payload.description,\n        details: {\n          cardType: payload.details.cardType,\n          lastFour: payload.details.lastFour,\n          lastTwo: payload.details.lastTwo,\n          isNetworkTokenized: payload.details.isNetworkTokenized,\n          bin: payload.details.bin,\n        },\n        binData: payload.binData,\n      });\n    })\n    .catch(function (error) {\n      analytics.sendEvent(\n        self._createPromise,\n        \"google-payment.parseResponse.failed\"\n      );\n\n      return Promise.reject(\n        new BraintreeError({\n          code: errors.GOOGLE_PAYMENT_GATEWAY_ERROR.code,\n          message: errors.GOOGLE_PAYMENT_GATEWAY_ERROR.message,\n          type: errors.GOOGLE_PAYMENT_GATEWAY_ERROR.type,\n          details: {\n            originalError: error,\n          },\n        })\n      );\n    });\n};\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/google-payment.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * googlePaymentInstance.teardown();\n * @example <caption>With callback</caption>\n * googlePaymentInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nGooglePayment.prototype.teardown = function () {\n  convertMethodsToError(this, methods(GooglePayment.prototype));\n\n  return Promise.resolve();\n};\n\nfunction applyDefaultsToPaymentMethodConfiguration(\n  merchantSubmittedPaymentMethod,\n  defaultPaymentMethod\n) {\n  Object.keys(defaultPaymentMethod).forEach(function (parameter) {\n    if (typeof defaultPaymentMethod[parameter] === \"object\") {\n      merchantSubmittedPaymentMethod[parameter] = assign(\n        {},\n        defaultPaymentMethod[parameter],\n        merchantSubmittedPaymentMethod[parameter]\n      );\n    } else {\n      merchantSubmittedPaymentMethod[parameter] =\n        merchantSubmittedPaymentMethod[parameter] ||\n        defaultPaymentMethod[parameter];\n    }\n  });\n}\n\nmodule.exports = wrapPromise.wrapPrototype(GooglePayment);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9nb29nbGUtcGF5bWVudC9nb29nbGUtcGF5bWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQkFBZ0IsbUJBQU8sQ0FBQyw2RUFBa0I7QUFDMUMsYUFBYSxxR0FBK0I7QUFDNUMsNEJBQTRCLG1CQUFPLENBQUMsMkdBQWlDO0FBQ3JFLFdBQVcsbUJBQU8sQ0FBQyxtRUFBYTtBQUNoQyxxQ0FBcUMsbUJBQU8sQ0FBQyw2SEFBMEM7QUFDdkYscUJBQXFCLG1CQUFPLENBQUMseUZBQXdCO0FBQ3JELGFBQWEsbUJBQU8sQ0FBQyw2RUFBVTtBQUMvQixjQUFjLG1CQUFPLENBQUMseUVBQWdCO0FBQ3RDLGtCQUFrQixtQkFBTyxDQUFDLGtHQUF5Qjs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVEsd0JBQXdCLHlEQUF5RDtBQUNwRyxtRUFBbUUsc0ZBQXNGO0FBQ3pKLDRFQUE0RSxxRkFBcUY7QUFDaks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDOztBQUVoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsZ0NBQWdDOztBQUVoQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUseURBQXlEO0FBQzVIO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVUseURBQXlELGdEQUFnRCxzRkFBc0Ysb0RBQW9EO0FBQ3hRO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLHlDQUF5Qyx3REFBd0Q7QUFDakc7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvZ29vZ2xlLXBheW1lbnQvZ29vZ2xlLXBheW1lbnQuanM/MTRlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGFuYWx5dGljcyA9IHJlcXVpcmUoXCIuLi9saWIvYW5hbHl0aWNzXCIpO1xudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuLi9saWIvYXNzaWduXCIpLmFzc2lnbjtcbnZhciBjb252ZXJ0TWV0aG9kc1RvRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2NvbnZlcnQtbWV0aG9kcy10by1lcnJvclwiKTtcbnZhciBmaW5kID0gcmVxdWlyZShcIi4uL2xpYi9maW5kXCIpO1xudmFyIGdlbmVyYXRlR29vZ2xlUGF5Q29uZmlndXJhdGlvbiA9IHJlcXVpcmUoXCIuLi9saWIvZ2VuZXJhdGUtZ29vZ2xlLXBheS1jb25maWd1cmF0aW9uXCIpO1xudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xudmFyIG1ldGhvZHMgPSByZXF1aXJlKFwiLi4vbGliL21ldGhvZHNcIik7XG52YXIgd3JhcFByb21pc2UgPSByZXF1aXJlKFwiQGJyYWludHJlZS93cmFwLXByb21pc2VcIik7XG5cbnZhciBDUkVBVEVfUEFZTUVOVF9EQVRBX1JFUVVFU1RfTUVUSE9EUyA9IHtcbiAgMTogXCJfY3JlYXRlVjFQYXltZW50RGF0YVJlcXVlc3RcIixcbiAgMjogXCJfY3JlYXRlVjJQYXltZW50RGF0YVJlcXVlc3RcIixcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gR29vZ2xlUGF5bWVudH50b2tlbml6ZVBheWxvYWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBub25jZSBUaGUgcGF5bWVudCBtZXRob2Qgbm9uY2UuXG4gKiBAcHJvcGVydHkge29iamVjdH0gZGV0YWlscyBBZGRpdGlvbmFsIGFjY291bnQgZGV0YWlscy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmNhcmRUeXBlIFR5cGUgb2YgY2FyZCwgZXg6IFZpc2EsIE1hc3RlckNhcmQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5sYXN0Rm91ciBMYXN0IGZvdXIgZGlnaXRzIG9mIGNhcmQgbnVtYmVyLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMubGFzdFR3byBMYXN0IHR3byBkaWdpdHMgb2YgY2FyZCBudW1iZXIuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGRldGFpbHMuaXNOZXR3b3JrVG9rZW5pemVkIFRydWUgaWYgdGhlIGNhcmQgaXMgbmV0d29yayB0b2tlbml6ZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5iaW4gRmlyc3Qgc2l4IGRpZ2l0cyBvZiBjYXJkIG51bWJlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXNjcmlwdGlvbiBBIGh1bWFuLXJlYWRhYmxlIGRlc2NyaXB0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHBheW1lbnQgbWV0aG9kIHR5cGUsIGBDcmVkaXRDYXJkYCBvciBgQW5kcm9pZFBheUNhcmRgLlxuICogQHByb3BlcnR5IHtvYmplY3R9IGJpbkRhdGEgSW5mb3JtYXRpb24gYWJvdXQgdGhlIGNhcmQgYmFzZWQgb24gdGhlIGJpbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmNvbW1lcmNpYWwgUG9zc2libGUgdmFsdWVzOiAnWWVzJywgJ05vJywgJ1Vua25vd24nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEuY291bnRyeU9mSXNzdWFuY2UgVGhlIGNvdW50cnkgb2YgaXNzdWFuY2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5kZWJpdCBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5kdXJiaW5SZWd1bGF0ZWQgUG9zc2libGUgdmFsdWVzOiAnWWVzJywgJ05vJywgJ1Vua25vd24nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEuaGVhbHRoY2FyZSBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5pc3N1aW5nQmFuayBUaGUgaXNzdWluZyBiYW5rLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEucGF5cm9sbCBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5wcmVwYWlkIFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLnByb2R1Y3RJZCBUaGUgcHJvZHVjdCBpZC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzcyBHb29nbGVQYXltZW50XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBHb29nbGUgUGF5bWVudCB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvZ29vZ2xlLXBheW1lbnQuY3JlYXRlIGNyZWF0ZX0gb3B0aW9ucy5cbiAqIEBkZXNjcmlwdGlvbiA8c3Ryb25nPkRvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gVXNlIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9nb29nbGUtcGF5bWVudC5jcmVhdGV8YnJhaW50cmVlLXdlYi5nb29nbGUtcGF5bWVudC5jcmVhdGV9IGluc3RlYWQuPC9zdHJvbmc+XG4gKiBAY2xhc3NkZXNjIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIEdvb2dsZSBQYXltZW50IGNvbXBvbmVudCBwcm9kdWNlZCBieSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvZ29vZ2xlLXBheW1lbnQuY3JlYXRlfGJyYWludHJlZS13ZWIvZ29vZ2xlLXBheW1lbnQuY3JlYXRlfS4gSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgaGF2ZSBtZXRob2RzIGZvciBpbml0aWFsaXppbmcgdGhlIEdvb2dsZSBQYXkgZmxvdy5cbiAqL1xuZnVuY3Rpb24gR29vZ2xlUGF5bWVudChvcHRpb25zKSB7XG4gIHRoaXMuX2NyZWF0ZVByb21pc2UgPSBvcHRpb25zLmNyZWF0ZVByb21pc2U7XG4gIHRoaXMuX2NsaWVudCA9IG9wdGlvbnMuY2xpZW50O1xuICB0aGlzLl91c2VEZWZlcnJlZENsaWVudCA9IG9wdGlvbnMudXNlRGVmZXJyZWRDbGllbnQ7XG4gIC8vIE5FWFRfTUFKT1JfVkVSU0lPTiB0aGlzIHNob3VsZCBiZSB1cGRhdGVkIHRvIDIgKG9yIHdoYXRldmVyIHRoZSBjdXJyZW50IGxhdGVzdCB2ZXJzaW9uIGlzKVxuICB0aGlzLl9nb29nbGVQYXlWZXJzaW9uID0gb3B0aW9ucy5nb29nbGVQYXlWZXJzaW9uIHx8IDE7XG4gIHRoaXMuX2dvb2dsZU1lcmNoYW50SWQgPSBvcHRpb25zLmdvb2dsZU1lcmNoYW50SWQ7XG5cbiAgaWYgKHRoaXMuX2lzVW5zdXBwb3J0ZWRHb29nbGVQYXlBUElWZXJzaW9uKCkpIHtcbiAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgY29kZTogZXJyb3JzLkdPT0dMRV9QQVlNRU5UX1VOU1VQUE9SVEVEX1ZFUlNJT04uY29kZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIFwiVGhlIEJyYWludHJlZSBTREsgZG9lcyBub3Qgc3VwcG9ydCBHb29nbGUgUGF5IHZlcnNpb24gXCIgK1xuICAgICAgICB0aGlzLl9nb29nbGVQYXlWZXJzaW9uICtcbiAgICAgICAgXCIuIFBsZWFzZSB1cGdyYWRlIHRoZSB2ZXJzaW9uIG9mIHlvdXIgQnJhaW50cmVlIFNESyBhbmQgY29udGFjdCBzdXBwb3J0IGlmIHRoaXMgZXJyb3IgcGVyc2lzdHMuXCIsXG4gICAgICB0eXBlOiBlcnJvcnMuR09PR0xFX1BBWU1FTlRfVU5TVVBQT1JURURfVkVSU0lPTi50eXBlLFxuICAgIH0pO1xuICB9XG59XG5cbkdvb2dsZVBheW1lbnQucHJvdG90eXBlLl93YWl0Rm9yQ2xpZW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fY2xpZW50KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2NyZWF0ZVByb21pc2UudGhlbihcbiAgICBmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5Hb29nbGVQYXltZW50LnByb3RvdHlwZS5faXNVbnN1cHBvcnRlZEdvb2dsZVBheUFQSVZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gIC8vIGlmIHdlIGRvbid0IGhhdmUgY3JlYXRlUGF5bWVudERhdHFSZXF1ZXN0IG1ldGhvZCBmb3IgdGhlIHNwZWNpZmljXG4gIC8vIEFQSSB2ZXJzaW9uLCB0aGVuIHRoZSB2ZXJzaW9uIGlzIG5vdCBzdXBwb3J0ZWRcbiAgcmV0dXJuICEodGhpcy5fZ29vZ2xlUGF5VmVyc2lvbiBpbiBDUkVBVEVfUEFZTUVOVF9EQVRBX1JFUVVFU1RfTUVUSE9EUyk7XG59O1xuXG5Hb29nbGVQYXltZW50LnByb3RvdHlwZS5fZ2V0RGVmYXVsdENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLl9kZWZhdWx0Q29uZmlnKSB7XG4gICAgdGhpcy5fZGVmYXVsdENvbmZpZyA9IGdlbmVyYXRlR29vZ2xlUGF5Q29uZmlndXJhdGlvbihcbiAgICAgIHRoaXMuX2NsaWVudC5nZXRDb25maWd1cmF0aW9uKCksXG4gICAgICB0aGlzLl9nb29nbGVQYXlWZXJzaW9uLFxuICAgICAgdGhpcy5fZ29vZ2xlTWVyY2hhbnRJZFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fZGVmYXVsdENvbmZpZztcbn07XG5cbkdvb2dsZVBheW1lbnQucHJvdG90eXBlLl9jcmVhdGVWMVBheW1lbnREYXRhUmVxdWVzdCA9IGZ1bmN0aW9uIChcbiAgcGF5bWVudERhdGFSZXF1ZXN0XG4pIHtcbiAgdmFyIGRlZmF1bHRDb25maWcgPSB0aGlzLl9nZXREZWZhdWx0Q29uZmlnKCk7XG4gIHZhciBvdmVycmlkZUNhcmROZXR3b3JrcyA9XG4gICAgcGF5bWVudERhdGFSZXF1ZXN0LmNhcmRSZXF1aXJlbWVudHMgJiZcbiAgICBwYXltZW50RGF0YVJlcXVlc3QuY2FyZFJlcXVpcmVtZW50cy5hbGxvd2VkQ2FyZE5ldHdvcmtzO1xuICB2YXIgZGVmYXVsdENvbmZpZ0NhcmROZXR3b3JrcyA9XG4gICAgZGVmYXVsdENvbmZpZy5jYXJkUmVxdWlyZW1lbnRzLmFsbG93ZWRDYXJkTmV0d29ya3M7XG4gIHZhciBhbGxvd2VkQ2FyZE5ldHdvcmtzID0gb3ZlcnJpZGVDYXJkTmV0d29ya3MgfHwgZGVmYXVsdENvbmZpZ0NhcmROZXR3b3JrcztcblxuICBwYXltZW50RGF0YVJlcXVlc3QgPSBhc3NpZ24oe30sIGRlZmF1bHRDb25maWcsIHBheW1lbnREYXRhUmVxdWVzdCk7XG5cbiAgLy8gdGhpcyB3YXkgd2UgY2FuIHByZXNlcnZlIGFsbG93ZWRDYXJkTmV0d29ya3MgZnJvbSBkZWZhdWx0IGludGVncmF0aW9uXG4gIC8vIGlmIG1lcmNoYW50IGRpZCBub3QgcGFzcyBhbnkgaW4gYGNhcmRSZXF1aXJlbWVudHNgXG4gIHBheW1lbnREYXRhUmVxdWVzdC5jYXJkUmVxdWlyZW1lbnRzLmFsbG93ZWRDYXJkTmV0d29ya3MgPSBhbGxvd2VkQ2FyZE5ldHdvcmtzO1xuXG4gIHJldHVybiBwYXltZW50RGF0YVJlcXVlc3Q7XG59O1xuXG5Hb29nbGVQYXltZW50LnByb3RvdHlwZS5fY3JlYXRlVjJQYXltZW50RGF0YVJlcXVlc3QgPSBmdW5jdGlvbiAoXG4gIHBheW1lbnREYXRhUmVxdWVzdFxuKSB7XG4gIHZhciBkZWZhdWx0Q29uZmlnID0gdGhpcy5fZ2V0RGVmYXVsdENvbmZpZygpO1xuXG4gIGlmIChwYXltZW50RGF0YVJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzKSB7XG4gICAgcGF5bWVudERhdGFSZXF1ZXN0LmFsbG93ZWRQYXltZW50TWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXltZW50TWV0aG9kKSB7XG4gICAgICB2YXIgZGVmYXVsdFBheW1lbnRNZXRob2QgPSBmaW5kKFxuICAgICAgICBkZWZhdWx0Q29uZmlnLmFsbG93ZWRQYXltZW50TWV0aG9kcyxcbiAgICAgICAgXCJ0eXBlXCIsXG4gICAgICAgIHBheW1lbnRNZXRob2QudHlwZVxuICAgICAgKTtcblxuICAgICAgaWYgKGRlZmF1bHRQYXltZW50TWV0aG9kKSB7XG4gICAgICAgIGFwcGx5RGVmYXVsdHNUb1BheW1lbnRNZXRob2RDb25maWd1cmF0aW9uKFxuICAgICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgZGVmYXVsdFBheW1lbnRNZXRob2RcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHBheW1lbnREYXRhUmVxdWVzdCA9IGFzc2lnbih7fSwgZGVmYXVsdENvbmZpZywgcGF5bWVudERhdGFSZXF1ZXN0KTtcblxuICByZXR1cm4gcGF5bWVudERhdGFSZXF1ZXN0O1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdXNlIGluIHRoZSBgbG9hZFBheW1lbnREYXRhYCBtZXRob2QuXG4gKlxuICogKipOb3RlKio6IFZlcnNpb24gMSBvZiB0aGUgR29vZ2xlIFBheSBBcGkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZWNvbWUgdW5zdXBwb3J0ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gVW50aWwgdGhlbiwgdmVyc2lvbiAxIHdpbGwgY29udGludWUgdG8gYmUgdXNlZCBieSBkZWZhdWx0LCBhbmQgdmVyc2lvbiAxIHNjaGVtYSBwYXJhbWV0ZXJzIGFuZCBvdmVycmlkZXMgd2lsbCByZW1haW4gZnVuY3Rpb25hbCBvbiBleGlzdGluZyBpbnRlZ3JhdGlvbnMuIEhvd2V2ZXIsIG5ldyBpbnRlZ3JhdGlvbnMgYW5kIGFsbCBmb2xsb3dpbmcgZXhhbXBsZXMgd2lsbCBiZSBwcmVzZW50ZWQgaW4gdGhlIEdvb2dsZVBheSB2ZXJzaW9uIDIgc2NoZW1hLiBTZWUgW0dvb2dsZSBQYXkncyB1cGdyYWRlIGd1aWRlXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wYXkvYXBpL3dlYi9ndWlkZXMvcmVzb3VyY2VzL3VwZGF0ZS10by1sYXRlc3QtdmVyc2lvbikgdG8gc2VlIGhvdyB0byB1cGRhdGUgeW91ciBpbnRlZ3JhdGlvbi5cbiAqXG4gKiBJZiBgb3B0aW9ucy5nb29nbGVQYXlWZXJzaW9uID09PSAyYCB3YXMgc2V0IGR1cmluZyB0aGUgaW5pdGlhbCB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvZ29vZ2xlLXBheW1lbnQuY3JlYXRlfGNyZWF0ZX0gY2FsbCwgb3ZlcnJpZGVzIG11c3QgbWF0Y2ggdGhlIEdvb2dsZSBQYXkgdjIgc2NoZW1hIHRvIGJlIHZhbGlkLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvdmVycmlkZXMgVGhlIHN1cHBsaWVkIHBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIHRoZSBQYXltZW50RGF0YVJlcXVlc3Qgb2JqZWN0LiBSZXF1aXJlZCBwYXJhbWV0ZXJzIGFyZTpcbiAqICBAcGFyYW0ge29iamVjdH0gb3ZlcnJpZGVzLnRyYW5zYWN0aW9uSW5mbyBPYmplY3QgYWNjb3JkaW5nIHRvIHRoZSBbR29vZ2xlIFBheSBUcmFuc2FjdGlvbiBJbmZvXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wYXkvYXBpL3dlYi9yZWZlcmVuY2Uvb2JqZWN0I1RyYW5zYWN0aW9uSW5mbykgc3BlYy5cbiAqICBPcHRpb25hbGx5LCBhbnkgb2YgdGhlIHBhcmFtZXRlcnMgaW4gdGhlIFtQYXltZW50RGF0YVJlcXVlc3RdKGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3BheS9hcGkvd2ViL3JlZmVyZW5jZS9vYmplY3QjUGF5bWVudERhdGFSZXF1ZXN0KSBwYXJhbWV0ZXJzIGNhbiBiZSBvdmVycmlkZGVuLCBidXQgbm90ZSB0aGF0IGl0IGlzIHJlY29tbWVuZGVkIG9ubHkgdG8gb3ZlcnJpZGUgdG9wIGxldmVsIHBhcmFtZXRlcnMgdG8gYXZvaWQgc3F1YXNoaW5nIGRlZXBseSBuZXN0ZWQgY29uZmlndXJhdGlvbiBvYmplY3RzLiBBbiBleGFtcGxlIGNhbiBiZSBmb3VuZCBiZWxvdyBzaG93aW5nIGhvdyB0byBzYWZlbHkgZWRpdCB0aGVzZSBkZWVwbHkgbmVzdGVkIG9iamVjdHMuXG4gKiBAZXhhbXBsZVxuICogdmFyIHBheW1lbnREYXRhUmVxdWVzdCA9IGdvb2dsZVBheW1lbnRJbnN0YW5jZS5jcmVhdGVQYXltZW50RGF0YVJlcXVlc3Qoe1xuICogICBtZXJjaGFudEluZm86IHtcbiAqICAgICBtZXJjaGFudElkOiAnbXktbWVyY2hhbnQtaWQtZnJvbS1nb29nbGUnXG4gKiAgIH0sXG4gKiAgIHRyYW5zYWN0aW9uSW5mbzoge1xuICogICAgIGN1cnJlbmN5Q29kZTogJ1VTRCcsXG4gKiAgICAgdG90YWxQcmljZVN0YXR1czogJ0ZJTkFMJyxcbiAqICAgICB0b3RhbFByaWNlOiAnMTAwLjAwJ1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiAvLyBVcGRhdGUgY2FyZCBwYXltZW50IG1ldGhvZHMgdG8gcmVxdWlyZSBiaWxsaW5nIGFkZHJlc3NcbiAqIHZhciBjYXJkUGF5bWVudE1ldGhvZCA9IHBheW1lbnREYXRhUmVxdWVzdC5hbGxvd2VkUGF5bWVudE1ldGhvZHM7XG4gKiBjYXJkUGF5bWVudE1ldGhvZC5wYXJhbWV0ZXJzLmJpbGxpbmdBZGRyZXNzUmVxdWlyZWQgPSB0cnVlO1xuICogY2FyZFBheW1lbnRNZXRob2QucGFyYW1ldGVycy5iaWxsaW5nQWRkcmVzc1BhcmFtZXRlcnMgPSB7XG4gKiAgIGZvcm1hdDogJ0ZVTEwnLFxuICogICBwaG9uZU51bWJlclJlcXVpcmVkOiB0cnVlXG4gKiB9O1xuICpcbiAqIHZhciBwYXltZW50c0NsaWVudCA9IG5ldyBnb29nbGUucGF5bWVudHMuYXBpLlBheW1lbnRzQ2xpZW50KHtcbiAqICAgZW52aXJvbm1lbnQ6ICdURVNUJyAvLyBvciAnUFJPRFVDVElPTidcbiAqIH0pXG4gKlxuICogcGF5bWVudHNDbGllbnQubG9hZFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAqICAgLy8gaGFuZGxlIHJlc3BvbnNlIHdpdGggZ29vZ2xlUGF5bWVudEluc3RhbmNlLnBhcnNlUmVzcG9uc2VcbiAqICAgLy8gKHNlZSBiZWxvdylcbiAqIH0pO1xuICogQGV4YW1wbGUgPGNhcHRpb24+V2l0aCBkZWZlcnJlZCBjbGllbnQ8L2NhcHRpb24+XG4gKiBnb29nbGVQYXltZW50SW5zdGFuY2UuY3JlYXRlUGF5bWVudERhdGFSZXF1ZXN0KHtcbiAqICAgbWVyY2hhbnRJbmZvOiB7XG4gKiAgICAgbWVyY2hhbnRJZDogJ215LW1lcmNoYW50LWlkLWZyb20tZ29vZ2xlJ1xuICogICB9LFxuICogICB0cmFuc2FjdGlvbkluZm86IHtcbiAqICAgICBjdXJyZW5jeUNvZGU6ICdVU0QnLFxuICogICAgIHRvdGFsUHJpY2VTdGF0dXM6ICdGSU5BTCcsXG4gKiAgICAgdG90YWxQcmljZTogJzEwMC4wMCdcbiAqICAgfVxuICogfSkudGhlbihmdW5jdGlvbiAocGF5bWVudERhdGFSZXF1ZXN0KSB7XG4gKiAgIC8vIFVwZGF0ZSBjYXJkIHBheW1lbnQgbWV0aG9kcyB0byByZXF1aXJlIGJpbGxpbmcgYWRkcmVzc1xuICogICB2YXIgY2FyZFBheW1lbnRNZXRob2QgPSBwYXltZW50RGF0YVJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzO1xuICogICBjYXJkUGF5bWVudE1ldGhvZC5wYXJhbWV0ZXJzLmJpbGxpbmdBZGRyZXNzUmVxdWlyZWQgPSB0cnVlO1xuICogICBjYXJkUGF5bWVudE1ldGhvZC5wYXJhbWV0ZXJzLmJpbGxpbmdBZGRyZXNzUGFyYW1ldGVycyA9IHtcbiAqICAgICBmb3JtYXQ6ICdGVUxMJyxcbiAqICAgICBwaG9uZU51bWJlclJlcXVpcmVkOiB0cnVlXG4gKiAgIH07XG4gKlxuICogICB2YXIgcGF5bWVudHNDbGllbnQgPSBuZXcgZ29vZ2xlLnBheW1lbnRzLmFwaS5QYXltZW50c0NsaWVudCh7XG4gKiAgICAgZW52aXJvbm1lbnQ6ICdURVNUJyAvLyBvciAnUFJPRFVDVElPTidcbiAqICAgfSlcbiAqXG4gKiAgIHJldHVybiBwYXltZW50c0NsaWVudC5sb2FkUGF5bWVudERhdGEocGF5bWVudERhdGFSZXF1ZXN0KTtcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gKiAgIC8vIGhhbmRsZSByZXNwb25zZSB3aXRoIGdvb2dsZVBheW1lbnRJbnN0YW5jZS5wYXJzZVJlc3BvbnNlXG4gKiAgIC8vIChzZWUgYmVsb3cpXG4gKiB9KTtcbiAqIEByZXR1cm5zIHtvYmplY3R8UHJvbWlzZX0gUmV0dXJucyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBHb29nbGUgUGF5bWVudERhdGFSZXF1ZXN0LiBJZiBpbnN0YW50aWF0ZWQgd2l0aCBgdXNlRGVmZXJyZWRDbGllbnRgIGFuZCBhbiBgYXV0aG9yaXphdGlvbmAgaXQgd2lsbCByZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29uZmlndXJhdGlvbi5cbiAqL1xuR29vZ2xlUGF5bWVudC5wcm90b3R5cGUuY3JlYXRlUGF5bWVudERhdGFSZXF1ZXN0ID0gZnVuY3Rpb24gKG92ZXJyaWRlcykge1xuICBpZiAoIXRoaXMuX3VzZURlZmVycmVkQ2xpZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVBheW1lbnREYXRhUmVxdWVzdFN5bmNyb25vdXNseShvdmVycmlkZXMpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX3dhaXRGb3JDbGllbnQoKS50aGVuKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVQYXltZW50RGF0YVJlcXVlc3RTeW5jcm9ub3VzbHkob3ZlcnJpZGVzKTtcbiAgICB9LmJpbmQodGhpcylcbiAgKTtcbn07XG5cbkdvb2dsZVBheW1lbnQucHJvdG90eXBlLl9jcmVhdGVQYXltZW50RGF0YVJlcXVlc3RTeW5jcm9ub3VzbHkgPSBmdW5jdGlvbiAoXG4gIG92ZXJyaWRlc1xuKSB7XG4gIHZhciBwYXltZW50RGF0YVJlcXVlc3QgPSBhc3NpZ24oe30sIG92ZXJyaWRlcyk7XG4gIHZhciB2ZXJzaW9uID0gdGhpcy5fZ29vZ2xlUGF5VmVyc2lvbjtcbiAgdmFyIGNyZWF0ZVBheW1lbnREYXRhUmVxdWVzdE1ldGhvZCA9XG4gICAgQ1JFQVRFX1BBWU1FTlRfREFUQV9SRVFVRVNUX01FVEhPRFNbdmVyc2lvbl07XG5cbiAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICB0aGlzLl9jcmVhdGVQcm9taXNlLFxuICAgIFwiZ29vZ2xlLXBheW1lbnQudlwiICsgdmVyc2lvbiArIFwiLmNyZWF0ZVBheW1lbnREYXRhUmVxdWVzdFwiXG4gICk7XG5cbiAgcmV0dXJuIHRoaXNbY3JlYXRlUGF5bWVudERhdGFSZXF1ZXN0TWV0aG9kXShwYXltZW50RGF0YVJlcXVlc3QpO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgdG9rZW5pemF0aW9uLlxuICogQHB1YmxpY1xuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBiYWNrIGZyb20gdGhlIEdvb2dsZSBQYXkgdG9rZW5pemF0aW9uLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCA8Y29kZT5kYXRhPC9jb2RlPiwgaXMgYSB7QGxpbmsgR29vZ2xlUGF5fnRva2VuaXplUGF5bG9hZHx0b2tlbml6ZVBheWxvYWR9LiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgYHBhcnNlUmVzcG9uc2VgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHtAbGluayBHb29nbGVQYXltZW50fnRva2VuaXplUGF5bG9hZHx0b2tlbml6ZVBheWxvYWR9LlxuICogQGV4YW1wbGUgd2l0aCBjYWxsYmFja1xuICogdmFyIHBheW1lbnRzQ2xpZW50ID0gbmV3IGdvb2dsZS5wYXltZW50cy5hcGkuUGF5bWVudHNDbGllbnQoe1xuICogICBlbnZpcm9ubWVudDogJ1RFU1QnIC8vIG9yICdQUk9EVUNUSU9OJ1xuICogfSlcbiAqXG4gKiBwYXltZW50c0NsaWVudC5sb2FkUGF5bWVudERhdGEocGF5bWVudERhdGFSZXF1ZXN0RnJvbUNyZWF0ZVBheW1lbnREYXRhUmVxdWVzdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAqICAgZ29vZ2xlUGF5bWVudEluc3RhbmNlLnBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAqICAgICBpZiAoZXJyKSB7XG4gKiAgICAgICAvLyBoYW5kbGUgZXJyb3JzXG4gKiAgICAgfVxuICogICAgIC8vIHNlbmQgcGFyc2VkUmVzcG9uc2Uubm9uY2UgdG8geW91ciBzZXJ2ZXJcbiAqICAgfSk7XG4gKiB9KTtcbiAqIEBleGFtcGxlIHdpdGggcHJvbWlzZVxuICogdmFyIHBheW1lbnRzQ2xpZW50ID0gbmV3IGdvb2dsZS5wYXltZW50cy5hcGkuUGF5bWVudHNDbGllbnQoe1xuICogICBlbnZpcm9ubWVudDogJ1RFU1QnIC8vIG9yICdQUk9EVUNUSU9OJ1xuICogfSlcbiAqXG4gKiBwYXltZW50c0NsaWVudC5sb2FkUGF5bWVudERhdGEocGF5bWVudERhdGFSZXF1ZXN0RnJvbUNyZWF0ZVBheW1lbnREYXRhUmVxdWVzdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAqICAgcmV0dXJuIGdvb2dsZVBheW1lbnRJbnN0YW5jZS5wYXJzZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKHBhcnNlZFJlc3BvbnNlKSB7XG4gKiAgIC8vIHNlbmQgcGFyc2VkUmVzcG9uc2Uubm9uY2UgdG8geW91ciBzZXJ2ZXJcbiAqIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICAgLy8gaGFuZGxlIGVycm9yc1xuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdGhlIHBhcnNlZCByZXNwb25zZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqL1xuR29vZ2xlUGF5bWVudC5wcm90b3R5cGUucGFyc2VSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBheWxvYWQ7XG4gICAgICB2YXIgcmF3UmVzcG9uc2UgPVxuICAgICAgICByZXNwb25zZS5hcGlWZXJzaW9uID09PSAyXG4gICAgICAgICAgPyByZXNwb25zZS5wYXltZW50TWV0aG9kRGF0YS50b2tlbml6YXRpb25EYXRhLnRva2VuXG4gICAgICAgICAgOiByZXNwb25zZS5wYXltZW50TWV0aG9kVG9rZW4udG9rZW47XG4gICAgICB2YXIgcGFyc2VkUmVzcG9uc2UgPSBKU09OLnBhcnNlKHJhd1Jlc3BvbnNlKTtcbiAgICAgIHZhciBlcnJvciA9IHBhcnNlZFJlc3BvbnNlLmVycm9yO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgXCJnb29nbGUtcGF5bWVudC5wYXJzZVJlc3BvbnNlLnN1Y2NlZWRlZFwiXG4gICAgICApO1xuXG4gICAgICBpZiAocGFyc2VkUmVzcG9uc2UucGF5cGFsQWNjb3VudHMpIHtcbiAgICAgICAgcGF5bG9hZCA9IHBhcnNlZFJlc3BvbnNlLnBheXBhbEFjY291bnRzWzBdO1xuICAgICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICAgICAgXCJnb29nbGUtcGF5bWVudC5wYXJzZVJlc3BvbnNlLnN1Y2NlZWRlZC5wYXlwYWxcIlxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG5vbmNlOiBwYXlsb2FkLm5vbmNlLFxuICAgICAgICAgIHR5cGU6IHBheWxvYWQudHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcGF5bG9hZC5kZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBwYXlsb2FkID0gcGFyc2VkUmVzcG9uc2UuYW5kcm9pZFBheUNhcmRzWzBdO1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgXCJnb29nbGUtcGF5bWVudC5wYXJzZVJlc3BvbnNlLnN1Y2NlZWRlZC5nb29nbGUtcGF5bWVudFwiXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgbm9uY2U6IHBheWxvYWQubm9uY2UsXG4gICAgICAgIHR5cGU6IHBheWxvYWQudHlwZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHBheWxvYWQuZGVzY3JpcHRpb24sXG4gICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICBjYXJkVHlwZTogcGF5bG9hZC5kZXRhaWxzLmNhcmRUeXBlLFxuICAgICAgICAgIGxhc3RGb3VyOiBwYXlsb2FkLmRldGFpbHMubGFzdEZvdXIsXG4gICAgICAgICAgbGFzdFR3bzogcGF5bG9hZC5kZXRhaWxzLmxhc3RUd28sXG4gICAgICAgICAgaXNOZXR3b3JrVG9rZW5pemVkOiBwYXlsb2FkLmRldGFpbHMuaXNOZXR3b3JrVG9rZW5pemVkLFxuICAgICAgICAgIGJpbjogcGF5bG9hZC5kZXRhaWxzLmJpbixcbiAgICAgICAgfSxcbiAgICAgICAgYmluRGF0YTogcGF5bG9hZC5iaW5EYXRhLFxuICAgICAgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcImdvb2dsZS1wYXltZW50LnBhcnNlUmVzcG9uc2UuZmFpbGVkXCJcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICBjb2RlOiBlcnJvcnMuR09PR0xFX1BBWU1FTlRfR0FURVdBWV9FUlJPUi5jb2RlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9ycy5HT09HTEVfUEFZTUVOVF9HQVRFV0FZX0VSUk9SLm1lc3NhZ2UsXG4gICAgICAgICAgdHlwZTogZXJyb3JzLkdPT0dMRV9QQVlNRU5UX0dBVEVXQVlfRVJST1IudHlwZSxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvcixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogQ2xlYW5seSB0ZWFyIGRvd24gYW55dGhpbmcgc2V0IHVwIGJ5IHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9nb29nbGUtcGF5bWVudC5jcmVhdGV8Y3JlYXRlfS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uY2UgdGVhcmRvd24gaXMgY29tcGxldGUuIE5vIGRhdGEgaXMgcmV0dXJuZWQgaWYgdGVhcmRvd24gY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAqIEBleGFtcGxlXG4gKiBnb29nbGVQYXltZW50SW5zdGFuY2UudGVhcmRvd24oKTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPldpdGggY2FsbGJhY2s8L2NhcHRpb24+XG4gKiBnb29nbGVQYXltZW50SW5zdGFuY2UudGVhcmRvd24oZnVuY3Rpb24gKCkge1xuICogICAvLyB0ZWFyZG93biBpcyBjb21wbGV0ZVxuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Hb29nbGVQYXltZW50LnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgY29udmVydE1ldGhvZHNUb0Vycm9yKHRoaXMsIG1ldGhvZHMoR29vZ2xlUGF5bWVudC5wcm90b3R5cGUpKTtcblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG5mdW5jdGlvbiBhcHBseURlZmF1bHRzVG9QYXltZW50TWV0aG9kQ29uZmlndXJhdGlvbihcbiAgbWVyY2hhbnRTdWJtaXR0ZWRQYXltZW50TWV0aG9kLFxuICBkZWZhdWx0UGF5bWVudE1ldGhvZFxuKSB7XG4gIE9iamVjdC5rZXlzKGRlZmF1bHRQYXltZW50TWV0aG9kKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbWV0ZXIpIHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRQYXltZW50TWV0aG9kW3BhcmFtZXRlcl0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIG1lcmNoYW50U3VibWl0dGVkUGF5bWVudE1ldGhvZFtwYXJhbWV0ZXJdID0gYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgZGVmYXVsdFBheW1lbnRNZXRob2RbcGFyYW1ldGVyXSxcbiAgICAgICAgbWVyY2hhbnRTdWJtaXR0ZWRQYXltZW50TWV0aG9kW3BhcmFtZXRlcl1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lcmNoYW50U3VibWl0dGVkUGF5bWVudE1ldGhvZFtwYXJhbWV0ZXJdID1cbiAgICAgICAgbWVyY2hhbnRTdWJtaXR0ZWRQYXltZW50TWV0aG9kW3BhcmFtZXRlcl0gfHxcbiAgICAgICAgZGVmYXVsdFBheW1lbnRNZXRob2RbcGFyYW1ldGVyXTtcbiAgICB9XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdyYXBQcm9taXNlLndyYXBQcm90b3R5cGUoR29vZ2xlUGF5bWVudCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/google-payment/google-payment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/google-payment/index.js":
/*!************************************************************!*\
  !*** ./node_modules/braintree-web/google-payment/index.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/**\n * @module braintree-web/google-payment\n * @description A component to integrate with Google Pay. The majority of the integration uses [Google's pay.js JavaScript file](https://pay.google.com/gp/p/js/pay.js). The Braintree component generates the configuration object necessary for Google Pay to initiate the Payment Request and parse the returned data to retrieve the payment method nonce which is used to process the transaction on the server.\n */\n\nvar GooglePayment = __webpack_require__(/*! ./google-payment */ \"(ssr)/./node_modules/braintree-web/google-payment/google-payment.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar createAssetsUrl = __webpack_require__(/*! ../lib/create-assets-url */ \"(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\");\nvar createDeferredClient = __webpack_require__(/*! ../lib/create-deferred-client */ \"(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\");\nvar basicComponentVerification = __webpack_require__(/*! ../lib/basic-component-verification */ \"(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar VERSION = \"3.99.0\";\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/google-payment/errors.js\");\n\n/**\n * @static\n * @function create\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {boolean} [options.useDeferredClient] Used in conjunction with `authorization`, allows the Google Payment instance to be available right away by fetching the client configuration in the background. When this option is used, {@link GooglePayment#createPaymentDataRequest} will return a promise that resolves with the configuration instead of returning synchronously.\n * @param {number} [options.googlePayVersion] The version of the Google Pay API to use. Value of 2 is required to accept parameters documented [by Google](https://developers.google.com/pay/api/web/reference/object). Omit this parameter to use the deprecated Google Pay Version 1.\n * @param {string} [options.googleMerchantId] A Google merchant identifier issued after your website is approved by Google. Required when PaymentsClient is initialized with an environment property of PRODUCTION, but may be omitted in TEST environment.\n * @param {callback} [callback] The second argument, `data`, is the {@link GooglePayment} instance. If no callback is provided, `create` returns a promise that resolves with the {@link GooglePayment} instance.\n * @example <caption>Simple Example</caption>\n * // include https://pay.google.com/gp/p/js/pay.js in a script tag\n * // on your page to load the `google.payments.api.PaymentsClient` global object.\n *\n * var paymentButton = document.querySelector('#google-pay-button');\n * var paymentsClient = new google.payments.api.PaymentsClient({\n *   environment: 'TEST' // or 'PRODUCTION'\n * });\n *\n * braintree.client.create({\n *   authorization: 'tokenization-key-or-client-token'\n * }).then(function (clientInstance) {\n *   return braintree.googlePayment.create({\n *     client: clientInstance,\n *      googlePayVersion: 2,\n *      googleMerchantId: 'your-merchant-id-from-google'\n *   });\n * }).then(function (googlePaymentInstance) {\n *   paymentButton.addEventListener('click', function (event) {\n *     var paymentDataRequest;\n *\n *     event.preventDefault();\n *\n *     paymentDataRequest = googlePaymentInstance.createPaymentDataRequest({\n *       transactionInfo: {\n *         currencyCode: 'USD',\n *         totalPriceStatus: 'FINAL',\n *         totalPrice: '100.00'\n *       }\n *     });\n *\n *     paymentsClient.loadPaymentData(paymentDataRequest).then(function (paymentData) {\n *       return googlePaymentInstance.parseResponse(paymentData);\n *     }).then(function (result) {\n *       // send result.nonce to your server\n *     }).catch(function (err) {\n *       // handle err\n *     });\n *   });\n * });\n * @example <caption>Check Browser and Customer Compatibility</caption>\n * var paymentsClient = new google.payments.api.PaymentsClient({\n *   environment: 'TEST' // or 'PRODUCTION'\n * });\n *\n * function setupGooglePayButton(googlePaymentInstance) {\n *   var button = document.createElement('button');\n *\n *   button.id = 'google-pay';\n *   button.appendChild(document.createTextNode('Google Pay'));\n *   button.addEventListener('click', function (event) {\n *     var paymentRequestData;\n *\n *     event.preventDefault();\n *\n *     paymentDataRequest = googlePaymentInstance.createPaymentDataRequest({\n *       transactionInfo: {\n *         currencyCode: 'USD',\n *         totalPriceStatus: 'FINAL',\n *         totalPrice: '100.00' // your amount\n *       }\n *     });\n *\n *     paymentsClient.loadPaymentData(paymentDataRequest).then(function (paymentData) {\n *       return googlePaymentInstance.parseResponse(paymentData);\n *       }).then(function (result) {\n *       // send result.nonce to your server\n *     }).catch(function (err) {\n *       // handle errors\n *     });\n *   });\n *\n *   document.getElementById('container').appendChild(button);\n * }\n *\n * braintree.client.create({\n *   authorization: 'tokenization-key-or-client-token'\n * }).then(function (clientInstance) {\n *   return braintree.googlePayment.create({\n *     client: clientInstance,\n *     googlePayVersion: 2,\n *     googleMerchantId: 'your-merchant-id-from-google'\n *   });\n * }).then(function (googlePaymentInstance) {\n *\n *   return paymentsClient.isReadyToPay({\n *     // see https://developers.google.com/pay/api/web/reference/object#IsReadyToPayRequest for all options\n *     apiVersion: 2,\n *     apiVersionMinor: 0,\n *     allowedPaymentMethods: googlePaymentInstance.createPaymentDataRequest().allowedPaymentMethods,\n *     existingPaymentMethodRequired: true\n *   });\n * }).then(function (response) {\n *   if (response.result) {\n *     setupGooglePayButton(googlePaymentInstance);\n *   }\n * }).catch(function (err) {\n *   // handle setup errors\n * });\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nfunction create(options) {\n  var name = \"Google Pay\";\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      var createPromise, instance;\n\n      createPromise = createDeferredClient\n        .create({\n          authorization: options.authorization,\n          client: options.client,\n          debug: options.debug,\n          assetsUrl: createAssetsUrl.create(options.authorization),\n          name: name,\n        })\n        .then(function (client) {\n          var configuration = client.getConfiguration();\n\n          options.client = client;\n          if (!configuration.gatewayConfiguration.androidPay) {\n            return Promise.reject(\n              new BraintreeError(errors.GOOGLE_PAYMENT_NOT_ENABLED)\n            );\n          }\n\n          return client;\n        });\n\n      options.createPromise = createPromise;\n      instance = new GooglePayment(options);\n\n      if (!options.useDeferredClient) {\n        return createPromise.then(function (client) {\n          instance._client = client;\n\n          return instance;\n        });\n      }\n\n      return instance;\n    });\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9nb29nbGUtcGF5bWVudC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixtQkFBTyxDQUFDLDZGQUFrQjtBQUM5QyxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7QUFDckQsc0JBQXNCLG1CQUFPLENBQUMsNkZBQTBCO0FBQ3hELDJCQUEyQixtQkFBTyxDQUFDLHVHQUErQjtBQUNsRSxpQ0FBaUMsbUJBQU8sQ0FBQyxtSEFBcUM7QUFDOUUsa0JBQWtCLG1CQUFPLENBQUMsa0dBQXlCO0FBQ25EO0FBQ0EsYUFBYSxtQkFBTyxDQUFDLDZFQUFVOztBQUUvQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLG9CQUFvQixjQUFjO0FBQ3JELFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVMsdU5BQXVOLDhDQUE4QztBQUN6UixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVSxnREFBZ0QscUJBQXFCLHlGQUF5RixxQkFBcUI7QUFDeE07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUixNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEUsWUFBWTtBQUNaO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9nb29nbGUtcGF5bWVudC9pbmRleC5qcz85ODg5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbW9kdWxlIGJyYWludHJlZS13ZWIvZ29vZ2xlLXBheW1lbnRcbiAqIEBkZXNjcmlwdGlvbiBBIGNvbXBvbmVudCB0byBpbnRlZ3JhdGUgd2l0aCBHb29nbGUgUGF5LiBUaGUgbWFqb3JpdHkgb2YgdGhlIGludGVncmF0aW9uIHVzZXMgW0dvb2dsZSdzIHBheS5qcyBKYXZhU2NyaXB0IGZpbGVdKGh0dHBzOi8vcGF5Lmdvb2dsZS5jb20vZ3AvcC9qcy9wYXkuanMpLiBUaGUgQnJhaW50cmVlIGNvbXBvbmVudCBnZW5lcmF0ZXMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IG5lY2Vzc2FyeSBmb3IgR29vZ2xlIFBheSB0byBpbml0aWF0ZSB0aGUgUGF5bWVudCBSZXF1ZXN0IGFuZCBwYXJzZSB0aGUgcmV0dXJuZWQgZGF0YSB0byByZXRyaWV2ZSB0aGUgcGF5bWVudCBtZXRob2Qgbm9uY2Ugd2hpY2ggaXMgdXNlZCB0byBwcm9jZXNzIHRoZSB0cmFuc2FjdGlvbiBvbiB0aGUgc2VydmVyLlxuICovXG5cbnZhciBHb29nbGVQYXltZW50ID0gcmVxdWlyZShcIi4vZ29vZ2xlLXBheW1lbnRcIik7XG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcbnZhciBjcmVhdGVBc3NldHNVcmwgPSByZXF1aXJlKFwiLi4vbGliL2NyZWF0ZS1hc3NldHMtdXJsXCIpO1xudmFyIGNyZWF0ZURlZmVycmVkQ2xpZW50ID0gcmVxdWlyZShcIi4uL2xpYi9jcmVhdGUtZGVmZXJyZWQtY2xpZW50XCIpO1xudmFyIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uID0gcmVxdWlyZShcIi4uL2xpYi9iYXNpYy1jb21wb25lbnQtdmVyaWZpY2F0aW9uXCIpO1xudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xudmFyIFZFUlNJT04gPSBcIjMuOTkuMFwiO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gY3JlYXRlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBDcmVhdGlvbiBvcHRpb25zOlxuICogQHBhcmFtIHtDbGllbnR9IFtvcHRpb25zLmNsaWVudF0gQSB7QGxpbmsgQ2xpZW50fSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hdXRob3JpemF0aW9uXSBBIHRva2VuaXphdGlvbktleSBvciBjbGllbnRUb2tlbi4gQ2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYG9wdGlvbnMuY2xpZW50YC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlRGVmZXJyZWRDbGllbnRdIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgYXV0aG9yaXphdGlvbmAsIGFsbG93cyB0aGUgR29vZ2xlIFBheW1lbnQgaW5zdGFuY2UgdG8gYmUgYXZhaWxhYmxlIHJpZ2h0IGF3YXkgYnkgZmV0Y2hpbmcgdGhlIGNsaWVudCBjb25maWd1cmF0aW9uIGluIHRoZSBiYWNrZ3JvdW5kLiBXaGVuIHRoaXMgb3B0aW9uIGlzIHVzZWQsIHtAbGluayBHb29nbGVQYXltZW50I2NyZWF0ZVBheW1lbnREYXRhUmVxdWVzdH0gd2lsbCByZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29uZmlndXJhdGlvbiBpbnN0ZWFkIG9mIHJldHVybmluZyBzeW5jaHJvbm91c2x5LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmdvb2dsZVBheVZlcnNpb25dIFRoZSB2ZXJzaW9uIG9mIHRoZSBHb29nbGUgUGF5IEFQSSB0byB1c2UuIFZhbHVlIG9mIDIgaXMgcmVxdWlyZWQgdG8gYWNjZXB0IHBhcmFtZXRlcnMgZG9jdW1lbnRlZCBbYnkgR29vZ2xlXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wYXkvYXBpL3dlYi9yZWZlcmVuY2Uvb2JqZWN0KS4gT21pdCB0aGlzIHBhcmFtZXRlciB0byB1c2UgdGhlIGRlcHJlY2F0ZWQgR29vZ2xlIFBheSBWZXJzaW9uIDEuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZ29vZ2xlTWVyY2hhbnRJZF0gQSBHb29nbGUgbWVyY2hhbnQgaWRlbnRpZmllciBpc3N1ZWQgYWZ0ZXIgeW91ciB3ZWJzaXRlIGlzIGFwcHJvdmVkIGJ5IEdvb2dsZS4gUmVxdWlyZWQgd2hlbiBQYXltZW50c0NsaWVudCBpcyBpbml0aWFsaXplZCB3aXRoIGFuIGVudmlyb25tZW50IHByb3BlcnR5IG9mIFBST0RVQ1RJT04sIGJ1dCBtYXkgYmUgb21pdHRlZCBpbiBURVNUIGVudmlyb25tZW50LlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCBgZGF0YWAsIGlzIHRoZSB7QGxpbmsgR29vZ2xlUGF5bWVudH0gaW5zdGFuY2UuIElmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLCBgY3JlYXRlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHtAbGluayBHb29nbGVQYXltZW50fSBpbnN0YW5jZS5cbiAqIEBleGFtcGxlIDxjYXB0aW9uPlNpbXBsZSBFeGFtcGxlPC9jYXB0aW9uPlxuICogLy8gaW5jbHVkZSBodHRwczovL3BheS5nb29nbGUuY29tL2dwL3AvanMvcGF5LmpzIGluIGEgc2NyaXB0IHRhZ1xuICogLy8gb24geW91ciBwYWdlIHRvIGxvYWQgdGhlIGBnb29nbGUucGF5bWVudHMuYXBpLlBheW1lbnRzQ2xpZW50YCBnbG9iYWwgb2JqZWN0LlxuICpcbiAqIHZhciBwYXltZW50QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dvb2dsZS1wYXktYnV0dG9uJyk7XG4gKiB2YXIgcGF5bWVudHNDbGllbnQgPSBuZXcgZ29vZ2xlLnBheW1lbnRzLmFwaS5QYXltZW50c0NsaWVudCh7XG4gKiAgIGVudmlyb25tZW50OiAnVEVTVCcgLy8gb3IgJ1BST0RVQ1RJT04nXG4gKiB9KTtcbiAqXG4gKiBicmFpbnRyZWUuY2xpZW50LmNyZWF0ZSh7XG4gKiAgIGF1dGhvcml6YXRpb246ICd0b2tlbml6YXRpb24ta2V5LW9yLWNsaWVudC10b2tlbidcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKGNsaWVudEluc3RhbmNlKSB7XG4gKiAgIHJldHVybiBicmFpbnRyZWUuZ29vZ2xlUGF5bWVudC5jcmVhdGUoe1xuICogICAgIGNsaWVudDogY2xpZW50SW5zdGFuY2UsXG4gKiAgICAgIGdvb2dsZVBheVZlcnNpb246IDIsXG4gKiAgICAgIGdvb2dsZU1lcmNoYW50SWQ6ICd5b3VyLW1lcmNoYW50LWlkLWZyb20tZ29vZ2xlJ1xuICogICB9KTtcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKGdvb2dsZVBheW1lbnRJbnN0YW5jZSkge1xuICogICBwYXltZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgdmFyIHBheW1lbnREYXRhUmVxdWVzdDtcbiAqXG4gKiAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAqXG4gKiAgICAgcGF5bWVudERhdGFSZXF1ZXN0ID0gZ29vZ2xlUGF5bWVudEluc3RhbmNlLmNyZWF0ZVBheW1lbnREYXRhUmVxdWVzdCh7XG4gKiAgICAgICB0cmFuc2FjdGlvbkluZm86IHtcbiAqICAgICAgICAgY3VycmVuY3lDb2RlOiAnVVNEJyxcbiAqICAgICAgICAgdG90YWxQcmljZVN0YXR1czogJ0ZJTkFMJyxcbiAqICAgICAgICAgdG90YWxQcmljZTogJzEwMC4wMCdcbiAqICAgICAgIH1cbiAqICAgICB9KTtcbiAqXG4gKiAgICAgcGF5bWVudHNDbGllbnQubG9hZFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCkudGhlbihmdW5jdGlvbiAocGF5bWVudERhdGEpIHtcbiAqICAgICAgIHJldHVybiBnb29nbGVQYXltZW50SW5zdGFuY2UucGFyc2VSZXNwb25zZShwYXltZW50RGF0YSk7XG4gKiAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gKiAgICAgICAvLyBzZW5kIHJlc3VsdC5ub25jZSB0byB5b3VyIHNlcnZlclxuICogICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICAgICAgIC8vIGhhbmRsZSBlcnJcbiAqICAgICB9KTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPkNoZWNrIEJyb3dzZXIgYW5kIEN1c3RvbWVyIENvbXBhdGliaWxpdHk8L2NhcHRpb24+XG4gKiB2YXIgcGF5bWVudHNDbGllbnQgPSBuZXcgZ29vZ2xlLnBheW1lbnRzLmFwaS5QYXltZW50c0NsaWVudCh7XG4gKiAgIGVudmlyb25tZW50OiAnVEVTVCcgLy8gb3IgJ1BST0RVQ1RJT04nXG4gKiB9KTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cEdvb2dsZVBheUJ1dHRvbihnb29nbGVQYXltZW50SW5zdGFuY2UpIHtcbiAqICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICpcbiAqICAgYnV0dG9uLmlkID0gJ2dvb2dsZS1wYXknO1xuICogICBidXR0b24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ0dvb2dsZSBQYXknKSk7XG4gKiAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICogICAgIHZhciBwYXltZW50UmVxdWVzdERhdGE7XG4gKlxuICogICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gKlxuICogICAgIHBheW1lbnREYXRhUmVxdWVzdCA9IGdvb2dsZVBheW1lbnRJbnN0YW5jZS5jcmVhdGVQYXltZW50RGF0YVJlcXVlc3Qoe1xuICogICAgICAgdHJhbnNhY3Rpb25JbmZvOiB7XG4gKiAgICAgICAgIGN1cnJlbmN5Q29kZTogJ1VTRCcsXG4gKiAgICAgICAgIHRvdGFsUHJpY2VTdGF0dXM6ICdGSU5BTCcsXG4gKiAgICAgICAgIHRvdGFsUHJpY2U6ICcxMDAuMDAnIC8vIHlvdXIgYW1vdW50XG4gKiAgICAgICB9XG4gKiAgICAgfSk7XG4gKlxuICogICAgIHBheW1lbnRzQ2xpZW50LmxvYWRQYXltZW50RGF0YShwYXltZW50RGF0YVJlcXVlc3QpLnRoZW4oZnVuY3Rpb24gKHBheW1lbnREYXRhKSB7XG4gKiAgICAgICByZXR1cm4gZ29vZ2xlUGF5bWVudEluc3RhbmNlLnBhcnNlUmVzcG9uc2UocGF5bWVudERhdGEpO1xuICogICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gKiAgICAgICAvLyBzZW5kIHJlc3VsdC5ub25jZSB0byB5b3VyIHNlcnZlclxuICogICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICAgICAgIC8vIGhhbmRsZSBlcnJvcnNcbiAqICAgICB9KTtcbiAqICAgfSk7XG4gKlxuICogICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAqIH1cbiAqXG4gKiBicmFpbnRyZWUuY2xpZW50LmNyZWF0ZSh7XG4gKiAgIGF1dGhvcml6YXRpb246ICd0b2tlbml6YXRpb24ta2V5LW9yLWNsaWVudC10b2tlbidcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKGNsaWVudEluc3RhbmNlKSB7XG4gKiAgIHJldHVybiBicmFpbnRyZWUuZ29vZ2xlUGF5bWVudC5jcmVhdGUoe1xuICogICAgIGNsaWVudDogY2xpZW50SW5zdGFuY2UsXG4gKiAgICAgZ29vZ2xlUGF5VmVyc2lvbjogMixcbiAqICAgICBnb29nbGVNZXJjaGFudElkOiAneW91ci1tZXJjaGFudC1pZC1mcm9tLWdvb2dsZSdcbiAqICAgfSk7XG4gKiB9KS50aGVuKGZ1bmN0aW9uIChnb29nbGVQYXltZW50SW5zdGFuY2UpIHtcbiAqXG4gKiAgIHJldHVybiBwYXltZW50c0NsaWVudC5pc1JlYWR5VG9QYXkoe1xuICogICAgIC8vIHNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wYXkvYXBpL3dlYi9yZWZlcmVuY2Uvb2JqZWN0I0lzUmVhZHlUb1BheVJlcXVlc3QgZm9yIGFsbCBvcHRpb25zXG4gKiAgICAgYXBpVmVyc2lvbjogMixcbiAqICAgICBhcGlWZXJzaW9uTWlub3I6IDAsXG4gKiAgICAgYWxsb3dlZFBheW1lbnRNZXRob2RzOiBnb29nbGVQYXltZW50SW5zdGFuY2UuY3JlYXRlUGF5bWVudERhdGFSZXF1ZXN0KCkuYWxsb3dlZFBheW1lbnRNZXRob2RzLFxuICogICAgIGV4aXN0aW5nUGF5bWVudE1ldGhvZFJlcXVpcmVkOiB0cnVlXG4gKiAgIH0pO1xuICogfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAqICAgaWYgKHJlc3BvbnNlLnJlc3VsdCkge1xuICogICAgIHNldHVwR29vZ2xlUGF5QnV0dG9uKGdvb2dsZVBheW1lbnRJbnN0YW5jZSk7XG4gKiAgIH1cbiAqIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICAgLy8gaGFuZGxlIHNldHVwIGVycm9yc1xuICogfSk7XG4gKlxuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlKG9wdGlvbnMpIHtcbiAgdmFyIG5hbWUgPSBcIkdvb2dsZSBQYXlcIjtcblxuICByZXR1cm4gYmFzaWNDb21wb25lbnRWZXJpZmljYXRpb25cbiAgICAudmVyaWZ5KHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBjbGllbnQ6IG9wdGlvbnMuY2xpZW50LFxuICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNyZWF0ZVByb21pc2UsIGluc3RhbmNlO1xuXG4gICAgICBjcmVhdGVQcm9taXNlID0gY3JlYXRlRGVmZXJyZWRDbGllbnRcbiAgICAgICAgLmNyZWF0ZSh7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgIGNsaWVudDogb3B0aW9ucy5jbGllbnQsXG4gICAgICAgICAgZGVidWc6IG9wdGlvbnMuZGVidWcsXG4gICAgICAgICAgYXNzZXRzVXJsOiBjcmVhdGVBc3NldHNVcmwuY3JlYXRlKG9wdGlvbnMuYXV0aG9yaXphdGlvbiksXG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgIHZhciBjb25maWd1cmF0aW9uID0gY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKTtcblxuICAgICAgICAgIG9wdGlvbnMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgICAgIGlmICghY29uZmlndXJhdGlvbi5nYXRld2F5Q29uZmlndXJhdGlvbi5hbmRyb2lkUGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuR09PR0xFX1BBWU1FTlRfTk9UX0VOQUJMRUQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICAgIH0pO1xuXG4gICAgICBvcHRpb25zLmNyZWF0ZVByb21pc2UgPSBjcmVhdGVQcm9taXNlO1xuICAgICAgaW5zdGFuY2UgPSBuZXcgR29vZ2xlUGF5bWVudChvcHRpb25zKTtcblxuICAgICAgaWYgKCFvcHRpb25zLnVzZURlZmVycmVkQ2xpZW50KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgIGluc3RhbmNlLl9jbGllbnQgPSBjbGllbnQ7XG5cbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6IHdyYXBQcm9taXNlKGNyZWF0ZSksXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgU0RLLCBpLmUuIGB7QHBrZyB2ZXJzaW9ufWAuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBWRVJTSU9OOiBWRVJTSU9OLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/google-payment/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/external/attribute-validation-error.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/external/attribute-validation-error.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar errors = __webpack_require__(/*! ../shared/errors */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/errors.js\");\nvar allowedAttributes = (__webpack_require__(/*! ../shared/constants */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\").allowedAttributes);\n\nfunction attributeValidationError(attribute, value) {\n  var err;\n\n  if (!allowedAttributes.hasOwnProperty(attribute)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,\n      code: errors.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,\n      message:\n        'The \"' + attribute + '\" attribute is not supported in Hosted Fields.',\n    });\n  } else if (value != null && !_isValid(attribute, value)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,\n      code: errors.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,\n      message:\n        'Value \"' +\n        value +\n        '\" is not allowed for \"' +\n        attribute +\n        '\" attribute.',\n    });\n  }\n\n  return err;\n}\n\nfunction _isValid(attribute, value) {\n  if (allowedAttributes[attribute] === \"string\") {\n    return typeof value === \"string\" || typeof value === \"number\";\n  } else if (allowedAttributes[attribute] === \"boolean\") {\n    return String(value) === \"true\" || String(value) === \"false\";\n  }\n\n  return false;\n}\n\nmodule.exports = attributeValidationError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2F0dHJpYnV0ZS12YWxpZGF0aW9uLWVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHFCQUFxQixtQkFBTyxDQUFDLDRGQUEyQjtBQUN4RCxhQUFhLG1CQUFPLENBQUMsMkZBQWtCO0FBQ3ZDLHdCQUF3QiwwSUFBZ0Q7O0FBRXhFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHMvZXh0ZXJuYWwvYXR0cmlidXRlLXZhbGlkYXRpb24tZXJyb3IuanM/YzM5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uLy4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9lcnJvcnNcIik7XG52YXIgYWxsb3dlZEF0dHJpYnV0ZXMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2NvbnN0YW50c1wiKS5hbGxvd2VkQXR0cmlidXRlcztcblxuZnVuY3Rpb24gYXR0cmlidXRlVmFsaWRhdGlvbkVycm9yKGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgdmFyIGVycjtcblxuICBpZiAoIWFsbG93ZWRBdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZSkpIHtcbiAgICBlcnIgPSBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgdHlwZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfQVRUUklCVVRFX05PVF9TVVBQT1JURUQudHlwZSxcbiAgICAgIGNvZGU6IGVycm9ycy5IT1NURURfRklFTERTX0FUVFJJQlVURV9OT1RfU1VQUE9SVEVELmNvZGUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnVGhlIFwiJyArIGF0dHJpYnV0ZSArICdcIiBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZCBpbiBIb3N0ZWQgRmllbGRzLicsXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCAmJiAhX2lzVmFsaWQoYXR0cmlidXRlLCB2YWx1ZSkpIHtcbiAgICBlcnIgPSBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgdHlwZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfQVRUUklCVVRFX1ZBTFVFX05PVF9BTExPV0VELnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19BVFRSSUJVVEVfVkFMVUVfTk9UX0FMTE9XRUQuY29kZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdWYWx1ZSBcIicgK1xuICAgICAgICB2YWx1ZSArXG4gICAgICAgICdcIiBpcyBub3QgYWxsb3dlZCBmb3IgXCInICtcbiAgICAgICAgYXR0cmlidXRlICtcbiAgICAgICAgJ1wiIGF0dHJpYnV0ZS4nLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGVycjtcbn1cblxuZnVuY3Rpb24gX2lzVmFsaWQoYXR0cmlidXRlLCB2YWx1ZSkge1xuICBpZiAoYWxsb3dlZEF0dHJpYnV0ZXNbYXR0cmlidXRlXSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiO1xuICB9IGVsc2UgaWYgKGFsbG93ZWRBdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSkgPT09IFwidHJ1ZVwiIHx8IFN0cmluZyh2YWx1ZSkgPT09IFwiZmFsc2VcIjtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhdHRyaWJ1dGVWYWxpZGF0aW9uRXJyb3I7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/external/attribute-validation-error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/external/compose-url.js":
/*!**************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/external/compose-url.js ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar constants = __webpack_require__(/*! ../shared/constants */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\");\nvar useMin = __webpack_require__(/*! ../../lib/use-min */ \"(ssr)/./node_modules/braintree-web/lib/use-min.js\");\n\nmodule.exports = function composeUrl(assetsUrl, componentId, isDebug) {\n  return (\n    assetsUrl +\n    \"/web/\" +\n    constants.VERSION +\n    \"/html/hosted-fields-frame\" +\n    useMin(isDebug) +\n    \".html#\" +\n    componentId\n  );\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2NvbXBvc2UtdXJsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLGlHQUFxQjtBQUM3QyxhQUFhLG1CQUFPLENBQUMsNEVBQW1COztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHMvZXh0ZXJuYWwvY29tcG9zZS11cmwuanM/N2Y5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGNvbnN0YW50cyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvY29uc3RhbnRzXCIpO1xudmFyIHVzZU1pbiA9IHJlcXVpcmUoXCIuLi8uLi9saWIvdXNlLW1pblwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21wb3NlVXJsKGFzc2V0c1VybCwgY29tcG9uZW50SWQsIGlzRGVidWcpIHtcbiAgcmV0dXJuIChcbiAgICBhc3NldHNVcmwgK1xuICAgIFwiL3dlYi9cIiArXG4gICAgY29uc3RhbnRzLlZFUlNJT04gK1xuICAgIFwiL2h0bWwvaG9zdGVkLWZpZWxkcy1mcmFtZVwiICtcbiAgICB1c2VNaW4oaXNEZWJ1ZykgK1xuICAgIFwiLmh0bWwjXCIgK1xuICAgIGNvbXBvbmVudElkXG4gICk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/external/compose-url.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/external/focus-change.js":
/*!***************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/external/focus-change.js ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar directions = (__webpack_require__(/*! ../shared/constants */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\").navigationDirections);\nvar browserDetection = __webpack_require__(/*! ../shared/browser-detection */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/browser-detection.js\");\nvar focusIntercept = __webpack_require__(/*! ../shared/focus-intercept */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/focus-intercept.js\");\nvar findParentTags = __webpack_require__(/*! ../shared/find-parent-tags */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/find-parent-tags.js\");\nvar userFocusableTagNames = [\"INPUT\", \"SELECT\", \"TEXTAREA\"];\n// Devices with software keyboards do not or cannot focus on input types\n// that do not require keyboard-based interaction.\nvar unfocusedInputTypes = [\n  \"hidden\",\n  \"button\",\n  \"reset\",\n  \"submit\",\n  \"checkbox\",\n  \"radio\",\n  \"file\",\n];\n\nfunction _isUserFocusableElement(element) {\n  if (!browserDetection.hasSoftwareKeyboard()) {\n    // on desktop browsers, the only input type that isn't focusable\n    // is the hidden input\n    return element.type !== \"hidden\";\n  }\n\n  return (\n    userFocusableTagNames.indexOf(element.tagName) > -1 &&\n    unfocusedInputTypes.indexOf(element.type) < 0\n  );\n}\n\nfunction _createNavigationHelper(direction, numberOfElementsInForm) {\n  switch (direction) {\n    case directions.BACK:\n      return {\n        checkIndexBounds: function (index) {\n          return index < 0;\n        },\n        indexChange: -1,\n      };\n    case directions.FORWARD:\n      return {\n        checkIndexBounds: function (index) {\n          return index > numberOfElementsInForm - 1;\n        },\n        indexChange: 1,\n      };\n    default:\n  }\n\n  return {};\n}\n\nfunction _findFirstFocusableElement(elementsInForm) {\n  var elementsIndex, element;\n\n  for (\n    elementsIndex = 0;\n    elementsIndex < elementsInForm.length;\n    elementsIndex++\n  ) {\n    element = elementsInForm[elementsIndex];\n\n    if (_isUserFocusableElement(element)) {\n      return element;\n    }\n  }\n\n  return null;\n}\n\nmodule.exports = {\n  removeExtraFocusElements: function (checkoutForm, onRemoveFocusIntercepts) {\n    var elements = Array.prototype.slice.call(checkoutForm.elements);\n    var firstFocusableInput = _findFirstFocusableElement(elements);\n    var lastFocusableInput = _findFirstFocusableElement(elements.reverse());\n\n    // these should never be identical, because there will at least be the\n    // before and the after input\n    [firstFocusableInput, lastFocusableInput].forEach(function (input) {\n      if (!input) {\n        return;\n      }\n\n      if (focusIntercept.matchFocusElement(input.getAttribute(\"id\"))) {\n        onRemoveFocusIntercepts(input.getAttribute(\"id\"));\n      }\n    });\n  },\n\n  createFocusChangeHandler: function (hostedFieldsId, callbacks) {\n    return function (data) {\n      var currentIndex, targetElement, checkoutForm, navHelper;\n      var sourceElement = document.getElementById(\n        \"bt-\" + data.field + \"-\" + data.direction + \"-\" + hostedFieldsId\n      );\n\n      if (!sourceElement) {\n        return;\n      }\n\n      checkoutForm = findParentTags(sourceElement, \"form\")[0];\n\n      if (document.forms.length < 1 || !checkoutForm) {\n        callbacks.onRemoveFocusIntercepts();\n\n        return;\n      }\n\n      checkoutForm = [].slice.call(checkoutForm.elements);\n      currentIndex = checkoutForm.indexOf(sourceElement);\n      navHelper = _createNavigationHelper(data.direction, checkoutForm.length);\n\n      do {\n        currentIndex += navHelper.indexChange;\n        if (navHelper.checkIndexBounds(currentIndex)) {\n          return;\n        }\n        targetElement = checkoutForm[currentIndex];\n      } while (!_isUserFocusableElement(targetElement));\n\n      if (focusIntercept.matchFocusElement(targetElement.getAttribute(\"id\"))) {\n        callbacks.onTriggerInputFocus(\n          targetElement.getAttribute(\"data-braintree-type\")\n        );\n      } else {\n        targetElement.focus();\n      }\n    };\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2ZvY3VzLWNoYW5nZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixpQkFBaUIsNklBQW1EO0FBQ3BFLHVCQUF1QixtQkFBTyxDQUFDLGlIQUE2QjtBQUM1RCxxQkFBcUIsbUJBQU8sQ0FBQyw2R0FBMkI7QUFDeEQscUJBQXFCLG1CQUFPLENBQUMsK0dBQTRCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkcy9leHRlcm5hbC9mb2N1cy1jaGFuZ2UuanM/Mzg2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGRpcmVjdGlvbnMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2NvbnN0YW50c1wiKS5uYXZpZ2F0aW9uRGlyZWN0aW9ucztcbnZhciBicm93c2VyRGV0ZWN0aW9uID0gcmVxdWlyZShcIi4uL3NoYXJlZC9icm93c2VyLWRldGVjdGlvblwiKTtcbnZhciBmb2N1c0ludGVyY2VwdCA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvZm9jdXMtaW50ZXJjZXB0XCIpO1xudmFyIGZpbmRQYXJlbnRUYWdzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9maW5kLXBhcmVudC10YWdzXCIpO1xudmFyIHVzZXJGb2N1c2FibGVUYWdOYW1lcyA9IFtcIklOUFVUXCIsIFwiU0VMRUNUXCIsIFwiVEVYVEFSRUFcIl07XG4vLyBEZXZpY2VzIHdpdGggc29mdHdhcmUga2V5Ym9hcmRzIGRvIG5vdCBvciBjYW5ub3QgZm9jdXMgb24gaW5wdXQgdHlwZXNcbi8vIHRoYXQgZG8gbm90IHJlcXVpcmUga2V5Ym9hcmQtYmFzZWQgaW50ZXJhY3Rpb24uXG52YXIgdW5mb2N1c2VkSW5wdXRUeXBlcyA9IFtcbiAgXCJoaWRkZW5cIixcbiAgXCJidXR0b25cIixcbiAgXCJyZXNldFwiLFxuICBcInN1Ym1pdFwiLFxuICBcImNoZWNrYm94XCIsXG4gIFwicmFkaW9cIixcbiAgXCJmaWxlXCIsXG5dO1xuXG5mdW5jdGlvbiBfaXNVc2VyRm9jdXNhYmxlRWxlbWVudChlbGVtZW50KSB7XG4gIGlmICghYnJvd3NlckRldGVjdGlvbi5oYXNTb2Z0d2FyZUtleWJvYXJkKCkpIHtcbiAgICAvLyBvbiBkZXNrdG9wIGJyb3dzZXJzLCB0aGUgb25seSBpbnB1dCB0eXBlIHRoYXQgaXNuJ3QgZm9jdXNhYmxlXG4gICAgLy8gaXMgdGhlIGhpZGRlbiBpbnB1dFxuICAgIHJldHVybiBlbGVtZW50LnR5cGUgIT09IFwiaGlkZGVuXCI7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIHVzZXJGb2N1c2FibGVUYWdOYW1lcy5pbmRleE9mKGVsZW1lbnQudGFnTmFtZSkgPiAtMSAmJlxuICAgIHVuZm9jdXNlZElucHV0VHlwZXMuaW5kZXhPZihlbGVtZW50LnR5cGUpIDwgMFxuICApO1xufVxuXG5mdW5jdGlvbiBfY3JlYXRlTmF2aWdhdGlvbkhlbHBlcihkaXJlY3Rpb24sIG51bWJlck9mRWxlbWVudHNJbkZvcm0pIHtcbiAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICBjYXNlIGRpcmVjdGlvbnMuQkFDSzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNoZWNrSW5kZXhCb3VuZHM6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgIHJldHVybiBpbmRleCA8IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGluZGV4Q2hhbmdlOiAtMSxcbiAgICAgIH07XG4gICAgY2FzZSBkaXJlY3Rpb25zLkZPUldBUkQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjaGVja0luZGV4Qm91bmRzOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXggPiBudW1iZXJPZkVsZW1lbnRzSW5Gb3JtIC0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5kZXhDaGFuZ2U6IDEsXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gIH1cblxuICByZXR1cm4ge307XG59XG5cbmZ1bmN0aW9uIF9maW5kRmlyc3RGb2N1c2FibGVFbGVtZW50KGVsZW1lbnRzSW5Gb3JtKSB7XG4gIHZhciBlbGVtZW50c0luZGV4LCBlbGVtZW50O1xuXG4gIGZvciAoXG4gICAgZWxlbWVudHNJbmRleCA9IDA7XG4gICAgZWxlbWVudHNJbmRleCA8IGVsZW1lbnRzSW5Gb3JtLmxlbmd0aDtcbiAgICBlbGVtZW50c0luZGV4KytcbiAgKSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnRzSW5Gb3JtW2VsZW1lbnRzSW5kZXhdO1xuXG4gICAgaWYgKF9pc1VzZXJGb2N1c2FibGVFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJlbW92ZUV4dHJhRm9jdXNFbGVtZW50czogZnVuY3Rpb24gKGNoZWNrb3V0Rm9ybSwgb25SZW1vdmVGb2N1c0ludGVyY2VwdHMpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjaGVja291dEZvcm0uZWxlbWVudHMpO1xuICAgIHZhciBmaXJzdEZvY3VzYWJsZUlucHV0ID0gX2ZpbmRGaXJzdEZvY3VzYWJsZUVsZW1lbnQoZWxlbWVudHMpO1xuICAgIHZhciBsYXN0Rm9jdXNhYmxlSW5wdXQgPSBfZmluZEZpcnN0Rm9jdXNhYmxlRWxlbWVudChlbGVtZW50cy5yZXZlcnNlKCkpO1xuXG4gICAgLy8gdGhlc2Ugc2hvdWxkIG5ldmVyIGJlIGlkZW50aWNhbCwgYmVjYXVzZSB0aGVyZSB3aWxsIGF0IGxlYXN0IGJlIHRoZVxuICAgIC8vIGJlZm9yZSBhbmQgdGhlIGFmdGVyIGlucHV0XG4gICAgW2ZpcnN0Rm9jdXNhYmxlSW5wdXQsIGxhc3RGb2N1c2FibGVJbnB1dF0uZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9jdXNJbnRlcmNlcHQubWF0Y2hGb2N1c0VsZW1lbnQoaW5wdXQuZ2V0QXR0cmlidXRlKFwiaWRcIikpKSB7XG4gICAgICAgIG9uUmVtb3ZlRm9jdXNJbnRlcmNlcHRzKGlucHV0LmdldEF0dHJpYnV0ZShcImlkXCIpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBjcmVhdGVGb2N1c0NoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIChob3N0ZWRGaWVsZHNJZCwgY2FsbGJhY2tzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgY3VycmVudEluZGV4LCB0YXJnZXRFbGVtZW50LCBjaGVja291dEZvcm0sIG5hdkhlbHBlcjtcbiAgICAgIHZhciBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgIFwiYnQtXCIgKyBkYXRhLmZpZWxkICsgXCItXCIgKyBkYXRhLmRpcmVjdGlvbiArIFwiLVwiICsgaG9zdGVkRmllbGRzSWRcbiAgICAgICk7XG5cbiAgICAgIGlmICghc291cmNlRWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNoZWNrb3V0Rm9ybSA9IGZpbmRQYXJlbnRUYWdzKHNvdXJjZUVsZW1lbnQsIFwiZm9ybVwiKVswXTtcblxuICAgICAgaWYgKGRvY3VtZW50LmZvcm1zLmxlbmd0aCA8IDEgfHwgIWNoZWNrb3V0Rm9ybSkge1xuICAgICAgICBjYWxsYmFja3Mub25SZW1vdmVGb2N1c0ludGVyY2VwdHMoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNoZWNrb3V0Rm9ybSA9IFtdLnNsaWNlLmNhbGwoY2hlY2tvdXRGb3JtLmVsZW1lbnRzKTtcbiAgICAgIGN1cnJlbnRJbmRleCA9IGNoZWNrb3V0Rm9ybS5pbmRleE9mKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgbmF2SGVscGVyID0gX2NyZWF0ZU5hdmlnYXRpb25IZWxwZXIoZGF0YS5kaXJlY3Rpb24sIGNoZWNrb3V0Rm9ybS5sZW5ndGgpO1xuXG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnRJbmRleCArPSBuYXZIZWxwZXIuaW5kZXhDaGFuZ2U7XG4gICAgICAgIGlmIChuYXZIZWxwZXIuY2hlY2tJbmRleEJvdW5kcyhjdXJyZW50SW5kZXgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldEVsZW1lbnQgPSBjaGVja291dEZvcm1bY3VycmVudEluZGV4XTtcbiAgICAgIH0gd2hpbGUgKCFfaXNVc2VyRm9jdXNhYmxlRWxlbWVudCh0YXJnZXRFbGVtZW50KSk7XG5cbiAgICAgIGlmIChmb2N1c0ludGVyY2VwdC5tYXRjaEZvY3VzRWxlbWVudCh0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpKSkge1xuICAgICAgICBjYWxsYmFja3Mub25UcmlnZ2VySW5wdXRGb2N1cyhcbiAgICAgICAgICB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtYnJhaW50cmVlLXR5cGVcIilcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/external/focus-change.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/external/get-styles-from-class.js":
/*!************************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/external/get-styles-from-class.js ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar allowedStyles = (__webpack_require__(/*! ../shared/constants */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\").allowedStyles);\n\nmodule.exports = function getStylesFromClass(cssClass) {\n  var element = document.createElement(\"input\");\n  var styles = {};\n  var computedStyles;\n\n  if (cssClass[0] === \".\") {\n    cssClass = cssClass.substring(1);\n  }\n\n  element.className = cssClass;\n  element.style.display = \"none !important\";\n  element.style.position = \"fixed !important\";\n  element.style.left = \"-99999px !important\";\n  element.style.top = \"-99999px !important\";\n  document.body.appendChild(element);\n\n  computedStyles = window.getComputedStyle(element);\n\n  allowedStyles.forEach(function (style) {\n    var value = computedStyles[style];\n\n    if (value) {\n      styles[style] = value;\n    }\n  });\n\n  document.body.removeChild(element);\n\n  return styles;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2dldC1zdHlsZXMtZnJvbS1jbGFzcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixvQkFBb0Isc0lBQTRDOztBQUVoRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHMvZXh0ZXJuYWwvZ2V0LXN0eWxlcy1mcm9tLWNsYXNzLmpzP2U4MjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbGxvd2VkU3R5bGVzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9jb25zdGFudHNcIikuYWxsb3dlZFN0eWxlcztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRTdHlsZXNGcm9tQ2xhc3MoY3NzQ2xhc3MpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIHZhciBzdHlsZXMgPSB7fTtcbiAgdmFyIGNvbXB1dGVkU3R5bGVzO1xuXG4gIGlmIChjc3NDbGFzc1swXSA9PT0gXCIuXCIpIHtcbiAgICBjc3NDbGFzcyA9IGNzc0NsYXNzLnN1YnN0cmluZygxKTtcbiAgfVxuXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gY3NzQ2xhc3M7XG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZSAhaW1wb3J0YW50XCI7XG4gIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkICFpbXBvcnRhbnRcIjtcbiAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gXCItOTk5OTlweCAhaW1wb3J0YW50XCI7XG4gIGVsZW1lbnQuc3R5bGUudG9wID0gXCItOTk5OTlweCAhaW1wb3J0YW50XCI7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cbiAgY29tcHV0ZWRTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICBhbGxvd2VkU3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgdmFyIHZhbHVlID0gY29tcHV0ZWRTdHlsZXNbc3R5bGVdO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBzdHlsZXNbc3R5bGVdID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXG4gIHJldHVybiBzdHlsZXM7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/external/get-styles-from-class.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/external/hosted-fields.js":
/*!****************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/external/hosted-fields.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar assign = (__webpack_require__(/*! ../../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar createAssetsUrl = __webpack_require__(/*! ../../lib/create-assets-url */ \"(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\");\nvar isVerifiedDomain = __webpack_require__(/*! ../../lib/is-verified-domain */ \"(ssr)/./node_modules/braintree-web/lib/is-verified-domain.js\");\nvar Destructor = __webpack_require__(/*! ../../lib/destructor */ \"(ssr)/./node_modules/braintree-web/lib/destructor.js\");\nvar iFramer = __webpack_require__(/*! @braintree/iframer */ \"(ssr)/./node_modules/@braintree/iframer/dist/index.js\");\nvar Bus = __webpack_require__(/*! framebus */ \"(ssr)/./node_modules/framebus/dist/index.js\");\nvar createDeferredClient = __webpack_require__(/*! ../../lib/create-deferred-client */ \"(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\");\nvar BraintreeError = __webpack_require__(/*! ../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar composeUrl = __webpack_require__(/*! ./compose-url */ \"(ssr)/./node_modules/braintree-web/hosted-fields/external/compose-url.js\");\nvar getStylesFromClass = __webpack_require__(/*! ./get-styles-from-class */ \"(ssr)/./node_modules/braintree-web/hosted-fields/external/get-styles-from-class.js\");\nvar constants = __webpack_require__(/*! ../shared/constants */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\");\nvar errors = __webpack_require__(/*! ../shared/errors */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/errors.js\");\nvar INTEGRATION_TIMEOUT_MS =\n  (__webpack_require__(/*! ../../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").INTEGRATION_TIMEOUT_MS);\nvar uuid = __webpack_require__(/*! @braintree/uuid */ \"(ssr)/./node_modules/@braintree/uuid/index.js\");\nvar findParentTags = __webpack_require__(/*! ../shared/find-parent-tags */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/find-parent-tags.js\");\nvar browserDetection = __webpack_require__(/*! ../shared/browser-detection */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/browser-detection.js\");\nvar events = constants.events;\nvar EventEmitter = __webpack_require__(/*! @braintree/event-emitter */ \"(ssr)/./node_modules/@braintree/event-emitter/dist/event-emitter.js\");\nvar injectFrame = __webpack_require__(/*! ./inject-frame */ \"(ssr)/./node_modules/braintree-web/hosted-fields/external/inject-frame.js\");\nvar analytics = __webpack_require__(/*! ../../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar allowedFields = constants.allowedFields;\nvar methods = __webpack_require__(/*! ../../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar shadow = __webpack_require__(/*! ../../lib/shadow */ \"(ssr)/./node_modules/braintree-web/lib/shadow.js\");\nvar findRootNode = __webpack_require__(/*! ../../lib/find-root-node */ \"(ssr)/./node_modules/braintree-web/lib/find-root-node.js\");\nvar convertMethodsToError = __webpack_require__(/*! ../../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar sharedErrors = __webpack_require__(/*! ../../lib/errors */ \"(ssr)/./node_modules/braintree-web/lib/errors.js\");\nvar getCardTypes = __webpack_require__(/*! ../shared/get-card-types */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/get-card-types.js\");\nvar attributeValidationError = __webpack_require__(/*! ./attribute-validation-error */ \"(ssr)/./node_modules/braintree-web/hosted-fields/external/attribute-validation-error.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar focusChange = __webpack_require__(/*! ./focus-change */ \"(ssr)/./node_modules/braintree-web/hosted-fields/external/focus-change.js\");\nvar destroyFocusIntercept = (__webpack_require__(/*! ../shared/focus-intercept */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/focus-intercept.js\").destroy);\n\nvar SAFARI_FOCUS_TIMEOUT = 5;\n\n/**\n * @typedef {object} HostedFields~tokenizePayload\n * @property {string} nonce The payment method nonce.\n * @property {object} authenticationInsight Info about the [regulatory environment](https://developer.paypal.com/braintree/docs/guides/3d-secure/advanced-options/javascript/v3#authentication-insight) of the tokenized card. Only available if `authenticationInsight.merchantAccountId` is passed in the `tokenize` method options.\n * @property {string} authenticationInsight.regulationEnvironment The [regulation environment](https://developer.paypal.com/braintree/docs/guides/3d-secure/advanced-options/javascript/v3#authentication-insight) for the tokenized card.\n * @property {object} details Additional account details.\n * @property {string} details.bin The BIN number of the card.\n * @property {string} details.cardType Type of card, ex: Visa, MasterCard.\n * @property {string} details.expirationMonth The expiration month of the card.\n * @property {string} details.expirationYear The expiration year of the card.\n * @property {string} details.cardholderName The cardholder name tokenized with the card.\n * @property {string} details.lastFour Last four digits of card number.\n * @property {string} details.lastTwo Last two digits of card number.\n * @property {string} description A human-readable description.\n * @property {string} type The payment method type, always `CreditCard`.\n * @property {object} binData Information about the card based on the bin.\n * @property {string} binData.commercial Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.countryOfIssuance The country of issuance.\n * @property {string} binData.debit Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.durbinRegulated Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.healthcare Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.issuingBank The issuing bank.\n * @property {string} binData.payroll Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.prepaid Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.productId The product id.\n */\n\n/**\n * @typedef {object} HostedFields~stateObject\n * @description The event payload sent from {@link HostedFields#on|on} or {@link HostedFields#getState|getState}.\n * @property {HostedFields~hostedFieldsCard[]} cards\n * This will return an array of potential {@link HostedFields~hostedFieldsCard|cards}. If the card type has been determined, the array will contain only one card.\n * Internally, Hosted Fields uses <a href=\"https://github.com/braintree/credit-card-type\">credit-card-type</a>,\n * an open-source card detection library.\n * @property {string} emittedBy\n * The name of the field associated with an event. This will not be included if returned by {@link HostedFields#getState|getState}. It will be one of the following strings:<br>\n * - `\"number\"`\n * - `\"cvv\"`\n * - `\"expirationDate\"`\n * - `\"expirationMonth\"`\n * - `\"expirationYear\"`\n * - `\"postalCode\"`\n * - `\"cardholderName\"`\n * @property {object} fields\n * @property {?HostedFields~hostedFieldsFieldData} fields.number {@link HostedFields~hostedFieldsFieldData|hostedFieldsFieldData} for the number field, if it is present.\n * @property {?HostedFields~hostedFieldsFieldData} fields.cvv {@link HostedFields~hostedFieldsFieldData|hostedFieldsFieldData} for the CVV field, if it is present.\n * @property {?HostedFields~hostedFieldsFieldData} fields.expirationDate {@link HostedFields~hostedFieldsFieldData|hostedFieldsFieldData} for the expiration date field, if it is present.\n * @property {?HostedFields~hostedFieldsFieldData} fields.expirationMonth {@link HostedFields~hostedFieldsFieldData|hostedFieldsFieldData} for the expiration month field, if it is present.\n * @property {?HostedFields~hostedFieldsFieldData} fields.expirationYear {@link HostedFields~hostedFieldsFieldData|hostedFieldsFieldData} for the expiration year field, if it is present.\n * @property {?HostedFields~hostedFieldsFieldData} fields.postalCode {@link HostedFields~hostedFieldsFieldData|hostedFieldsFieldData} for the postal code field, if it is present.\n * @property {?HostedFields~hostedFieldsFieldData} fields.cardholderName {@link HostedFields~hostedFieldsFieldData|hostedFieldsFieldData} for the cardholder name field, if it is present.\n */\n\n/**\n * @typedef {object} HostedFields~binPayload\n * @description The event payload sent from {@link HostedFields#on|on} when the {@link HostedFields#event:binAvailable|binAvailable} event is emitted.\n * @property {string} bin The first 6 digits of the card number.\n */\n\n/**\n * @typedef {object} HostedFields~hostedFieldsFieldData\n * @description Data about Hosted Fields fields, sent in {@link HostedFields~stateObject|stateObjects}.\n * @property {HTMLElement} container Reference to the container DOM element on your page associated with the current event.\n * @property {boolean} isFocused Whether or not the input is currently focused.\n * @property {boolean} isEmpty Whether or not the user has entered a value in the input.\n * @property {boolean} isPotentiallyValid\n * A determination based on the future validity of the input value.\n * This is helpful when a user is entering a card number and types <code>\"41\"</code>.\n * While that value is not valid for submission, it is still possible for\n * it to become a fully qualified entry. However, if the user enters <code>\"4x\"</code>\n * it is clear that the card number can never become valid and isPotentiallyValid will\n * return false.\n * @property {boolean} isValid Whether or not the value of the associated input is <i>fully</i> qualified for submission.\n */\n\n/**\n * @typedef {object} HostedFields~hostedFieldsCard\n * @description Information about the card type, sent in {@link HostedFields~stateObject|stateObjects}.\n * @property {string} type The code-friendly representation of the card type. It will be one of the following strings:\n * - `american-express`\n * - `diners-club`\n * - `discover`\n * - `jcb`\n * - `maestro`\n * - `master-card`\n * - `unionpay`\n * - `visa`\n * @property {string} niceType The pretty-printed card type. It will be one of the following strings:\n * - `American Express`\n * - `Diners Club`\n * - `Discover`\n * - `JCB`\n * - `Maestro`\n * - `MasterCard`\n * - `UnionPay`\n * - `Visa`\n * @property {object} code\n * This object contains data relevant to the security code requirements of the card brand.\n * For example, on a Visa card there will be a <code>CVV</code> of 3 digits, whereas an\n * American Express card requires a 4-digit <code>CID</code>.\n * @property {string} code.name <code>\"CVV\"</code> <code>\"CID\"</code> <code>\"CVC\"</code>\n * @property {number} code.size The expected length of the security code. Typically, this is 3 or 4.\n */\n\n/**\n * @name HostedFields#on\n * @function\n * @param {string} event The name of the event to which you are subscribing.\n * @param {function} handler A callback to handle the event.\n * @description Subscribes a handler function to a named event.\n *\n * **Events that emit a {@link HostedFields~stateObject|stateObject}.**\n * * {@link HostedFields#event:blur|blur}\n * * {@link HostedFields#event:focus|focus}\n * * {@link HostedFields#event:empty|empty}\n * * {@link HostedFields#event:notEmpty|notEmpty}\n * * {@link HostedFields#event:cardTypeChange|cardTypeChange}\n * * {@link HostedFields#event:validityChange|validityChange}\n * * {@link HostedFields#event:inputSubmitRequest|inputSubmitRequest}\n *\n * **Other Events**\n * * {@link HostedFields#event:binAvailable|binAvailable} - emits a {@link HostedFields~binPayload|bin payload}. Note: If you are using a [Referrer-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy) header that prevents the origin from being sent, this event will not fire.\n * @example\n * <caption>Listening to a Hosted Field event, in this case 'focus'</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('focus', function (event) {\n *     console.log(event.emittedBy, 'has been focused');\n *   });\n * });\n * @returns {void}\n */\n\n/**\n * @name HostedFields#off\n * @function\n * @param {string} event The name of the event to which you are unsubscribing.\n * @param {function} handler The callback for the event you are unsubscribing from.\n * @description Unsubscribes the handler function to a named event.\n * @example\n * <caption>Subscribing and then unsubscribing from a Hosted Field event, in this case 'focus'</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   var callback = function (event) {\n *     console.log(event.emittedBy, 'has been focused');\n *   };\n *   hostedFieldsInstance.on('focus', callback);\n *\n *   // later on\n *   hostedFieldsInstance.off('focus', callback);\n * });\n * @returns {void}\n */\n\n/**\n * This event is emitted when the user requests submission of an input field, such as by pressing the Enter or Return key on their keyboard, or mobile equivalent.\n * @event HostedFields#inputSubmitRequest\n * @type {HostedFields~stateObject}\n * @example\n * <caption>Clicking a submit button upon hitting Enter (or equivalent) within a Hosted Field</caption>\n * var hostedFields = require('braintree-web/hosted-fields');\n * var submitButton = document.querySelector('input[type=\"submit\"]');\n *\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('inputSubmitRequest', function () {\n *     // User requested submission, e.g. by pressing Enter or equivalent\n *     submitButton.click();\n *   });\n * });\n */\n\n/**\n * This event is emitted when a field transitions from having data to being empty.\n * @event HostedFields#empty\n * @type {HostedFields~stateObject}\n * @example\n * <caption>Listening to an empty event</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('empty', function (event) {\n *     console.log(event.emittedBy, 'is now empty');\n *   });\n * });\n */\n\n/**\n * This event is emitted when a field transitions from being empty to having data.\n * @event HostedFields#notEmpty\n * @type {HostedFields~stateObject}\n * @example\n * <caption>Listening to an notEmpty event</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('notEmpty', function (event) {\n *     console.log(event.emittedBy, 'is now not empty');\n *   });\n * });\n */\n\n/**\n * This event is emitted when a field loses focus.\n * @event HostedFields#blur\n * @type {HostedFields~stateObject}\n * @example\n * <caption>Listening to a blur event</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('blur', function (event) {\n *     console.log(event.emittedBy, 'lost focus');\n *   });\n * });\n */\n\n/**\n * This event is emitted when a field gains focus.\n * @event HostedFields#focus\n * @type {HostedFields~stateObject}\n * @example\n * <caption>Listening to a focus event</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('focus', function (event) {\n *     console.log(event.emittedBy, 'gained focus');\n *   });\n * });\n */\n\n/**\n * This event is emitted when activity within the number field has changed such that the possible card type has changed.\n * @event HostedFields#cardTypeChange\n * @type {HostedFields~stateObject}\n * @example\n * <caption>Listening to a cardTypeChange event</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('cardTypeChange', function (event) {\n *     if (event.cards.length === 1) {\n *       console.log(event.cards[0].type);\n *     } else {\n *       console.log('Type of card not yet known');\n *     }\n *   });\n * });\n */\n\n/**\n * This event is emitted when the validity of a field has changed. Validity is represented in the {@link HostedFields~stateObject|stateObject} as two booleans: `isValid` and `isPotentiallyValid`.\n * @event HostedFields#validityChange\n * @type {HostedFields~stateObject}\n * @example\n * <caption>Listening to a validityChange event</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('validityChange', function (event) {\n *     var field = event.fields[event.emittedBy];\n *\n *     if (field.isValid) {\n *       console.log(event.emittedBy, 'is fully valid');\n *     } else if (field.isPotentiallyValid) {\n *       console.log(event.emittedBy, 'is potentially valid');\n *     } else {\n *       console.log(event.emittedBy, 'is not valid');\n *     }\n *   });\n * });\n */\n\n/**\n * This event is emitted when the first 6 digits of the card number have been entered by the customer.\n * @event HostedFields#binAvailable\n * @type {string}\n * @example\n * <caption>Listening to a `binAvailable` event</caption>\n * hostedFields.create({ ... }, function (createErr, hostedFieldsInstance) {\n *   hostedFieldsInstance.on('binAvailable', function (event) {\n *     event.bin // send bin to 3rd party bin service\n *   });\n * });\n */\n\nfunction createInputEventHandler(fields) {\n  return function (eventData) {\n    var field;\n    var merchantPayload = eventData.merchantPayload;\n    var emittedBy = merchantPayload.emittedBy;\n    var container = fields[emittedBy].containerElement;\n\n    Object.keys(merchantPayload.fields).forEach(function (key) {\n      merchantPayload.fields[key].container = fields[key].containerElement;\n    });\n\n    field = merchantPayload.fields[emittedBy];\n\n    container.classList.toggle(\n      constants.externalClasses.FOCUSED,\n      field.isFocused\n    );\n    container.classList.toggle(constants.externalClasses.VALID, field.isValid);\n\n    container.classList.toggle(\n      constants.externalClasses.INVALID,\n      !field.isPotentiallyValid\n    );\n\n    // eslint-disable-next-line no-invalid-this\n    this._state = {\n      cards: merchantPayload.cards,\n      fields: merchantPayload.fields,\n    };\n\n    this._emit(eventData.type, merchantPayload); // eslint-disable-line no-invalid-this\n  };\n}\n\nfunction isVisibleEnough(node) {\n  var boundingBox = node.getBoundingClientRect();\n  var verticalMidpoint = Math.floor(boundingBox.height / 2);\n  var horizontalMidpoint = Math.floor(boundingBox.width / 2);\n\n  return (\n    boundingBox.top <\n      (window.innerHeight - verticalMidpoint ||\n        document.documentElement.clientHeight - verticalMidpoint) &&\n    boundingBox.right > horizontalMidpoint &&\n    boundingBox.bottom > verticalMidpoint &&\n    boundingBox.left <\n      (window.innerWidth - horizontalMidpoint ||\n        document.documentElement.clientWidth - horizontalMidpoint)\n  );\n}\n\n/**\n * @class HostedFields\n * @param {object} options The Hosted Fields {@link module:braintree-web/hosted-fields.create create} options.\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/hosted-fields.create|braintree-web.hosted-fields.create} instead.</strong>\n * @classdesc This class represents a Hosted Fields component produced by {@link module:braintree-web/hosted-fields.create|braintree-web/hosted-fields.create}. Instances of this class have methods for interacting with the input fields within Hosted Fields' iframes.\n */\nfunction HostedFields(options) {\n  var failureTimeout, clientConfig, assetsUrl, isDebug, hostedFieldsUrl;\n  var self = this;\n  var fields = {};\n  var frameReadyPromiseResolveFunctions = {};\n  var frameReadyPromises = [];\n  var componentId = uuid();\n\n  this._merchantConfigurationOptions = assign({}, options);\n\n  if (options.client) {\n    clientConfig = options.client.getConfiguration();\n    assetsUrl = clientConfig.gatewayConfiguration.assetsUrl;\n    isDebug = clientConfig.isDebug;\n  } else {\n    assetsUrl = createAssetsUrl.create(options.authorization);\n    isDebug = Boolean(options.isDebug);\n  }\n\n  this._clientPromise = createDeferredClient.create({\n    client: options.client,\n    authorization: options.authorization,\n    debug: isDebug,\n    assetsUrl: assetsUrl,\n    name: \"Hosted Fields\",\n  });\n\n  hostedFieldsUrl = composeUrl(assetsUrl, componentId, isDebug);\n\n  if (!options.fields || Object.keys(options.fields).length === 0) {\n    throw new BraintreeError({\n      type: sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,\n      code: sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,\n      message: \"options.fields is required when instantiating Hosted Fields.\",\n    });\n  }\n\n  EventEmitter.call(this);\n\n  this._injectedNodes = [];\n  this._destructor = new Destructor();\n  this._fields = fields;\n  this._state = {\n    fields: {},\n    cards: getCardTypes(\"\"),\n  };\n\n  this._bus = new Bus({\n    channel: componentId,\n    verifyDomain: isVerifiedDomain,\n    targetFrames: [window],\n  });\n\n  this._destructor.registerFunctionForTeardown(function () {\n    self._bus.teardown();\n  });\n\n  // NEXT_MAJOR_VERSION analytics events should have present tense verbs\n  if (!options.client) {\n    analytics.sendEvent(\n      this._clientPromise,\n      \"custom.hosted-fields.initialized.deferred-client\"\n    );\n  } else {\n    analytics.sendEvent(\n      this._clientPromise,\n      \"custom.hosted-fields.initialized\"\n    );\n  }\n\n  Object.keys(options.fields).forEach(\n    function (key) {\n      var field, externalContainer, internalContainer, frame, frameReadyPromise;\n\n      if (!constants.allowedFields.hasOwnProperty(key)) {\n        throw new BraintreeError({\n          type: errors.HOSTED_FIELDS_INVALID_FIELD_KEY.type,\n          code: errors.HOSTED_FIELDS_INVALID_FIELD_KEY.code,\n          message: '\"' + key + '\" is not a valid field.',\n        });\n      }\n\n      field = options.fields[key];\n      // NEXT_MAJOR_VERSION remove selector as an option\n      // and simply make the API take a container\n      externalContainer = field.container || field.selector;\n\n      if (typeof externalContainer === \"string\") {\n        externalContainer = document.querySelector(externalContainer);\n      }\n\n      if (!externalContainer || externalContainer.nodeType !== 1) {\n        throw new BraintreeError({\n          type: errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,\n          code: errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,\n          message: errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,\n          details: {\n            fieldSelector: field.selector,\n            fieldContainer: field.container,\n            fieldKey: key,\n          },\n        });\n      } else if (\n        externalContainer.querySelector('iframe[name^=\"braintree-\"]')\n      ) {\n        throw new BraintreeError({\n          type: errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,\n          code: errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,\n          message: errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,\n          details: {\n            fieldSelector: field.selector,\n            fieldContainer: field.container,\n            fieldKey: key,\n          },\n        });\n      }\n\n      internalContainer = externalContainer;\n\n      if (shadow.isShadowElement(internalContainer)) {\n        internalContainer = shadow.transformToSlot(\n          internalContainer,\n          \"height: 100%\"\n        );\n      }\n\n      if (field.maxlength && typeof field.maxlength !== \"number\") {\n        throw new BraintreeError({\n          type: errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,\n          code: errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,\n          message: \"The value for maxlength must be a number.\",\n          details: {\n            fieldKey: key,\n          },\n        });\n      }\n\n      if (field.minlength && typeof field.minlength !== \"number\") {\n        throw new BraintreeError({\n          type: errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,\n          code: errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,\n          message: \"The value for minlength must be a number.\",\n          details: {\n            fieldKey: key,\n          },\n        });\n      }\n\n      frame = iFramer({\n        type: key,\n        name: \"braintree-hosted-field-\" + key,\n        style: constants.defaultIFrameStyle,\n        title:\n          field.iframeTitle ||\n          \"Secure Credit Card Frame - \" + constants.allowedFields[key].label,\n      });\n      this._bus.addTargetFrame(frame);\n\n      this._injectedNodes.push.apply(\n        this._injectedNodes,\n        injectFrame(componentId, frame, internalContainer, function () {\n          self.focus(key);\n        })\n      );\n\n      this._setupLabelFocus(key, externalContainer);\n      fields[key] = {\n        frameElement: frame,\n        containerElement: externalContainer,\n      };\n      frameReadyPromise = new Promise(function (resolve) {\n        frameReadyPromiseResolveFunctions[key] = resolve;\n      });\n      frameReadyPromises.push(frameReadyPromise);\n\n      this._state.fields[key] = {\n        isEmpty: true,\n        isValid: false,\n        isPotentiallyValid: true,\n        isFocused: false,\n        container: externalContainer,\n      };\n\n      // prevents loading the iframe from blocking the code\n      setTimeout(function () {\n        frame.src = hostedFieldsUrl;\n      }, 0);\n    }.bind(this)\n  );\n\n  if (this._merchantConfigurationOptions.styles) {\n    Object.keys(this._merchantConfigurationOptions.styles).forEach(function (\n      selector\n    ) {\n      var className = self._merchantConfigurationOptions.styles[selector];\n\n      if (typeof className === \"string\") {\n        self._merchantConfigurationOptions.styles[selector] =\n          getStylesFromClass(className);\n      }\n    });\n  }\n\n  this._bus.on(events.REMOVE_FOCUS_INTERCEPTS, function (data) {\n    destroyFocusIntercept(data && data.id);\n  });\n\n  this._bus.on(\n    events.TRIGGER_FOCUS_CHANGE,\n    focusChange.createFocusChangeHandler(componentId, {\n      onRemoveFocusIntercepts: function (element) {\n        self._bus.emit(events.REMOVE_FOCUS_INTERCEPTS, {\n          id: element,\n        });\n      },\n      onTriggerInputFocus: function (targetType) {\n        self.focus(targetType);\n      },\n    })\n  );\n\n  this._bus.on(events.READY_FOR_CLIENT, function (reply) {\n    self._clientPromise.then(function (client) {\n      reply(client);\n    });\n  });\n\n  this._bus.on(events.CARD_FORM_ENTRY_HAS_BEGUN, function () {\n    analytics.sendEvent(self._clientPromise, \"hosted-fields.input.started\");\n  });\n\n  this._bus.on(events.BIN_AVAILABLE, function (bin) {\n    self._emit(\"binAvailable\", {\n      bin: bin,\n    });\n  });\n\n  failureTimeout = setTimeout(function () {\n    analytics.sendEvent(\n      self._clientPromise,\n      \"custom.hosted-fields.load.timed-out\"\n    );\n    self._emit(\"timeout\");\n  }, INTEGRATION_TIMEOUT_MS);\n\n  Promise.all(frameReadyPromises).then(function (results) {\n    var reply = results[0];\n\n    clearTimeout(failureTimeout);\n    reply(\n      formatMerchantConfigurationForIframes(self._merchantConfigurationOptions)\n    );\n\n    self._cleanUpFocusIntercepts();\n\n    self._emit(\"ready\");\n  });\n\n  this._bus.on(events.FRAME_READY, function (data, reply) {\n    frameReadyPromiseResolveFunctions[data.field](reply);\n  });\n\n  this._bus.on(events.INPUT_EVENT, createInputEventHandler(fields).bind(this));\n\n  this._destructor.registerFunctionForTeardown(function () {\n    var j, node, parent;\n\n    for (j = 0; j < self._injectedNodes.length; j++) {\n      node = self._injectedNodes[j];\n      parent = node.parentNode;\n\n      parent.removeChild(node);\n\n      parent.classList.remove(\n        constants.externalClasses.FOCUSED,\n        constants.externalClasses.INVALID,\n        constants.externalClasses.VALID\n      );\n    }\n  });\n\n  this._destructor.registerFunctionForTeardown(function () {\n    destroyFocusIntercept();\n  });\n\n  this._destructor.registerFunctionForTeardown(function () {\n    var methodNames = methods(HostedFields.prototype).concat(\n      methods(EventEmitter.prototype)\n    );\n\n    convertMethodsToError(self, methodNames);\n  });\n}\n\nEventEmitter.createChild(HostedFields);\n\nHostedFields.prototype._setupLabelFocus = function (type, container) {\n  var labels, i;\n  var self = this;\n  var rootNode = findRootNode(container);\n\n  if (container.id == null) {\n    return;\n  }\n\n  function triggerFocus() {\n    self.focus(type);\n  }\n\n  // find any labels in the normal DOM\n  labels = Array.prototype.slice.call(\n    document.querySelectorAll('label[for=\"' + container.id + '\"]')\n  );\n  if (rootNode !== document) {\n    // find any labels within the shadow dom\n    labels = labels.concat(\n      Array.prototype.slice.call(\n        rootNode.querySelectorAll('label[for=\"' + container.id + '\"]')\n      )\n    );\n  }\n  // find any labels surrounding the container that don't also have the `for` attribute\n  labels = labels.concat(findParentTags(container, \"label\"));\n  // filter out any accidental duplicates\n  labels = labels.filter(function (label, index, arr) {\n    return arr.indexOf(label) === index;\n  });\n\n  for (i = 0; i < labels.length; i++) {\n    labels[i].addEventListener(\"click\", triggerFocus, false);\n  }\n\n  this._destructor.registerFunctionForTeardown(function () {\n    for (i = 0; i < labels.length; i++) {\n      labels[i].removeEventListener(\"click\", triggerFocus, false);\n    }\n  });\n};\n\nHostedFields.prototype._getAnyFieldContainer = function () {\n  var self = this;\n\n  return Object.keys(this._fields).reduce(function (found, field) {\n    return found || self._fields[field].containerElement;\n  }, null);\n};\n\nHostedFields.prototype._cleanUpFocusIntercepts = function () {\n  var iframeContainer, checkoutForm;\n\n  if (document.forms.length < 1) {\n    this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS);\n  } else {\n    iframeContainer = this._getAnyFieldContainer();\n    checkoutForm = findParentTags(iframeContainer, \"form\")[0];\n\n    if (checkoutForm) {\n      focusChange.removeExtraFocusElements(\n        checkoutForm,\n        function (id) {\n          this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS, {\n            id: id,\n          });\n        }.bind(this)\n      );\n    } else {\n      this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS);\n    }\n  }\n};\n\nHostedFields.prototype._attachInvalidFieldContainersToError = function (err) {\n  if (\n    !(\n      err.details &&\n      err.details.invalidFieldKeys &&\n      err.details.invalidFieldKeys.length > 0\n    )\n  ) {\n    return;\n  }\n  err.details.invalidFields = {};\n  err.details.invalidFieldKeys.forEach(\n    function (field) {\n      err.details.invalidFields[field] = this._fields[field].containerElement;\n    }.bind(this)\n  );\n};\n\n/**\n * Get card verification challenges, such as requirements for cvv and postal code.\n * @public\n * @param {callback} [callback] Called on completion, containing an error if one occurred. If no callback is provided, `getChallenges` returns a promise.\n * @example\n * hostedFieldsInstance.getChallenges().then(function (challenges) {\n *   challenges // ['cvv', 'postal_code']\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.getChallenges = function () {\n  return this._clientPromise.then(function (client) {\n    return client.getConfiguration().gatewayConfiguration.challenges;\n  });\n};\n\n/**\n * Get supported card types configured in the Braintree Control Panel\n * @public\n * @param {callback} [callback] Called on completion, containing an error if one occurred. If no callback is provided, `getSupportedCardTypes` returns a promise.\n * @example\n * hostedFieldsInstance.getSupportedCardTypes().then(function (cardTypes) {\n *   cardTypes // ['Visa', 'American Express', 'Mastercard']\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.getSupportedCardTypes = function () {\n  return this._clientPromise.then(function (client) {\n    var cards = client\n      .getConfiguration()\n      .gatewayConfiguration.creditCards.supportedCardTypes.map(function (\n        cardType\n      ) {\n        if (cardType === \"MasterCard\") {\n          // Mastercard changed their branding. We can't update our\n          // config without creating a breaking change, so we just\n          // hard code the change here\n          return \"Mastercard\";\n        }\n\n        return cardType;\n      });\n\n    return cards;\n  });\n};\n\n/**\n * Cleanly remove anything set up by {@link module:braintree-web/hosted-fields.create|create}.\n * @public\n * @param {callback} [callback] Called on completion, containing an error if one occurred. No data is returned if teardown completes successfully. If no callback is provided, `teardown` returns a promise.\n * @example\n * hostedFieldsInstance.teardown(function (teardownErr) {\n *   if (teardownErr) {\n *     console.error('Could not tear down Hosted Fields!');\n *   } else {\n *     console.info('Hosted Fields has been torn down!');\n *   }\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.teardown = function () {\n  var self = this;\n\n  return new Promise(function (resolve, reject) {\n    self._destructor.teardown(function (err) {\n      analytics.sendEvent(\n        self._clientPromise,\n        \"custom.hosted-fields.teardown-completed\"\n      );\n\n      if (err) {\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n};\n\n/**\n * Tokenizes fields and returns a nonce payload.\n * @public\n * @param {object} [options] All tokenization options for the Hosted Fields component.\n * @param {boolean} [options.vault=false] When true, will vault the tokenized card. Cards will only be vaulted when using a client created with a client token that includes a customer ID. Note: merchants using Advanced Fraud Tools should not use this option, as device data will not be included.\n * @param {object} [options.authenticationInsight] Options for checking authentication insight - the [regulatory environment](https://developer.paypal.com/braintree/docs/guides/3d-secure/advanced-options/javascript/v3#authentication-insight) of the tokenized card.\n * @param {string} options.authenticationInsight.merchantAccountId The Braintree merchant account id to use to look up the authentication insight information.\n * @param {array} [options.fieldsToTokenize] By default, all fields will be tokenized. You may specify which fields specifically you wish to tokenize with this property. Valid options are `'number'`, `'cvv'`, `'expirationDate'`, `'expirationMonth'`, `'expirationYear'`, `'postalCode'`, `'cardholderName'`.\n * @param {string} [options.cardholderName] When supplied, the cardholder name to be tokenized with the contents of the fields.\n * @param {string} [options.billingAddress.postalCode] When supplied, this postal code will be tokenized along with the contents of the fields. If a postal code is provided as part of the Hosted Fields configuration, the value of the field will be tokenized and this value will be ignored.\n * @param {string} [options.billingAddress.firstName] When supplied, this customer first name will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.lastName] When supplied, this customer last name will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.company] When supplied, this company name will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.streetAddress] When supplied, this street address will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.extendedAddress] When supplied, this extended address will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.locality] When supplied, this locality (the city) will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.region] When supplied, this region (the state) will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.countryCodeNumeric] When supplied, this numeric country code will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.countryCodeAlpha2] When supplied, this alpha 2 representation of a country will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.countryCodeAlpha3] When supplied, this alpha 3 representation of a country will be tokenized along with the contents of the fields.\n * @param {string} [options.billingAddress.countryName] When supplied, this country name will be tokenized along with the contents of the fields.\n *\n * @param {callback} [callback] May be used as the only parameter of the function if no options are passed in. The second argument, <code>data</code>, is a {@link HostedFields~tokenizePayload|tokenizePayload}. If no callback is provided, `tokenize` returns a function that resolves with a {@link HostedFields~tokenizePayload|tokenizePayload}.\n * @example <caption>Tokenize a card</caption>\n * hostedFieldsInstance.tokenize(function (tokenizeErr, payload) {\n *   if (tokenizeErr) {\n *     switch (tokenizeErr.code) {\n *       case 'HOSTED_FIELDS_FIELDS_EMPTY':\n *         // occurs when none of the fields are filled in\n *         console.error('All fields are empty! Please fill out the form.');\n *         break;\n *       case 'HOSTED_FIELDS_FIELDS_INVALID':\n *         // occurs when certain fields do not pass client side validation\n *         console.error('Some fields are invalid:', tokenizeErr.details.invalidFieldKeys);\n *\n *         // you can also programmatically access the field containers for the invalid fields\n *         tokenizeErr.details.invalidFields.forEach(function (fieldContainer) {\n *           fieldContainer.className = 'invalid';\n *         });\n *         break;\n *       case 'HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE':\n *         // occurs when:\n *         //   * the client token used for client authorization was generated\n *         //     with a customer ID and the fail on duplicate payment method\n *         //     option is set to true\n *         //   * the card being tokenized has previously been vaulted (with any customer)\n *         // See: https://developer.paypal.com/braintree/docs/reference/request/client-token/generate#options.fail_on_duplicate_payment_method\n *         console.error('This payment method already exists in your vault.');\n *         break;\n *       case 'HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED':\n *         // occurs when:\n *         //   * the client token used for client authorization was generated\n *         //     with a customer ID and the verify card option is set to true\n *         //     and you have credit card verification turned on in the Braintree\n *         //     control panel\n *         //   * the cvv does not pass verification (https://developer.paypal.com/braintree/docs/reference/general/testing#avs-and-cvv/cid-responses)\n *         // See: https://developer.paypal.com/braintree/docs/reference/request/client-token/generate#options.verify_card\n *         console.error('CVV did not pass verification');\n *         break;\n *       case 'HOSTED_FIELDS_FAILED_TOKENIZATION':\n *         // occurs for any other tokenization error on the server\n *         console.error('Tokenization failed server side. Is the card valid?');\n *         break;\n *       case 'HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR':\n *         // occurs when the Braintree gateway cannot be contacted\n *         console.error('Network error occurred when tokenizing.');\n *         break;\n *       default:\n *         console.error('Something bad happened!', tokenizeErr);\n *     }\n *   } else {\n *     console.log('Got nonce:', payload.nonce);\n *   }\n * });\n * @example <caption>Tokenize and vault a card</caption>\n * hostedFieldsInstance.tokenize({\n *   vault: true\n * }, function (tokenizeErr, payload) {\n *   if (tokenizeErr) {\n *     console.error(tokenizeErr);\n *   } else {\n *     console.log('Got nonce:', payload.nonce);\n *   }\n * });\n * @example <caption>Tokenize a card with non-Hosted Fields cardholder name</caption>\n * hostedFieldsInstance.tokenize({\n *   cardholderName: 'First Last'\n * }, function (tokenizeErr, payload) {\n *   if (tokenizeErr) {\n *     console.error(tokenizeErr);\n *   } else {\n *     console.log('Got nonce:', payload.nonce);\n *   }\n * });\n * @example <caption>Tokenize a card with non-Hosted Fields postal code option</caption>\n * hostedFieldsInstance.tokenize({\n *   billingAddress: {\n *     postalCode: '11111'\n *   }\n * }, function (tokenizeErr, payload) {\n *   if (tokenizeErr) {\n *     console.error(tokenizeErr);\n *   } else {\n *     console.log('Got nonce:', payload.nonce);\n *   }\n * });\n * @example <caption>Tokenize a card with additional billing address options</caption>\n * hostedFieldsInstance.tokenize({\n *   billingAddress: {\n *     firstName: 'First',\n *     lastName: 'Last',\n *     company: 'Company',\n *     streetAddress: '123 Street',\n *     extendedAddress: 'Unit 1',\n *     // passing just one of the country options is sufficient to\n *     // associate the card details with a particular country\n *     // valid country names and codes can be found here:\n *     // https://developer.paypal.com/braintree/docs/reference/general/countries/ruby#list-of-countries\n *     countryName: 'United States',\n *     countryCodeAlpha2: 'US',\n *     countryCodeAlpha3: 'USA',\n *     countryCodeNumeric: '840'\n *   }\n * }, function (tokenizeErr, payload) {\n *   if (tokenizeErr) {\n *     console.error(tokenizeErr);\n *   } else {\n *     console.log('Got nonce:', payload.nonce);\n *   }\n * });\n * @example <caption>Allow tokenization with empty cardholder name field</caption>\n * var state = hostedFieldsInstance.getState();\n * var fields = Object.keys(state.fields);\n *\n * // normally, if you tried to tokenize an empty cardholder name field\n * // you would get an error, to allow making this field optional,\n * // tokenize all the fields except for the cardholder name field\n * // when the cardholder name field is empty. Otherwise, tokenize\n * // all the fields\n * if (state.fields.cardholderName.isEmpty) {\n *  fields = fields.filter(function (field) {\n *    return field !== 'cardholderName';\n *  });\n * }\n *\n * hostedFieldsInstance.tokenize({\n *  fieldsToTokenize: fields\n * }, function (tokenizeErr, payload) {\n *   if (tokenizeErr) {\n *     console.error(tokenizeErr);\n *   } else {\n *     console.log('Got nonce:', payload.nonce);\n *   }\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.tokenize = function (options) {\n  var self = this;\n\n  if (!options) {\n    options = {};\n  }\n\n  return new Promise(function (resolve, reject) {\n    self._bus.emit(events.TOKENIZATION_REQUEST, options, function (response) {\n      var err = response[0];\n      var payload = response[1];\n\n      if (err) {\n        self._attachInvalidFieldContainersToError(err);\n        reject(new BraintreeError(err));\n      } else {\n        resolve(payload);\n      }\n    });\n  });\n};\n\n/**\n * Add a class to a {@link module:braintree-web/hosted-fields~field field}. Useful for updating field styles when events occur elsewhere in your checkout.\n * @public\n * @param {string} field The field you wish to add a class to. Must be a valid {@link module:braintree-web/hosted-fields~fieldOptions fieldOption}.\n * @param {string} classname The class to be added.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the class is added successfully.\n *\n * @example\n * hostedFieldsInstance.addClass('number', 'custom-class', function (addClassErr) {\n *   if (addClassErr) {\n *     console.error(addClassErr);\n *   }\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.addClass = function (field, classname) {\n  var err;\n\n  if (!allowedFields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_INVALID.type,\n      code: errors.HOSTED_FIELDS_FIELD_INVALID.code,\n      message:\n        '\"' +\n        field +\n        '\" is not a valid field. You must use a valid field option when adding a class.',\n    });\n  } else if (!this._fields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,\n      code: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,\n      message:\n        'Cannot add class to \"' +\n        field +\n        '\" field because it is not part of the current Hosted Fields options.',\n    });\n  } else {\n    this._bus.emit(events.ADD_CLASS, {\n      field: field,\n      classname: classname,\n    });\n  }\n\n  if (err) {\n    return Promise.reject(err);\n  }\n\n  return Promise.resolve();\n};\n\n/**\n * Removes a class to a {@link module:braintree-web/hosted-fields~field field}. Useful for updating field styles when events occur elsewhere in your checkout.\n * @public\n * @param {string} field The field you wish to remove a class from. Must be a valid {@link module:braintree-web/hosted-fields~fieldOptions fieldOption}.\n * @param {string} classname The class to be removed.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the class is removed successfully.\n *\n * @example\n * hostedFieldsInstance.addClass('number', 'custom-class', function (addClassErr) {\n *   if (addClassErr) {\n *     console.error(addClassErr);\n *     return;\n *   }\n *\n *   // some time later...\n *   hostedFieldsInstance.removeClass('number', 'custom-class');\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.removeClass = function (field, classname) {\n  var err;\n\n  if (!allowedFields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_INVALID.type,\n      code: errors.HOSTED_FIELDS_FIELD_INVALID.code,\n      message:\n        '\"' +\n        field +\n        '\" is not a valid field. You must use a valid field option when removing a class.',\n    });\n  } else if (!this._fields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,\n      code: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,\n      message:\n        'Cannot remove class from \"' +\n        field +\n        '\" field because it is not part of the current Hosted Fields options.',\n    });\n  } else {\n    this._bus.emit(events.REMOVE_CLASS, {\n      field: field,\n      classname: classname,\n    });\n  }\n\n  if (err) {\n    return Promise.reject(err);\n  }\n\n  return Promise.resolve();\n};\n\n/**\n * Sets an attribute of a {@link module:braintree-web/hosted-fields~field field}.\n * Supported attributes are `aria-invalid`, `aria-required`, `disabled`, and `placeholder`.\n *\n * @public\n * @param {object} options The options for the attribute you wish to set.\n * @param {string} options.field The field to which you wish to add an attribute. Must be a valid {@link module:braintree-web/hosted-fields~fieldOptions fieldOption}.\n * @param {string} options.attribute The name of the attribute you wish to add to the field.\n * @param {string} options.value The value for the attribute.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the attribute is set successfully.\n *\n * @example <caption>Set the placeholder attribute of a field</caption>\n * hostedFieldsInstance.setAttribute({\n *   field: 'number',\n *   attribute: 'placeholder',\n *   value: '1111 1111 1111 1111'\n * }, function (attributeErr) {\n *   if (attributeErr) {\n *     console.error(attributeErr);\n *   }\n * });\n *\n * @example <caption>Set the aria-required attribute of a field</caption>\n * hostedFieldsInstance.setAttribute({\n *   field: 'number',\n *   attribute: 'aria-required',\n *   value: true\n * }, function (attributeErr) {\n *   if (attributeErr) {\n *     console.error(attributeErr);\n *   }\n * });\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.setAttribute = function (options) {\n  var attributeErr, err;\n\n  if (!allowedFields.hasOwnProperty(options.field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_INVALID.type,\n      code: errors.HOSTED_FIELDS_FIELD_INVALID.code,\n      message:\n        '\"' +\n        options.field +\n        '\" is not a valid field. You must use a valid field option when setting an attribute.',\n    });\n  } else if (!this._fields.hasOwnProperty(options.field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,\n      code: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,\n      message:\n        'Cannot set attribute for \"' +\n        options.field +\n        '\" field because it is not part of the current Hosted Fields options.',\n    });\n  } else {\n    attributeErr = attributeValidationError(options.attribute, options.value);\n\n    if (attributeErr) {\n      err = attributeErr;\n    } else {\n      this._bus.emit(events.SET_ATTRIBUTE, {\n        field: options.field,\n        attribute: options.attribute,\n        value: options.value,\n      });\n    }\n  }\n\n  if (err) {\n    return Promise.reject(err);\n  }\n\n  return Promise.resolve();\n};\n\n/**\n * Sets the month options for the expiration month field when presented as a select element.\n *\n * @public\n * @param {array} options An array of 12 entries corresponding to the 12 months.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the options are updated successfully. Errors if expirationMonth is not configured on the Hosted Fields instance or if the expirationMonth field is not configured to be a select input.\n *\n * @example <caption>Update the month options to spanish</caption>\n * hostedFieldsInstance.setMonthOptions([\n *   '01 - enero',\n *   '02 - febrero',\n *   '03 - marzo',\n *   '04 - abril',\n *   '05 - mayo',\n *   '06 - junio',\n *   '07 - julio',\n *   '08 - agosto',\n *   '09 - septiembre',\n *   '10 - octubre',\n *   '11 - noviembre',\n *   '12 - diciembre'\n * ]);\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.setMonthOptions = function (options) {\n  var self = this;\n  var merchantOptions = this._merchantConfigurationOptions.fields;\n  var errorMessage;\n\n  if (!merchantOptions.expirationMonth) {\n    errorMessage = \"Expiration month field must exist to use setMonthOptions.\";\n  } else if (!merchantOptions.expirationMonth.select) {\n    errorMessage = \"Expiration month field must be a select element.\";\n  }\n\n  if (errorMessage) {\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,\n        code: errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,\n        message: errorMessage,\n      })\n    );\n  }\n\n  return new Promise(function (resolve) {\n    self._bus.emit(events.SET_MONTH_OPTIONS, options, resolve);\n  });\n};\n\n/**\n * Sets a visually hidden message (for screen readers) on a {@link module:braintree-web/hosted-fields~field field}.\n *\n * @public\n * @param {object} options The options for the attribute you wish to set.\n * @param {string} options.field The field to which you wish to add an attribute. Must be a valid {@link module:braintree-web/hosted-fields~field field}.\n * @param {string} options.message The message to set.\n *\n * @example <caption>Set an error message on a field</caption>\n * hostedFieldsInstance.setMessage({\n *   field: 'number',\n *   message: 'Invalid card number'\n * });\n *\n * @example <caption>Remove the message on a field</caption>\n * hostedFieldsInstance.setMessage({\n *   field: 'number',\n *   message: ''\n * });\n *\n * @returns {void}\n */\nHostedFields.prototype.setMessage = function (options) {\n  this._bus.emit(events.SET_MESSAGE, {\n    field: options.field,\n    message: options.message,\n  });\n};\n\n/**\n * Removes a supported attribute from a {@link module:braintree-web/hosted-fields~field field}.\n *\n * @public\n * @param {object} options The options for the attribute you wish to remove.\n * @param {string} options.field The field from which you wish to remove an attribute. Must be a valid {@link module:braintree-web/hosted-fields~fieldOptions fieldOption}.\n * @param {string} options.attribute The name of the attribute you wish to remove from the field.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the attribute is removed successfully.\n *\n * @example <caption>Remove the placeholder attribute of a field</caption>\n * hostedFieldsInstance.removeAttribute({\n *   field: 'number',\n *   attribute: 'placeholder'\n * }, function (attributeErr) {\n *   if (attributeErr) {\n *     console.error(attributeErr);\n *   }\n * });\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.removeAttribute = function (options) {\n  var attributeErr, err;\n\n  if (!allowedFields.hasOwnProperty(options.field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_INVALID.type,\n      code: errors.HOSTED_FIELDS_FIELD_INVALID.code,\n      message:\n        '\"' +\n        options.field +\n        '\" is not a valid field. You must use a valid field option when removing an attribute.',\n    });\n  } else if (!this._fields.hasOwnProperty(options.field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,\n      code: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,\n      message:\n        'Cannot remove attribute for \"' +\n        options.field +\n        '\" field because it is not part of the current Hosted Fields options.',\n    });\n  } else {\n    attributeErr = attributeValidationError(options.attribute);\n\n    if (attributeErr) {\n      err = attributeErr;\n    } else {\n      this._bus.emit(events.REMOVE_ATTRIBUTE, {\n        field: options.field,\n        attribute: options.attribute,\n      });\n    }\n  }\n\n  if (err) {\n    return Promise.reject(err);\n  }\n\n  return Promise.resolve();\n};\n\n/**\n * @deprecated since version 3.8.0. Use {@link HostedFields#setAttribute|setAttribute} instead.\n *\n * @public\n * @param {string} field The field whose placeholder you wish to change. Must be a valid {@link module:braintree-web/hosted-fields~fieldOptions fieldOption}.\n * @param {string} placeholder Will be used as the `placeholder` attribute of the input.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the placeholder updated successfully.\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nHostedFields.prototype.setPlaceholder = function (field, placeholder) {\n  return this.setAttribute({\n    field: field,\n    attribute: \"placeholder\",\n    value: placeholder,\n  });\n};\n\n/**\n * Clear the value of a {@link module:braintree-web/hosted-fields~field field}.\n * @public\n * @param {string} field The field you wish to clear. Must be a valid {@link module:braintree-web/hosted-fields~fieldOptions fieldOption}.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the field cleared successfully.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * hostedFieldsInstance.clear('number', function (clearErr) {\n *   if (clearErr) {\n *     console.error(clearErr);\n *   }\n * });\n *\n * @example <caption>Clear several fields</caption>\n * hostedFieldsInstance.clear('number');\n * hostedFieldsInstance.clear('cvv');\n * hostedFieldsInstance.clear('expirationDate');\n */\nHostedFields.prototype.clear = function (field) {\n  var err;\n\n  if (!allowedFields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_INVALID.type,\n      code: errors.HOSTED_FIELDS_FIELD_INVALID.code,\n      message:\n        '\"' +\n        field +\n        '\" is not a valid field. You must use a valid field option when clearing a field.',\n    });\n  } else if (!this._fields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,\n      code: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,\n      message:\n        'Cannot clear \"' +\n        field +\n        '\" field because it is not part of the current Hosted Fields options.',\n    });\n  } else {\n    this._bus.emit(events.CLEAR_FIELD, {\n      field: field,\n    });\n  }\n\n  if (err) {\n    return Promise.reject(err);\n  }\n\n  return Promise.resolve();\n};\n\n/**\n * Programmatically focus a {@link module:braintree-web/hosted-fields~field field}.\n * @public\n * @param {string} field The field you want to focus. Must be a valid {@link module:braintree-web/hosted-fields~fieldOptions fieldOption}.\n * @param {callback} [callback] Callback executed on completion, containing an error if one occurred. No data is returned if the field focused successfully.\n * @returns {void}\n * @example\n * hostedFieldsInstance.focus('number', function (focusErr) {\n *   if (focusErr) {\n *     console.error(focusErr);\n *   }\n * });\n * @example <caption>Using an event listener</caption>\n * myElement.addEventListener('click', function (e) {\n *   // In Firefox, the focus method can be suppressed\n *   //   if the element has a tabindex property or the element\n *   //   is an anchor link with an href property.\n *   e.preventDefault();\n *   hostedFieldsInstance.focus('number');\n * });\n */\nHostedFields.prototype.focus = function (field) {\n  var err;\n  var fieldConfig = this._fields[field];\n\n  if (!allowedFields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_INVALID.type,\n      code: errors.HOSTED_FIELDS_FIELD_INVALID.code,\n      message:\n        '\"' +\n        field +\n        '\" is not a valid field. You must use a valid field option when focusing a field.',\n    });\n  } else if (!this._fields.hasOwnProperty(field)) {\n    err = new BraintreeError({\n      type: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,\n      code: errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,\n      message:\n        'Cannot focus \"' +\n        field +\n        '\" field because it is not part of the current Hosted Fields options.',\n    });\n  } else {\n    fieldConfig.frameElement.focus();\n\n    this._bus.emit(events.TRIGGER_INPUT_FOCUS, {\n      field: field,\n    });\n\n    if (browserDetection.isIos()) {\n      // Inputs outside of the viewport don't always scroll into view on\n      // focus in iOS Safari. 5ms timeout gives the browser a chance to\n      // do the right thing and prevents stuttering.\n      setTimeout(function () {\n        if (!isVisibleEnough(fieldConfig.containerElement)) {\n          fieldConfig.containerElement.scrollIntoView();\n        }\n      }, SAFARI_FOCUS_TIMEOUT);\n    }\n  }\n\n  if (err) {\n    return Promise.reject(err);\n  }\n\n  return Promise.resolve();\n};\n\n/**\n * Returns an {@link HostedFields~stateObject|object} that includes the state of all fields and possible card types.\n * @public\n * @returns {object} {@link HostedFields~stateObject|stateObject}\n * @example <caption>Check if all fields are valid</caption>\n * var state = hostedFieldsInstance.getState();\n *\n * var formValid = Object.keys(state.fields).every(function (key) {\n *   return state.fields[key].isValid;\n * });\n */\nHostedFields.prototype.getState = function () {\n  return this._state;\n};\n\n// React adds decorations to DOM nodes that cause\n// circular dependencies, so we remove them from the\n// config before sending it to the iframes. However,\n// we don't want to mutate the original object that\n// was passed in, so we create fresh objects via assign\nfunction formatMerchantConfigurationForIframes(config) {\n  var formattedConfig = assign({}, config);\n\n  formattedConfig.fields = assign({}, formattedConfig.fields);\n  Object.keys(formattedConfig.fields).forEach(function (field) {\n    formattedConfig.fields[field] = assign({}, formattedConfig.fields[field]);\n    delete formattedConfig.fields[field].container;\n  });\n\n  return formattedConfig;\n}\n\nmodule.exports = wrapPromise.wrapPrototype(HostedFields);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2hvc3RlZC1maWVsZHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsYUFBYSx3R0FBa0M7QUFDL0Msc0JBQXNCLG1CQUFPLENBQUMsZ0dBQTZCO0FBQzNELHVCQUF1QixtQkFBTyxDQUFDLGtHQUE4QjtBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxrRkFBc0I7QUFDL0MsY0FBYyxtQkFBTyxDQUFDLGlGQUFvQjtBQUMxQyxVQUFVLG1CQUFPLENBQUMsNkRBQVU7QUFDNUIsMkJBQTJCLG1CQUFPLENBQUMsMEdBQWtDO0FBQ3JFLHFCQUFxQixtQkFBTyxDQUFDLDRGQUEyQjtBQUN4RCxpQkFBaUIsbUJBQU8sQ0FBQywrRkFBZTtBQUN4Qyx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBeUI7QUFDMUQsZ0JBQWdCLG1CQUFPLENBQUMsaUdBQXFCO0FBQzdDLGFBQWEsbUJBQU8sQ0FBQywyRkFBa0I7QUFDdkM7QUFDQSxFQUFFLDhIQUFxRDtBQUN2RCxXQUFXLG1CQUFPLENBQUMsc0VBQWlCO0FBQ3BDLHFCQUFxQixtQkFBTyxDQUFDLCtHQUE0QjtBQUN6RCx1QkFBdUIsbUJBQU8sQ0FBQyxpSEFBNkI7QUFDNUQ7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQyxxR0FBMEI7QUFDckQsa0JBQWtCLG1CQUFPLENBQUMsaUdBQWdCO0FBQzFDLGdCQUFnQixtQkFBTyxDQUFDLGdGQUFxQjtBQUM3QztBQUNBLGNBQWMsbUJBQU8sQ0FBQyw0RUFBbUI7QUFDekMsYUFBYSxtQkFBTyxDQUFDLDBFQUFrQjtBQUN2QyxtQkFBbUIsbUJBQU8sQ0FBQywwRkFBMEI7QUFDckQsNEJBQTRCLG1CQUFPLENBQUMsOEdBQW9DO0FBQ3hFLG1CQUFtQixtQkFBTyxDQUFDLDBFQUFrQjtBQUM3QyxtQkFBbUIsbUJBQU8sQ0FBQywyR0FBMEI7QUFDckQsK0JBQStCLG1CQUFPLENBQUMsNkhBQThCO0FBQ3JFLGtCQUFrQixtQkFBTyxDQUFDLGtHQUF5QjtBQUNuRCxrQkFBa0IsbUJBQU8sQ0FBQyxpR0FBZ0I7QUFDMUMsNEJBQTRCLDRJQUE0Qzs7QUFFeEU7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQiw2Q0FBNkMsMEJBQTBCLElBQUkscUNBQXFDO0FBQ2hILGNBQWMsaUNBQWlDO0FBQy9DLDJDQUEyQywwQ0FBMEM7QUFDckY7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0Qiw2RkFBNkYscUNBQXFDO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMscUNBQXFDLGVBQWUsZ0VBQWdFO0FBQ2xJLGNBQWMscUNBQXFDLFlBQVksZ0VBQWdFO0FBQy9ILGNBQWMscUNBQXFDLHVCQUF1QixnRUFBZ0U7QUFDMUksY0FBYyxxQ0FBcUMsd0JBQXdCLGdFQUFnRTtBQUMzSSxjQUFjLHFDQUFxQyx1QkFBdUIsZ0VBQWdFO0FBQzFJLGNBQWMscUNBQXFDLG1CQUFtQixnRUFBZ0U7QUFDdEksY0FBYyxxQ0FBcUMsdUJBQXVCLGdFQUFnRTtBQUMxSTs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQiw2Q0FBNkMsMEJBQTBCLFVBQVUsb0RBQW9EO0FBQ3JJLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQiwwREFBMEQsNENBQTRDO0FBQ3RHLGNBQWMsYUFBYTtBQUMzQixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckIsMERBQTBELDRDQUE0QztBQUN0RyxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0EseUJBQXlCLDJDQUEyQztBQUNwRSxNQUFNO0FBQ04sTUFBTTtBQUNOLE1BQU07QUFDTixNQUFNO0FBQ04sTUFBTTtBQUNOLE1BQU07QUFDTixNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU0sb0RBQW9ELFdBQVcsMENBQTBDO0FBQy9HO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSztBQUM5QjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EseUJBQXlCLEtBQUs7QUFDOUI7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSztBQUM5QjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLHlCQUF5QixLQUFLO0FBQzlCO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EseUJBQXlCLEtBQUs7QUFDOUI7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7O0FBRUE7QUFDQSxtR0FBbUcsNENBQTRDO0FBQy9JO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EseUJBQXlCLEtBQUs7QUFDOUI7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpREFBaUQ7QUFDakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVEsMkJBQTJCLHdEQUF3RDtBQUN0RyxtRUFBbUUsb0ZBQW9GO0FBQ3ZKLDJFQUEyRSxtRkFBbUY7QUFDOUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUEsZ0JBQWdCLGdDQUFnQztBQUNoRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxjQUFjLG1CQUFtQjtBQUNqQztBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxzQ0FBc0MsdURBQXVEO0FBQzdGO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVyxVQUFVLHdJQUF3SSxtREFBbUQsa0ZBQWtGLG1EQUFtRDtBQUNyVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHFCQUFxQixxREFBcUQ7QUFDMUU7QUFDQSxXQUFXLFFBQVEsNkRBQTZELGtFQUFrRTtBQUNsSixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixxREFBcUQ7QUFDOUU7QUFDQSxXQUFXLFFBQVEsa0VBQWtFLGtFQUFrRTtBQUN2SixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLHFEQUFxRDtBQUNoRjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLGdGQUFnRixrRUFBa0U7QUFDckssV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsNkRBQTZELHFEQUFxRDtBQUNsSDtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxnRkFBZ0YscURBQXFEO0FBQ3hKLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHlDQUF5QyxxREFBcUQ7QUFDOUY7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVEscUZBQXFGLGtFQUFrRTtBQUMxSyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EseUNBQXlDLDhDQUE4QztBQUN2RjtBQUNBO0FBQ0EsV0FBVyxRQUFRLHVFQUF1RSxrRUFBa0U7QUFDNUosV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHlCQUF5QixxREFBcUQ7QUFDOUU7QUFDQSxXQUFXLFFBQVEsb0RBQW9ELGtFQUFrRTtBQUN6SSxXQUFXLFVBQVU7QUFDckIsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCLHFEQUFxRDtBQUNsRjtBQUNBLFdBQVcsUUFBUSxvREFBb0Qsa0VBQWtFO0FBQ3pJLFdBQVcsVUFBVTtBQUNyQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSx1Q0FBdUM7QUFDdEQ7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7O0FBRWpDLG9DQUFvQztBQUNwQztBQUNBLDZDQUE2QztBQUM3QztBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2hvc3RlZC1maWVsZHMuanM/ODA5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuLi8uLi9saWIvYXNzaWduXCIpLmFzc2lnbjtcbnZhciBjcmVhdGVBc3NldHNVcmwgPSByZXF1aXJlKFwiLi4vLi4vbGliL2NyZWF0ZS1hc3NldHMtdXJsXCIpO1xudmFyIGlzVmVyaWZpZWREb21haW4gPSByZXF1aXJlKFwiLi4vLi4vbGliL2lzLXZlcmlmaWVkLWRvbWFpblwiKTtcbnZhciBEZXN0cnVjdG9yID0gcmVxdWlyZShcIi4uLy4uL2xpYi9kZXN0cnVjdG9yXCIpO1xudmFyIGlGcmFtZXIgPSByZXF1aXJlKFwiQGJyYWludHJlZS9pZnJhbWVyXCIpO1xudmFyIEJ1cyA9IHJlcXVpcmUoXCJmcmFtZWJ1c1wiKTtcbnZhciBjcmVhdGVEZWZlcnJlZENsaWVudCA9IHJlcXVpcmUoXCIuLi8uLi9saWIvY3JlYXRlLWRlZmVycmVkLWNsaWVudFwiKTtcbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi8uLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGNvbXBvc2VVcmwgPSByZXF1aXJlKFwiLi9jb21wb3NlLXVybFwiKTtcbnZhciBnZXRTdHlsZXNGcm9tQ2xhc3MgPSByZXF1aXJlKFwiLi9nZXQtc3R5bGVzLWZyb20tY2xhc3NcIik7XG52YXIgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9jb25zdGFudHNcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9lcnJvcnNcIik7XG52YXIgSU5URUdSQVRJT05fVElNRU9VVF9NUyA9XG4gIHJlcXVpcmUoXCIuLi8uLi9saWIvY29uc3RhbnRzXCIpLklOVEVHUkFUSU9OX1RJTUVPVVRfTVM7XG52YXIgdXVpZCA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL3V1aWRcIik7XG52YXIgZmluZFBhcmVudFRhZ3MgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2ZpbmQtcGFyZW50LXRhZ3NcIik7XG52YXIgYnJvd3NlckRldGVjdGlvbiA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvYnJvd3Nlci1kZXRlY3Rpb25cIik7XG52YXIgZXZlbnRzID0gY29uc3RhbnRzLmV2ZW50cztcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiQGJyYWludHJlZS9ldmVudC1lbWl0dGVyXCIpO1xudmFyIGluamVjdEZyYW1lID0gcmVxdWlyZShcIi4vaW5qZWN0LWZyYW1lXCIpO1xudmFyIGFuYWx5dGljcyA9IHJlcXVpcmUoXCIuLi8uLi9saWIvYW5hbHl0aWNzXCIpO1xudmFyIGFsbG93ZWRGaWVsZHMgPSBjb25zdGFudHMuYWxsb3dlZEZpZWxkcztcbnZhciBtZXRob2RzID0gcmVxdWlyZShcIi4uLy4uL2xpYi9tZXRob2RzXCIpO1xudmFyIHNoYWRvdyA9IHJlcXVpcmUoXCIuLi8uLi9saWIvc2hhZG93XCIpO1xudmFyIGZpbmRSb290Tm9kZSA9IHJlcXVpcmUoXCIuLi8uLi9saWIvZmluZC1yb290LW5vZGVcIik7XG52YXIgY29udmVydE1ldGhvZHNUb0Vycm9yID0gcmVxdWlyZShcIi4uLy4uL2xpYi9jb252ZXJ0LW1ldGhvZHMtdG8tZXJyb3JcIik7XG52YXIgc2hhcmVkRXJyb3JzID0gcmVxdWlyZShcIi4uLy4uL2xpYi9lcnJvcnNcIik7XG52YXIgZ2V0Q2FyZFR5cGVzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9nZXQtY2FyZC10eXBlc1wiKTtcbnZhciBhdHRyaWJ1dGVWYWxpZGF0aW9uRXJyb3IgPSByZXF1aXJlKFwiLi9hdHRyaWJ1dGUtdmFsaWRhdGlvbi1lcnJvclwiKTtcbnZhciB3cmFwUHJvbWlzZSA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL3dyYXAtcHJvbWlzZVwiKTtcbnZhciBmb2N1c0NoYW5nZSA9IHJlcXVpcmUoXCIuL2ZvY3VzLWNoYW5nZVwiKTtcbnZhciBkZXN0cm95Rm9jdXNJbnRlcmNlcHQgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2ZvY3VzLWludGVyY2VwdFwiKS5kZXN0cm95O1xuXG52YXIgU0FGQVJJX0ZPQ1VTX1RJTUVPVVQgPSA1O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEhvc3RlZEZpZWxkc350b2tlbml6ZVBheWxvYWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBub25jZSBUaGUgcGF5bWVudCBtZXRob2Qgbm9uY2UuXG4gKiBAcHJvcGVydHkge29iamVjdH0gYXV0aGVudGljYXRpb25JbnNpZ2h0IEluZm8gYWJvdXQgdGhlIFtyZWd1bGF0b3J5IGVudmlyb25tZW50XShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2JyYWludHJlZS9kb2NzL2d1aWRlcy8zZC1zZWN1cmUvYWR2YW5jZWQtb3B0aW9ucy9qYXZhc2NyaXB0L3YzI2F1dGhlbnRpY2F0aW9uLWluc2lnaHQpIG9mIHRoZSB0b2tlbml6ZWQgY2FyZC4gT25seSBhdmFpbGFibGUgaWYgYGF1dGhlbnRpY2F0aW9uSW5zaWdodC5tZXJjaGFudEFjY291bnRJZGAgaXMgcGFzc2VkIGluIHRoZSBgdG9rZW5pemVgIG1ldGhvZCBvcHRpb25zLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGF1dGhlbnRpY2F0aW9uSW5zaWdodC5yZWd1bGF0aW9uRW52aXJvbm1lbnQgVGhlIFtyZWd1bGF0aW9uIGVudmlyb25tZW50XShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2JyYWludHJlZS9kb2NzL2d1aWRlcy8zZC1zZWN1cmUvYWR2YW5jZWQtb3B0aW9ucy9qYXZhc2NyaXB0L3YzI2F1dGhlbnRpY2F0aW9uLWluc2lnaHQpIGZvciB0aGUgdG9rZW5pemVkIGNhcmQuXG4gKiBAcHJvcGVydHkge29iamVjdH0gZGV0YWlscyBBZGRpdGlvbmFsIGFjY291bnQgZGV0YWlscy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmJpbiBUaGUgQklOIG51bWJlciBvZiB0aGUgY2FyZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmNhcmRUeXBlIFR5cGUgb2YgY2FyZCwgZXg6IFZpc2EsIE1hc3RlckNhcmQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5leHBpcmF0aW9uTW9udGggVGhlIGV4cGlyYXRpb24gbW9udGggb2YgdGhlIGNhcmQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5leHBpcmF0aW9uWWVhciBUaGUgZXhwaXJhdGlvbiB5ZWFyIG9mIHRoZSBjYXJkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMuY2FyZGhvbGRlck5hbWUgVGhlIGNhcmRob2xkZXIgbmFtZSB0b2tlbml6ZWQgd2l0aCB0aGUgY2FyZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmxhc3RGb3VyIExhc3QgZm91ciBkaWdpdHMgb2YgY2FyZCBudW1iZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5sYXN0VHdvIExhc3QgdHdvIGRpZ2l0cyBvZiBjYXJkIG51bWJlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXNjcmlwdGlvbiBBIGh1bWFuLXJlYWRhYmxlIGRlc2NyaXB0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHBheW1lbnQgbWV0aG9kIHR5cGUsIGFsd2F5cyBgQ3JlZGl0Q2FyZGAuXG4gKiBAcHJvcGVydHkge29iamVjdH0gYmluRGF0YSBJbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FyZCBiYXNlZCBvbiB0aGUgYmluLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEuY29tbWVyY2lhbCBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5jb3VudHJ5T2ZJc3N1YW5jZSBUaGUgY291bnRyeSBvZiBpc3N1YW5jZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmRlYml0IFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmR1cmJpblJlZ3VsYXRlZCBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5oZWFsdGhjYXJlIFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmlzc3VpbmdCYW5rIFRoZSBpc3N1aW5nIGJhbmsuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5wYXlyb2xsIFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLnByZXBhaWQgUG9zc2libGUgdmFsdWVzOiAnWWVzJywgJ05vJywgJ1Vua25vd24nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEucHJvZHVjdElkIFRoZSBwcm9kdWN0IGlkLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gSG9zdGVkRmllbGRzfnN0YXRlT2JqZWN0XG4gKiBAZGVzY3JpcHRpb24gVGhlIGV2ZW50IHBheWxvYWQgc2VudCBmcm9tIHtAbGluayBIb3N0ZWRGaWVsZHMjb258b259IG9yIHtAbGluayBIb3N0ZWRGaWVsZHMjZ2V0U3RhdGV8Z2V0U3RhdGV9LlxuICogQHByb3BlcnR5IHtIb3N0ZWRGaWVsZHN+aG9zdGVkRmllbGRzQ2FyZFtdfSBjYXJkc1xuICogVGhpcyB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBwb3RlbnRpYWwge0BsaW5rIEhvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNDYXJkfGNhcmRzfS4gSWYgdGhlIGNhcmQgdHlwZSBoYXMgYmVlbiBkZXRlcm1pbmVkLCB0aGUgYXJyYXkgd2lsbCBjb250YWluIG9ubHkgb25lIGNhcmQuXG4gKiBJbnRlcm5hbGx5LCBIb3N0ZWQgRmllbGRzIHVzZXMgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9icmFpbnRyZWUvY3JlZGl0LWNhcmQtdHlwZVwiPmNyZWRpdC1jYXJkLXR5cGU8L2E+LFxuICogYW4gb3Blbi1zb3VyY2UgY2FyZCBkZXRlY3Rpb24gbGlicmFyeS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlbWl0dGVkQnlcbiAqIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCBhc3NvY2lhdGVkIHdpdGggYW4gZXZlbnQuIFRoaXMgd2lsbCBub3QgYmUgaW5jbHVkZWQgaWYgcmV0dXJuZWQgYnkge0BsaW5rIEhvc3RlZEZpZWxkcyNnZXRTdGF0ZXxnZXRTdGF0ZX0uIEl0IHdpbGwgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgc3RyaW5nczo8YnI+XG4gKiAtIGBcIm51bWJlclwiYFxuICogLSBgXCJjdnZcImBcbiAqIC0gYFwiZXhwaXJhdGlvbkRhdGVcImBcbiAqIC0gYFwiZXhwaXJhdGlvbk1vbnRoXCJgXG4gKiAtIGBcImV4cGlyYXRpb25ZZWFyXCJgXG4gKiAtIGBcInBvc3RhbENvZGVcImBcbiAqIC0gYFwiY2FyZGhvbGRlck5hbWVcImBcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBmaWVsZHNcbiAqIEBwcm9wZXJ0eSB7P0hvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNGaWVsZERhdGF9IGZpZWxkcy5udW1iZXIge0BsaW5rIEhvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNGaWVsZERhdGF8aG9zdGVkRmllbGRzRmllbGREYXRhfSBmb3IgdGhlIG51bWJlciBmaWVsZCwgaWYgaXQgaXMgcHJlc2VudC5cbiAqIEBwcm9wZXJ0eSB7P0hvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNGaWVsZERhdGF9IGZpZWxkcy5jdnYge0BsaW5rIEhvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNGaWVsZERhdGF8aG9zdGVkRmllbGRzRmllbGREYXRhfSBmb3IgdGhlIENWViBmaWVsZCwgaWYgaXQgaXMgcHJlc2VudC5cbiAqIEBwcm9wZXJ0eSB7P0hvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNGaWVsZERhdGF9IGZpZWxkcy5leHBpcmF0aW9uRGF0ZSB7QGxpbmsgSG9zdGVkRmllbGRzfmhvc3RlZEZpZWxkc0ZpZWxkRGF0YXxob3N0ZWRGaWVsZHNGaWVsZERhdGF9IGZvciB0aGUgZXhwaXJhdGlvbiBkYXRlIGZpZWxkLCBpZiBpdCBpcyBwcmVzZW50LlxuICogQHByb3BlcnR5IHs/SG9zdGVkRmllbGRzfmhvc3RlZEZpZWxkc0ZpZWxkRGF0YX0gZmllbGRzLmV4cGlyYXRpb25Nb250aCB7QGxpbmsgSG9zdGVkRmllbGRzfmhvc3RlZEZpZWxkc0ZpZWxkRGF0YXxob3N0ZWRGaWVsZHNGaWVsZERhdGF9IGZvciB0aGUgZXhwaXJhdGlvbiBtb250aCBmaWVsZCwgaWYgaXQgaXMgcHJlc2VudC5cbiAqIEBwcm9wZXJ0eSB7P0hvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNGaWVsZERhdGF9IGZpZWxkcy5leHBpcmF0aW9uWWVhciB7QGxpbmsgSG9zdGVkRmllbGRzfmhvc3RlZEZpZWxkc0ZpZWxkRGF0YXxob3N0ZWRGaWVsZHNGaWVsZERhdGF9IGZvciB0aGUgZXhwaXJhdGlvbiB5ZWFyIGZpZWxkLCBpZiBpdCBpcyBwcmVzZW50LlxuICogQHByb3BlcnR5IHs/SG9zdGVkRmllbGRzfmhvc3RlZEZpZWxkc0ZpZWxkRGF0YX0gZmllbGRzLnBvc3RhbENvZGUge0BsaW5rIEhvc3RlZEZpZWxkc35ob3N0ZWRGaWVsZHNGaWVsZERhdGF8aG9zdGVkRmllbGRzRmllbGREYXRhfSBmb3IgdGhlIHBvc3RhbCBjb2RlIGZpZWxkLCBpZiBpdCBpcyBwcmVzZW50LlxuICogQHByb3BlcnR5IHs/SG9zdGVkRmllbGRzfmhvc3RlZEZpZWxkc0ZpZWxkRGF0YX0gZmllbGRzLmNhcmRob2xkZXJOYW1lIHtAbGluayBIb3N0ZWRGaWVsZHN+aG9zdGVkRmllbGRzRmllbGREYXRhfGhvc3RlZEZpZWxkc0ZpZWxkRGF0YX0gZm9yIHRoZSBjYXJkaG9sZGVyIG5hbWUgZmllbGQsIGlmIGl0IGlzIHByZXNlbnQuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBIb3N0ZWRGaWVsZHN+YmluUGF5bG9hZFxuICogQGRlc2NyaXB0aW9uIFRoZSBldmVudCBwYXlsb2FkIHNlbnQgZnJvbSB7QGxpbmsgSG9zdGVkRmllbGRzI29ufG9ufSB3aGVuIHRoZSB7QGxpbmsgSG9zdGVkRmllbGRzI2V2ZW50OmJpbkF2YWlsYWJsZXxiaW5BdmFpbGFibGV9IGV2ZW50IGlzIGVtaXR0ZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluIFRoZSBmaXJzdCA2IGRpZ2l0cyBvZiB0aGUgY2FyZCBudW1iZXIuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBIb3N0ZWRGaWVsZHN+aG9zdGVkRmllbGRzRmllbGREYXRhXG4gKiBAZGVzY3JpcHRpb24gRGF0YSBhYm91dCBIb3N0ZWQgRmllbGRzIGZpZWxkcywgc2VudCBpbiB7QGxpbmsgSG9zdGVkRmllbGRzfnN0YXRlT2JqZWN0fHN0YXRlT2JqZWN0c30uXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBjb250YWluZXIgUmVmZXJlbmNlIHRvIHRoZSBjb250YWluZXIgRE9NIGVsZW1lbnQgb24geW91ciBwYWdlIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBldmVudC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNGb2N1c2VkIFdoZXRoZXIgb3Igbm90IHRoZSBpbnB1dCBpcyBjdXJyZW50bHkgZm9jdXNlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNFbXB0eSBXaGV0aGVyIG9yIG5vdCB0aGUgdXNlciBoYXMgZW50ZXJlZCBhIHZhbHVlIGluIHRoZSBpbnB1dC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNQb3RlbnRpYWxseVZhbGlkXG4gKiBBIGRldGVybWluYXRpb24gYmFzZWQgb24gdGhlIGZ1dHVyZSB2YWxpZGl0eSBvZiB0aGUgaW5wdXQgdmFsdWUuXG4gKiBUaGlzIGlzIGhlbHBmdWwgd2hlbiBhIHVzZXIgaXMgZW50ZXJpbmcgYSBjYXJkIG51bWJlciBhbmQgdHlwZXMgPGNvZGU+XCI0MVwiPC9jb2RlPi5cbiAqIFdoaWxlIHRoYXQgdmFsdWUgaXMgbm90IHZhbGlkIGZvciBzdWJtaXNzaW9uLCBpdCBpcyBzdGlsbCBwb3NzaWJsZSBmb3JcbiAqIGl0IHRvIGJlY29tZSBhIGZ1bGx5IHF1YWxpZmllZCBlbnRyeS4gSG93ZXZlciwgaWYgdGhlIHVzZXIgZW50ZXJzIDxjb2RlPlwiNHhcIjwvY29kZT5cbiAqIGl0IGlzIGNsZWFyIHRoYXQgdGhlIGNhcmQgbnVtYmVyIGNhbiBuZXZlciBiZWNvbWUgdmFsaWQgYW5kIGlzUG90ZW50aWFsbHlWYWxpZCB3aWxsXG4gKiByZXR1cm4gZmFsc2UuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzVmFsaWQgV2hldGhlciBvciBub3QgdGhlIHZhbHVlIG9mIHRoZSBhc3NvY2lhdGVkIGlucHV0IGlzIDxpPmZ1bGx5PC9pPiBxdWFsaWZpZWQgZm9yIHN1Ym1pc3Npb24uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBIb3N0ZWRGaWVsZHN+aG9zdGVkRmllbGRzQ2FyZFxuICogQGRlc2NyaXB0aW9uIEluZm9ybWF0aW9uIGFib3V0IHRoZSBjYXJkIHR5cGUsIHNlbnQgaW4ge0BsaW5rIEhvc3RlZEZpZWxkc35zdGF0ZU9iamVjdHxzdGF0ZU9iamVjdHN9LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIGNvZGUtZnJpZW5kbHkgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNhcmQgdHlwZS4gSXQgd2lsbCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBzdHJpbmdzOlxuICogLSBgYW1lcmljYW4tZXhwcmVzc2BcbiAqIC0gYGRpbmVycy1jbHViYFxuICogLSBgZGlzY292ZXJgXG4gKiAtIGBqY2JgXG4gKiAtIGBtYWVzdHJvYFxuICogLSBgbWFzdGVyLWNhcmRgXG4gKiAtIGB1bmlvbnBheWBcbiAqIC0gYHZpc2FgXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmljZVR5cGUgVGhlIHByZXR0eS1wcmludGVkIGNhcmQgdHlwZS4gSXQgd2lsbCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBzdHJpbmdzOlxuICogLSBgQW1lcmljYW4gRXhwcmVzc2BcbiAqIC0gYERpbmVycyBDbHViYFxuICogLSBgRGlzY292ZXJgXG4gKiAtIGBKQ0JgXG4gKiAtIGBNYWVzdHJvYFxuICogLSBgTWFzdGVyQ2FyZGBcbiAqIC0gYFVuaW9uUGF5YFxuICogLSBgVmlzYWBcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjb2RlXG4gKiBUaGlzIG9iamVjdCBjb250YWlucyBkYXRhIHJlbGV2YW50IHRvIHRoZSBzZWN1cml0eSBjb2RlIHJlcXVpcmVtZW50cyBvZiB0aGUgY2FyZCBicmFuZC5cbiAqIEZvciBleGFtcGxlLCBvbiBhIFZpc2EgY2FyZCB0aGVyZSB3aWxsIGJlIGEgPGNvZGU+Q1ZWPC9jb2RlPiBvZiAzIGRpZ2l0cywgd2hlcmVhcyBhblxuICogQW1lcmljYW4gRXhwcmVzcyBjYXJkIHJlcXVpcmVzIGEgNC1kaWdpdCA8Y29kZT5DSUQ8L2NvZGU+LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvZGUubmFtZSA8Y29kZT5cIkNWVlwiPC9jb2RlPiA8Y29kZT5cIkNJRFwiPC9jb2RlPiA8Y29kZT5cIkNWQ1wiPC9jb2RlPlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUuc2l6ZSBUaGUgZXhwZWN0ZWQgbGVuZ3RoIG9mIHRoZSBzZWN1cml0eSBjb2RlLiBUeXBpY2FsbHksIHRoaXMgaXMgMyBvciA0LlxuICovXG5cbi8qKlxuICogQG5hbWUgSG9zdGVkRmllbGRzI29uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gd2hpY2ggeW91IGFyZSBzdWJzY3JpYmluZy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgQSBjYWxsYmFjayB0byBoYW5kbGUgdGhlIGV2ZW50LlxuICogQGRlc2NyaXB0aW9uIFN1YnNjcmliZXMgYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGEgbmFtZWQgZXZlbnQuXG4gKlxuICogKipFdmVudHMgdGhhdCBlbWl0IGEge0BsaW5rIEhvc3RlZEZpZWxkc35zdGF0ZU9iamVjdHxzdGF0ZU9iamVjdH0uKipcbiAqICoge0BsaW5rIEhvc3RlZEZpZWxkcyNldmVudDpibHVyfGJsdXJ9XG4gKiAqIHtAbGluayBIb3N0ZWRGaWVsZHMjZXZlbnQ6Zm9jdXN8Zm9jdXN9XG4gKiAqIHtAbGluayBIb3N0ZWRGaWVsZHMjZXZlbnQ6ZW1wdHl8ZW1wdHl9XG4gKiAqIHtAbGluayBIb3N0ZWRGaWVsZHMjZXZlbnQ6bm90RW1wdHl8bm90RW1wdHl9XG4gKiAqIHtAbGluayBIb3N0ZWRGaWVsZHMjZXZlbnQ6Y2FyZFR5cGVDaGFuZ2V8Y2FyZFR5cGVDaGFuZ2V9XG4gKiAqIHtAbGluayBIb3N0ZWRGaWVsZHMjZXZlbnQ6dmFsaWRpdHlDaGFuZ2V8dmFsaWRpdHlDaGFuZ2V9XG4gKiAqIHtAbGluayBIb3N0ZWRGaWVsZHMjZXZlbnQ6aW5wdXRTdWJtaXRSZXF1ZXN0fGlucHV0U3VibWl0UmVxdWVzdH1cbiAqXG4gKiAqKk90aGVyIEV2ZW50cyoqXG4gKiAqIHtAbGluayBIb3N0ZWRGaWVsZHMjZXZlbnQ6YmluQXZhaWxhYmxlfGJpbkF2YWlsYWJsZX0gLSBlbWl0cyBhIHtAbGluayBIb3N0ZWRGaWVsZHN+YmluUGF5bG9hZHxiaW4gcGF5bG9hZH0uIE5vdGU6IElmIHlvdSBhcmUgdXNpbmcgYSBbUmVmZXJyZXItUG9saWN5XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmVmZXJyZXItUG9saWN5KSBoZWFkZXIgdGhhdCBwcmV2ZW50cyB0aGUgb3JpZ2luIGZyb20gYmVpbmcgc2VudCwgdGhpcyBldmVudCB3aWxsIG5vdCBmaXJlLlxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkxpc3RlbmluZyB0byBhIEhvc3RlZCBGaWVsZCBldmVudCwgaW4gdGhpcyBjYXNlICdmb2N1cyc8L2NhcHRpb24+XG4gKiBob3N0ZWRGaWVsZHMuY3JlYXRlKHsgLi4uIH0sIGZ1bmN0aW9uIChjcmVhdGVFcnIsIGhvc3RlZEZpZWxkc0luc3RhbmNlKSB7XG4gKiAgIGhvc3RlZEZpZWxkc0luc3RhbmNlLm9uKCdmb2N1cycsIGZ1bmN0aW9uIChldmVudCkge1xuICogICAgIGNvbnNvbGUubG9nKGV2ZW50LmVtaXR0ZWRCeSwgJ2hhcyBiZWVuIGZvY3VzZWQnKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cbi8qKlxuICogQG5hbWUgSG9zdGVkRmllbGRzI29mZlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHdoaWNoIHlvdSBhcmUgdW5zdWJzY3JpYmluZy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgVGhlIGNhbGxiYWNrIGZvciB0aGUgZXZlbnQgeW91IGFyZSB1bnN1YnNjcmliaW5nIGZyb20uXG4gKiBAZGVzY3JpcHRpb24gVW5zdWJzY3JpYmVzIHRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGEgbmFtZWQgZXZlbnQuXG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+U3Vic2NyaWJpbmcgYW5kIHRoZW4gdW5zdWJzY3JpYmluZyBmcm9tIGEgSG9zdGVkIEZpZWxkIGV2ZW50LCBpbiB0aGlzIGNhc2UgJ2ZvY3VzJzwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkcy5jcmVhdGUoeyAuLi4gfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgaG9zdGVkRmllbGRzSW5zdGFuY2UpIHtcbiAqICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coZXZlbnQuZW1pdHRlZEJ5LCAnaGFzIGJlZW4gZm9jdXNlZCcpO1xuICogICB9O1xuICogICBob3N0ZWRGaWVsZHNJbnN0YW5jZS5vbignZm9jdXMnLCBjYWxsYmFjayk7XG4gKlxuICogICAvLyBsYXRlciBvblxuICogICBob3N0ZWRGaWVsZHNJbnN0YW5jZS5vZmYoJ2ZvY3VzJywgY2FsbGJhY2spO1xuICogfSk7XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuIHRoZSB1c2VyIHJlcXVlc3RzIHN1Ym1pc3Npb24gb2YgYW4gaW5wdXQgZmllbGQsIHN1Y2ggYXMgYnkgcHJlc3NpbmcgdGhlIEVudGVyIG9yIFJldHVybiBrZXkgb24gdGhlaXIga2V5Ym9hcmQsIG9yIG1vYmlsZSBlcXVpdmFsZW50LlxuICogQGV2ZW50IEhvc3RlZEZpZWxkcyNpbnB1dFN1Ym1pdFJlcXVlc3RcbiAqIEB0eXBlIHtIb3N0ZWRGaWVsZHN+c3RhdGVPYmplY3R9XG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+Q2xpY2tpbmcgYSBzdWJtaXQgYnV0dG9uIHVwb24gaGl0dGluZyBFbnRlciAob3IgZXF1aXZhbGVudCkgd2l0aGluIGEgSG9zdGVkIEZpZWxkPC9jYXB0aW9uPlxuICogdmFyIGhvc3RlZEZpZWxkcyA9IHJlcXVpcmUoJ2JyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkcycpO1xuICogdmFyIHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAqXG4gKiBob3N0ZWRGaWVsZHMuY3JlYXRlKHsgLi4uIH0sIGZ1bmN0aW9uIChjcmVhdGVFcnIsIGhvc3RlZEZpZWxkc0luc3RhbmNlKSB7XG4gKiAgIGhvc3RlZEZpZWxkc0luc3RhbmNlLm9uKCdpbnB1dFN1Ym1pdFJlcXVlc3QnLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgLy8gVXNlciByZXF1ZXN0ZWQgc3VibWlzc2lvbiwgZS5nLiBieSBwcmVzc2luZyBFbnRlciBvciBlcXVpdmFsZW50XG4gKiAgICAgc3VibWl0QnV0dG9uLmNsaWNrKCk7XG4gKiAgIH0pO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgd2hlbiBhIGZpZWxkIHRyYW5zaXRpb25zIGZyb20gaGF2aW5nIGRhdGEgdG8gYmVpbmcgZW1wdHkuXG4gKiBAZXZlbnQgSG9zdGVkRmllbGRzI2VtcHR5XG4gKiBAdHlwZSB7SG9zdGVkRmllbGRzfnN0YXRlT2JqZWN0fVxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkxpc3RlbmluZyB0byBhbiBlbXB0eSBldmVudDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkcy5jcmVhdGUoeyAuLi4gfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgaG9zdGVkRmllbGRzSW5zdGFuY2UpIHtcbiAqICAgaG9zdGVkRmllbGRzSW5zdGFuY2Uub24oJ2VtcHR5JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coZXZlbnQuZW1pdHRlZEJ5LCAnaXMgbm93IGVtcHR5Jyk7XG4gKiAgIH0pO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgd2hlbiBhIGZpZWxkIHRyYW5zaXRpb25zIGZyb20gYmVpbmcgZW1wdHkgdG8gaGF2aW5nIGRhdGEuXG4gKiBAZXZlbnQgSG9zdGVkRmllbGRzI25vdEVtcHR5XG4gKiBAdHlwZSB7SG9zdGVkRmllbGRzfnN0YXRlT2JqZWN0fVxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkxpc3RlbmluZyB0byBhbiBub3RFbXB0eSBldmVudDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkcy5jcmVhdGUoeyAuLi4gfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgaG9zdGVkRmllbGRzSW5zdGFuY2UpIHtcbiAqICAgaG9zdGVkRmllbGRzSW5zdGFuY2Uub24oJ25vdEVtcHR5JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coZXZlbnQuZW1pdHRlZEJ5LCAnaXMgbm93IG5vdCBlbXB0eScpO1xuICogICB9KTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogVGhpcyBldmVudCBpcyBlbWl0dGVkIHdoZW4gYSBmaWVsZCBsb3NlcyBmb2N1cy5cbiAqIEBldmVudCBIb3N0ZWRGaWVsZHMjYmx1clxuICogQHR5cGUge0hvc3RlZEZpZWxkc35zdGF0ZU9iamVjdH1cbiAqIEBleGFtcGxlXG4gKiA8Y2FwdGlvbj5MaXN0ZW5pbmcgdG8gYSBibHVyIGV2ZW50PC9jYXB0aW9uPlxuICogaG9zdGVkRmllbGRzLmNyZWF0ZSh7IC4uLiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyLCBob3N0ZWRGaWVsZHNJbnN0YW5jZSkge1xuICogICBob3N0ZWRGaWVsZHNJbnN0YW5jZS5vbignYmx1cicsIGZ1bmN0aW9uIChldmVudCkge1xuICogICAgIGNvbnNvbGUubG9nKGV2ZW50LmVtaXR0ZWRCeSwgJ2xvc3QgZm9jdXMnKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuIGEgZmllbGQgZ2FpbnMgZm9jdXMuXG4gKiBAZXZlbnQgSG9zdGVkRmllbGRzI2ZvY3VzXG4gKiBAdHlwZSB7SG9zdGVkRmllbGRzfnN0YXRlT2JqZWN0fVxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkxpc3RlbmluZyB0byBhIGZvY3VzIGV2ZW50PC9jYXB0aW9uPlxuICogaG9zdGVkRmllbGRzLmNyZWF0ZSh7IC4uLiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyLCBob3N0ZWRGaWVsZHNJbnN0YW5jZSkge1xuICogICBob3N0ZWRGaWVsZHNJbnN0YW5jZS5vbignZm9jdXMnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAqICAgICBjb25zb2xlLmxvZyhldmVudC5lbWl0dGVkQnksICdnYWluZWQgZm9jdXMnKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuIGFjdGl2aXR5IHdpdGhpbiB0aGUgbnVtYmVyIGZpZWxkIGhhcyBjaGFuZ2VkIHN1Y2ggdGhhdCB0aGUgcG9zc2libGUgY2FyZCB0eXBlIGhhcyBjaGFuZ2VkLlxuICogQGV2ZW50IEhvc3RlZEZpZWxkcyNjYXJkVHlwZUNoYW5nZVxuICogQHR5cGUge0hvc3RlZEZpZWxkc35zdGF0ZU9iamVjdH1cbiAqIEBleGFtcGxlXG4gKiA8Y2FwdGlvbj5MaXN0ZW5pbmcgdG8gYSBjYXJkVHlwZUNoYW5nZSBldmVudDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkcy5jcmVhdGUoeyAuLi4gfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgaG9zdGVkRmllbGRzSW5zdGFuY2UpIHtcbiAqICAgaG9zdGVkRmllbGRzSW5zdGFuY2Uub24oJ2NhcmRUeXBlQ2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgaWYgKGV2ZW50LmNhcmRzLmxlbmd0aCA9PT0gMSkge1xuICogICAgICAgY29uc29sZS5sb2coZXZlbnQuY2FyZHNbMF0udHlwZSk7XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdUeXBlIG9mIGNhcmQgbm90IHlldCBrbm93bicpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuIHRoZSB2YWxpZGl0eSBvZiBhIGZpZWxkIGhhcyBjaGFuZ2VkLiBWYWxpZGl0eSBpcyByZXByZXNlbnRlZCBpbiB0aGUge0BsaW5rIEhvc3RlZEZpZWxkc35zdGF0ZU9iamVjdHxzdGF0ZU9iamVjdH0gYXMgdHdvIGJvb2xlYW5zOiBgaXNWYWxpZGAgYW5kIGBpc1BvdGVudGlhbGx5VmFsaWRgLlxuICogQGV2ZW50IEhvc3RlZEZpZWxkcyN2YWxpZGl0eUNoYW5nZVxuICogQHR5cGUge0hvc3RlZEZpZWxkc35zdGF0ZU9iamVjdH1cbiAqIEBleGFtcGxlXG4gKiA8Y2FwdGlvbj5MaXN0ZW5pbmcgdG8gYSB2YWxpZGl0eUNoYW5nZSBldmVudDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkcy5jcmVhdGUoeyAuLi4gfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgaG9zdGVkRmllbGRzSW5zdGFuY2UpIHtcbiAqICAgaG9zdGVkRmllbGRzSW5zdGFuY2Uub24oJ3ZhbGlkaXR5Q2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgdmFyIGZpZWxkID0gZXZlbnQuZmllbGRzW2V2ZW50LmVtaXR0ZWRCeV07XG4gKlxuICogICAgIGlmIChmaWVsZC5pc1ZhbGlkKSB7XG4gKiAgICAgICBjb25zb2xlLmxvZyhldmVudC5lbWl0dGVkQnksICdpcyBmdWxseSB2YWxpZCcpO1xuICogICAgIH0gZWxzZSBpZiAoZmllbGQuaXNQb3RlbnRpYWxseVZhbGlkKSB7XG4gKiAgICAgICBjb25zb2xlLmxvZyhldmVudC5lbWl0dGVkQnksICdpcyBwb3RlbnRpYWxseSB2YWxpZCcpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICBjb25zb2xlLmxvZyhldmVudC5lbWl0dGVkQnksICdpcyBub3QgdmFsaWQnKTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgd2hlbiB0aGUgZmlyc3QgNiBkaWdpdHMgb2YgdGhlIGNhcmQgbnVtYmVyIGhhdmUgYmVlbiBlbnRlcmVkIGJ5IHRoZSBjdXN0b21lci5cbiAqIEBldmVudCBIb3N0ZWRGaWVsZHMjYmluQXZhaWxhYmxlXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkxpc3RlbmluZyB0byBhIGBiaW5BdmFpbGFibGVgIGV2ZW50PC9jYXB0aW9uPlxuICogaG9zdGVkRmllbGRzLmNyZWF0ZSh7IC4uLiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyLCBob3N0ZWRGaWVsZHNJbnN0YW5jZSkge1xuICogICBob3N0ZWRGaWVsZHNJbnN0YW5jZS5vbignYmluQXZhaWxhYmxlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgZXZlbnQuYmluIC8vIHNlbmQgYmluIHRvIDNyZCBwYXJ0eSBiaW4gc2VydmljZVxuICogICB9KTtcbiAqIH0pO1xuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0RXZlbnRIYW5kbGVyKGZpZWxkcykge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50RGF0YSkge1xuICAgIHZhciBmaWVsZDtcbiAgICB2YXIgbWVyY2hhbnRQYXlsb2FkID0gZXZlbnREYXRhLm1lcmNoYW50UGF5bG9hZDtcbiAgICB2YXIgZW1pdHRlZEJ5ID0gbWVyY2hhbnRQYXlsb2FkLmVtaXR0ZWRCeTtcbiAgICB2YXIgY29udGFpbmVyID0gZmllbGRzW2VtaXR0ZWRCeV0uY29udGFpbmVyRWxlbWVudDtcblxuICAgIE9iamVjdC5rZXlzKG1lcmNoYW50UGF5bG9hZC5maWVsZHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgbWVyY2hhbnRQYXlsb2FkLmZpZWxkc1trZXldLmNvbnRhaW5lciA9IGZpZWxkc1trZXldLmNvbnRhaW5lckVsZW1lbnQ7XG4gICAgfSk7XG5cbiAgICBmaWVsZCA9IG1lcmNoYW50UGF5bG9hZC5maWVsZHNbZW1pdHRlZEJ5XTtcblxuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFxuICAgICAgY29uc3RhbnRzLmV4dGVybmFsQ2xhc3Nlcy5GT0NVU0VELFxuICAgICAgZmllbGQuaXNGb2N1c2VkXG4gICAgKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShjb25zdGFudHMuZXh0ZXJuYWxDbGFzc2VzLlZBTElELCBmaWVsZC5pc1ZhbGlkKTtcblxuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFxuICAgICAgY29uc3RhbnRzLmV4dGVybmFsQ2xhc3Nlcy5JTlZBTElELFxuICAgICAgIWZpZWxkLmlzUG90ZW50aWFsbHlWYWxpZFxuICAgICk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW52YWxpZC10aGlzXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICBjYXJkczogbWVyY2hhbnRQYXlsb2FkLmNhcmRzLFxuICAgICAgZmllbGRzOiBtZXJjaGFudFBheWxvYWQuZmllbGRzLFxuICAgIH07XG5cbiAgICB0aGlzLl9lbWl0KGV2ZW50RGF0YS50eXBlLCBtZXJjaGFudFBheWxvYWQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuICB9O1xufVxuXG5mdW5jdGlvbiBpc1Zpc2libGVFbm91Z2gobm9kZSkge1xuICB2YXIgYm91bmRpbmdCb3ggPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgdmVydGljYWxNaWRwb2ludCA9IE1hdGguZmxvb3IoYm91bmRpbmdCb3guaGVpZ2h0IC8gMik7XG4gIHZhciBob3Jpem9udGFsTWlkcG9pbnQgPSBNYXRoLmZsb29yKGJvdW5kaW5nQm94LndpZHRoIC8gMik7XG5cbiAgcmV0dXJuIChcbiAgICBib3VuZGluZ0JveC50b3AgPFxuICAgICAgKHdpbmRvdy5pbm5lckhlaWdodCAtIHZlcnRpY2FsTWlkcG9pbnQgfHxcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIHZlcnRpY2FsTWlkcG9pbnQpICYmXG4gICAgYm91bmRpbmdCb3gucmlnaHQgPiBob3Jpem9udGFsTWlkcG9pbnQgJiZcbiAgICBib3VuZGluZ0JveC5ib3R0b20gPiB2ZXJ0aWNhbE1pZHBvaW50ICYmXG4gICAgYm91bmRpbmdCb3gubGVmdCA8XG4gICAgICAod2luZG93LmlubmVyV2lkdGggLSBob3Jpem9udGFsTWlkcG9pbnQgfHxcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC0gaG9yaXpvbnRhbE1pZHBvaW50KVxuICApO1xufVxuXG4vKipcbiAqIEBjbGFzcyBIb3N0ZWRGaWVsZHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFRoZSBIb3N0ZWQgRmllbGRzIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzLmNyZWF0ZSBjcmVhdGV9IG9wdGlvbnMuXG4gKiBAZGVzY3JpcHRpb24gPHN0cm9uZz5EbyBub3QgdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIFVzZSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkcy5jcmVhdGV8YnJhaW50cmVlLXdlYi5ob3N0ZWQtZmllbGRzLmNyZWF0ZX0gaW5zdGVhZC48L3N0cm9uZz5cbiAqIEBjbGFzc2Rlc2MgVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgSG9zdGVkIEZpZWxkcyBjb21wb25lbnQgcHJvZHVjZWQgYnkge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHMuY3JlYXRlfGJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkcy5jcmVhdGV9LiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBoYXZlIG1ldGhvZHMgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIGlucHV0IGZpZWxkcyB3aXRoaW4gSG9zdGVkIEZpZWxkcycgaWZyYW1lcy5cbiAqL1xuZnVuY3Rpb24gSG9zdGVkRmllbGRzKG9wdGlvbnMpIHtcbiAgdmFyIGZhaWx1cmVUaW1lb3V0LCBjbGllbnRDb25maWcsIGFzc2V0c1VybCwgaXNEZWJ1ZywgaG9zdGVkRmllbGRzVXJsO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBmaWVsZHMgPSB7fTtcbiAgdmFyIGZyYW1lUmVhZHlQcm9taXNlUmVzb2x2ZUZ1bmN0aW9ucyA9IHt9O1xuICB2YXIgZnJhbWVSZWFkeVByb21pc2VzID0gW107XG4gIHZhciBjb21wb25lbnRJZCA9IHV1aWQoKTtcblxuICB0aGlzLl9tZXJjaGFudENvbmZpZ3VyYXRpb25PcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucy5jbGllbnQpIHtcbiAgICBjbGllbnRDb25maWcgPSBvcHRpb25zLmNsaWVudC5nZXRDb25maWd1cmF0aW9uKCk7XG4gICAgYXNzZXRzVXJsID0gY2xpZW50Q29uZmlnLmdhdGV3YXlDb25maWd1cmF0aW9uLmFzc2V0c1VybDtcbiAgICBpc0RlYnVnID0gY2xpZW50Q29uZmlnLmlzRGVidWc7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXRzVXJsID0gY3JlYXRlQXNzZXRzVXJsLmNyZWF0ZShvcHRpb25zLmF1dGhvcml6YXRpb24pO1xuICAgIGlzRGVidWcgPSBCb29sZWFuKG9wdGlvbnMuaXNEZWJ1Zyk7XG4gIH1cblxuICB0aGlzLl9jbGllbnRQcm9taXNlID0gY3JlYXRlRGVmZXJyZWRDbGllbnQuY3JlYXRlKHtcbiAgICBjbGllbnQ6IG9wdGlvbnMuY2xpZW50LFxuICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICBkZWJ1ZzogaXNEZWJ1ZyxcbiAgICBhc3NldHNVcmw6IGFzc2V0c1VybCxcbiAgICBuYW1lOiBcIkhvc3RlZCBGaWVsZHNcIixcbiAgfSk7XG5cbiAgaG9zdGVkRmllbGRzVXJsID0gY29tcG9zZVVybChhc3NldHNVcmwsIGNvbXBvbmVudElkLCBpc0RlYnVnKTtcblxuICBpZiAoIW9wdGlvbnMuZmllbGRzIHx8IE9iamVjdC5rZXlzKG9wdGlvbnMuZmllbGRzKS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgdHlwZTogc2hhcmVkRXJyb3JzLklOU1RBTlRJQVRJT05fT1BUSU9OX1JFUVVJUkVELnR5cGUsXG4gICAgICBjb2RlOiBzaGFyZWRFcnJvcnMuSU5TVEFOVElBVElPTl9PUFRJT05fUkVRVUlSRUQuY29kZSxcbiAgICAgIG1lc3NhZ2U6IFwib3B0aW9ucy5maWVsZHMgaXMgcmVxdWlyZWQgd2hlbiBpbnN0YW50aWF0aW5nIEhvc3RlZCBGaWVsZHMuXCIsXG4gICAgfSk7XG4gIH1cblxuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICB0aGlzLl9pbmplY3RlZE5vZGVzID0gW107XG4gIHRoaXMuX2Rlc3RydWN0b3IgPSBuZXcgRGVzdHJ1Y3RvcigpO1xuICB0aGlzLl9maWVsZHMgPSBmaWVsZHM7XG4gIHRoaXMuX3N0YXRlID0ge1xuICAgIGZpZWxkczoge30sXG4gICAgY2FyZHM6IGdldENhcmRUeXBlcyhcIlwiKSxcbiAgfTtcblxuICB0aGlzLl9idXMgPSBuZXcgQnVzKHtcbiAgICBjaGFubmVsOiBjb21wb25lbnRJZCxcbiAgICB2ZXJpZnlEb21haW46IGlzVmVyaWZpZWREb21haW4sXG4gICAgdGFyZ2V0RnJhbWVzOiBbd2luZG93XSxcbiAgfSk7XG5cbiAgdGhpcy5fZGVzdHJ1Y3Rvci5yZWdpc3RlckZ1bmN0aW9uRm9yVGVhcmRvd24oZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX2J1cy50ZWFyZG93bigpO1xuICB9KTtcblxuICAvLyBORVhUX01BSk9SX1ZFUlNJT04gYW5hbHl0aWNzIGV2ZW50cyBzaG91bGQgaGF2ZSBwcmVzZW50IHRlbnNlIHZlcmJzXG4gIGlmICghb3B0aW9ucy5jbGllbnQpIHtcbiAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgdGhpcy5fY2xpZW50UHJvbWlzZSxcbiAgICAgIFwiY3VzdG9tLmhvc3RlZC1maWVsZHMuaW5pdGlhbGl6ZWQuZGVmZXJyZWQtY2xpZW50XCJcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICB0aGlzLl9jbGllbnRQcm9taXNlLFxuICAgICAgXCJjdXN0b20uaG9zdGVkLWZpZWxkcy5pbml0aWFsaXplZFwiXG4gICAgKTtcbiAgfVxuXG4gIE9iamVjdC5rZXlzKG9wdGlvbnMuZmllbGRzKS5mb3JFYWNoKFxuICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBmaWVsZCwgZXh0ZXJuYWxDb250YWluZXIsIGludGVybmFsQ29udGFpbmVyLCBmcmFtZSwgZnJhbWVSZWFkeVByb21pc2U7XG5cbiAgICAgIGlmICghY29uc3RhbnRzLmFsbG93ZWRGaWVsZHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgIHR5cGU6IGVycm9ycy5IT1NURURfRklFTERTX0lOVkFMSURfRklFTERfS0VZLnR5cGUsXG4gICAgICAgICAgY29kZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfSU5WQUxJRF9GSUVMRF9LRVkuY29kZSxcbiAgICAgICAgICBtZXNzYWdlOiAnXCInICsga2V5ICsgJ1wiIGlzIG5vdCBhIHZhbGlkIGZpZWxkLicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmaWVsZCA9IG9wdGlvbnMuZmllbGRzW2tleV07XG4gICAgICAvLyBORVhUX01BSk9SX1ZFUlNJT04gcmVtb3ZlIHNlbGVjdG9yIGFzIGFuIG9wdGlvblxuICAgICAgLy8gYW5kIHNpbXBseSBtYWtlIHRoZSBBUEkgdGFrZSBhIGNvbnRhaW5lclxuICAgICAgZXh0ZXJuYWxDb250YWluZXIgPSBmaWVsZC5jb250YWluZXIgfHwgZmllbGQuc2VsZWN0b3I7XG5cbiAgICAgIGlmICh0eXBlb2YgZXh0ZXJuYWxDb250YWluZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZXh0ZXJuYWxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGV4dGVybmFsQ29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFleHRlcm5hbENvbnRhaW5lciB8fCBleHRlcm5hbENvbnRhaW5lci5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgIHR5cGU6IGVycm9ycy5IT1NURURfRklFTERTX0lOVkFMSURfRklFTERfU0VMRUNUT1IudHlwZSxcbiAgICAgICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19JTlZBTElEX0ZJRUxEX1NFTEVDVE9SLmNvZGUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfSU5WQUxJRF9GSUVMRF9TRUxFQ1RPUi5tZXNzYWdlLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIGZpZWxkU2VsZWN0b3I6IGZpZWxkLnNlbGVjdG9yLFxuICAgICAgICAgICAgZmllbGRDb250YWluZXI6IGZpZWxkLmNvbnRhaW5lcixcbiAgICAgICAgICAgIGZpZWxkS2V5OiBrZXksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBleHRlcm5hbENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdpZnJhbWVbbmFtZV49XCJicmFpbnRyZWUtXCJdJylcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgIHR5cGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX0RVUExJQ0FURV9JRlJBTUUudHlwZSxcbiAgICAgICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9EVVBMSUNBVEVfSUZSQU1FLmNvZGUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfRFVQTElDQVRFX0lGUkFNRS5tZXNzYWdlLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIGZpZWxkU2VsZWN0b3I6IGZpZWxkLnNlbGVjdG9yLFxuICAgICAgICAgICAgZmllbGRDb250YWluZXI6IGZpZWxkLmNvbnRhaW5lcixcbiAgICAgICAgICAgIGZpZWxkS2V5OiBrZXksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGludGVybmFsQ29udGFpbmVyID0gZXh0ZXJuYWxDb250YWluZXI7XG5cbiAgICAgIGlmIChzaGFkb3cuaXNTaGFkb3dFbGVtZW50KGludGVybmFsQ29udGFpbmVyKSkge1xuICAgICAgICBpbnRlcm5hbENvbnRhaW5lciA9IHNoYWRvdy50cmFuc2Zvcm1Ub1Nsb3QoXG4gICAgICAgICAgaW50ZXJuYWxDb250YWluZXIsXG4gICAgICAgICAgXCJoZWlnaHQ6IDEwMCVcIlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmllbGQubWF4bGVuZ3RoICYmIHR5cGVvZiBmaWVsZC5tYXhsZW5ndGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9QUk9QRVJUWV9JTlZBTElELnR5cGUsXG4gICAgICAgICAgY29kZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfUFJPUEVSVFlfSU5WQUxJRC5jb2RlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlIHZhbHVlIGZvciBtYXhsZW5ndGggbXVzdCBiZSBhIG51bWJlci5cIixcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBmaWVsZEtleToga2V5LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmllbGQubWlubGVuZ3RoICYmIHR5cGVvZiBmaWVsZC5taW5sZW5ndGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9QUk9QRVJUWV9JTlZBTElELnR5cGUsXG4gICAgICAgICAgY29kZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfUFJPUEVSVFlfSU5WQUxJRC5jb2RlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlIHZhbHVlIGZvciBtaW5sZW5ndGggbXVzdCBiZSBhIG51bWJlci5cIixcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBmaWVsZEtleToga2V5LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmcmFtZSA9IGlGcmFtZXIoe1xuICAgICAgICB0eXBlOiBrZXksXG4gICAgICAgIG5hbWU6IFwiYnJhaW50cmVlLWhvc3RlZC1maWVsZC1cIiArIGtleSxcbiAgICAgICAgc3R5bGU6IGNvbnN0YW50cy5kZWZhdWx0SUZyYW1lU3R5bGUsXG4gICAgICAgIHRpdGxlOlxuICAgICAgICAgIGZpZWxkLmlmcmFtZVRpdGxlIHx8XG4gICAgICAgICAgXCJTZWN1cmUgQ3JlZGl0IENhcmQgRnJhbWUgLSBcIiArIGNvbnN0YW50cy5hbGxvd2VkRmllbGRzW2tleV0ubGFiZWwsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2J1cy5hZGRUYXJnZXRGcmFtZShmcmFtZSk7XG5cbiAgICAgIHRoaXMuX2luamVjdGVkTm9kZXMucHVzaC5hcHBseShcbiAgICAgICAgdGhpcy5faW5qZWN0ZWROb2RlcyxcbiAgICAgICAgaW5qZWN0RnJhbWUoY29tcG9uZW50SWQsIGZyYW1lLCBpbnRlcm5hbENvbnRhaW5lciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuZm9jdXMoa2V5KTtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3NldHVwTGFiZWxGb2N1cyhrZXksIGV4dGVybmFsQ29udGFpbmVyKTtcbiAgICAgIGZpZWxkc1trZXldID0ge1xuICAgICAgICBmcmFtZUVsZW1lbnQ6IGZyYW1lLFxuICAgICAgICBjb250YWluZXJFbGVtZW50OiBleHRlcm5hbENvbnRhaW5lcixcbiAgICAgIH07XG4gICAgICBmcmFtZVJlYWR5UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIGZyYW1lUmVhZHlQcm9taXNlUmVzb2x2ZUZ1bmN0aW9uc1trZXldID0gcmVzb2x2ZTtcbiAgICAgIH0pO1xuICAgICAgZnJhbWVSZWFkeVByb21pc2VzLnB1c2goZnJhbWVSZWFkeVByb21pc2UpO1xuXG4gICAgICB0aGlzLl9zdGF0ZS5maWVsZHNba2V5XSA9IHtcbiAgICAgICAgaXNFbXB0eTogdHJ1ZSxcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGlzUG90ZW50aWFsbHlWYWxpZDogdHJ1ZSxcbiAgICAgICAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgICAgICAgY29udGFpbmVyOiBleHRlcm5hbENvbnRhaW5lcixcbiAgICAgIH07XG5cbiAgICAgIC8vIHByZXZlbnRzIGxvYWRpbmcgdGhlIGlmcmFtZSBmcm9tIGJsb2NraW5nIHRoZSBjb2RlXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnJhbWUuc3JjID0gaG9zdGVkRmllbGRzVXJsO1xuICAgICAgfSwgMCk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG5cbiAgaWYgKHRoaXMuX21lcmNoYW50Q29uZmlndXJhdGlvbk9wdGlvbnMuc3R5bGVzKSB7XG4gICAgT2JqZWN0LmtleXModGhpcy5fbWVyY2hhbnRDb25maWd1cmF0aW9uT3B0aW9ucy5zdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKFxuICAgICAgc2VsZWN0b3JcbiAgICApIHtcbiAgICAgIHZhciBjbGFzc05hbWUgPSBzZWxmLl9tZXJjaGFudENvbmZpZ3VyYXRpb25PcHRpb25zLnN0eWxlc1tzZWxlY3Rvcl07XG5cbiAgICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHNlbGYuX21lcmNoYW50Q29uZmlndXJhdGlvbk9wdGlvbnMuc3R5bGVzW3NlbGVjdG9yXSA9XG4gICAgICAgICAgZ2V0U3R5bGVzRnJvbUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLl9idXMub24oZXZlbnRzLlJFTU9WRV9GT0NVU19JTlRFUkNFUFRTLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGRlc3Ryb3lGb2N1c0ludGVyY2VwdChkYXRhICYmIGRhdGEuaWQpO1xuICB9KTtcblxuICB0aGlzLl9idXMub24oXG4gICAgZXZlbnRzLlRSSUdHRVJfRk9DVVNfQ0hBTkdFLFxuICAgIGZvY3VzQ2hhbmdlLmNyZWF0ZUZvY3VzQ2hhbmdlSGFuZGxlcihjb21wb25lbnRJZCwge1xuICAgICAgb25SZW1vdmVGb2N1c0ludGVyY2VwdHM6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHNlbGYuX2J1cy5lbWl0KGV2ZW50cy5SRU1PVkVfRk9DVVNfSU5URVJDRVBUUywge1xuICAgICAgICAgIGlkOiBlbGVtZW50LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvblRyaWdnZXJJbnB1dEZvY3VzOiBmdW5jdGlvbiAodGFyZ2V0VHlwZSkge1xuICAgICAgICBzZWxmLmZvY3VzKHRhcmdldFR5cGUpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHRoaXMuX2J1cy5vbihldmVudHMuUkVBRFlfRk9SX0NMSUVOVCwgZnVuY3Rpb24gKHJlcGx5KSB7XG4gICAgc2VsZi5fY2xpZW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHJlcGx5KGNsaWVudCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRoaXMuX2J1cy5vbihldmVudHMuQ0FSRF9GT1JNX0VOVFJZX0hBU19CRUdVTiwgZnVuY3Rpb24gKCkge1xuICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoc2VsZi5fY2xpZW50UHJvbWlzZSwgXCJob3N0ZWQtZmllbGRzLmlucHV0LnN0YXJ0ZWRcIik7XG4gIH0pO1xuXG4gIHRoaXMuX2J1cy5vbihldmVudHMuQklOX0FWQUlMQUJMRSwgZnVuY3Rpb24gKGJpbikge1xuICAgIHNlbGYuX2VtaXQoXCJiaW5BdmFpbGFibGVcIiwge1xuICAgICAgYmluOiBiaW4sXG4gICAgfSk7XG4gIH0pO1xuXG4gIGZhaWx1cmVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgIHNlbGYuX2NsaWVudFByb21pc2UsXG4gICAgICBcImN1c3RvbS5ob3N0ZWQtZmllbGRzLmxvYWQudGltZWQtb3V0XCJcbiAgICApO1xuICAgIHNlbGYuX2VtaXQoXCJ0aW1lb3V0XCIpO1xuICB9LCBJTlRFR1JBVElPTl9USU1FT1VUX01TKTtcblxuICBQcm9taXNlLmFsbChmcmFtZVJlYWR5UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICB2YXIgcmVwbHkgPSByZXN1bHRzWzBdO1xuXG4gICAgY2xlYXJUaW1lb3V0KGZhaWx1cmVUaW1lb3V0KTtcbiAgICByZXBseShcbiAgICAgIGZvcm1hdE1lcmNoYW50Q29uZmlndXJhdGlvbkZvcklmcmFtZXMoc2VsZi5fbWVyY2hhbnRDb25maWd1cmF0aW9uT3B0aW9ucylcbiAgICApO1xuXG4gICAgc2VsZi5fY2xlYW5VcEZvY3VzSW50ZXJjZXB0cygpO1xuXG4gICAgc2VsZi5fZW1pdChcInJlYWR5XCIpO1xuICB9KTtcblxuICB0aGlzLl9idXMub24oZXZlbnRzLkZSQU1FX1JFQURZLCBmdW5jdGlvbiAoZGF0YSwgcmVwbHkpIHtcbiAgICBmcmFtZVJlYWR5UHJvbWlzZVJlc29sdmVGdW5jdGlvbnNbZGF0YS5maWVsZF0ocmVwbHkpO1xuICB9KTtcblxuICB0aGlzLl9idXMub24oZXZlbnRzLklOUFVUX0VWRU5ULCBjcmVhdGVJbnB1dEV2ZW50SGFuZGxlcihmaWVsZHMpLmJpbmQodGhpcykpO1xuXG4gIHRoaXMuX2Rlc3RydWN0b3IucmVnaXN0ZXJGdW5jdGlvbkZvclRlYXJkb3duKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaiwgbm9kZSwgcGFyZW50O1xuXG4gICAgZm9yIChqID0gMDsgaiA8IHNlbGYuX2luamVjdGVkTm9kZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIG5vZGUgPSBzZWxmLl9pbmplY3RlZE5vZGVzW2pdO1xuICAgICAgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuXG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobm9kZSk7XG5cbiAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgICBjb25zdGFudHMuZXh0ZXJuYWxDbGFzc2VzLkZPQ1VTRUQsXG4gICAgICAgIGNvbnN0YW50cy5leHRlcm5hbENsYXNzZXMuSU5WQUxJRCxcbiAgICAgICAgY29uc3RhbnRzLmV4dGVybmFsQ2xhc3Nlcy5WQUxJRFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX2Rlc3RydWN0b3IucmVnaXN0ZXJGdW5jdGlvbkZvclRlYXJkb3duKGZ1bmN0aW9uICgpIHtcbiAgICBkZXN0cm95Rm9jdXNJbnRlcmNlcHQoKTtcbiAgfSk7XG5cbiAgdGhpcy5fZGVzdHJ1Y3Rvci5yZWdpc3RlckZ1bmN0aW9uRm9yVGVhcmRvd24oZnVuY3Rpb24gKCkge1xuICAgIHZhciBtZXRob2ROYW1lcyA9IG1ldGhvZHMoSG9zdGVkRmllbGRzLnByb3RvdHlwZSkuY29uY2F0KFxuICAgICAgbWV0aG9kcyhFdmVudEVtaXR0ZXIucHJvdG90eXBlKVxuICAgICk7XG5cbiAgICBjb252ZXJ0TWV0aG9kc1RvRXJyb3Ioc2VsZiwgbWV0aG9kTmFtZXMpO1xuICB9KTtcbn1cblxuRXZlbnRFbWl0dGVyLmNyZWF0ZUNoaWxkKEhvc3RlZEZpZWxkcyk7XG5cbkhvc3RlZEZpZWxkcy5wcm90b3R5cGUuX3NldHVwTGFiZWxGb2N1cyA9IGZ1bmN0aW9uICh0eXBlLCBjb250YWluZXIpIHtcbiAgdmFyIGxhYmVscywgaTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcm9vdE5vZGUgPSBmaW5kUm9vdE5vZGUoY29udGFpbmVyKTtcblxuICBpZiAoY29udGFpbmVyLmlkID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmdW5jdGlvbiB0cmlnZ2VyRm9jdXMoKSB7XG4gICAgc2VsZi5mb2N1cyh0eXBlKTtcbiAgfVxuXG4gIC8vIGZpbmQgYW55IGxhYmVscyBpbiB0aGUgbm9ybWFsIERPTVxuICBsYWJlbHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsYWJlbFtmb3I9XCInICsgY29udGFpbmVyLmlkICsgJ1wiXScpXG4gICk7XG4gIGlmIChyb290Tm9kZSAhPT0gZG9jdW1lbnQpIHtcbiAgICAvLyBmaW5kIGFueSBsYWJlbHMgd2l0aGluIHRoZSBzaGFkb3cgZG9tXG4gICAgbGFiZWxzID0gbGFiZWxzLmNvbmNhdChcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICByb290Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdsYWJlbFtmb3I9XCInICsgY29udGFpbmVyLmlkICsgJ1wiXScpXG4gICAgICApXG4gICAgKTtcbiAgfVxuICAvLyBmaW5kIGFueSBsYWJlbHMgc3Vycm91bmRpbmcgdGhlIGNvbnRhaW5lciB0aGF0IGRvbid0IGFsc28gaGF2ZSB0aGUgYGZvcmAgYXR0cmlidXRlXG4gIGxhYmVscyA9IGxhYmVscy5jb25jYXQoZmluZFBhcmVudFRhZ3MoY29udGFpbmVyLCBcImxhYmVsXCIpKTtcbiAgLy8gZmlsdGVyIG91dCBhbnkgYWNjaWRlbnRhbCBkdXBsaWNhdGVzXG4gIGxhYmVscyA9IGxhYmVscy5maWx0ZXIoZnVuY3Rpb24gKGxhYmVsLCBpbmRleCwgYXJyKSB7XG4gICAgcmV0dXJuIGFyci5pbmRleE9mKGxhYmVsKSA9PT0gaW5kZXg7XG4gIH0pO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICBsYWJlbHNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRyaWdnZXJGb2N1cywgZmFsc2UpO1xuICB9XG5cbiAgdGhpcy5fZGVzdHJ1Y3Rvci5yZWdpc3RlckZ1bmN0aW9uRm9yVGVhcmRvd24oZnVuY3Rpb24gKCkge1xuICAgIGZvciAoaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxhYmVsc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdHJpZ2dlckZvY3VzLCBmYWxzZSk7XG4gICAgfVxuICB9KTtcbn07XG5cbkhvc3RlZEZpZWxkcy5wcm90b3R5cGUuX2dldEFueUZpZWxkQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2ZpZWxkcykucmVkdWNlKGZ1bmN0aW9uIChmb3VuZCwgZmllbGQpIHtcbiAgICByZXR1cm4gZm91bmQgfHwgc2VsZi5fZmllbGRzW2ZpZWxkXS5jb250YWluZXJFbGVtZW50O1xuICB9LCBudWxsKTtcbn07XG5cbkhvc3RlZEZpZWxkcy5wcm90b3R5cGUuX2NsZWFuVXBGb2N1c0ludGVyY2VwdHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpZnJhbWVDb250YWluZXIsIGNoZWNrb3V0Rm9ybTtcblxuICBpZiAoZG9jdW1lbnQuZm9ybXMubGVuZ3RoIDwgMSkge1xuICAgIHRoaXMuX2J1cy5lbWl0KGV2ZW50cy5SRU1PVkVfRk9DVVNfSU5URVJDRVBUUyk7XG4gIH0gZWxzZSB7XG4gICAgaWZyYW1lQ29udGFpbmVyID0gdGhpcy5fZ2V0QW55RmllbGRDb250YWluZXIoKTtcbiAgICBjaGVja291dEZvcm0gPSBmaW5kUGFyZW50VGFncyhpZnJhbWVDb250YWluZXIsIFwiZm9ybVwiKVswXTtcblxuICAgIGlmIChjaGVja291dEZvcm0pIHtcbiAgICAgIGZvY3VzQ2hhbmdlLnJlbW92ZUV4dHJhRm9jdXNFbGVtZW50cyhcbiAgICAgICAgY2hlY2tvdXRGb3JtLFxuICAgICAgICBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICB0aGlzLl9idXMuZW1pdChldmVudHMuUkVNT1ZFX0ZPQ1VTX0lOVEVSQ0VQVFMsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXMuZW1pdChldmVudHMuUkVNT1ZFX0ZPQ1VTX0lOVEVSQ0VQVFMpO1xuICAgIH1cbiAgfVxufTtcblxuSG9zdGVkRmllbGRzLnByb3RvdHlwZS5fYXR0YWNoSW52YWxpZEZpZWxkQ29udGFpbmVyc1RvRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIGlmIChcbiAgICAhKFxuICAgICAgZXJyLmRldGFpbHMgJiZcbiAgICAgIGVyci5kZXRhaWxzLmludmFsaWRGaWVsZEtleXMgJiZcbiAgICAgIGVyci5kZXRhaWxzLmludmFsaWRGaWVsZEtleXMubGVuZ3RoID4gMFxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVyci5kZXRhaWxzLmludmFsaWRGaWVsZHMgPSB7fTtcbiAgZXJyLmRldGFpbHMuaW52YWxpZEZpZWxkS2V5cy5mb3JFYWNoKFxuICAgIGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgZXJyLmRldGFpbHMuaW52YWxpZEZpZWxkc1tmaWVsZF0gPSB0aGlzLl9maWVsZHNbZmllbGRdLmNvbnRhaW5lckVsZW1lbnQ7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG4vKipcbiAqIEdldCBjYXJkIHZlcmlmaWNhdGlvbiBjaGFsbGVuZ2VzLCBzdWNoIGFzIHJlcXVpcmVtZW50cyBmb3IgY3Z2IGFuZCBwb3N0YWwgY29kZS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uIGNvbXBsZXRpb24sIGNvbnRhaW5pbmcgYW4gZXJyb3IgaWYgb25lIG9jY3VycmVkLiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgYGdldENoYWxsZW5nZXNgIHJldHVybnMgYSBwcm9taXNlLlxuICogQGV4YW1wbGVcbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLmdldENoYWxsZW5nZXMoKS50aGVuKGZ1bmN0aW9uIChjaGFsbGVuZ2VzKSB7XG4gKiAgIGNoYWxsZW5nZXMgLy8gWydjdnYnLCAncG9zdGFsX2NvZGUnXVxuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLmdldENoYWxsZW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9jbGllbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgIHJldHVybiBjbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpLmdhdGV3YXlDb25maWd1cmF0aW9uLmNoYWxsZW5nZXM7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgc3VwcG9ydGVkIGNhcmQgdHlwZXMgY29uZmlndXJlZCBpbiB0aGUgQnJhaW50cmVlIENvbnRyb2wgUGFuZWxcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uIGNvbXBsZXRpb24sIGNvbnRhaW5pbmcgYW4gZXJyb3IgaWYgb25lIG9jY3VycmVkLiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgYGdldFN1cHBvcnRlZENhcmRUeXBlc2AgcmV0dXJucyBhIHByb21pc2UuXG4gKiBAZXhhbXBsZVxuICogaG9zdGVkRmllbGRzSW5zdGFuY2UuZ2V0U3VwcG9ydGVkQ2FyZFR5cGVzKCkudGhlbihmdW5jdGlvbiAoY2FyZFR5cGVzKSB7XG4gKiAgIGNhcmRUeXBlcyAvLyBbJ1Zpc2EnLCAnQW1lcmljYW4gRXhwcmVzcycsICdNYXN0ZXJjYXJkJ11cbiAqIH0pO1xuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqL1xuSG9zdGVkRmllbGRzLnByb3RvdHlwZS5nZXRTdXBwb3J0ZWRDYXJkVHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9jbGllbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgIHZhciBjYXJkcyA9IGNsaWVudFxuICAgICAgLmdldENvbmZpZ3VyYXRpb24oKVxuICAgICAgLmdhdGV3YXlDb25maWd1cmF0aW9uLmNyZWRpdENhcmRzLnN1cHBvcnRlZENhcmRUeXBlcy5tYXAoZnVuY3Rpb24gKFxuICAgICAgICBjYXJkVHlwZVxuICAgICAgKSB7XG4gICAgICAgIGlmIChjYXJkVHlwZSA9PT0gXCJNYXN0ZXJDYXJkXCIpIHtcbiAgICAgICAgICAvLyBNYXN0ZXJjYXJkIGNoYW5nZWQgdGhlaXIgYnJhbmRpbmcuIFdlIGNhbid0IHVwZGF0ZSBvdXJcbiAgICAgICAgICAvLyBjb25maWcgd2l0aG91dCBjcmVhdGluZyBhIGJyZWFraW5nIGNoYW5nZSwgc28gd2UganVzdFxuICAgICAgICAgIC8vIGhhcmQgY29kZSB0aGUgY2hhbmdlIGhlcmVcbiAgICAgICAgICByZXR1cm4gXCJNYXN0ZXJjYXJkXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FyZFR5cGU7XG4gICAgICB9KTtcblxuICAgIHJldHVybiBjYXJkcztcbiAgfSk7XG59O1xuXG4vKipcbiAqIENsZWFubHkgcmVtb3ZlIGFueXRoaW5nIHNldCB1cCBieSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkcy5jcmVhdGV8Y3JlYXRlfS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uIGNvbXBsZXRpb24sIGNvbnRhaW5pbmcgYW4gZXJyb3IgaWYgb25lIG9jY3VycmVkLiBObyBkYXRhIGlzIHJldHVybmVkIGlmIHRlYXJkb3duIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHkuIElmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLCBgdGVhcmRvd25gIHJldHVybnMgYSBwcm9taXNlLlxuICogQGV4YW1wbGVcbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLnRlYXJkb3duKGZ1bmN0aW9uICh0ZWFyZG93bkVycikge1xuICogICBpZiAodGVhcmRvd25FcnIpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgdGVhciBkb3duIEhvc3RlZCBGaWVsZHMhJyk7XG4gKiAgIH0gZWxzZSB7XG4gKiAgICAgY29uc29sZS5pbmZvKCdIb3N0ZWQgRmllbGRzIGhhcyBiZWVuIHRvcm4gZG93biEnKTtcbiAqICAgfVxuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLl9kZXN0cnVjdG9yLnRlYXJkb3duKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgIHNlbGYuX2NsaWVudFByb21pc2UsXG4gICAgICAgIFwiY3VzdG9tLmhvc3RlZC1maWVsZHMudGVhcmRvd24tY29tcGxldGVkXCJcbiAgICAgICk7XG5cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBUb2tlbml6ZXMgZmllbGRzIGFuZCByZXR1cm5zIGEgbm9uY2UgcGF5bG9hZC5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gQWxsIHRva2VuaXphdGlvbiBvcHRpb25zIGZvciB0aGUgSG9zdGVkIEZpZWxkcyBjb21wb25lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnZhdWx0PWZhbHNlXSBXaGVuIHRydWUsIHdpbGwgdmF1bHQgdGhlIHRva2VuaXplZCBjYXJkLiBDYXJkcyB3aWxsIG9ubHkgYmUgdmF1bHRlZCB3aGVuIHVzaW5nIGEgY2xpZW50IGNyZWF0ZWQgd2l0aCBhIGNsaWVudCB0b2tlbiB0aGF0IGluY2x1ZGVzIGEgY3VzdG9tZXIgSUQuIE5vdGU6IG1lcmNoYW50cyB1c2luZyBBZHZhbmNlZCBGcmF1ZCBUb29scyBzaG91bGQgbm90IHVzZSB0aGlzIG9wdGlvbiwgYXMgZGV2aWNlIGRhdGEgd2lsbCBub3QgYmUgaW5jbHVkZWQuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuYXV0aGVudGljYXRpb25JbnNpZ2h0XSBPcHRpb25zIGZvciBjaGVja2luZyBhdXRoZW50aWNhdGlvbiBpbnNpZ2h0IC0gdGhlIFtyZWd1bGF0b3J5IGVudmlyb25tZW50XShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2JyYWludHJlZS9kb2NzL2d1aWRlcy8zZC1zZWN1cmUvYWR2YW5jZWQtb3B0aW9ucy9qYXZhc2NyaXB0L3YzI2F1dGhlbnRpY2F0aW9uLWluc2lnaHQpIG9mIHRoZSB0b2tlbml6ZWQgY2FyZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmF1dGhlbnRpY2F0aW9uSW5zaWdodC5tZXJjaGFudEFjY291bnRJZCBUaGUgQnJhaW50cmVlIG1lcmNoYW50IGFjY291bnQgaWQgdG8gdXNlIHRvIGxvb2sgdXAgdGhlIGF1dGhlbnRpY2F0aW9uIGluc2lnaHQgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0ge2FycmF5fSBbb3B0aW9ucy5maWVsZHNUb1Rva2VuaXplXSBCeSBkZWZhdWx0LCBhbGwgZmllbGRzIHdpbGwgYmUgdG9rZW5pemVkLiBZb3UgbWF5IHNwZWNpZnkgd2hpY2ggZmllbGRzIHNwZWNpZmljYWxseSB5b3Ugd2lzaCB0byB0b2tlbml6ZSB3aXRoIHRoaXMgcHJvcGVydHkuIFZhbGlkIG9wdGlvbnMgYXJlIGAnbnVtYmVyJ2AsIGAnY3Z2J2AsIGAnZXhwaXJhdGlvbkRhdGUnYCwgYCdleHBpcmF0aW9uTW9udGgnYCwgYCdleHBpcmF0aW9uWWVhcidgLCBgJ3Bvc3RhbENvZGUnYCwgYCdjYXJkaG9sZGVyTmFtZSdgLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmNhcmRob2xkZXJOYW1lXSBXaGVuIHN1cHBsaWVkLCB0aGUgY2FyZGhvbGRlciBuYW1lIHRvIGJlIHRva2VuaXplZCB3aXRoIHRoZSBjb250ZW50cyBvZiB0aGUgZmllbGRzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJpbGxpbmdBZGRyZXNzLnBvc3RhbENvZGVdIFdoZW4gc3VwcGxpZWQsIHRoaXMgcG9zdGFsIGNvZGUgd2lsbCBiZSB0b2tlbml6ZWQgYWxvbmcgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIGZpZWxkcy4gSWYgYSBwb3N0YWwgY29kZSBpcyBwcm92aWRlZCBhcyBwYXJ0IG9mIHRoZSBIb3N0ZWQgRmllbGRzIGNvbmZpZ3VyYXRpb24sIHRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgd2lsbCBiZSB0b2tlbml6ZWQgYW5kIHRoaXMgdmFsdWUgd2lsbCBiZSBpZ25vcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJpbGxpbmdBZGRyZXNzLmZpcnN0TmFtZV0gV2hlbiBzdXBwbGllZCwgdGhpcyBjdXN0b21lciBmaXJzdCBuYW1lIHdpbGwgYmUgdG9rZW5pemVkIGFsb25nIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWVsZHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmlsbGluZ0FkZHJlc3MubGFzdE5hbWVdIFdoZW4gc3VwcGxpZWQsIHRoaXMgY3VzdG9tZXIgbGFzdCBuYW1lIHdpbGwgYmUgdG9rZW5pemVkIGFsb25nIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWVsZHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmlsbGluZ0FkZHJlc3MuY29tcGFueV0gV2hlbiBzdXBwbGllZCwgdGhpcyBjb21wYW55IG5hbWUgd2lsbCBiZSB0b2tlbml6ZWQgYWxvbmcgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIGZpZWxkcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5iaWxsaW5nQWRkcmVzcy5zdHJlZXRBZGRyZXNzXSBXaGVuIHN1cHBsaWVkLCB0aGlzIHN0cmVldCBhZGRyZXNzIHdpbGwgYmUgdG9rZW5pemVkIGFsb25nIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWVsZHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmlsbGluZ0FkZHJlc3MuZXh0ZW5kZWRBZGRyZXNzXSBXaGVuIHN1cHBsaWVkLCB0aGlzIGV4dGVuZGVkIGFkZHJlc3Mgd2lsbCBiZSB0b2tlbml6ZWQgYWxvbmcgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIGZpZWxkcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5iaWxsaW5nQWRkcmVzcy5sb2NhbGl0eV0gV2hlbiBzdXBwbGllZCwgdGhpcyBsb2NhbGl0eSAodGhlIGNpdHkpIHdpbGwgYmUgdG9rZW5pemVkIGFsb25nIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWVsZHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmlsbGluZ0FkZHJlc3MucmVnaW9uXSBXaGVuIHN1cHBsaWVkLCB0aGlzIHJlZ2lvbiAodGhlIHN0YXRlKSB3aWxsIGJlIHRva2VuaXplZCBhbG9uZyB3aXRoIHRoZSBjb250ZW50cyBvZiB0aGUgZmllbGRzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJpbGxpbmdBZGRyZXNzLmNvdW50cnlDb2RlTnVtZXJpY10gV2hlbiBzdXBwbGllZCwgdGhpcyBudW1lcmljIGNvdW50cnkgY29kZSB3aWxsIGJlIHRva2VuaXplZCBhbG9uZyB3aXRoIHRoZSBjb250ZW50cyBvZiB0aGUgZmllbGRzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJpbGxpbmdBZGRyZXNzLmNvdW50cnlDb2RlQWxwaGEyXSBXaGVuIHN1cHBsaWVkLCB0aGlzIGFscGhhIDIgcmVwcmVzZW50YXRpb24gb2YgYSBjb3VudHJ5IHdpbGwgYmUgdG9rZW5pemVkIGFsb25nIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWVsZHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmlsbGluZ0FkZHJlc3MuY291bnRyeUNvZGVBbHBoYTNdIFdoZW4gc3VwcGxpZWQsIHRoaXMgYWxwaGEgMyByZXByZXNlbnRhdGlvbiBvZiBhIGNvdW50cnkgd2lsbCBiZSB0b2tlbml6ZWQgYWxvbmcgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIGZpZWxkcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5iaWxsaW5nQWRkcmVzcy5jb3VudHJ5TmFtZV0gV2hlbiBzdXBwbGllZCwgdGhpcyBjb3VudHJ5IG5hbWUgd2lsbCBiZSB0b2tlbml6ZWQgYWxvbmcgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIGZpZWxkcy5cbiAqXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIE1heSBiZSB1c2VkIGFzIHRoZSBvbmx5IHBhcmFtZXRlciBvZiB0aGUgZnVuY3Rpb24gaWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkIGluLiBUaGUgc2Vjb25kIGFyZ3VtZW50LCA8Y29kZT5kYXRhPC9jb2RlPiwgaXMgYSB7QGxpbmsgSG9zdGVkRmllbGRzfnRva2VuaXplUGF5bG9hZHx0b2tlbml6ZVBheWxvYWR9LiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgYHRva2VuaXplYCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB3aXRoIGEge0BsaW5rIEhvc3RlZEZpZWxkc350b2tlbml6ZVBheWxvYWR8dG9rZW5pemVQYXlsb2FkfS5cbiAqIEBleGFtcGxlIDxjYXB0aW9uPlRva2VuaXplIGEgY2FyZDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLnRva2VuaXplKGZ1bmN0aW9uICh0b2tlbml6ZUVyciwgcGF5bG9hZCkge1xuICogICBpZiAodG9rZW5pemVFcnIpIHtcbiAqICAgICBzd2l0Y2ggKHRva2VuaXplRXJyLmNvZGUpIHtcbiAqICAgICAgIGNhc2UgJ0hPU1RFRF9GSUVMRFNfRklFTERTX0VNUFRZJzpcbiAqICAgICAgICAgLy8gb2NjdXJzIHdoZW4gbm9uZSBvZiB0aGUgZmllbGRzIGFyZSBmaWxsZWQgaW5cbiAqICAgICAgICAgY29uc29sZS5lcnJvcignQWxsIGZpZWxkcyBhcmUgZW1wdHkhIFBsZWFzZSBmaWxsIG91dCB0aGUgZm9ybS4nKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKiAgICAgICBjYXNlICdIT1NURURfRklFTERTX0ZJRUxEU19JTlZBTElEJzpcbiAqICAgICAgICAgLy8gb2NjdXJzIHdoZW4gY2VydGFpbiBmaWVsZHMgZG8gbm90IHBhc3MgY2xpZW50IHNpZGUgdmFsaWRhdGlvblxuICogICAgICAgICBjb25zb2xlLmVycm9yKCdTb21lIGZpZWxkcyBhcmUgaW52YWxpZDonLCB0b2tlbml6ZUVyci5kZXRhaWxzLmludmFsaWRGaWVsZEtleXMpO1xuICpcbiAqICAgICAgICAgLy8geW91IGNhbiBhbHNvIHByb2dyYW1tYXRpY2FsbHkgYWNjZXNzIHRoZSBmaWVsZCBjb250YWluZXJzIGZvciB0aGUgaW52YWxpZCBmaWVsZHNcbiAqICAgICAgICAgdG9rZW5pemVFcnIuZGV0YWlscy5pbnZhbGlkRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkQ29udGFpbmVyKSB7XG4gKiAgICAgICAgICAgZmllbGRDb250YWluZXIuY2xhc3NOYW1lID0gJ2ludmFsaWQnO1xuICogICAgICAgICB9KTtcbiAqICAgICAgICAgYnJlYWs7XG4gKiAgICAgICBjYXNlICdIT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9GQUlMX09OX0RVUExJQ0FURSc6XG4gKiAgICAgICAgIC8vIG9jY3VycyB3aGVuOlxuICogICAgICAgICAvLyAgICogdGhlIGNsaWVudCB0b2tlbiB1c2VkIGZvciBjbGllbnQgYXV0aG9yaXphdGlvbiB3YXMgZ2VuZXJhdGVkXG4gKiAgICAgICAgIC8vICAgICB3aXRoIGEgY3VzdG9tZXIgSUQgYW5kIHRoZSBmYWlsIG9uIGR1cGxpY2F0ZSBwYXltZW50IG1ldGhvZFxuICogICAgICAgICAvLyAgICAgb3B0aW9uIGlzIHNldCB0byB0cnVlXG4gKiAgICAgICAgIC8vICAgKiB0aGUgY2FyZCBiZWluZyB0b2tlbml6ZWQgaGFzIHByZXZpb3VzbHkgYmVlbiB2YXVsdGVkICh3aXRoIGFueSBjdXN0b21lcilcbiAqICAgICAgICAgLy8gU2VlOiBodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2JyYWludHJlZS9kb2NzL3JlZmVyZW5jZS9yZXF1ZXN0L2NsaWVudC10b2tlbi9nZW5lcmF0ZSNvcHRpb25zLmZhaWxfb25fZHVwbGljYXRlX3BheW1lbnRfbWV0aG9kXG4gKiAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoaXMgcGF5bWVudCBtZXRob2QgYWxyZWFkeSBleGlzdHMgaW4geW91ciB2YXVsdC4nKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKiAgICAgICBjYXNlICdIT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9DVlZfVkVSSUZJQ0FUSU9OX0ZBSUxFRCc6XG4gKiAgICAgICAgIC8vIG9jY3VycyB3aGVuOlxuICogICAgICAgICAvLyAgICogdGhlIGNsaWVudCB0b2tlbiB1c2VkIGZvciBjbGllbnQgYXV0aG9yaXphdGlvbiB3YXMgZ2VuZXJhdGVkXG4gKiAgICAgICAgIC8vICAgICB3aXRoIGEgY3VzdG9tZXIgSUQgYW5kIHRoZSB2ZXJpZnkgY2FyZCBvcHRpb24gaXMgc2V0IHRvIHRydWVcbiAqICAgICAgICAgLy8gICAgIGFuZCB5b3UgaGF2ZSBjcmVkaXQgY2FyZCB2ZXJpZmljYXRpb24gdHVybmVkIG9uIGluIHRoZSBCcmFpbnRyZWVcbiAqICAgICAgICAgLy8gICAgIGNvbnRyb2wgcGFuZWxcbiAqICAgICAgICAgLy8gICAqIHRoZSBjdnYgZG9lcyBub3QgcGFzcyB2ZXJpZmljYXRpb24gKGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vYnJhaW50cmVlL2RvY3MvcmVmZXJlbmNlL2dlbmVyYWwvdGVzdGluZyNhdnMtYW5kLWN2di9jaWQtcmVzcG9uc2VzKVxuICogICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vYnJhaW50cmVlL2RvY3MvcmVmZXJlbmNlL3JlcXVlc3QvY2xpZW50LXRva2VuL2dlbmVyYXRlI29wdGlvbnMudmVyaWZ5X2NhcmRcbiAqICAgICAgICAgY29uc29sZS5lcnJvcignQ1ZWIGRpZCBub3QgcGFzcyB2ZXJpZmljYXRpb24nKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKiAgICAgICBjYXNlICdIT1NURURfRklFTERTX0ZBSUxFRF9UT0tFTklaQVRJT04nOlxuICogICAgICAgICAvLyBvY2N1cnMgZm9yIGFueSBvdGhlciB0b2tlbml6YXRpb24gZXJyb3Igb24gdGhlIHNlcnZlclxuICogICAgICAgICBjb25zb2xlLmVycm9yKCdUb2tlbml6YXRpb24gZmFpbGVkIHNlcnZlciBzaWRlLiBJcyB0aGUgY2FyZCB2YWxpZD8nKTtcbiAqICAgICAgICAgYnJlYWs7XG4gKiAgICAgICBjYXNlICdIT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9ORVRXT1JLX0VSUk9SJzpcbiAqICAgICAgICAgLy8gb2NjdXJzIHdoZW4gdGhlIEJyYWludHJlZSBnYXRld2F5IGNhbm5vdCBiZSBjb250YWN0ZWRcbiAqICAgICAgICAgY29uc29sZS5lcnJvcignTmV0d29yayBlcnJvciBvY2N1cnJlZCB3aGVuIHRva2VuaXppbmcuJyk7XG4gKiAgICAgICAgIGJyZWFrO1xuICogICAgICAgZGVmYXVsdDpcbiAqICAgICAgICAgY29uc29sZS5lcnJvcignU29tZXRoaW5nIGJhZCBoYXBwZW5lZCEnLCB0b2tlbml6ZUVycik7XG4gKiAgICAgfVxuICogICB9IGVsc2Uge1xuICogICAgIGNvbnNvbGUubG9nKCdHb3Qgbm9uY2U6JywgcGF5bG9hZC5ub25jZSk7XG4gKiAgIH1cbiAqIH0pO1xuICogQGV4YW1wbGUgPGNhcHRpb24+VG9rZW5pemUgYW5kIHZhdWx0IGEgY2FyZDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLnRva2VuaXplKHtcbiAqICAgdmF1bHQ6IHRydWVcbiAqIH0sIGZ1bmN0aW9uICh0b2tlbml6ZUVyciwgcGF5bG9hZCkge1xuICogICBpZiAodG9rZW5pemVFcnIpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKHRva2VuaXplRXJyKTtcbiAqICAgfSBlbHNlIHtcbiAqICAgICBjb25zb2xlLmxvZygnR290IG5vbmNlOicsIHBheWxvYWQubm9uY2UpO1xuICogICB9XG4gKiB9KTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlRva2VuaXplIGEgY2FyZCB3aXRoIG5vbi1Ib3N0ZWQgRmllbGRzIGNhcmRob2xkZXIgbmFtZTwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLnRva2VuaXplKHtcbiAqICAgY2FyZGhvbGRlck5hbWU6ICdGaXJzdCBMYXN0J1xuICogfSwgZnVuY3Rpb24gKHRva2VuaXplRXJyLCBwYXlsb2FkKSB7XG4gKiAgIGlmICh0b2tlbml6ZUVycikge1xuICogICAgIGNvbnNvbGUuZXJyb3IodG9rZW5pemVFcnIpO1xuICogICB9IGVsc2Uge1xuICogICAgIGNvbnNvbGUubG9nKCdHb3Qgbm9uY2U6JywgcGF5bG9hZC5ub25jZSk7XG4gKiAgIH1cbiAqIH0pO1xuICogQGV4YW1wbGUgPGNhcHRpb24+VG9rZW5pemUgYSBjYXJkIHdpdGggbm9uLUhvc3RlZCBGaWVsZHMgcG9zdGFsIGNvZGUgb3B0aW9uPC9jYXB0aW9uPlxuICogaG9zdGVkRmllbGRzSW5zdGFuY2UudG9rZW5pemUoe1xuICogICBiaWxsaW5nQWRkcmVzczoge1xuICogICAgIHBvc3RhbENvZGU6ICcxMTExMSdcbiAqICAgfVxuICogfSwgZnVuY3Rpb24gKHRva2VuaXplRXJyLCBwYXlsb2FkKSB7XG4gKiAgIGlmICh0b2tlbml6ZUVycikge1xuICogICAgIGNvbnNvbGUuZXJyb3IodG9rZW5pemVFcnIpO1xuICogICB9IGVsc2Uge1xuICogICAgIGNvbnNvbGUubG9nKCdHb3Qgbm9uY2U6JywgcGF5bG9hZC5ub25jZSk7XG4gKiAgIH1cbiAqIH0pO1xuICogQGV4YW1wbGUgPGNhcHRpb24+VG9rZW5pemUgYSBjYXJkIHdpdGggYWRkaXRpb25hbCBiaWxsaW5nIGFkZHJlc3Mgb3B0aW9uczwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLnRva2VuaXplKHtcbiAqICAgYmlsbGluZ0FkZHJlc3M6IHtcbiAqICAgICBmaXJzdE5hbWU6ICdGaXJzdCcsXG4gKiAgICAgbGFzdE5hbWU6ICdMYXN0JyxcbiAqICAgICBjb21wYW55OiAnQ29tcGFueScsXG4gKiAgICAgc3RyZWV0QWRkcmVzczogJzEyMyBTdHJlZXQnLFxuICogICAgIGV4dGVuZGVkQWRkcmVzczogJ1VuaXQgMScsXG4gKiAgICAgLy8gcGFzc2luZyBqdXN0IG9uZSBvZiB0aGUgY291bnRyeSBvcHRpb25zIGlzIHN1ZmZpY2llbnQgdG9cbiAqICAgICAvLyBhc3NvY2lhdGUgdGhlIGNhcmQgZGV0YWlscyB3aXRoIGEgcGFydGljdWxhciBjb3VudHJ5XG4gKiAgICAgLy8gdmFsaWQgY291bnRyeSBuYW1lcyBhbmQgY29kZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gKiAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS9icmFpbnRyZWUvZG9jcy9yZWZlcmVuY2UvZ2VuZXJhbC9jb3VudHJpZXMvcnVieSNsaXN0LW9mLWNvdW50cmllc1xuICogICAgIGNvdW50cnlOYW1lOiAnVW5pdGVkIFN0YXRlcycsXG4gKiAgICAgY291bnRyeUNvZGVBbHBoYTI6ICdVUycsXG4gKiAgICAgY291bnRyeUNvZGVBbHBoYTM6ICdVU0EnLFxuICogICAgIGNvdW50cnlDb2RlTnVtZXJpYzogJzg0MCdcbiAqICAgfVxuICogfSwgZnVuY3Rpb24gKHRva2VuaXplRXJyLCBwYXlsb2FkKSB7XG4gKiAgIGlmICh0b2tlbml6ZUVycikge1xuICogICAgIGNvbnNvbGUuZXJyb3IodG9rZW5pemVFcnIpO1xuICogICB9IGVsc2Uge1xuICogICAgIGNvbnNvbGUubG9nKCdHb3Qgbm9uY2U6JywgcGF5bG9hZC5ub25jZSk7XG4gKiAgIH1cbiAqIH0pO1xuICogQGV4YW1wbGUgPGNhcHRpb24+QWxsb3cgdG9rZW5pemF0aW9uIHdpdGggZW1wdHkgY2FyZGhvbGRlciBuYW1lIGZpZWxkPC9jYXB0aW9uPlxuICogdmFyIHN0YXRlID0gaG9zdGVkRmllbGRzSW5zdGFuY2UuZ2V0U3RhdGUoKTtcbiAqIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhzdGF0ZS5maWVsZHMpO1xuICpcbiAqIC8vIG5vcm1hbGx5LCBpZiB5b3UgdHJpZWQgdG8gdG9rZW5pemUgYW4gZW1wdHkgY2FyZGhvbGRlciBuYW1lIGZpZWxkXG4gKiAvLyB5b3Ugd291bGQgZ2V0IGFuIGVycm9yLCB0byBhbGxvdyBtYWtpbmcgdGhpcyBmaWVsZCBvcHRpb25hbCxcbiAqIC8vIHRva2VuaXplIGFsbCB0aGUgZmllbGRzIGV4Y2VwdCBmb3IgdGhlIGNhcmRob2xkZXIgbmFtZSBmaWVsZFxuICogLy8gd2hlbiB0aGUgY2FyZGhvbGRlciBuYW1lIGZpZWxkIGlzIGVtcHR5LiBPdGhlcndpc2UsIHRva2VuaXplXG4gKiAvLyBhbGwgdGhlIGZpZWxkc1xuICogaWYgKHN0YXRlLmZpZWxkcy5jYXJkaG9sZGVyTmFtZS5pc0VtcHR5KSB7XG4gKiAgZmllbGRzID0gZmllbGRzLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHtcbiAqICAgIHJldHVybiBmaWVsZCAhPT0gJ2NhcmRob2xkZXJOYW1lJztcbiAqICB9KTtcbiAqIH1cbiAqXG4gKiBob3N0ZWRGaWVsZHNJbnN0YW5jZS50b2tlbml6ZSh7XG4gKiAgZmllbGRzVG9Ub2tlbml6ZTogZmllbGRzXG4gKiB9LCBmdW5jdGlvbiAodG9rZW5pemVFcnIsIHBheWxvYWQpIHtcbiAqICAgaWYgKHRva2VuaXplRXJyKSB7XG4gKiAgICAgY29uc29sZS5lcnJvcih0b2tlbml6ZUVycik7XG4gKiAgIH0gZWxzZSB7XG4gKiAgICAgY29uc29sZS5sb2coJ0dvdCBub25jZTonLCBwYXlsb2FkLm5vbmNlKTtcbiAqICAgfVxuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2VsZi5fYnVzLmVtaXQoZXZlbnRzLlRPS0VOSVpBVElPTl9SRVFVRVNULCBvcHRpb25zLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHZhciBlcnIgPSByZXNwb25zZVswXTtcbiAgICAgIHZhciBwYXlsb2FkID0gcmVzcG9uc2VbMV07XG5cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgc2VsZi5fYXR0YWNoSW52YWxpZEZpZWxkQ29udGFpbmVyc1RvRXJyb3IoZXJyKTtcbiAgICAgICAgcmVqZWN0KG5ldyBCcmFpbnRyZWVFcnJvcihlcnIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUocGF5bG9hZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBZGQgYSBjbGFzcyB0byBhIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkIGZpZWxkfS4gVXNlZnVsIGZvciB1cGRhdGluZyBmaWVsZCBzdHlsZXMgd2hlbiBldmVudHMgb2NjdXIgZWxzZXdoZXJlIGluIHlvdXIgY2hlY2tvdXQuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkIHlvdSB3aXNoIHRvIGFkZCBhIGNsYXNzIHRvLiBNdXN0IGJlIGEgdmFsaWQge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHN+ZmllbGRPcHRpb25zIGZpZWxkT3B0aW9ufS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc25hbWUgVGhlIGNsYXNzIHRvIGJlIGFkZGVkLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBDYWxsYmFjayBleGVjdXRlZCBvbiBjb21wbGV0aW9uLCBjb250YWluaW5nIGFuIGVycm9yIGlmIG9uZSBvY2N1cnJlZC4gTm8gZGF0YSBpcyByZXR1cm5lZCBpZiB0aGUgY2xhc3MgaXMgYWRkZWQgc3VjY2Vzc2Z1bGx5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBob3N0ZWRGaWVsZHNJbnN0YW5jZS5hZGRDbGFzcygnbnVtYmVyJywgJ2N1c3RvbS1jbGFzcycsIGZ1bmN0aW9uIChhZGRDbGFzc0Vycikge1xuICogICBpZiAoYWRkQ2xhc3NFcnIpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKGFkZENsYXNzRXJyKTtcbiAqICAgfVxuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24gKGZpZWxkLCBjbGFzc25hbWUpIHtcbiAgdmFyIGVycjtcblxuICBpZiAoIWFsbG93ZWRGaWVsZHMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgZXJyID0gbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgIHR5cGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX0lOVkFMSUQudHlwZSxcbiAgICAgIGNvZGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX0lOVkFMSUQuY29kZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdcIicgK1xuICAgICAgICBmaWVsZCArXG4gICAgICAgICdcIiBpcyBub3QgYSB2YWxpZCBmaWVsZC4gWW91IG11c3QgdXNlIGEgdmFsaWQgZmllbGQgb3B0aW9uIHdoZW4gYWRkaW5nIGEgY2xhc3MuJyxcbiAgICB9KTtcbiAgfSBlbHNlIGlmICghdGhpcy5fZmllbGRzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgIGVyciA9IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9OT1RfUFJFU0VOVC50eXBlLFxuICAgICAgY29kZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfTk9UX1BSRVNFTlQuY29kZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdDYW5ub3QgYWRkIGNsYXNzIHRvIFwiJyArXG4gICAgICAgIGZpZWxkICtcbiAgICAgICAgJ1wiIGZpZWxkIGJlY2F1c2UgaXQgaXMgbm90IHBhcnQgb2YgdGhlIGN1cnJlbnQgSG9zdGVkIEZpZWxkcyBvcHRpb25zLicsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fYnVzLmVtaXQoZXZlbnRzLkFERF9DTEFTUywge1xuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgY2xhc3NuYW1lOiBjbGFzc25hbWUsXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZXJyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSBjbGFzcyB0byBhIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkIGZpZWxkfS4gVXNlZnVsIGZvciB1cGRhdGluZyBmaWVsZCBzdHlsZXMgd2hlbiBldmVudHMgb2NjdXIgZWxzZXdoZXJlIGluIHlvdXIgY2hlY2tvdXQuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkIHlvdSB3aXNoIHRvIHJlbW92ZSBhIGNsYXNzIGZyb20uIE11c3QgYmUgYSB2YWxpZCB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkc35maWVsZE9wdGlvbnMgZmllbGRPcHRpb259LlxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzbmFtZSBUaGUgY2xhc3MgdG8gYmUgcmVtb3ZlZC5cbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGJhY2sgZXhlY3V0ZWQgb24gY29tcGxldGlvbiwgY29udGFpbmluZyBhbiBlcnJvciBpZiBvbmUgb2NjdXJyZWQuIE5vIGRhdGEgaXMgcmV0dXJuZWQgaWYgdGhlIGNsYXNzIGlzIHJlbW92ZWQgc3VjY2Vzc2Z1bGx5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBob3N0ZWRGaWVsZHNJbnN0YW5jZS5hZGRDbGFzcygnbnVtYmVyJywgJ2N1c3RvbS1jbGFzcycsIGZ1bmN0aW9uIChhZGRDbGFzc0Vycikge1xuICogICBpZiAoYWRkQ2xhc3NFcnIpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKGFkZENsYXNzRXJyKTtcbiAqICAgICByZXR1cm47XG4gKiAgIH1cbiAqXG4gKiAgIC8vIHNvbWUgdGltZSBsYXRlci4uLlxuICogICBob3N0ZWRGaWVsZHNJbnN0YW5jZS5yZW1vdmVDbGFzcygnbnVtYmVyJywgJ2N1c3RvbS1jbGFzcycpO1xuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24gKGZpZWxkLCBjbGFzc25hbWUpIHtcbiAgdmFyIGVycjtcblxuICBpZiAoIWFsbG93ZWRGaWVsZHMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgZXJyID0gbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgIHR5cGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX0lOVkFMSUQudHlwZSxcbiAgICAgIGNvZGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX0lOVkFMSUQuY29kZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdcIicgK1xuICAgICAgICBmaWVsZCArXG4gICAgICAgICdcIiBpcyBub3QgYSB2YWxpZCBmaWVsZC4gWW91IG11c3QgdXNlIGEgdmFsaWQgZmllbGQgb3B0aW9uIHdoZW4gcmVtb3ZpbmcgYSBjbGFzcy4nLFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKCF0aGlzLl9maWVsZHMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgZXJyID0gbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgIHR5cGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX05PVF9QUkVTRU5ULnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9OT1RfUFJFU0VOVC5jb2RlLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ0Nhbm5vdCByZW1vdmUgY2xhc3MgZnJvbSBcIicgK1xuICAgICAgICBmaWVsZCArXG4gICAgICAgICdcIiBmaWVsZCBiZWNhdXNlIGl0IGlzIG5vdCBwYXJ0IG9mIHRoZSBjdXJyZW50IEhvc3RlZCBGaWVsZHMgb3B0aW9ucy4nLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2J1cy5lbWl0KGV2ZW50cy5SRU1PVkVfQ0xBU1MsIHtcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIGNsYXNzbmFtZTogY2xhc3NuYW1lLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGVycikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufTtcblxuLyoqXG4gKiBTZXRzIGFuIGF0dHJpYnV0ZSBvZiBhIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkIGZpZWxkfS5cbiAqIFN1cHBvcnRlZCBhdHRyaWJ1dGVzIGFyZSBgYXJpYS1pbnZhbGlkYCwgYGFyaWEtcmVxdWlyZWRgLCBgZGlzYWJsZWRgLCBhbmQgYHBsYWNlaG9sZGVyYC5cbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgdGhlIGF0dHJpYnV0ZSB5b3Ugd2lzaCB0byBzZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5maWVsZCBUaGUgZmllbGQgdG8gd2hpY2ggeW91IHdpc2ggdG8gYWRkIGFuIGF0dHJpYnV0ZS4gTXVzdCBiZSBhIHZhbGlkIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkT3B0aW9ucyBmaWVsZE9wdGlvbn0uXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5hdHRyaWJ1dGUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB5b3Ugd2lzaCB0byBhZGQgdG8gdGhlIGZpZWxkLlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmFsdWUgVGhlIHZhbHVlIGZvciB0aGUgYXR0cmlidXRlLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBDYWxsYmFjayBleGVjdXRlZCBvbiBjb21wbGV0aW9uLCBjb250YWluaW5nIGFuIGVycm9yIGlmIG9uZSBvY2N1cnJlZC4gTm8gZGF0YSBpcyByZXR1cm5lZCBpZiB0aGUgYXR0cmlidXRlIGlzIHNldCBzdWNjZXNzZnVsbHkuXG4gKlxuICogQGV4YW1wbGUgPGNhcHRpb24+U2V0IHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgb2YgYSBmaWVsZDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLnNldEF0dHJpYnV0ZSh7XG4gKiAgIGZpZWxkOiAnbnVtYmVyJyxcbiAqICAgYXR0cmlidXRlOiAncGxhY2Vob2xkZXInLFxuICogICB2YWx1ZTogJzExMTEgMTExMSAxMTExIDExMTEnXG4gKiB9LCBmdW5jdGlvbiAoYXR0cmlidXRlRXJyKSB7XG4gKiAgIGlmIChhdHRyaWJ1dGVFcnIpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKGF0dHJpYnV0ZUVycik7XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlNldCB0aGUgYXJpYS1yZXF1aXJlZCBhdHRyaWJ1dGUgb2YgYSBmaWVsZDwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLnNldEF0dHJpYnV0ZSh7XG4gKiAgIGZpZWxkOiAnbnVtYmVyJyxcbiAqICAgYXR0cmlidXRlOiAnYXJpYS1yZXF1aXJlZCcsXG4gKiAgIHZhbHVlOiB0cnVlXG4gKiB9LCBmdW5jdGlvbiAoYXR0cmlidXRlRXJyKSB7XG4gKiAgIGlmIChhdHRyaWJ1dGVFcnIpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKGF0dHJpYnV0ZUVycik7XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cbkhvc3RlZEZpZWxkcy5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIGF0dHJpYnV0ZUVyciwgZXJyO1xuXG4gIGlmICghYWxsb3dlZEZpZWxkcy5oYXNPd25Qcm9wZXJ0eShvcHRpb25zLmZpZWxkKSkge1xuICAgIGVyciA9IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElELnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElELmNvZGUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnXCInICtcbiAgICAgICAgb3B0aW9ucy5maWVsZCArXG4gICAgICAgICdcIiBpcyBub3QgYSB2YWxpZCBmaWVsZC4gWW91IG11c3QgdXNlIGEgdmFsaWQgZmllbGQgb3B0aW9uIHdoZW4gc2V0dGluZyBhbiBhdHRyaWJ1dGUuJyxcbiAgICB9KTtcbiAgfSBlbHNlIGlmICghdGhpcy5fZmllbGRzLmhhc093blByb3BlcnR5KG9wdGlvbnMuZmllbGQpKSB7XG4gICAgZXJyID0gbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgIHR5cGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX05PVF9QUkVTRU5ULnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9OT1RfUFJFU0VOVC5jb2RlLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ0Nhbm5vdCBzZXQgYXR0cmlidXRlIGZvciBcIicgK1xuICAgICAgICBvcHRpb25zLmZpZWxkICtcbiAgICAgICAgJ1wiIGZpZWxkIGJlY2F1c2UgaXQgaXMgbm90IHBhcnQgb2YgdGhlIGN1cnJlbnQgSG9zdGVkIEZpZWxkcyBvcHRpb25zLicsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYXR0cmlidXRlRXJyID0gYXR0cmlidXRlVmFsaWRhdGlvbkVycm9yKG9wdGlvbnMuYXR0cmlidXRlLCBvcHRpb25zLnZhbHVlKTtcblxuICAgIGlmIChhdHRyaWJ1dGVFcnIpIHtcbiAgICAgIGVyciA9IGF0dHJpYnV0ZUVycjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnVzLmVtaXQoZXZlbnRzLlNFVF9BVFRSSUJVVEUsIHtcbiAgICAgICAgZmllbGQ6IG9wdGlvbnMuZmllbGQsXG4gICAgICAgIGF0dHJpYnV0ZTogb3B0aW9ucy5hdHRyaWJ1dGUsXG4gICAgICAgIHZhbHVlOiBvcHRpb25zLnZhbHVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVycikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBtb250aCBvcHRpb25zIGZvciB0aGUgZXhwaXJhdGlvbiBtb250aCBmaWVsZCB3aGVuIHByZXNlbnRlZCBhcyBhIHNlbGVjdCBlbGVtZW50LlxuICpcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7YXJyYXl9IG9wdGlvbnMgQW4gYXJyYXkgb2YgMTIgZW50cmllcyBjb3JyZXNwb25kaW5nIHRvIHRoZSAxMiBtb250aHMuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIENhbGxiYWNrIGV4ZWN1dGVkIG9uIGNvbXBsZXRpb24sIGNvbnRhaW5pbmcgYW4gZXJyb3IgaWYgb25lIG9jY3VycmVkLiBObyBkYXRhIGlzIHJldHVybmVkIGlmIHRoZSBvcHRpb25zIGFyZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4gRXJyb3JzIGlmIGV4cGlyYXRpb25Nb250aCBpcyBub3QgY29uZmlndXJlZCBvbiB0aGUgSG9zdGVkIEZpZWxkcyBpbnN0YW5jZSBvciBpZiB0aGUgZXhwaXJhdGlvbk1vbnRoIGZpZWxkIGlzIG5vdCBjb25maWd1cmVkIHRvIGJlIGEgc2VsZWN0IGlucHV0LlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlVwZGF0ZSB0aGUgbW9udGggb3B0aW9ucyB0byBzcGFuaXNoPC9jYXB0aW9uPlxuICogaG9zdGVkRmllbGRzSW5zdGFuY2Uuc2V0TW9udGhPcHRpb25zKFtcbiAqICAgJzAxIC0gZW5lcm8nLFxuICogICAnMDIgLSBmZWJyZXJvJyxcbiAqICAgJzAzIC0gbWFyem8nLFxuICogICAnMDQgLSBhYnJpbCcsXG4gKiAgICcwNSAtIG1heW8nLFxuICogICAnMDYgLSBqdW5pbycsXG4gKiAgICcwNyAtIGp1bGlvJyxcbiAqICAgJzA4IC0gYWdvc3RvJyxcbiAqICAgJzA5IC0gc2VwdGllbWJyZScsXG4gKiAgICcxMCAtIG9jdHVicmUnLFxuICogICAnMTEgLSBub3ZpZW1icmUnLFxuICogICAnMTIgLSBkaWNpZW1icmUnXG4gKiBdKTtcbiAqXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLnNldE1vbnRoT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIG1lcmNoYW50T3B0aW9ucyA9IHRoaXMuX21lcmNoYW50Q29uZmlndXJhdGlvbk9wdGlvbnMuZmllbGRzO1xuICB2YXIgZXJyb3JNZXNzYWdlO1xuXG4gIGlmICghbWVyY2hhbnRPcHRpb25zLmV4cGlyYXRpb25Nb250aCkge1xuICAgIGVycm9yTWVzc2FnZSA9IFwiRXhwaXJhdGlvbiBtb250aCBmaWVsZCBtdXN0IGV4aXN0IHRvIHVzZSBzZXRNb250aE9wdGlvbnMuXCI7XG4gIH0gZWxzZSBpZiAoIW1lcmNoYW50T3B0aW9ucy5leHBpcmF0aW9uTW9udGguc2VsZWN0KSB7XG4gICAgZXJyb3JNZXNzYWdlID0gXCJFeHBpcmF0aW9uIG1vbnRoIGZpZWxkIG11c3QgYmUgYSBzZWxlY3QgZWxlbWVudC5cIjtcbiAgfVxuXG4gIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9QUk9QRVJUWV9JTlZBTElELnR5cGUsXG4gICAgICAgIGNvZGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX1BST1BFUlRZX0lOVkFMSUQuY29kZSxcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgc2VsZi5fYnVzLmVtaXQoZXZlbnRzLlNFVF9NT05USF9PUFRJT05TLCBvcHRpb25zLCByZXNvbHZlKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFNldHMgYSB2aXN1YWxseSBoaWRkZW4gbWVzc2FnZSAoZm9yIHNjcmVlbiByZWFkZXJzKSBvbiBhIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkIGZpZWxkfS5cbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgdGhlIGF0dHJpYnV0ZSB5b3Ugd2lzaCB0byBzZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5maWVsZCBUaGUgZmllbGQgdG8gd2hpY2ggeW91IHdpc2ggdG8gYWRkIGFuIGF0dHJpYnV0ZS4gTXVzdCBiZSBhIHZhbGlkIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkIGZpZWxkfS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gc2V0LlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlNldCBhbiBlcnJvciBtZXNzYWdlIG9uIGEgZmllbGQ8L2NhcHRpb24+XG4gKiBob3N0ZWRGaWVsZHNJbnN0YW5jZS5zZXRNZXNzYWdlKHtcbiAqICAgZmllbGQ6ICdudW1iZXInLFxuICogICBtZXNzYWdlOiAnSW52YWxpZCBjYXJkIG51bWJlcidcbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlJlbW92ZSB0aGUgbWVzc2FnZSBvbiBhIGZpZWxkPC9jYXB0aW9uPlxuICogaG9zdGVkRmllbGRzSW5zdGFuY2Uuc2V0TWVzc2FnZSh7XG4gKiAgIGZpZWxkOiAnbnVtYmVyJyxcbiAqICAgbWVzc2FnZTogJydcbiAqIH0pO1xuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLnNldE1lc3NhZ2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB0aGlzLl9idXMuZW1pdChldmVudHMuU0VUX01FU1NBR0UsIHtcbiAgICBmaWVsZDogb3B0aW9ucy5maWVsZCxcbiAgICBtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2UsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgc3VwcG9ydGVkIGF0dHJpYnV0ZSBmcm9tIGEge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHN+ZmllbGQgZmllbGR9LlxuICpcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIGZvciB0aGUgYXR0cmlidXRlIHlvdSB3aXNoIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmZpZWxkIFRoZSBmaWVsZCBmcm9tIHdoaWNoIHlvdSB3aXNoIHRvIHJlbW92ZSBhbiBhdHRyaWJ1dGUuIE11c3QgYmUgYSB2YWxpZCB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkc35maWVsZE9wdGlvbnMgZmllbGRPcHRpb259LlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYXR0cmlidXRlIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgeW91IHdpc2ggdG8gcmVtb3ZlIGZyb20gdGhlIGZpZWxkLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBDYWxsYmFjayBleGVjdXRlZCBvbiBjb21wbGV0aW9uLCBjb250YWluaW5nIGFuIGVycm9yIGlmIG9uZSBvY2N1cnJlZC4gTm8gZGF0YSBpcyByZXR1cm5lZCBpZiB0aGUgYXR0cmlidXRlIGlzIHJlbW92ZWQgc3VjY2Vzc2Z1bGx5LlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlJlbW92ZSB0aGUgcGxhY2Vob2xkZXIgYXR0cmlidXRlIG9mIGEgZmllbGQ8L2NhcHRpb24+XG4gKiBob3N0ZWRGaWVsZHNJbnN0YW5jZS5yZW1vdmVBdHRyaWJ1dGUoe1xuICogICBmaWVsZDogJ251bWJlcicsXG4gKiAgIGF0dHJpYnV0ZTogJ3BsYWNlaG9sZGVyJ1xuICogfSwgZnVuY3Rpb24gKGF0dHJpYnV0ZUVycikge1xuICogICBpZiAoYXR0cmlidXRlRXJyKSB7XG4gKiAgICAgY29uc29sZS5lcnJvcihhdHRyaWJ1dGVFcnIpO1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciBhdHRyaWJ1dGVFcnIsIGVycjtcblxuICBpZiAoIWFsbG93ZWRGaWVsZHMuaGFzT3duUHJvcGVydHkob3B0aW9ucy5maWVsZCkpIHtcbiAgICBlcnIgPSBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgdHlwZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfSU5WQUxJRC50eXBlLFxuICAgICAgY29kZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfSU5WQUxJRC5jb2RlLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1wiJyArXG4gICAgICAgIG9wdGlvbnMuZmllbGQgK1xuICAgICAgICAnXCIgaXMgbm90IGEgdmFsaWQgZmllbGQuIFlvdSBtdXN0IHVzZSBhIHZhbGlkIGZpZWxkIG9wdGlvbiB3aGVuIHJlbW92aW5nIGFuIGF0dHJpYnV0ZS4nLFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKCF0aGlzLl9maWVsZHMuaGFzT3duUHJvcGVydHkob3B0aW9ucy5maWVsZCkpIHtcbiAgICBlcnIgPSBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgdHlwZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfTk9UX1BSRVNFTlQudHlwZSxcbiAgICAgIGNvZGU6IGVycm9ycy5IT1NURURfRklFTERTX0ZJRUxEX05PVF9QUkVTRU5ULmNvZGUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnQ2Fubm90IHJlbW92ZSBhdHRyaWJ1dGUgZm9yIFwiJyArXG4gICAgICAgIG9wdGlvbnMuZmllbGQgK1xuICAgICAgICAnXCIgZmllbGQgYmVjYXVzZSBpdCBpcyBub3QgcGFydCBvZiB0aGUgY3VycmVudCBIb3N0ZWQgRmllbGRzIG9wdGlvbnMuJyxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBhdHRyaWJ1dGVFcnIgPSBhdHRyaWJ1dGVWYWxpZGF0aW9uRXJyb3Iob3B0aW9ucy5hdHRyaWJ1dGUpO1xuXG4gICAgaWYgKGF0dHJpYnV0ZUVycikge1xuICAgICAgZXJyID0gYXR0cmlidXRlRXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXMuZW1pdChldmVudHMuUkVNT1ZFX0FUVFJJQlVURSwge1xuICAgICAgICBmaWVsZDogb3B0aW9ucy5maWVsZCxcbiAgICAgICAgYXR0cmlidXRlOiBvcHRpb25zLmF0dHJpYnV0ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChlcnIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjguMC4gVXNlIHtAbGluayBIb3N0ZWRGaWVsZHMjc2V0QXR0cmlidXRlfHNldEF0dHJpYnV0ZX0gaW5zdGVhZC5cbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkIHdob3NlIHBsYWNlaG9sZGVyIHlvdSB3aXNoIHRvIGNoYW5nZS4gTXVzdCBiZSBhIHZhbGlkIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkT3B0aW9ucyBmaWVsZE9wdGlvbn0uXG4gKiBAcGFyYW0ge3N0cmluZ30gcGxhY2Vob2xkZXIgV2lsbCBiZSB1c2VkIGFzIHRoZSBgcGxhY2Vob2xkZXJgIGF0dHJpYnV0ZSBvZiB0aGUgaW5wdXQuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIENhbGxiYWNrIGV4ZWN1dGVkIG9uIGNvbXBsZXRpb24sIGNvbnRhaW5pbmcgYW4gZXJyb3IgaWYgb25lIG9jY3VycmVkLiBObyBkYXRhIGlzIHJldHVybmVkIGlmIHRoZSBwbGFjZWhvbGRlciB1cGRhdGVkIHN1Y2Nlc3NmdWxseS5cbiAqXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLnNldFBsYWNlaG9sZGVyID0gZnVuY3Rpb24gKGZpZWxkLCBwbGFjZWhvbGRlcikge1xuICByZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoe1xuICAgIGZpZWxkOiBmaWVsZCxcbiAgICBhdHRyaWJ1dGU6IFwicGxhY2Vob2xkZXJcIixcbiAgICB2YWx1ZTogcGxhY2Vob2xkZXIsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBDbGVhciB0aGUgdmFsdWUgb2YgYSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkc35maWVsZCBmaWVsZH0uXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkIHlvdSB3aXNoIHRvIGNsZWFyLiBNdXN0IGJlIGEgdmFsaWQge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHN+ZmllbGRPcHRpb25zIGZpZWxkT3B0aW9ufS5cbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGJhY2sgZXhlY3V0ZWQgb24gY29tcGxldGlvbiwgY29udGFpbmluZyBhbiBlcnJvciBpZiBvbmUgb2NjdXJyZWQuIE5vIGRhdGEgaXMgcmV0dXJuZWQgaWYgdGhlIGZpZWxkIGNsZWFyZWQgc3VjY2Vzc2Z1bGx5LlxuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqIEBleGFtcGxlXG4gKiBob3N0ZWRGaWVsZHNJbnN0YW5jZS5jbGVhcignbnVtYmVyJywgZnVuY3Rpb24gKGNsZWFyRXJyKSB7XG4gKiAgIGlmIChjbGVhckVycikge1xuICogICAgIGNvbnNvbGUuZXJyb3IoY2xlYXJFcnIpO1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5DbGVhciBzZXZlcmFsIGZpZWxkczwvY2FwdGlvbj5cbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLmNsZWFyKCdudW1iZXInKTtcbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLmNsZWFyKCdjdnYnKTtcbiAqIGhvc3RlZEZpZWxkc0luc3RhbmNlLmNsZWFyKCdleHBpcmF0aW9uRGF0ZScpO1xuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gIHZhciBlcnI7XG5cbiAgaWYgKCFhbGxvd2VkRmllbGRzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgIGVyciA9IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElELnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElELmNvZGUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnXCInICtcbiAgICAgICAgZmllbGQgK1xuICAgICAgICAnXCIgaXMgbm90IGEgdmFsaWQgZmllbGQuIFlvdSBtdXN0IHVzZSBhIHZhbGlkIGZpZWxkIG9wdGlvbiB3aGVuIGNsZWFyaW5nIGEgZmllbGQuJyxcbiAgICB9KTtcbiAgfSBlbHNlIGlmICghdGhpcy5fZmllbGRzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgIGVyciA9IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9OT1RfUFJFU0VOVC50eXBlLFxuICAgICAgY29kZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfTk9UX1BSRVNFTlQuY29kZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdDYW5ub3QgY2xlYXIgXCInICtcbiAgICAgICAgZmllbGQgK1xuICAgICAgICAnXCIgZmllbGQgYmVjYXVzZSBpdCBpcyBub3QgcGFydCBvZiB0aGUgY3VycmVudCBIb3N0ZWQgRmllbGRzIG9wdGlvbnMuJyxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9idXMuZW1pdChldmVudHMuQ0xFQVJfRklFTEQsIHtcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChlcnIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbi8qKlxuICogUHJvZ3JhbW1hdGljYWxseSBmb2N1cyBhIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzfmZpZWxkIGZpZWxkfS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQgeW91IHdhbnQgdG8gZm9jdXMuIE11c3QgYmUgYSB2YWxpZCB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkc35maWVsZE9wdGlvbnMgZmllbGRPcHRpb259LlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBDYWxsYmFjayBleGVjdXRlZCBvbiBjb21wbGV0aW9uLCBjb250YWluaW5nIGFuIGVycm9yIGlmIG9uZSBvY2N1cnJlZC4gTm8gZGF0YSBpcyByZXR1cm5lZCBpZiB0aGUgZmllbGQgZm9jdXNlZCBzdWNjZXNzZnVsbHkuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBleGFtcGxlXG4gKiBob3N0ZWRGaWVsZHNJbnN0YW5jZS5mb2N1cygnbnVtYmVyJywgZnVuY3Rpb24gKGZvY3VzRXJyKSB7XG4gKiAgIGlmIChmb2N1c0Vycikge1xuICogICAgIGNvbnNvbGUuZXJyb3IoZm9jdXNFcnIpO1xuICogICB9XG4gKiB9KTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPlVzaW5nIGFuIGV2ZW50IGxpc3RlbmVyPC9jYXB0aW9uPlxuICogbXlFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAqICAgLy8gSW4gRmlyZWZveCwgdGhlIGZvY3VzIG1ldGhvZCBjYW4gYmUgc3VwcHJlc3NlZFxuICogICAvLyAgIGlmIHRoZSBlbGVtZW50IGhhcyBhIHRhYmluZGV4IHByb3BlcnR5IG9yIHRoZSBlbGVtZW50XG4gKiAgIC8vICAgaXMgYW4gYW5jaG9yIGxpbmsgd2l0aCBhbiBocmVmIHByb3BlcnR5LlxuICogICBlLnByZXZlbnREZWZhdWx0KCk7XG4gKiAgIGhvc3RlZEZpZWxkc0luc3RhbmNlLmZvY3VzKCdudW1iZXInKTtcbiAqIH0pO1xuICovXG5Ib3N0ZWRGaWVsZHMucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gIHZhciBlcnI7XG4gIHZhciBmaWVsZENvbmZpZyA9IHRoaXMuX2ZpZWxkc1tmaWVsZF07XG5cbiAgaWYgKCFhbGxvd2VkRmllbGRzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgIGVyciA9IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElELnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElELmNvZGUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnXCInICtcbiAgICAgICAgZmllbGQgK1xuICAgICAgICAnXCIgaXMgbm90IGEgdmFsaWQgZmllbGQuIFlvdSBtdXN0IHVzZSBhIHZhbGlkIGZpZWxkIG9wdGlvbiB3aGVuIGZvY3VzaW5nIGEgZmllbGQuJyxcbiAgICB9KTtcbiAgfSBlbHNlIGlmICghdGhpcy5fZmllbGRzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgIGVyciA9IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICB0eXBlOiBlcnJvcnMuSE9TVEVEX0ZJRUxEU19GSUVMRF9OT1RfUFJFU0VOVC50eXBlLFxuICAgICAgY29kZTogZXJyb3JzLkhPU1RFRF9GSUVMRFNfRklFTERfTk9UX1BSRVNFTlQuY29kZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdDYW5ub3QgZm9jdXMgXCInICtcbiAgICAgICAgZmllbGQgK1xuICAgICAgICAnXCIgZmllbGQgYmVjYXVzZSBpdCBpcyBub3QgcGFydCBvZiB0aGUgY3VycmVudCBIb3N0ZWQgRmllbGRzIG9wdGlvbnMuJyxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBmaWVsZENvbmZpZy5mcmFtZUVsZW1lbnQuZm9jdXMoKTtcblxuICAgIHRoaXMuX2J1cy5lbWl0KGV2ZW50cy5UUklHR0VSX0lOUFVUX0ZPQ1VTLCB7XG4gICAgICBmaWVsZDogZmllbGQsXG4gICAgfSk7XG5cbiAgICBpZiAoYnJvd3NlckRldGVjdGlvbi5pc0lvcygpKSB7XG4gICAgICAvLyBJbnB1dHMgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQgZG9uJ3QgYWx3YXlzIHNjcm9sbCBpbnRvIHZpZXcgb25cbiAgICAgIC8vIGZvY3VzIGluIGlPUyBTYWZhcmkuIDVtcyB0aW1lb3V0IGdpdmVzIHRoZSBicm93c2VyIGEgY2hhbmNlIHRvXG4gICAgICAvLyBkbyB0aGUgcmlnaHQgdGhpbmcgYW5kIHByZXZlbnRzIHN0dXR0ZXJpbmcuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc1Zpc2libGVFbm91Z2goZmllbGRDb25maWcuY29udGFpbmVyRWxlbWVudCkpIHtcbiAgICAgICAgICBmaWVsZENvbmZpZy5jb250YWluZXJFbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIFNBRkFSSV9GT0NVU19USU1FT1VUKTtcbiAgICB9XG4gIH1cblxuICBpZiAoZXJyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4ge0BsaW5rIEhvc3RlZEZpZWxkc35zdGF0ZU9iamVjdHxvYmplY3R9IHRoYXQgaW5jbHVkZXMgdGhlIHN0YXRlIG9mIGFsbCBmaWVsZHMgYW5kIHBvc3NpYmxlIGNhcmQgdHlwZXMuXG4gKiBAcHVibGljXG4gKiBAcmV0dXJucyB7b2JqZWN0fSB7QGxpbmsgSG9zdGVkRmllbGRzfnN0YXRlT2JqZWN0fHN0YXRlT2JqZWN0fVxuICogQGV4YW1wbGUgPGNhcHRpb24+Q2hlY2sgaWYgYWxsIGZpZWxkcyBhcmUgdmFsaWQ8L2NhcHRpb24+XG4gKiB2YXIgc3RhdGUgPSBob3N0ZWRGaWVsZHNJbnN0YW5jZS5nZXRTdGF0ZSgpO1xuICpcbiAqIHZhciBmb3JtVmFsaWQgPSBPYmplY3Qua2V5cyhzdGF0ZS5maWVsZHMpLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAqICAgcmV0dXJuIHN0YXRlLmZpZWxkc1trZXldLmlzVmFsaWQ7XG4gKiB9KTtcbiAqL1xuSG9zdGVkRmllbGRzLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3N0YXRlO1xufTtcblxuLy8gUmVhY3QgYWRkcyBkZWNvcmF0aW9ucyB0byBET00gbm9kZXMgdGhhdCBjYXVzZVxuLy8gY2lyY3VsYXIgZGVwZW5kZW5jaWVzLCBzbyB3ZSByZW1vdmUgdGhlbSBmcm9tIHRoZVxuLy8gY29uZmlnIGJlZm9yZSBzZW5kaW5nIGl0IHRvIHRoZSBpZnJhbWVzLiBIb3dldmVyLFxuLy8gd2UgZG9uJ3Qgd2FudCB0byBtdXRhdGUgdGhlIG9yaWdpbmFsIG9iamVjdCB0aGF0XG4vLyB3YXMgcGFzc2VkIGluLCBzbyB3ZSBjcmVhdGUgZnJlc2ggb2JqZWN0cyB2aWEgYXNzaWduXG5mdW5jdGlvbiBmb3JtYXRNZXJjaGFudENvbmZpZ3VyYXRpb25Gb3JJZnJhbWVzKGNvbmZpZykge1xuICB2YXIgZm9ybWF0dGVkQ29uZmlnID0gYXNzaWduKHt9LCBjb25maWcpO1xuXG4gIGZvcm1hdHRlZENvbmZpZy5maWVsZHMgPSBhc3NpZ24oe30sIGZvcm1hdHRlZENvbmZpZy5maWVsZHMpO1xuICBPYmplY3Qua2V5cyhmb3JtYXR0ZWRDb25maWcuZmllbGRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGZvcm1hdHRlZENvbmZpZy5maWVsZHNbZmllbGRdID0gYXNzaWduKHt9LCBmb3JtYXR0ZWRDb25maWcuZmllbGRzW2ZpZWxkXSk7XG4gICAgZGVsZXRlIGZvcm1hdHRlZENvbmZpZy5maWVsZHNbZmllbGRdLmNvbnRhaW5lcjtcbiAgfSk7XG5cbiAgcmV0dXJuIGZvcm1hdHRlZENvbmZpZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3cmFwUHJvbWlzZS53cmFwUHJvdG90eXBlKEhvc3RlZEZpZWxkcyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/external/hosted-fields.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/external/inject-frame.js":
/*!***************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/external/inject-frame.js ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar focusIntercept = __webpack_require__(/*! ../shared/focus-intercept */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/focus-intercept.js\");\nvar directions = (__webpack_require__(/*! ../shared/constants */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\").navigationDirections);\n\nmodule.exports = function injectFrame(id, frame, container, focusHandler) {\n  var frameType = frame.getAttribute(\"type\");\n  var clearboth = document.createElement(\"div\");\n  var fragment = document.createDocumentFragment();\n  var focusInterceptBefore = focusIntercept.generate(\n    id,\n    frameType,\n    directions.BACK,\n    focusHandler\n  );\n  var focusInterceptAfter = focusIntercept.generate(\n    id,\n    frameType,\n    directions.FORWARD,\n    focusHandler\n  );\n\n  clearboth.style.clear = \"both\";\n\n  fragment.appendChild(focusInterceptBefore);\n  fragment.appendChild(frame);\n  fragment.appendChild(focusInterceptAfter);\n  fragment.appendChild(clearboth);\n\n  container.appendChild(fragment);\n\n  return [frame, clearboth];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2luamVjdC1mcmFtZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyw2R0FBMkI7QUFDeEQsaUJBQWlCLDZJQUFtRDs7QUFFcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2V4dGVybmFsL2luamVjdC1mcmFtZS5qcz9iZmE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgZm9jdXNJbnRlcmNlcHQgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2ZvY3VzLWludGVyY2VwdFwiKTtcbnZhciBkaXJlY3Rpb25zID0gcmVxdWlyZShcIi4uL3NoYXJlZC9jb25zdGFudHNcIikubmF2aWdhdGlvbkRpcmVjdGlvbnM7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5qZWN0RnJhbWUoaWQsIGZyYW1lLCBjb250YWluZXIsIGZvY3VzSGFuZGxlcikge1xuICB2YXIgZnJhbWVUeXBlID0gZnJhbWUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtcbiAgdmFyIGNsZWFyYm90aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgdmFyIGZvY3VzSW50ZXJjZXB0QmVmb3JlID0gZm9jdXNJbnRlcmNlcHQuZ2VuZXJhdGUoXG4gICAgaWQsXG4gICAgZnJhbWVUeXBlLFxuICAgIGRpcmVjdGlvbnMuQkFDSyxcbiAgICBmb2N1c0hhbmRsZXJcbiAgKTtcbiAgdmFyIGZvY3VzSW50ZXJjZXB0QWZ0ZXIgPSBmb2N1c0ludGVyY2VwdC5nZW5lcmF0ZShcbiAgICBpZCxcbiAgICBmcmFtZVR5cGUsXG4gICAgZGlyZWN0aW9ucy5GT1JXQVJELFxuICAgIGZvY3VzSGFuZGxlclxuICApO1xuXG4gIGNsZWFyYm90aC5zdHlsZS5jbGVhciA9IFwiYm90aFwiO1xuXG4gIGZyYWdtZW50LmFwcGVuZENoaWxkKGZvY3VzSW50ZXJjZXB0QmVmb3JlKTtcbiAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZnJhbWUpO1xuICBmcmFnbWVudC5hcHBlbmRDaGlsZChmb2N1c0ludGVyY2VwdEFmdGVyKTtcbiAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY2xlYXJib3RoKTtcblxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gIHJldHVybiBbZnJhbWUsIGNsZWFyYm90aF07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/external/inject-frame.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/index.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/** @module braintree-web/hosted-fields */\n\nvar HostedFields = __webpack_require__(/*! ./external/hosted-fields */ \"(ssr)/./node_modules/braintree-web/hosted-fields/external/hosted-fields.js\");\nvar basicComponentVerification = __webpack_require__(/*! ../lib/basic-component-verification */ \"(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\");\nvar errors = __webpack_require__(/*! ./shared/errors */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/errors.js\");\nvar supportsInputFormatting = __webpack_require__(/*! restricted-input/supports-input-formatting */ \"(ssr)/./node_modules/restricted-input/supports-input-formatting.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar VERSION = \"3.99.0\";\n\n/**\n * Fields used in {@link module:braintree-web/hosted-fields~fieldOptions fields options}\n * @typedef {object} field\n * @property {string} selector Deprecated: Now an alias for `options.container`.\n * @property {(string|HTMLElement)} container A DOM node or CSS selector to find the container where the hosted field will be inserted.\n * @property {string} [placeholder] Will be used as the `placeholder` attribute of the input. If `placeholder` is not natively supported by the browser, it will be polyfilled.\n * @property {string} [type] Will be used as the `type` attribute of the input. To mask `cvv` input, for instance, `type: \"password\"` can be used.\n * @property {string} [iframeTitle] The title used for the iframe containing the credit card input. By default, this will be `Secure Credit Card Frame - <the name of the specific field>`.\n * @property {string} [internalLabel] Each Hosted Field iframe has a hidden label that is used by screen readers to identify the input. The `internalLabel` property can be used to customize the field for localization purposes. The default values are:\n * * number: Credit Card Number\n * * cvv: CVV\n * * expirationDate: Expiration Date\n * * expirationMonth: Expiration Month\n * * expirationYear: Expiration Year\n * * postalCode: Postal Code\n * * cardholderName: Cardholder Name\n * @property {boolean} [formatInput=true] Enable or disable automatic formatting on this field.\n * @property {(object|boolean)} [maskInput=false] Enable or disable input masking when input is not focused. If set to `true` instead of an object, the defaults for the `maskInput` parameters will be used.\n * @property {string} [maskInput.character=•] The character to use when masking the input. The default character ('•') uses a unicode symbol, so the webpage must support UTF-8 characters when using the default.\n * @property {Boolean} [maskInput.showLastFour=false] Only applicable for the credit card field. Whether or not to show the last 4 digits of the card when masking.\n * @property {(object|boolean)} [select] If truthy, this field becomes a `<select>` dropdown list. This can only be used for `expirationMonth` and `expirationYear` fields. If you do not use a `placeholder` property for the field, the current month/year will be the default selected value.\n * @property {string[]} [select.options] An array of 12 strings, one per month. This can only be used for the `expirationMonth` field. For example, the array can look like `['01 - January', '02 - February', ...]`.\n * @property {number} [maxCardLength] This option applies only to the number field. Allows a limit to the length of the card number, even if the card brand may support numbers of a greater length. If the value passed is greater than the max length for a card brand, the smaller number of the 2 values will be used. For example, is `maxCardLength` is set to 16, but an American Express card is entered (which has a max card length of 15), a max card length of 15 will be used.\n * @property {number} [maxlength] This option applies only to the CVV and postal code fields. Will be used as the `maxlength` attribute of the input. The primary use cases for the `maxlength` option are: limiting the length of the CVV input for CVV-only verifications when the card type is known and setting the length of the postal code input when cards are coming from a known region. The default `maxlength` for the postal code input is `10`.\n * @property {number} [minlength=3] This option applies only to the cvv and postal code fields. Will be used as the `minlength` attribute of the input.\n * For postal code fields, the default value is 3, representing the Icelandic postal code length. This option's primary use case is to increase the `minlength`, e.g. for US customers, the postal code `minlength` can be set to 5.\n * For cvv fields, the default value is 3. The `minlength` attribute only applies to integrations capturing a cvv without a number field.\n * @property {string} [prefill] A value to prefill the field with. For example, when creating an update card form, you can prefill the expiration date fields with the old expiration date data.\n * @property {boolean} [rejectUnsupportedCards=false] Deprecated since version 3.46.0, use `supportedCardBrands` instead. Only allow card types that your merchant account is able to process. Unsupported card types will invalidate the card form. e.g. if you only process Visa cards, a customer entering a American Express card would get an invalid card field. This can only be used for the `number` field.\n * @property {object} [supportedCardBrands] Override card brands that are supported by the card form. Pass `'card-brand-id': true` to override the default in the merchant configuration and enable a card brand. Pass `'card-brand-id': false` to disable a card brand. Unsupported card types will invalidate the card form. e.g. if you only process Visa cards, a customer entering an American Express card would get an invalid card field. This can only be used for the  `number` field. (Note: only allow card types that your merchant account is actually able to process.)\n *\n * Valid card brand ids are:\n * * visa\n * * mastercard\n * * american-express\n * * diners-club\n * * discover\n * * jcb\n * * union-pay\n * * maestro\n * * elo\n * * mir\n * * hiper\n * * hipercard\n */\n\n/**\n * An object that has {@link module:braintree-web/hosted-fields~field field objects} for each field. Used in {@link module:braintree-web/hosted-fields~create create}.\n * @typedef {object} fieldOptions\n * @property {field} [number] A field for card number.\n * @property {field} [expirationDate] A field for expiration date in `MM/YYYY` or `MM/YY` format. This should not be used with the `expirationMonth` and `expirationYear` properties.\n * @property {field} [expirationMonth] A field for expiration month in `MM` format. This should be used with the `expirationYear` property.\n * @property {field} [expirationYear] A field for expiration year in `YYYY` or `YY` format. This should be used with the `expirationMonth` property.\n * @property {field} [cvv] A field for 3 or 4 digit card verification code (like CVV or CID). If you wish to create a CVV-only payment method nonce to verify a card already stored in your Vault, omit all other fields to only collect CVV.\n * @property {field} [postalCode] A field for postal or region code.\n * @property {field} [cardholderName] A field for the cardholder name on the customer's credit card.\n */\n\n/**\n * An object that represents CSS that will be applied in each hosted field. This object looks similar to CSS. Typically, these styles involve fonts (such as `font-family` or `color`).\n *\n * You may also pass the name of a class on your site that contains the styles you would like to apply. The style properties will be automatically pulled off the class and applied to the Hosted Fields inputs. Note: this is recommended for `input` elements only. If using a `select` for the expiration date, unexpected styling may occur.\n *\n * These are the CSS properties that Hosted Fields supports. Any other CSS should be specified on your page and outside of any Braintree configuration. Trying to set unsupported properties will fail and put a warning in the console.\n *\n * Supported CSS properties are:\n * `appearance`\n * `box-shadow`\n * `color`\n * `direction`\n * `font-family`\n * `font-size-adjust`\n * `font-size`\n * `font-stretch`\n * `font-style`\n * `font-variant-alternates`\n * `font-variant-caps`\n * `font-variant-east-asian`\n * `font-variant-ligatures`\n * `font-variant-numeric`\n * `font-variant`\n * `font-weight`\n * `font`\n * `letter-spacing`\n * `line-height`\n * `opacity`\n * `outline`\n * `margin`\n * `margin-top`\n * `margin-right`\n * `margin-bottom`\n * `margin-left`\n * `padding`\n * `padding-top`\n * `padding-right`\n * `padding-bottom`\n * `padding-left`\n * `text-align`\n * `text-shadow`\n * `transition`\n * `-moz-appearance`\n * `-moz-box-shadow`\n * `-moz-osx-font-smoothing`\n * `-moz-tap-highlight-color`\n * `-moz-transition`\n * `-webkit-appearance`\n * `-webkit-box-shadow`\n * `-webkit-font-smoothing`\n * `-webkit-tap-highlight-color`\n * `-webkit-transition`\n * @typedef {object} styleOptions\n */\n\n/**\n * @static\n * @function create\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {fieldOptions} options.fields A {@link module:braintree-web/hosted-fields~fieldOptions set of options for each field}.\n * @param {styleOptions} [options.styles] {@link module:braintree-web/hosted-fields~styleOptions Styles} applied to each field.\n * @param {boolean} [options.preventAutofill=false] When true, browsers will not try to prompt the customer to autofill their credit card information.\n * @param {callback} [callback] The second argument, `data`, is the {@link HostedFields} instance. If no callback is provided, `create` returns a promise that resolves with the {@link HostedFields} instance.\n * @returns {void}\n * @example\n * braintree.hostedFields.create({\n *   client: clientInstance,\n *   styles: {\n *     'input': {\n *       'font-size': '16pt',\n *       'color': '#3A3A3A'\n *     },\n *     '.number': {\n *       'font-family': 'monospace'\n *     },\n *     '.valid': {\n *       'color': 'green'\n *     }\n *   },\n *   fields: {\n *     number: {\n *       container: '#card-number'\n *     },\n *     cvv: {\n *       container: '#cvv',\n *       placeholder: '•••'\n *     },\n *     expirationDate: {\n *       container: '#expiration-date'\n *     }\n *   }\n * }, callback);\n * @example <caption>With cardholder name</caption>\n * braintree.hostedFields.create({\n *   client: clientInstance,\n *   fields: {\n *     number: {\n *       container: '#card-number'\n *     },\n *     cardholderName: {\n *       container: '#cardholder-name'\n *     },\n *     cvv: {\n *       container: '#cvv',\n *     },\n *     expirationDate: {\n *       container: '#expiration-date'\n *     }\n *   }\n * }, callback);\n * @example <caption>Applying styles with a class name</caption>\n * // in document head\n * <style>\n *   .braintree-input-class {\n *     color: black;\n *   }\n *   .braintree-valid-class {\n *     color: green;\n *   }\n *   .braintree-invalid-class {\n *     color: red;\n *   }\n * </style>\n * // in a script tag\n * braintree.hostedFields.create({\n *   client: clientInstance,\n *   styles: {\n *     'input': 'braintree-input-class',\n *     '.invalid': 'braintree-invalid-class',\n *     '.valid': {\n *       // you can also use the object syntax alongside\n *       // the class name syntax\n *       color: green;\n *     }\n *   },\n *   fields: {\n *     number: {\n *       container: '#card-number'\n *     },\n *     // etc...\n *   }\n * }, callback);\n * @example <caption>Right to Left Language Support</caption>\n * braintree.hostedFields.create({\n *   client: clientInstance,\n *   styles: {\n *     'input': {\n *       // other styles\n *       direction: 'rtl'\n *     },\n *   },\n *   fields: {\n *     number: {\n *       container: '#card-number',\n *       // Credit card formatting is not currently supported\n *       // with RTL languages, so we need to turn it off for the number input\n *       formatInput: false\n *     },\n *     cvv: {\n *       container: '#cvv',\n *       placeholder: '•••'\n *     },\n *     expirationDate: {\n *       container: '#expiration-date',\n *       type: 'month'\n *     }\n *   }\n * }, callback);\n * @example <caption>Setting up Hosted Fields to tokenize CVV only</caption>\n * braintree.hostedFields.create({\n *   client: clientInstance,\n *   fields: {\n *     // Only add the `cvv` option.\n *     cvv: {\n *       container: '#cvv',\n *       placeholder: '•••'\n *     }\n *   }\n * }, callback);\n * @example <caption>Creating an expiration date update form with prefilled data</caption>\n * var storedCreditCardInformation = {\n *   // get this info from your server\n *   // with a payment method lookup\n *   month: '09',\n *   year: '2017'\n * };\n *\n * braintree.hostedFields.create({\n *   client: clientInstance,\n *   fields: {\n *     expirationMonth: {\n *       container: '#expiration-month',\n *       prefill: storedCreditCardInformation.month\n *     },\n *     expirationYear: {\n *       container: '#expiration-year',\n *       prefill: storedCreditCardInformation.year\n *     }\n *   }\n * }, callback);\n * @example <caption>Validate the card form for supported card types</caption>\n * braintree.hostedFields.create({\n *   client: clientInstance,\n *   fields: {\n *     number: {\n *       container: '#card-number',\n *       supportedCardBrands: {\n *         visa: false, // prevents Visas from showing up as valid even when the Braintree control panel is configured to allow them\n *         'diners-club': true // allow Diners Club cards to be valid (processed as Discover cards on the Braintree backend)\n *       }\n *     },\n *     cvv: {\n *       container: '#cvv',\n *       placeholder: '•••'\n *     },\n *     expirationDate: {\n *       container: '#expiration-date',\n *       type: 'month'\n *     }\n *   },\n * }, callback);\n */\nfunction create(options) {\n  return basicComponentVerification\n    .verify({\n      name: \"Hosted Fields\",\n      authorization: options.authorization,\n      client: options.client,\n    })\n    .then(function () {\n      var integration = new HostedFields(options);\n\n      return new Promise(function (resolve, reject) {\n        integration.on(\"ready\", function () {\n          resolve(integration);\n        });\n        integration.on(\"timeout\", function () {\n          reject(new BraintreeError(errors.HOSTED_FIELDS_TIMEOUT));\n        });\n      });\n    });\n}\n\nmodule.exports = {\n  /**\n   * @static\n   * @function supportsInputFormatting\n   * @description Returns false if input formatting will be automatically disabled due to browser incompatibility. Otherwise, returns true. For a list of unsupported browsers, [go here](https://github.com/braintree/restricted-input/blob/main/README.md#browsers-where-formatting-is-turned-off-automatically).\n   * @returns {Boolean} Returns false if input formatting will be automatically disabled due to browser incompatibility. Otherwise, returns true.\n   * @example\n   * <caption>Conditionally choosing split expiration date inputs if formatting is unavailable</caption>\n   * var canFormat = braintree.hostedFields.supportsInputFormatting();\n   * var fields = {\n   *   number: {\n   *     container: '#card-number'\n   *   },\n   *   cvv: {\n   *     container: '#cvv'\n   *   }\n   * };\n   *\n   * if (canFormat) {\n   *   fields.expirationDate = {\n   *     selection: '#expiration-date'\n   *   };\n   *   functionToCreateAndInsertExpirationDateDivToForm();\n   * } else {\n   *   fields.expirationMonth = {\n   *     selection: '#expiration-month'\n   *   };\n   *   fields.expirationYear = {\n   *     selection: '#expiration-year'\n   *   };\n   *   functionToCreateAndInsertExpirationMonthAndYearDivsToForm();\n   * }\n   *\n   * braintree.hostedFields.create({\n   *   client: clientInstance,\n   *   styles: {\n   *     // Styles\n   *   },\n   *   fields: fields\n   * }, callback);\n   */\n  supportsInputFormatting: supportsInputFormatting,\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7O0FBRUEsbUJBQW1CLG1CQUFPLENBQUMsNEdBQTBCO0FBQ3JELGlDQUFpQyxtQkFBTyxDQUFDLG1IQUFxQztBQUM5RSxhQUFhLG1CQUFPLENBQUMsMEZBQWlCO0FBQ3RDLDhCQUE4QixtQkFBTyxDQUFDLHNIQUE0QztBQUNsRixrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBeUI7QUFDbkQscUJBQXFCLG1CQUFPLENBQUMseUZBQXdCO0FBQ3JEOztBQUVBO0FBQ0EsbUJBQW1CO0FBQ25CLGFBQWEsUUFBUTtBQUNyQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxzQkFBc0I7QUFDcEMsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsa0JBQWtCO0FBQ2hDLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxrQkFBa0I7QUFDaEMsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsOERBQThELHlCQUF5Qix1REFBdUQ7QUFDckssYUFBYSxRQUFRO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLG9CQUFvQixjQUFjO0FBQ3JELFdBQVcsUUFBUTtBQUNuQixXQUFXLGNBQWMsa0JBQWtCLG9GQUFvRjtBQUMvSCxXQUFXLGNBQWMsa0JBQWtCLDhEQUE4RDtBQUN6RyxXQUFXLFNBQVM7QUFDcEIsV0FBVyxVQUFVLGdEQUFnRCxvQkFBb0IseUZBQXlGLG9CQUFvQjtBQUN0TSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxhQUFhO0FBQ3RFLFlBQVk7QUFDWjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkcy9pbmRleC5qcz9iNzY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqIEBtb2R1bGUgYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzICovXG5cbnZhciBIb3N0ZWRGaWVsZHMgPSByZXF1aXJlKFwiLi9leHRlcm5hbC9ob3N0ZWQtZmllbGRzXCIpO1xudmFyIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uID0gcmVxdWlyZShcIi4uL2xpYi9iYXNpYy1jb21wb25lbnQtdmVyaWZpY2F0aW9uXCIpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuL3NoYXJlZC9lcnJvcnNcIik7XG52YXIgc3VwcG9ydHNJbnB1dEZvcm1hdHRpbmcgPSByZXF1aXJlKFwicmVzdHJpY3RlZC1pbnB1dC9zdXBwb3J0cy1pbnB1dC1mb3JtYXR0aW5nXCIpO1xudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgVkVSU0lPTiA9IFwiMy45OS4wXCI7XG5cbi8qKlxuICogRmllbGRzIHVzZWQgaW4ge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHN+ZmllbGRPcHRpb25zIGZpZWxkcyBvcHRpb25zfVxuICogQHR5cGVkZWYge29iamVjdH0gZmllbGRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzZWxlY3RvciBEZXByZWNhdGVkOiBOb3cgYW4gYWxpYXMgZm9yIGBvcHRpb25zLmNvbnRhaW5lcmAuXG4gKiBAcHJvcGVydHkgeyhzdHJpbmd8SFRNTEVsZW1lbnQpfSBjb250YWluZXIgQSBET00gbm9kZSBvciBDU1Mgc2VsZWN0b3IgdG8gZmluZCB0aGUgY29udGFpbmVyIHdoZXJlIHRoZSBob3N0ZWQgZmllbGQgd2lsbCBiZSBpbnNlcnRlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcGxhY2Vob2xkZXJdIFdpbGwgYmUgdXNlZCBhcyB0aGUgYHBsYWNlaG9sZGVyYCBhdHRyaWJ1dGUgb2YgdGhlIGlucHV0LiBJZiBgcGxhY2Vob2xkZXJgIGlzIG5vdCBuYXRpdmVseSBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIsIGl0IHdpbGwgYmUgcG9seWZpbGxlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdHlwZV0gV2lsbCBiZSB1c2VkIGFzIHRoZSBgdHlwZWAgYXR0cmlidXRlIG9mIHRoZSBpbnB1dC4gVG8gbWFzayBgY3Z2YCBpbnB1dCwgZm9yIGluc3RhbmNlLCBgdHlwZTogXCJwYXNzd29yZFwiYCBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaWZyYW1lVGl0bGVdIFRoZSB0aXRsZSB1c2VkIGZvciB0aGUgaWZyYW1lIGNvbnRhaW5pbmcgdGhlIGNyZWRpdCBjYXJkIGlucHV0LiBCeSBkZWZhdWx0LCB0aGlzIHdpbGwgYmUgYFNlY3VyZSBDcmVkaXQgQ2FyZCBGcmFtZSAtIDx0aGUgbmFtZSBvZiB0aGUgc3BlY2lmaWMgZmllbGQ+YC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaW50ZXJuYWxMYWJlbF0gRWFjaCBIb3N0ZWQgRmllbGQgaWZyYW1lIGhhcyBhIGhpZGRlbiBsYWJlbCB0aGF0IGlzIHVzZWQgYnkgc2NyZWVuIHJlYWRlcnMgdG8gaWRlbnRpZnkgdGhlIGlucHV0LiBUaGUgYGludGVybmFsTGFiZWxgIHByb3BlcnR5IGNhbiBiZSB1c2VkIHRvIGN1c3RvbWl6ZSB0aGUgZmllbGQgZm9yIGxvY2FsaXphdGlvbiBwdXJwb3Nlcy4gVGhlIGRlZmF1bHQgdmFsdWVzIGFyZTpcbiAqICogbnVtYmVyOiBDcmVkaXQgQ2FyZCBOdW1iZXJcbiAqICogY3Z2OiBDVlZcbiAqICogZXhwaXJhdGlvbkRhdGU6IEV4cGlyYXRpb24gRGF0ZVxuICogKiBleHBpcmF0aW9uTW9udGg6IEV4cGlyYXRpb24gTW9udGhcbiAqICogZXhwaXJhdGlvblllYXI6IEV4cGlyYXRpb24gWWVhclxuICogKiBwb3N0YWxDb2RlOiBQb3N0YWwgQ29kZVxuICogKiBjYXJkaG9sZGVyTmFtZTogQ2FyZGhvbGRlciBOYW1lXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtmb3JtYXRJbnB1dD10cnVlXSBFbmFibGUgb3IgZGlzYWJsZSBhdXRvbWF0aWMgZm9ybWF0dGluZyBvbiB0aGlzIGZpZWxkLlxuICogQHByb3BlcnR5IHsob2JqZWN0fGJvb2xlYW4pfSBbbWFza0lucHV0PWZhbHNlXSBFbmFibGUgb3IgZGlzYWJsZSBpbnB1dCBtYXNraW5nIHdoZW4gaW5wdXQgaXMgbm90IGZvY3VzZWQuIElmIHNldCB0byBgdHJ1ZWAgaW5zdGVhZCBvZiBhbiBvYmplY3QsIHRoZSBkZWZhdWx0cyBmb3IgdGhlIGBtYXNrSW5wdXRgIHBhcmFtZXRlcnMgd2lsbCBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFttYXNrSW5wdXQuY2hhcmFjdGVyPeKAol0gVGhlIGNoYXJhY3RlciB0byB1c2Ugd2hlbiBtYXNraW5nIHRoZSBpbnB1dC4gVGhlIGRlZmF1bHQgY2hhcmFjdGVyICgn4oCiJykgdXNlcyBhIHVuaWNvZGUgc3ltYm9sLCBzbyB0aGUgd2VicGFnZSBtdXN0IHN1cHBvcnQgVVRGLTggY2hhcmFjdGVycyB3aGVuIHVzaW5nIHRoZSBkZWZhdWx0LlxuICogQHByb3BlcnR5IHtCb29sZWFufSBbbWFza0lucHV0LnNob3dMYXN0Rm91cj1mYWxzZV0gT25seSBhcHBsaWNhYmxlIGZvciB0aGUgY3JlZGl0IGNhcmQgZmllbGQuIFdoZXRoZXIgb3Igbm90IHRvIHNob3cgdGhlIGxhc3QgNCBkaWdpdHMgb2YgdGhlIGNhcmQgd2hlbiBtYXNraW5nLlxuICogQHByb3BlcnR5IHsob2JqZWN0fGJvb2xlYW4pfSBbc2VsZWN0XSBJZiB0cnV0aHksIHRoaXMgZmllbGQgYmVjb21lcyBhIGA8c2VsZWN0PmAgZHJvcGRvd24gbGlzdC4gVGhpcyBjYW4gb25seSBiZSB1c2VkIGZvciBgZXhwaXJhdGlvbk1vbnRoYCBhbmQgYGV4cGlyYXRpb25ZZWFyYCBmaWVsZHMuIElmIHlvdSBkbyBub3QgdXNlIGEgYHBsYWNlaG9sZGVyYCBwcm9wZXJ0eSBmb3IgdGhlIGZpZWxkLCB0aGUgY3VycmVudCBtb250aC95ZWFyIHdpbGwgYmUgdGhlIGRlZmF1bHQgc2VsZWN0ZWQgdmFsdWUuXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbc2VsZWN0Lm9wdGlvbnNdIEFuIGFycmF5IG9mIDEyIHN0cmluZ3MsIG9uZSBwZXIgbW9udGguIFRoaXMgY2FuIG9ubHkgYmUgdXNlZCBmb3IgdGhlIGBleHBpcmF0aW9uTW9udGhgIGZpZWxkLiBGb3IgZXhhbXBsZSwgdGhlIGFycmF5IGNhbiBsb29rIGxpa2UgYFsnMDEgLSBKYW51YXJ5JywgJzAyIC0gRmVicnVhcnknLCAuLi5dYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Q2FyZExlbmd0aF0gVGhpcyBvcHRpb24gYXBwbGllcyBvbmx5IHRvIHRoZSBudW1iZXIgZmllbGQuIEFsbG93cyBhIGxpbWl0IHRvIHRoZSBsZW5ndGggb2YgdGhlIGNhcmQgbnVtYmVyLCBldmVuIGlmIHRoZSBjYXJkIGJyYW5kIG1heSBzdXBwb3J0IG51bWJlcnMgb2YgYSBncmVhdGVyIGxlbmd0aC4gSWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBncmVhdGVyIHRoYW4gdGhlIG1heCBsZW5ndGggZm9yIGEgY2FyZCBicmFuZCwgdGhlIHNtYWxsZXIgbnVtYmVyIG9mIHRoZSAyIHZhbHVlcyB3aWxsIGJlIHVzZWQuIEZvciBleGFtcGxlLCBpcyBgbWF4Q2FyZExlbmd0aGAgaXMgc2V0IHRvIDE2LCBidXQgYW4gQW1lcmljYW4gRXhwcmVzcyBjYXJkIGlzIGVudGVyZWQgKHdoaWNoIGhhcyBhIG1heCBjYXJkIGxlbmd0aCBvZiAxNSksIGEgbWF4IGNhcmQgbGVuZ3RoIG9mIDE1IHdpbGwgYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4bGVuZ3RoXSBUaGlzIG9wdGlvbiBhcHBsaWVzIG9ubHkgdG8gdGhlIENWViBhbmQgcG9zdGFsIGNvZGUgZmllbGRzLiBXaWxsIGJlIHVzZWQgYXMgdGhlIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBvZiB0aGUgaW5wdXQuIFRoZSBwcmltYXJ5IHVzZSBjYXNlcyBmb3IgdGhlIGBtYXhsZW5ndGhgIG9wdGlvbiBhcmU6IGxpbWl0aW5nIHRoZSBsZW5ndGggb2YgdGhlIENWViBpbnB1dCBmb3IgQ1ZWLW9ubHkgdmVyaWZpY2F0aW9ucyB3aGVuIHRoZSBjYXJkIHR5cGUgaXMga25vd24gYW5kIHNldHRpbmcgdGhlIGxlbmd0aCBvZiB0aGUgcG9zdGFsIGNvZGUgaW5wdXQgd2hlbiBjYXJkcyBhcmUgY29taW5nIGZyb20gYSBrbm93biByZWdpb24uIFRoZSBkZWZhdWx0IGBtYXhsZW5ndGhgIGZvciB0aGUgcG9zdGFsIGNvZGUgaW5wdXQgaXMgYDEwYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWlubGVuZ3RoPTNdIFRoaXMgb3B0aW9uIGFwcGxpZXMgb25seSB0byB0aGUgY3Z2IGFuZCBwb3N0YWwgY29kZSBmaWVsZHMuIFdpbGwgYmUgdXNlZCBhcyB0aGUgYG1pbmxlbmd0aGAgYXR0cmlidXRlIG9mIHRoZSBpbnB1dC5cbiAqIEZvciBwb3N0YWwgY29kZSBmaWVsZHMsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIDMsIHJlcHJlc2VudGluZyB0aGUgSWNlbGFuZGljIHBvc3RhbCBjb2RlIGxlbmd0aC4gVGhpcyBvcHRpb24ncyBwcmltYXJ5IHVzZSBjYXNlIGlzIHRvIGluY3JlYXNlIHRoZSBgbWlubGVuZ3RoYCwgZS5nLiBmb3IgVVMgY3VzdG9tZXJzLCB0aGUgcG9zdGFsIGNvZGUgYG1pbmxlbmd0aGAgY2FuIGJlIHNldCB0byA1LlxuICogRm9yIGN2diBmaWVsZHMsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIDMuIFRoZSBgbWlubGVuZ3RoYCBhdHRyaWJ1dGUgb25seSBhcHBsaWVzIHRvIGludGVncmF0aW9ucyBjYXB0dXJpbmcgYSBjdnYgd2l0aG91dCBhIG51bWJlciBmaWVsZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcHJlZmlsbF0gQSB2YWx1ZSB0byBwcmVmaWxsIHRoZSBmaWVsZCB3aXRoLiBGb3IgZXhhbXBsZSwgd2hlbiBjcmVhdGluZyBhbiB1cGRhdGUgY2FyZCBmb3JtLCB5b3UgY2FuIHByZWZpbGwgdGhlIGV4cGlyYXRpb24gZGF0ZSBmaWVsZHMgd2l0aCB0aGUgb2xkIGV4cGlyYXRpb24gZGF0ZSBkYXRhLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVqZWN0VW5zdXBwb3J0ZWRDYXJkcz1mYWxzZV0gRGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuNDYuMCwgdXNlIGBzdXBwb3J0ZWRDYXJkQnJhbmRzYCBpbnN0ZWFkLiBPbmx5IGFsbG93IGNhcmQgdHlwZXMgdGhhdCB5b3VyIG1lcmNoYW50IGFjY291bnQgaXMgYWJsZSB0byBwcm9jZXNzLiBVbnN1cHBvcnRlZCBjYXJkIHR5cGVzIHdpbGwgaW52YWxpZGF0ZSB0aGUgY2FyZCBmb3JtLiBlLmcuIGlmIHlvdSBvbmx5IHByb2Nlc3MgVmlzYSBjYXJkcywgYSBjdXN0b21lciBlbnRlcmluZyBhIEFtZXJpY2FuIEV4cHJlc3MgY2FyZCB3b3VsZCBnZXQgYW4gaW52YWxpZCBjYXJkIGZpZWxkLiBUaGlzIGNhbiBvbmx5IGJlIHVzZWQgZm9yIHRoZSBgbnVtYmVyYCBmaWVsZC5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBbc3VwcG9ydGVkQ2FyZEJyYW5kc10gT3ZlcnJpZGUgY2FyZCBicmFuZHMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHRoZSBjYXJkIGZvcm0uIFBhc3MgYCdjYXJkLWJyYW5kLWlkJzogdHJ1ZWAgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgaW4gdGhlIG1lcmNoYW50IGNvbmZpZ3VyYXRpb24gYW5kIGVuYWJsZSBhIGNhcmQgYnJhbmQuIFBhc3MgYCdjYXJkLWJyYW5kLWlkJzogZmFsc2VgIHRvIGRpc2FibGUgYSBjYXJkIGJyYW5kLiBVbnN1cHBvcnRlZCBjYXJkIHR5cGVzIHdpbGwgaW52YWxpZGF0ZSB0aGUgY2FyZCBmb3JtLiBlLmcuIGlmIHlvdSBvbmx5IHByb2Nlc3MgVmlzYSBjYXJkcywgYSBjdXN0b21lciBlbnRlcmluZyBhbiBBbWVyaWNhbiBFeHByZXNzIGNhcmQgd291bGQgZ2V0IGFuIGludmFsaWQgY2FyZCBmaWVsZC4gVGhpcyBjYW4gb25seSBiZSB1c2VkIGZvciB0aGUgIGBudW1iZXJgIGZpZWxkLiAoTm90ZTogb25seSBhbGxvdyBjYXJkIHR5cGVzIHRoYXQgeW91ciBtZXJjaGFudCBhY2NvdW50IGlzIGFjdHVhbGx5IGFibGUgdG8gcHJvY2Vzcy4pXG4gKlxuICogVmFsaWQgY2FyZCBicmFuZCBpZHMgYXJlOlxuICogKiB2aXNhXG4gKiAqIG1hc3RlcmNhcmRcbiAqICogYW1lcmljYW4tZXhwcmVzc1xuICogKiBkaW5lcnMtY2x1YlxuICogKiBkaXNjb3ZlclxuICogKiBqY2JcbiAqICogdW5pb24tcGF5XG4gKiAqIG1hZXN0cm9cbiAqICogZWxvXG4gKiAqIG1pclxuICogKiBoaXBlclxuICogKiBoaXBlcmNhcmRcbiAqL1xuXG4vKipcbiAqIEFuIG9iamVjdCB0aGF0IGhhcyB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkc35maWVsZCBmaWVsZCBvYmplY3RzfSBmb3IgZWFjaCBmaWVsZC4gVXNlZCBpbiB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkc35jcmVhdGUgY3JlYXRlfS5cbiAqIEB0eXBlZGVmIHtvYmplY3R9IGZpZWxkT3B0aW9uc1xuICogQHByb3BlcnR5IHtmaWVsZH0gW251bWJlcl0gQSBmaWVsZCBmb3IgY2FyZCBudW1iZXIuXG4gKiBAcHJvcGVydHkge2ZpZWxkfSBbZXhwaXJhdGlvbkRhdGVdIEEgZmllbGQgZm9yIGV4cGlyYXRpb24gZGF0ZSBpbiBgTU0vWVlZWWAgb3IgYE1NL1lZYCBmb3JtYXQuIFRoaXMgc2hvdWxkIG5vdCBiZSB1c2VkIHdpdGggdGhlIGBleHBpcmF0aW9uTW9udGhgIGFuZCBgZXhwaXJhdGlvblllYXJgIHByb3BlcnRpZXMuXG4gKiBAcHJvcGVydHkge2ZpZWxkfSBbZXhwaXJhdGlvbk1vbnRoXSBBIGZpZWxkIGZvciBleHBpcmF0aW9uIG1vbnRoIGluIGBNTWAgZm9ybWF0LiBUaGlzIHNob3VsZCBiZSB1c2VkIHdpdGggdGhlIGBleHBpcmF0aW9uWWVhcmAgcHJvcGVydHkuXG4gKiBAcHJvcGVydHkge2ZpZWxkfSBbZXhwaXJhdGlvblllYXJdIEEgZmllbGQgZm9yIGV4cGlyYXRpb24geWVhciBpbiBgWVlZWWAgb3IgYFlZYCBmb3JtYXQuIFRoaXMgc2hvdWxkIGJlIHVzZWQgd2l0aCB0aGUgYGV4cGlyYXRpb25Nb250aGAgcHJvcGVydHkuXG4gKiBAcHJvcGVydHkge2ZpZWxkfSBbY3Z2XSBBIGZpZWxkIGZvciAzIG9yIDQgZGlnaXQgY2FyZCB2ZXJpZmljYXRpb24gY29kZSAobGlrZSBDVlYgb3IgQ0lEKS4gSWYgeW91IHdpc2ggdG8gY3JlYXRlIGEgQ1ZWLW9ubHkgcGF5bWVudCBtZXRob2Qgbm9uY2UgdG8gdmVyaWZ5IGEgY2FyZCBhbHJlYWR5IHN0b3JlZCBpbiB5b3VyIFZhdWx0LCBvbWl0IGFsbCBvdGhlciBmaWVsZHMgdG8gb25seSBjb2xsZWN0IENWVi5cbiAqIEBwcm9wZXJ0eSB7ZmllbGR9IFtwb3N0YWxDb2RlXSBBIGZpZWxkIGZvciBwb3N0YWwgb3IgcmVnaW9uIGNvZGUuXG4gKiBAcHJvcGVydHkge2ZpZWxkfSBbY2FyZGhvbGRlck5hbWVdIEEgZmllbGQgZm9yIHRoZSBjYXJkaG9sZGVyIG5hbWUgb24gdGhlIGN1c3RvbWVyJ3MgY3JlZGl0IGNhcmQuXG4gKi9cblxuLyoqXG4gKiBBbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIENTUyB0aGF0IHdpbGwgYmUgYXBwbGllZCBpbiBlYWNoIGhvc3RlZCBmaWVsZC4gVGhpcyBvYmplY3QgbG9va3Mgc2ltaWxhciB0byBDU1MuIFR5cGljYWxseSwgdGhlc2Ugc3R5bGVzIGludm9sdmUgZm9udHMgKHN1Y2ggYXMgYGZvbnQtZmFtaWx5YCBvciBgY29sb3JgKS5cbiAqXG4gKiBZb3UgbWF5IGFsc28gcGFzcyB0aGUgbmFtZSBvZiBhIGNsYXNzIG9uIHlvdXIgc2l0ZSB0aGF0IGNvbnRhaW5zIHRoZSBzdHlsZXMgeW91IHdvdWxkIGxpa2UgdG8gYXBwbHkuIFRoZSBzdHlsZSBwcm9wZXJ0aWVzIHdpbGwgYmUgYXV0b21hdGljYWxseSBwdWxsZWQgb2ZmIHRoZSBjbGFzcyBhbmQgYXBwbGllZCB0byB0aGUgSG9zdGVkIEZpZWxkcyBpbnB1dHMuIE5vdGU6IHRoaXMgaXMgcmVjb21tZW5kZWQgZm9yIGBpbnB1dGAgZWxlbWVudHMgb25seS4gSWYgdXNpbmcgYSBgc2VsZWN0YCBmb3IgdGhlIGV4cGlyYXRpb24gZGF0ZSwgdW5leHBlY3RlZCBzdHlsaW5nIG1heSBvY2N1ci5cbiAqXG4gKiBUaGVzZSBhcmUgdGhlIENTUyBwcm9wZXJ0aWVzIHRoYXQgSG9zdGVkIEZpZWxkcyBzdXBwb3J0cy4gQW55IG90aGVyIENTUyBzaG91bGQgYmUgc3BlY2lmaWVkIG9uIHlvdXIgcGFnZSBhbmQgb3V0c2lkZSBvZiBhbnkgQnJhaW50cmVlIGNvbmZpZ3VyYXRpb24uIFRyeWluZyB0byBzZXQgdW5zdXBwb3J0ZWQgcHJvcGVydGllcyB3aWxsIGZhaWwgYW5kIHB1dCBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUuXG4gKlxuICogU3VwcG9ydGVkIENTUyBwcm9wZXJ0aWVzIGFyZTpcbiAqIGBhcHBlYXJhbmNlYFxuICogYGJveC1zaGFkb3dgXG4gKiBgY29sb3JgXG4gKiBgZGlyZWN0aW9uYFxuICogYGZvbnQtZmFtaWx5YFxuICogYGZvbnQtc2l6ZS1hZGp1c3RgXG4gKiBgZm9udC1zaXplYFxuICogYGZvbnQtc3RyZXRjaGBcbiAqIGBmb250LXN0eWxlYFxuICogYGZvbnQtdmFyaWFudC1hbHRlcm5hdGVzYFxuICogYGZvbnQtdmFyaWFudC1jYXBzYFxuICogYGZvbnQtdmFyaWFudC1lYXN0LWFzaWFuYFxuICogYGZvbnQtdmFyaWFudC1saWdhdHVyZXNgXG4gKiBgZm9udC12YXJpYW50LW51bWVyaWNgXG4gKiBgZm9udC12YXJpYW50YFxuICogYGZvbnQtd2VpZ2h0YFxuICogYGZvbnRgXG4gKiBgbGV0dGVyLXNwYWNpbmdgXG4gKiBgbGluZS1oZWlnaHRgXG4gKiBgb3BhY2l0eWBcbiAqIGBvdXRsaW5lYFxuICogYG1hcmdpbmBcbiAqIGBtYXJnaW4tdG9wYFxuICogYG1hcmdpbi1yaWdodGBcbiAqIGBtYXJnaW4tYm90dG9tYFxuICogYG1hcmdpbi1sZWZ0YFxuICogYHBhZGRpbmdgXG4gKiBgcGFkZGluZy10b3BgXG4gKiBgcGFkZGluZy1yaWdodGBcbiAqIGBwYWRkaW5nLWJvdHRvbWBcbiAqIGBwYWRkaW5nLWxlZnRgXG4gKiBgdGV4dC1hbGlnbmBcbiAqIGB0ZXh0LXNoYWRvd2BcbiAqIGB0cmFuc2l0aW9uYFxuICogYC1tb3otYXBwZWFyYW5jZWBcbiAqIGAtbW96LWJveC1zaGFkb3dgXG4gKiBgLW1vei1vc3gtZm9udC1zbW9vdGhpbmdgXG4gKiBgLW1vei10YXAtaGlnaGxpZ2h0LWNvbG9yYFxuICogYC1tb3otdHJhbnNpdGlvbmBcbiAqIGAtd2Via2l0LWFwcGVhcmFuY2VgXG4gKiBgLXdlYmtpdC1ib3gtc2hhZG93YFxuICogYC13ZWJraXQtZm9udC1zbW9vdGhpbmdgXG4gKiBgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yYFxuICogYC13ZWJraXQtdHJhbnNpdGlvbmBcbiAqIEB0eXBlZGVmIHtvYmplY3R9IHN0eWxlT3B0aW9uc1xuICovXG5cbi8qKlxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIGNyZWF0ZVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ3JlYXRpb24gb3B0aW9uczpcbiAqIEBwYXJhbSB7Q2xpZW50fSBbb3B0aW9ucy5jbGllbnRdIEEge0BsaW5rIENsaWVudH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXV0aG9yaXphdGlvbl0gQSB0b2tlbml6YXRpb25LZXkgb3IgY2xpZW50VG9rZW4uIENhbiBiZSB1c2VkIGluIHBsYWNlIG9mIGBvcHRpb25zLmNsaWVudGAuXG4gKiBAcGFyYW0ge2ZpZWxkT3B0aW9uc30gb3B0aW9ucy5maWVsZHMgQSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkc35maWVsZE9wdGlvbnMgc2V0IG9mIG9wdGlvbnMgZm9yIGVhY2ggZmllbGR9LlxuICogQHBhcmFtIHtzdHlsZU9wdGlvbnN9IFtvcHRpb25zLnN0eWxlc10ge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHN+c3R5bGVPcHRpb25zIFN0eWxlc30gYXBwbGllZCB0byBlYWNoIGZpZWxkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmV2ZW50QXV0b2ZpbGw9ZmFsc2VdIFdoZW4gdHJ1ZSwgYnJvd3NlcnMgd2lsbCBub3QgdHJ5IHRvIHByb21wdCB0aGUgY3VzdG9tZXIgdG8gYXV0b2ZpbGwgdGhlaXIgY3JlZGl0IGNhcmQgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQsIGBkYXRhYCwgaXMgdGhlIHtAbGluayBIb3N0ZWRGaWVsZHN9IGluc3RhbmNlLiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgYGNyZWF0ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB7QGxpbmsgSG9zdGVkRmllbGRzfSBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQGV4YW1wbGVcbiAqIGJyYWludHJlZS5ob3N0ZWRGaWVsZHMuY3JlYXRlKHtcbiAqICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZSxcbiAqICAgc3R5bGVzOiB7XG4gKiAgICAgJ2lucHV0Jzoge1xuICogICAgICAgJ2ZvbnQtc2l6ZSc6ICcxNnB0JyxcbiAqICAgICAgICdjb2xvcic6ICcjM0EzQTNBJ1xuICogICAgIH0sXG4gKiAgICAgJy5udW1iZXInOiB7XG4gKiAgICAgICAnZm9udC1mYW1pbHknOiAnbW9ub3NwYWNlJ1xuICogICAgIH0sXG4gKiAgICAgJy52YWxpZCc6IHtcbiAqICAgICAgICdjb2xvcic6ICdncmVlbidcbiAqICAgICB9XG4gKiAgIH0sXG4gKiAgIGZpZWxkczoge1xuICogICAgIG51bWJlcjoge1xuICogICAgICAgY29udGFpbmVyOiAnI2NhcmQtbnVtYmVyJ1xuICogICAgIH0sXG4gKiAgICAgY3Z2OiB7XG4gKiAgICAgICBjb250YWluZXI6ICcjY3Z2JyxcbiAqICAgICAgIHBsYWNlaG9sZGVyOiAn4oCi4oCi4oCiJ1xuICogICAgIH0sXG4gKiAgICAgZXhwaXJhdGlvbkRhdGU6IHtcbiAqICAgICAgIGNvbnRhaW5lcjogJyNleHBpcmF0aW9uLWRhdGUnXG4gKiAgICAgfVxuICogICB9XG4gKiB9LCBjYWxsYmFjayk7XG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5XaXRoIGNhcmRob2xkZXIgbmFtZTwvY2FwdGlvbj5cbiAqIGJyYWludHJlZS5ob3N0ZWRGaWVsZHMuY3JlYXRlKHtcbiAqICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZSxcbiAqICAgZmllbGRzOiB7XG4gKiAgICAgbnVtYmVyOiB7XG4gKiAgICAgICBjb250YWluZXI6ICcjY2FyZC1udW1iZXInXG4gKiAgICAgfSxcbiAqICAgICBjYXJkaG9sZGVyTmFtZToge1xuICogICAgICAgY29udGFpbmVyOiAnI2NhcmRob2xkZXItbmFtZSdcbiAqICAgICB9LFxuICogICAgIGN2djoge1xuICogICAgICAgY29udGFpbmVyOiAnI2N2dicsXG4gKiAgICAgfSxcbiAqICAgICBleHBpcmF0aW9uRGF0ZToge1xuICogICAgICAgY29udGFpbmVyOiAnI2V4cGlyYXRpb24tZGF0ZSdcbiAqICAgICB9XG4gKiAgIH1cbiAqIH0sIGNhbGxiYWNrKTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPkFwcGx5aW5nIHN0eWxlcyB3aXRoIGEgY2xhc3MgbmFtZTwvY2FwdGlvbj5cbiAqIC8vIGluIGRvY3VtZW50IGhlYWRcbiAqIDxzdHlsZT5cbiAqICAgLmJyYWludHJlZS1pbnB1dC1jbGFzcyB7XG4gKiAgICAgY29sb3I6IGJsYWNrO1xuICogICB9XG4gKiAgIC5icmFpbnRyZWUtdmFsaWQtY2xhc3Mge1xuICogICAgIGNvbG9yOiBncmVlbjtcbiAqICAgfVxuICogICAuYnJhaW50cmVlLWludmFsaWQtY2xhc3Mge1xuICogICAgIGNvbG9yOiByZWQ7XG4gKiAgIH1cbiAqIDwvc3R5bGU+XG4gKiAvLyBpbiBhIHNjcmlwdCB0YWdcbiAqIGJyYWludHJlZS5ob3N0ZWRGaWVsZHMuY3JlYXRlKHtcbiAqICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZSxcbiAqICAgc3R5bGVzOiB7XG4gKiAgICAgJ2lucHV0JzogJ2JyYWludHJlZS1pbnB1dC1jbGFzcycsXG4gKiAgICAgJy5pbnZhbGlkJzogJ2JyYWludHJlZS1pbnZhbGlkLWNsYXNzJyxcbiAqICAgICAnLnZhbGlkJzoge1xuICogICAgICAgLy8geW91IGNhbiBhbHNvIHVzZSB0aGUgb2JqZWN0IHN5bnRheCBhbG9uZ3NpZGVcbiAqICAgICAgIC8vIHRoZSBjbGFzcyBuYW1lIHN5bnRheFxuICogICAgICAgY29sb3I6IGdyZWVuO1xuICogICAgIH1cbiAqICAgfSxcbiAqICAgZmllbGRzOiB7XG4gKiAgICAgbnVtYmVyOiB7XG4gKiAgICAgICBjb250YWluZXI6ICcjY2FyZC1udW1iZXInXG4gKiAgICAgfSxcbiAqICAgICAvLyBldGMuLi5cbiAqICAgfVxuICogfSwgY2FsbGJhY2spO1xuICogQGV4YW1wbGUgPGNhcHRpb24+UmlnaHQgdG8gTGVmdCBMYW5ndWFnZSBTdXBwb3J0PC9jYXB0aW9uPlxuICogYnJhaW50cmVlLmhvc3RlZEZpZWxkcy5jcmVhdGUoe1xuICogICBjbGllbnQ6IGNsaWVudEluc3RhbmNlLFxuICogICBzdHlsZXM6IHtcbiAqICAgICAnaW5wdXQnOiB7XG4gKiAgICAgICAvLyBvdGhlciBzdHlsZXNcbiAqICAgICAgIGRpcmVjdGlvbjogJ3J0bCdcbiAqICAgICB9LFxuICogICB9LFxuICogICBmaWVsZHM6IHtcbiAqICAgICBudW1iZXI6IHtcbiAqICAgICAgIGNvbnRhaW5lcjogJyNjYXJkLW51bWJlcicsXG4gKiAgICAgICAvLyBDcmVkaXQgY2FyZCBmb3JtYXR0aW5nIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXG4gKiAgICAgICAvLyB3aXRoIFJUTCBsYW5ndWFnZXMsIHNvIHdlIG5lZWQgdG8gdHVybiBpdCBvZmYgZm9yIHRoZSBudW1iZXIgaW5wdXRcbiAqICAgICAgIGZvcm1hdElucHV0OiBmYWxzZVxuICogICAgIH0sXG4gKiAgICAgY3Z2OiB7XG4gKiAgICAgICBjb250YWluZXI6ICcjY3Z2JyxcbiAqICAgICAgIHBsYWNlaG9sZGVyOiAn4oCi4oCi4oCiJ1xuICogICAgIH0sXG4gKiAgICAgZXhwaXJhdGlvbkRhdGU6IHtcbiAqICAgICAgIGNvbnRhaW5lcjogJyNleHBpcmF0aW9uLWRhdGUnLFxuICogICAgICAgdHlwZTogJ21vbnRoJ1xuICogICAgIH1cbiAqICAgfVxuICogfSwgY2FsbGJhY2spO1xuICogQGV4YW1wbGUgPGNhcHRpb24+U2V0dGluZyB1cCBIb3N0ZWQgRmllbGRzIHRvIHRva2VuaXplIENWViBvbmx5PC9jYXB0aW9uPlxuICogYnJhaW50cmVlLmhvc3RlZEZpZWxkcy5jcmVhdGUoe1xuICogICBjbGllbnQ6IGNsaWVudEluc3RhbmNlLFxuICogICBmaWVsZHM6IHtcbiAqICAgICAvLyBPbmx5IGFkZCB0aGUgYGN2dmAgb3B0aW9uLlxuICogICAgIGN2djoge1xuICogICAgICAgY29udGFpbmVyOiAnI2N2dicsXG4gKiAgICAgICBwbGFjZWhvbGRlcjogJ+KAouKAouKAoidcbiAqICAgICB9XG4gKiAgIH1cbiAqIH0sIGNhbGxiYWNrKTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPkNyZWF0aW5nIGFuIGV4cGlyYXRpb24gZGF0ZSB1cGRhdGUgZm9ybSB3aXRoIHByZWZpbGxlZCBkYXRhPC9jYXB0aW9uPlxuICogdmFyIHN0b3JlZENyZWRpdENhcmRJbmZvcm1hdGlvbiA9IHtcbiAqICAgLy8gZ2V0IHRoaXMgaW5mbyBmcm9tIHlvdXIgc2VydmVyXG4gKiAgIC8vIHdpdGggYSBwYXltZW50IG1ldGhvZCBsb29rdXBcbiAqICAgbW9udGg6ICcwOScsXG4gKiAgIHllYXI6ICcyMDE3J1xuICogfTtcbiAqXG4gKiBicmFpbnRyZWUuaG9zdGVkRmllbGRzLmNyZWF0ZSh7XG4gKiAgIGNsaWVudDogY2xpZW50SW5zdGFuY2UsXG4gKiAgIGZpZWxkczoge1xuICogICAgIGV4cGlyYXRpb25Nb250aDoge1xuICogICAgICAgY29udGFpbmVyOiAnI2V4cGlyYXRpb24tbW9udGgnLFxuICogICAgICAgcHJlZmlsbDogc3RvcmVkQ3JlZGl0Q2FyZEluZm9ybWF0aW9uLm1vbnRoXG4gKiAgICAgfSxcbiAqICAgICBleHBpcmF0aW9uWWVhcjoge1xuICogICAgICAgY29udGFpbmVyOiAnI2V4cGlyYXRpb24teWVhcicsXG4gKiAgICAgICBwcmVmaWxsOiBzdG9yZWRDcmVkaXRDYXJkSW5mb3JtYXRpb24ueWVhclxuICogICAgIH1cbiAqICAgfVxuICogfSwgY2FsbGJhY2spO1xuICogQGV4YW1wbGUgPGNhcHRpb24+VmFsaWRhdGUgdGhlIGNhcmQgZm9ybSBmb3Igc3VwcG9ydGVkIGNhcmQgdHlwZXM8L2NhcHRpb24+XG4gKiBicmFpbnRyZWUuaG9zdGVkRmllbGRzLmNyZWF0ZSh7XG4gKiAgIGNsaWVudDogY2xpZW50SW5zdGFuY2UsXG4gKiAgIGZpZWxkczoge1xuICogICAgIG51bWJlcjoge1xuICogICAgICAgY29udGFpbmVyOiAnI2NhcmQtbnVtYmVyJyxcbiAqICAgICAgIHN1cHBvcnRlZENhcmRCcmFuZHM6IHtcbiAqICAgICAgICAgdmlzYTogZmFsc2UsIC8vIHByZXZlbnRzIFZpc2FzIGZyb20gc2hvd2luZyB1cCBhcyB2YWxpZCBldmVuIHdoZW4gdGhlIEJyYWludHJlZSBjb250cm9sIHBhbmVsIGlzIGNvbmZpZ3VyZWQgdG8gYWxsb3cgdGhlbVxuICogICAgICAgICAnZGluZXJzLWNsdWInOiB0cnVlIC8vIGFsbG93IERpbmVycyBDbHViIGNhcmRzIHRvIGJlIHZhbGlkIChwcm9jZXNzZWQgYXMgRGlzY292ZXIgY2FyZHMgb24gdGhlIEJyYWludHJlZSBiYWNrZW5kKVxuICogICAgICAgfVxuICogICAgIH0sXG4gKiAgICAgY3Z2OiB7XG4gKiAgICAgICBjb250YWluZXI6ICcjY3Z2JyxcbiAqICAgICAgIHBsYWNlaG9sZGVyOiAn4oCi4oCi4oCiJ1xuICogICAgIH0sXG4gKiAgICAgZXhwaXJhdGlvbkRhdGU6IHtcbiAqICAgICAgIGNvbnRhaW5lcjogJyNleHBpcmF0aW9uLWRhdGUnLFxuICogICAgICAgdHlwZTogJ21vbnRoJ1xuICogICAgIH1cbiAqICAgfSxcbiAqIH0sIGNhbGxiYWNrKTtcbiAqL1xuZnVuY3Rpb24gY3JlYXRlKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uXG4gICAgLnZlcmlmeSh7XG4gICAgICBuYW1lOiBcIkhvc3RlZCBGaWVsZHNcIixcbiAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICAgIGNsaWVudDogb3B0aW9ucy5jbGllbnQsXG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW50ZWdyYXRpb24gPSBuZXcgSG9zdGVkRmllbGRzKG9wdGlvbnMpO1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpbnRlZ3JhdGlvbi5vbihcInJlYWR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNvbHZlKGludGVncmF0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGludGVncmF0aW9uLm9uKFwidGltZW91dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuSE9TVEVEX0ZJRUxEU19USU1FT1VUKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvKipcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb24gc3VwcG9ydHNJbnB1dEZvcm1hdHRpbmdcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgZmFsc2UgaWYgaW5wdXQgZm9ybWF0dGluZyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGlzYWJsZWQgZHVlIHRvIGJyb3dzZXIgaW5jb21wYXRpYmlsaXR5LiBPdGhlcndpc2UsIHJldHVybnMgdHJ1ZS4gRm9yIGEgbGlzdCBvZiB1bnN1cHBvcnRlZCBicm93c2VycywgW2dvIGhlcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9icmFpbnRyZWUvcmVzdHJpY3RlZC1pbnB1dC9ibG9iL21haW4vUkVBRE1FLm1kI2Jyb3dzZXJzLXdoZXJlLWZvcm1hdHRpbmctaXMtdHVybmVkLW9mZi1hdXRvbWF0aWNhbGx5KS5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgZmFsc2UgaWYgaW5wdXQgZm9ybWF0dGluZyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGlzYWJsZWQgZHVlIHRvIGJyb3dzZXIgaW5jb21wYXRpYmlsaXR5LiBPdGhlcndpc2UsIHJldHVybnMgdHJ1ZS5cbiAgICogQGV4YW1wbGVcbiAgICogPGNhcHRpb24+Q29uZGl0aW9uYWxseSBjaG9vc2luZyBzcGxpdCBleHBpcmF0aW9uIGRhdGUgaW5wdXRzIGlmIGZvcm1hdHRpbmcgaXMgdW5hdmFpbGFibGU8L2NhcHRpb24+XG4gICAqIHZhciBjYW5Gb3JtYXQgPSBicmFpbnRyZWUuaG9zdGVkRmllbGRzLnN1cHBvcnRzSW5wdXRGb3JtYXR0aW5nKCk7XG4gICAqIHZhciBmaWVsZHMgPSB7XG4gICAqICAgbnVtYmVyOiB7XG4gICAqICAgICBjb250YWluZXI6ICcjY2FyZC1udW1iZXInXG4gICAqICAgfSxcbiAgICogICBjdnY6IHtcbiAgICogICAgIGNvbnRhaW5lcjogJyNjdnYnXG4gICAqICAgfVxuICAgKiB9O1xuICAgKlxuICAgKiBpZiAoY2FuRm9ybWF0KSB7XG4gICAqICAgZmllbGRzLmV4cGlyYXRpb25EYXRlID0ge1xuICAgKiAgICAgc2VsZWN0aW9uOiAnI2V4cGlyYXRpb24tZGF0ZSdcbiAgICogICB9O1xuICAgKiAgIGZ1bmN0aW9uVG9DcmVhdGVBbmRJbnNlcnRFeHBpcmF0aW9uRGF0ZURpdlRvRm9ybSgpO1xuICAgKiB9IGVsc2Uge1xuICAgKiAgIGZpZWxkcy5leHBpcmF0aW9uTW9udGggPSB7XG4gICAqICAgICBzZWxlY3Rpb246ICcjZXhwaXJhdGlvbi1tb250aCdcbiAgICogICB9O1xuICAgKiAgIGZpZWxkcy5leHBpcmF0aW9uWWVhciA9IHtcbiAgICogICAgIHNlbGVjdGlvbjogJyNleHBpcmF0aW9uLXllYXInXG4gICAqICAgfTtcbiAgICogICBmdW5jdGlvblRvQ3JlYXRlQW5kSW5zZXJ0RXhwaXJhdGlvbk1vbnRoQW5kWWVhckRpdnNUb0Zvcm0oKTtcbiAgICogfVxuICAgKlxuICAgKiBicmFpbnRyZWUuaG9zdGVkRmllbGRzLmNyZWF0ZSh7XG4gICAqICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZSxcbiAgICogICBzdHlsZXM6IHtcbiAgICogICAgIC8vIFN0eWxlc1xuICAgKiAgIH0sXG4gICAqICAgZmllbGRzOiBmaWVsZHNcbiAgICogfSwgY2FsbGJhY2spO1xuICAgKi9cbiAgc3VwcG9ydHNJbnB1dEZvcm1hdHRpbmc6IHN1cHBvcnRzSW5wdXRGb3JtYXR0aW5nLFxuICBjcmVhdGU6IHdyYXBQcm9taXNlKGNyZWF0ZSksXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgU0RLLCBpLmUuIGB7QHBrZyB2ZXJzaW9ufWAuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBWRVJTSU9OOiBWRVJTSU9OLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/shared/browser-detection.js":
/*!******************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/shared/browser-detection.js ***!
  \******************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar isAndroid = __webpack_require__(/*! @braintree/browser-detection/is-android */ \"(ssr)/./node_modules/@braintree/browser-detection/is-android.js\");\nvar isChromeOS = __webpack_require__(/*! @braintree/browser-detection/is-chrome-os */ \"(ssr)/./node_modules/@braintree/browser-detection/is-chrome-os.js\");\nvar isIos = __webpack_require__(/*! @braintree/browser-detection/is-ios */ \"(ssr)/./node_modules/@braintree/browser-detection/is-ios.js\");\nvar isChrome = __webpack_require__(/*! @braintree/browser-detection/is-chrome */ \"(ssr)/./node_modules/@braintree/browser-detection/is-chrome.js\");\n\nfunction hasSoftwareKeyboard() {\n  return isAndroid() || isChromeOS() || isIos();\n}\n\nfunction isChromeIos() {\n  return isChrome() && isIos();\n}\n\nmodule.exports = {\n  isAndroid: isAndroid,\n  isChromeOS: isChromeOS,\n  isChromeIos: isChromeIos,\n  isFirefox: __webpack_require__(/*! @braintree/browser-detection/is-firefox */ \"(ssr)/./node_modules/@braintree/browser-detection/is-firefox.js\"),\n  isIos: isIos,\n  isIosWebview: __webpack_require__(/*! @braintree/browser-detection/is-ios-webview */ \"(ssr)/./node_modules/@braintree/browser-detection/is-ios-webview.js\"),\n  hasSoftwareKeyboard: hasSoftwareKeyboard,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9icm93c2VyLWRldGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQkFBZ0IsbUJBQU8sQ0FBQyxnSEFBeUM7QUFDakUsaUJBQWlCLG1CQUFPLENBQUMsb0hBQTJDO0FBQ3BFLFlBQVksbUJBQU8sQ0FBQyx3R0FBcUM7QUFDekQsZUFBZSxtQkFBTyxDQUFDLDhHQUF3Qzs7QUFFL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUJBQU8sQ0FBQyxnSEFBeUM7QUFDOUQ7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQyx3SEFBNkM7QUFDckU7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9icm93c2VyLWRldGVjdGlvbi5qcz9jZjE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNBbmRyb2lkID0gcmVxdWlyZShcIkBicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtYW5kcm9pZFwiKTtcbnZhciBpc0Nocm9tZU9TID0gcmVxdWlyZShcIkBicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtY2hyb21lLW9zXCIpO1xudmFyIGlzSW9zID0gcmVxdWlyZShcIkBicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtaW9zXCIpO1xudmFyIGlzQ2hyb21lID0gcmVxdWlyZShcIkBicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtY2hyb21lXCIpO1xuXG5mdW5jdGlvbiBoYXNTb2Z0d2FyZUtleWJvYXJkKCkge1xuICByZXR1cm4gaXNBbmRyb2lkKCkgfHwgaXNDaHJvbWVPUygpIHx8IGlzSW9zKCk7XG59XG5cbmZ1bmN0aW9uIGlzQ2hyb21lSW9zKCkge1xuICByZXR1cm4gaXNDaHJvbWUoKSAmJiBpc0lvcygpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBbmRyb2lkOiBpc0FuZHJvaWQsXG4gIGlzQ2hyb21lT1M6IGlzQ2hyb21lT1MsXG4gIGlzQ2hyb21lSW9zOiBpc0Nocm9tZUlvcyxcbiAgaXNGaXJlZm94OiByZXF1aXJlKFwiQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9pcy1maXJlZm94XCIpLFxuICBpc0lvczogaXNJb3MsXG4gIGlzSW9zV2VidmlldzogcmVxdWlyZShcIkBicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtaW9zLXdlYnZpZXdcIiksXG4gIGhhc1NvZnR3YXJlS2V5Ym9hcmQ6IGhhc1NvZnR3YXJlS2V5Ym9hcmQsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/shared/browser-detection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js":
/*!**********************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/shared/constants.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar enumerate = __webpack_require__(/*! ../../lib/enumerate */ \"(ssr)/./node_modules/braintree-web/lib/enumerate.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/errors.js\");\nvar VERSION = \"3.99.0\";\n\nvar constants = {\n  VERSION: VERSION,\n  maxExpirationYearAge: 19,\n  externalEvents: {\n    FOCUS: \"focus\",\n    BLUR: \"blur\",\n    EMPTY: \"empty\",\n    NOT_EMPTY: \"notEmpty\",\n    VALIDITY_CHANGE: \"validityChange\",\n    CARD_TYPE_CHANGE: \"cardTypeChange\",\n  },\n  defaultMaxLengths: {\n    number: 19,\n    postalCode: 8,\n    expirationDate: 7,\n    expirationMonth: 2,\n    expirationYear: 4,\n    cvv: 3,\n  },\n  externalClasses: {\n    FOCUSED: \"braintree-hosted-fields-focused\",\n    INVALID: \"braintree-hosted-fields-invalid\",\n    VALID: \"braintree-hosted-fields-valid\",\n  },\n  navigationDirections: {\n    BACK: \"before\",\n    FORWARD: \"after\",\n  },\n  defaultIFrameStyle: {\n    border: \"none\",\n    width: \"100%\",\n    height: \"100%\",\n    float: \"left\",\n  },\n  tokenizationErrorCodes: {\n    81724: errors.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,\n    // NEXT_MAJOR_VERSION this error triggers for both AVS and CVV errors\n    // but the code name implies that it would only trigger for CVV verification\n    // failures\n    81736: errors.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED,\n  },\n  allowedStyles: [\n    \"-moz-appearance\",\n    \"-moz-box-shadow\",\n    \"-moz-osx-font-smoothing\",\n    \"-moz-tap-highlight-color\",\n    \"-moz-transition\",\n    \"-webkit-appearance\",\n    \"-webkit-box-shadow\",\n    \"-webkit-font-smoothing\",\n    \"-webkit-tap-highlight-color\",\n    \"-webkit-transition\",\n    \"appearance\",\n    \"box-shadow\",\n    \"color\",\n    \"direction\",\n    \"font\",\n    \"font-family\",\n    \"font-size\",\n    \"font-size-adjust\",\n    \"font-stretch\",\n    \"font-style\",\n    \"font-variant\",\n    \"font-variant-alternates\",\n    \"font-variant-caps\",\n    \"font-variant-east-asian\",\n    \"font-variant-ligatures\",\n    \"font-variant-numeric\",\n    \"font-weight\",\n    \"letter-spacing\",\n    \"line-height\",\n    \"margin\",\n    \"margin-top\",\n    \"margin-right\",\n    \"margin-bottom\",\n    \"margin-left\",\n    \"opacity\",\n    \"outline\",\n    \"padding\",\n    \"padding-top\",\n    \"padding-right\",\n    \"padding-bottom\",\n    \"padding-left\",\n    \"text-align\",\n    \"text-shadow\",\n    \"transition\",\n  ],\n  allowedFields: {\n    cardholderName: {\n      name: \"cardholder-name\",\n      label: \"Cardholder Name\",\n    },\n    number: {\n      name: \"credit-card-number\",\n      label: \"Credit Card Number\",\n    },\n    cvv: {\n      name: \"cvv\",\n      label: \"CVV\",\n    },\n    expirationDate: {\n      name: \"expiration\",\n      label: \"Expiration Date\",\n    },\n    expirationMonth: {\n      name: \"expiration-month\",\n      label: \"Expiration Month\",\n    },\n    expirationYear: {\n      name: \"expiration-year\",\n      label: \"Expiration Year\",\n    },\n    postalCode: {\n      name: \"postal-code\",\n      label: \"Postal Code\",\n    },\n  },\n  allowedAttributes: {\n    \"aria-invalid\": \"boolean\",\n    \"aria-required\": \"boolean\",\n    disabled: \"boolean\",\n    placeholder: \"string\",\n  },\n  autocompleteMappings: {\n    \"cardholder-name\": \"cc-name\",\n    \"credit-card-number\": \"cc-number\",\n    expiration: \"cc-exp\",\n    \"expiration-month\": \"cc-exp-month\",\n    \"expiration-year\": \"cc-exp-year\",\n    cvv: \"cc-csc\",\n    \"postal-code\": \"billing postal-code\",\n  },\n};\n\nconstants.events = enumerate(\n  [\n    \"ADD_CLASS\",\n    \"AUTOFILL_DATA_AVAILABLE\",\n    \"BIN_AVAILABLE\",\n    \"CARD_FORM_ENTRY_HAS_BEGUN\",\n    \"CLEAR_FIELD\",\n    \"CONFIGURATION\",\n    \"FRAME_READY\",\n    \"INPUT_EVENT\",\n    \"READY_FOR_CLIENT\",\n    \"REMOVE_ATTRIBUTE\",\n    \"REMOVE_CLASS\",\n    \"REMOVE_FOCUS_INTERCEPTS\",\n    \"SET_ATTRIBUTE\",\n    \"SET_MESSAGE\",\n    \"SET_MONTH_OPTIONS\",\n    \"TOKENIZATION_REQUEST\",\n    \"TRIGGER_FOCUS_CHANGE\",\n    \"TRIGGER_INPUT_FOCUS\",\n    \"VALIDATE_STRICT\",\n  ],\n  \"hosted-fields:\"\n);\n\nmodule.exports = constants;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0JBQWdCLG1CQUFPLENBQUMsZ0ZBQXFCO0FBQzdDLGFBQWEsbUJBQU8sQ0FBQyxtRkFBVTtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9jb25zdGFudHMuanM/NzIzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGVudW1lcmF0ZSA9IHJlcXVpcmUoXCIuLi8uLi9saWIvZW51bWVyYXRlXCIpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcblxudmFyIGNvbnN0YW50cyA9IHtcbiAgVkVSU0lPTjogVkVSU0lPTixcbiAgbWF4RXhwaXJhdGlvblllYXJBZ2U6IDE5LFxuICBleHRlcm5hbEV2ZW50czoge1xuICAgIEZPQ1VTOiBcImZvY3VzXCIsXG4gICAgQkxVUjogXCJibHVyXCIsXG4gICAgRU1QVFk6IFwiZW1wdHlcIixcbiAgICBOT1RfRU1QVFk6IFwibm90RW1wdHlcIixcbiAgICBWQUxJRElUWV9DSEFOR0U6IFwidmFsaWRpdHlDaGFuZ2VcIixcbiAgICBDQVJEX1RZUEVfQ0hBTkdFOiBcImNhcmRUeXBlQ2hhbmdlXCIsXG4gIH0sXG4gIGRlZmF1bHRNYXhMZW5ndGhzOiB7XG4gICAgbnVtYmVyOiAxOSxcbiAgICBwb3N0YWxDb2RlOiA4LFxuICAgIGV4cGlyYXRpb25EYXRlOiA3LFxuICAgIGV4cGlyYXRpb25Nb250aDogMixcbiAgICBleHBpcmF0aW9uWWVhcjogNCxcbiAgICBjdnY6IDMsXG4gIH0sXG4gIGV4dGVybmFsQ2xhc3Nlczoge1xuICAgIEZPQ1VTRUQ6IFwiYnJhaW50cmVlLWhvc3RlZC1maWVsZHMtZm9jdXNlZFwiLFxuICAgIElOVkFMSUQ6IFwiYnJhaW50cmVlLWhvc3RlZC1maWVsZHMtaW52YWxpZFwiLFxuICAgIFZBTElEOiBcImJyYWludHJlZS1ob3N0ZWQtZmllbGRzLXZhbGlkXCIsXG4gIH0sXG4gIG5hdmlnYXRpb25EaXJlY3Rpb25zOiB7XG4gICAgQkFDSzogXCJiZWZvcmVcIixcbiAgICBGT1JXQVJEOiBcImFmdGVyXCIsXG4gIH0sXG4gIGRlZmF1bHRJRnJhbWVTdHlsZToge1xuICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgZmxvYXQ6IFwibGVmdFwiLFxuICB9LFxuICB0b2tlbml6YXRpb25FcnJvckNvZGVzOiB7XG4gICAgODE3MjQ6IGVycm9ycy5IT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9GQUlMX09OX0RVUExJQ0FURSxcbiAgICAvLyBORVhUX01BSk9SX1ZFUlNJT04gdGhpcyBlcnJvciB0cmlnZ2VycyBmb3IgYm90aCBBVlMgYW5kIENWViBlcnJvcnNcbiAgICAvLyBidXQgdGhlIGNvZGUgbmFtZSBpbXBsaWVzIHRoYXQgaXQgd291bGQgb25seSB0cmlnZ2VyIGZvciBDVlYgdmVyaWZpY2F0aW9uXG4gICAgLy8gZmFpbHVyZXNcbiAgICA4MTczNjogZXJyb3JzLkhPU1RFRF9GSUVMRFNfVE9LRU5JWkFUSU9OX0NWVl9WRVJJRklDQVRJT05fRkFJTEVELFxuICB9LFxuICBhbGxvd2VkU3R5bGVzOiBbXG4gICAgXCItbW96LWFwcGVhcmFuY2VcIixcbiAgICBcIi1tb3otYm94LXNoYWRvd1wiLFxuICAgIFwiLW1vei1vc3gtZm9udC1zbW9vdGhpbmdcIixcbiAgICBcIi1tb3otdGFwLWhpZ2hsaWdodC1jb2xvclwiLFxuICAgIFwiLW1vei10cmFuc2l0aW9uXCIsXG4gICAgXCItd2Via2l0LWFwcGVhcmFuY2VcIixcbiAgICBcIi13ZWJraXQtYm94LXNoYWRvd1wiLFxuICAgIFwiLXdlYmtpdC1mb250LXNtb290aGluZ1wiLFxuICAgIFwiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCIsXG4gICAgXCItd2Via2l0LXRyYW5zaXRpb25cIixcbiAgICBcImFwcGVhcmFuY2VcIixcbiAgICBcImJveC1zaGFkb3dcIixcbiAgICBcImNvbG9yXCIsXG4gICAgXCJkaXJlY3Rpb25cIixcbiAgICBcImZvbnRcIixcbiAgICBcImZvbnQtZmFtaWx5XCIsXG4gICAgXCJmb250LXNpemVcIixcbiAgICBcImZvbnQtc2l6ZS1hZGp1c3RcIixcbiAgICBcImZvbnQtc3RyZXRjaFwiLFxuICAgIFwiZm9udC1zdHlsZVwiLFxuICAgIFwiZm9udC12YXJpYW50XCIsXG4gICAgXCJmb250LXZhcmlhbnQtYWx0ZXJuYXRlc1wiLFxuICAgIFwiZm9udC12YXJpYW50LWNhcHNcIixcbiAgICBcImZvbnQtdmFyaWFudC1lYXN0LWFzaWFuXCIsXG4gICAgXCJmb250LXZhcmlhbnQtbGlnYXR1cmVzXCIsXG4gICAgXCJmb250LXZhcmlhbnQtbnVtZXJpY1wiLFxuICAgIFwiZm9udC13ZWlnaHRcIixcbiAgICBcImxldHRlci1zcGFjaW5nXCIsXG4gICAgXCJsaW5lLWhlaWdodFwiLFxuICAgIFwibWFyZ2luXCIsXG4gICAgXCJtYXJnaW4tdG9wXCIsXG4gICAgXCJtYXJnaW4tcmlnaHRcIixcbiAgICBcIm1hcmdpbi1ib3R0b21cIixcbiAgICBcIm1hcmdpbi1sZWZ0XCIsXG4gICAgXCJvcGFjaXR5XCIsXG4gICAgXCJvdXRsaW5lXCIsXG4gICAgXCJwYWRkaW5nXCIsXG4gICAgXCJwYWRkaW5nLXRvcFwiLFxuICAgIFwicGFkZGluZy1yaWdodFwiLFxuICAgIFwicGFkZGluZy1ib3R0b21cIixcbiAgICBcInBhZGRpbmctbGVmdFwiLFxuICAgIFwidGV4dC1hbGlnblwiLFxuICAgIFwidGV4dC1zaGFkb3dcIixcbiAgICBcInRyYW5zaXRpb25cIixcbiAgXSxcbiAgYWxsb3dlZEZpZWxkczoge1xuICAgIGNhcmRob2xkZXJOYW1lOiB7XG4gICAgICBuYW1lOiBcImNhcmRob2xkZXItbmFtZVwiLFxuICAgICAgbGFiZWw6IFwiQ2FyZGhvbGRlciBOYW1lXCIsXG4gICAgfSxcbiAgICBudW1iZXI6IHtcbiAgICAgIG5hbWU6IFwiY3JlZGl0LWNhcmQtbnVtYmVyXCIsXG4gICAgICBsYWJlbDogXCJDcmVkaXQgQ2FyZCBOdW1iZXJcIixcbiAgICB9LFxuICAgIGN2djoge1xuICAgICAgbmFtZTogXCJjdnZcIixcbiAgICAgIGxhYmVsOiBcIkNWVlwiLFxuICAgIH0sXG4gICAgZXhwaXJhdGlvbkRhdGU6IHtcbiAgICAgIG5hbWU6IFwiZXhwaXJhdGlvblwiLFxuICAgICAgbGFiZWw6IFwiRXhwaXJhdGlvbiBEYXRlXCIsXG4gICAgfSxcbiAgICBleHBpcmF0aW9uTW9udGg6IHtcbiAgICAgIG5hbWU6IFwiZXhwaXJhdGlvbi1tb250aFwiLFxuICAgICAgbGFiZWw6IFwiRXhwaXJhdGlvbiBNb250aFwiLFxuICAgIH0sXG4gICAgZXhwaXJhdGlvblllYXI6IHtcbiAgICAgIG5hbWU6IFwiZXhwaXJhdGlvbi15ZWFyXCIsXG4gICAgICBsYWJlbDogXCJFeHBpcmF0aW9uIFllYXJcIixcbiAgICB9LFxuICAgIHBvc3RhbENvZGU6IHtcbiAgICAgIG5hbWU6IFwicG9zdGFsLWNvZGVcIixcbiAgICAgIGxhYmVsOiBcIlBvc3RhbCBDb2RlXCIsXG4gICAgfSxcbiAgfSxcbiAgYWxsb3dlZEF0dHJpYnV0ZXM6IHtcbiAgICBcImFyaWEtaW52YWxpZFwiOiBcImJvb2xlYW5cIixcbiAgICBcImFyaWEtcmVxdWlyZWRcIjogXCJib29sZWFuXCIsXG4gICAgZGlzYWJsZWQ6IFwiYm9vbGVhblwiLFxuICAgIHBsYWNlaG9sZGVyOiBcInN0cmluZ1wiLFxuICB9LFxuICBhdXRvY29tcGxldGVNYXBwaW5nczoge1xuICAgIFwiY2FyZGhvbGRlci1uYW1lXCI6IFwiY2MtbmFtZVwiLFxuICAgIFwiY3JlZGl0LWNhcmQtbnVtYmVyXCI6IFwiY2MtbnVtYmVyXCIsXG4gICAgZXhwaXJhdGlvbjogXCJjYy1leHBcIixcbiAgICBcImV4cGlyYXRpb24tbW9udGhcIjogXCJjYy1leHAtbW9udGhcIixcbiAgICBcImV4cGlyYXRpb24teWVhclwiOiBcImNjLWV4cC15ZWFyXCIsXG4gICAgY3Z2OiBcImNjLWNzY1wiLFxuICAgIFwicG9zdGFsLWNvZGVcIjogXCJiaWxsaW5nIHBvc3RhbC1jb2RlXCIsXG4gIH0sXG59O1xuXG5jb25zdGFudHMuZXZlbnRzID0gZW51bWVyYXRlKFxuICBbXG4gICAgXCJBRERfQ0xBU1NcIixcbiAgICBcIkFVVE9GSUxMX0RBVEFfQVZBSUxBQkxFXCIsXG4gICAgXCJCSU5fQVZBSUxBQkxFXCIsXG4gICAgXCJDQVJEX0ZPUk1fRU5UUllfSEFTX0JFR1VOXCIsXG4gICAgXCJDTEVBUl9GSUVMRFwiLFxuICAgIFwiQ09ORklHVVJBVElPTlwiLFxuICAgIFwiRlJBTUVfUkVBRFlcIixcbiAgICBcIklOUFVUX0VWRU5UXCIsXG4gICAgXCJSRUFEWV9GT1JfQ0xJRU5UXCIsXG4gICAgXCJSRU1PVkVfQVRUUklCVVRFXCIsXG4gICAgXCJSRU1PVkVfQ0xBU1NcIixcbiAgICBcIlJFTU9WRV9GT0NVU19JTlRFUkNFUFRTXCIsXG4gICAgXCJTRVRfQVRUUklCVVRFXCIsXG4gICAgXCJTRVRfTUVTU0FHRVwiLFxuICAgIFwiU0VUX01PTlRIX09QVElPTlNcIixcbiAgICBcIlRPS0VOSVpBVElPTl9SRVFVRVNUXCIsXG4gICAgXCJUUklHR0VSX0ZPQ1VTX0NIQU5HRVwiLFxuICAgIFwiVFJJR0dFUl9JTlBVVF9GT0NVU1wiLFxuICAgIFwiVkFMSURBVEVfU1RSSUNUXCIsXG4gIF0sXG4gIFwiaG9zdGVkLWZpZWxkczpcIlxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb25zdGFudHM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/shared/errors.js":
/*!*******************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/shared/errors.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Hosted Fields - Creation Error Codes\n * @description Errors that occur when [creating the Hosted Fields component](./module-braintree-web_hosted-fields.html#.create).\n * @property {UNKNOWN} HOSTED_FIELDS_TIMEOUT Occurs when Hosted Fields does not finish setting up within 60 seconds.\n * @property {MERCHANT} HOSTED_FIELDS_INVALID_FIELD_KEY Occurs when Hosted Fields is instantiated with an invalid Field option.\n * @property {MERCHANT} HOSTED_FIELDS_INVALID_FIELD_SELECTOR Occurs when Hosted Fields given a field selector that is not valid.\n * @property {MERCHANT} HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME Occurs when Hosted Fields given a field selector that already contains an iframe.\n * @property {MERCHANT} HOSTED_FIELDS_FIELD_PROPERTY_INVALID Occurs when a field configuration option is not valid.\n */\n\n/**\n * @name BraintreeError.Hosted Fields - Field Manipulation Error Codes\n * @description Errors that occur when modifying fields through [`addClass`](./HostedFields.html#addClass), [`removeClass`](./HostedFields.html#removeClass), [`setAttribute`](./HostedFields.html#setAttribute), [`removeAttribute`](./HostedFields.html#removeAttribute), [`clear`](./HostedFields.html#clear), [`focus`](./HostedFields.html#focus), and [`setMonthOptions`](./HostedFields.html#setMonthOptions).\n * @property {MERCHANT} HOSTED_FIELDS_FIELD_INVALID Occurs when attempting to modify a field that is not a valid Hosted Fields option.\n * @property {MERCHANT} HOSTED_FIELDS_FIELD_NOT_PRESENT Occurs when attempting to modify a field that is not configured with Hosted Fields.\n * @property {MERCHANT} HOSTED_FIELDS_FIELD_PROPERTY_INVALID Occurs when a field configuration option is not valid.\n */\n\n/**\n * @name BraintreeError.Hosted Fields - Set Attribute Error Codes\n * @description Errors that occur when using the [`setAttribute` method](./HostedFields.html#setAttribute)\n * @property {MERCHANT} HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED Occurs when trying to set an attribute that is not supported to be set.\n * @property {MERCHANT} HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED Occurs when the type of value for an attribute is not allowed to be set.\n */\n\n/**\n * @name BraintreeError.Hosted Fields - Tokenize Error Codes\n * @description Errors that occur when [tokenizing the card details with Hosted Fields](./HostedFields.html#tokenize).\n * @property {NETWORK} HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR Occurs when the Braintree gateway cannot be contacted.\n * @property {CUSTOMER} HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE Occurs when attempting to vault a card, but the client token being used is configured to fail if the card already exists in the vault.\n * @property {CUSTOMER} HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED Occurs when cvv verification is turned on in the Braintree control panel.\n * @property {CUSTOMER} HOSTED_FIELDS_FAILED_TOKENIZATION Occurs when the credit card details were sent to Braintree, but failed to tokenize.\n * @property {CUSTOMER} HOSTED_FIELDS_FIELDS_EMPTY Occurs when all the Hosted Fields inputs are empty.\n * @property {CUSTOMER} HOSTED_FIELDS_FIELDS_INVALID Occurs when one ore more fields are invalid.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  HOSTED_FIELDS_TIMEOUT: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"HOSTED_FIELDS_TIMEOUT\",\n    message: \"Hosted Fields timed out when attempting to set up.\",\n  },\n  HOSTED_FIELDS_INVALID_FIELD_KEY: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_INVALID_FIELD_KEY\",\n  },\n  HOSTED_FIELDS_INVALID_FIELD_SELECTOR: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_INVALID_FIELD_SELECTOR\",\n    message: \"Selector does not reference a valid DOM node.\",\n  },\n  HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME\",\n    message: \"Element already contains a Braintree iframe.\",\n  },\n  HOSTED_FIELDS_FIELD_INVALID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_FIELD_INVALID\",\n  },\n  HOSTED_FIELDS_FIELD_NOT_PRESENT: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_FIELD_NOT_PRESENT\",\n  },\n  HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR: {\n    type: BraintreeError.types.NETWORK,\n    code: \"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR\",\n    message: \"A tokenization network error occurred.\",\n  },\n  HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE\",\n    message: \"This credit card already exists in the merchant's vault.\",\n  },\n  HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED\",\n    message: \"CVV verification failed during tokenization.\",\n  },\n  HOSTED_FIELDS_FAILED_TOKENIZATION: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"HOSTED_FIELDS_FAILED_TOKENIZATION\",\n    message: \"The supplied card data failed tokenization.\",\n  },\n  HOSTED_FIELDS_FIELDS_EMPTY: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"HOSTED_FIELDS_FIELDS_EMPTY\",\n    message: \"All fields are empty. Cannot tokenize empty card fields.\",\n  },\n  HOSTED_FIELDS_FIELDS_INVALID: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"HOSTED_FIELDS_FIELDS_INVALID\",\n    message:\n      \"Some payment input fields are invalid. Cannot tokenize invalid card fields.\",\n  },\n  HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED\",\n  },\n  HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED\",\n  },\n  HOSTED_FIELDS_FIELD_PROPERTY_INVALID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"HOSTED_FIELDS_FIELD_PROPERTY_INVALID\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCOztBQUVBLHFCQUFxQixtQkFBTyxDQUFDLDRGQUEyQjs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2hvc3RlZC1maWVsZHMvc2hhcmVkL2Vycm9ycy5qcz8zMzU4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLkhvc3RlZCBGaWVsZHMgLSBDcmVhdGlvbiBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gW2NyZWF0aW5nIHRoZSBIb3N0ZWQgRmllbGRzIGNvbXBvbmVudF0oLi9tb2R1bGUtYnJhaW50cmVlLXdlYl9ob3N0ZWQtZmllbGRzLmh0bWwjLmNyZWF0ZSkuXG4gKiBAcHJvcGVydHkge1VOS05PV059IEhPU1RFRF9GSUVMRFNfVElNRU9VVCBPY2N1cnMgd2hlbiBIb3N0ZWQgRmllbGRzIGRvZXMgbm90IGZpbmlzaCBzZXR0aW5nIHVwIHdpdGhpbiA2MCBzZWNvbmRzLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gSE9TVEVEX0ZJRUxEU19JTlZBTElEX0ZJRUxEX0tFWSBPY2N1cnMgd2hlbiBIb3N0ZWQgRmllbGRzIGlzIGluc3RhbnRpYXRlZCB3aXRoIGFuIGludmFsaWQgRmllbGQgb3B0aW9uLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gSE9TVEVEX0ZJRUxEU19JTlZBTElEX0ZJRUxEX1NFTEVDVE9SIE9jY3VycyB3aGVuIEhvc3RlZCBGaWVsZHMgZ2l2ZW4gYSBmaWVsZCBzZWxlY3RvciB0aGF0IGlzIG5vdCB2YWxpZC5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IEhPU1RFRF9GSUVMRFNfRklFTERfRFVQTElDQVRFX0lGUkFNRSBPY2N1cnMgd2hlbiBIb3N0ZWQgRmllbGRzIGdpdmVuIGEgZmllbGQgc2VsZWN0b3IgdGhhdCBhbHJlYWR5IGNvbnRhaW5zIGFuIGlmcmFtZS5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IEhPU1RFRF9GSUVMRFNfRklFTERfUFJPUEVSVFlfSU5WQUxJRCBPY2N1cnMgd2hlbiBhIGZpZWxkIGNvbmZpZ3VyYXRpb24gb3B0aW9uIGlzIG5vdCB2YWxpZC5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLkhvc3RlZCBGaWVsZHMgLSBGaWVsZCBNYW5pcHVsYXRpb24gRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIG1vZGlmeWluZyBmaWVsZHMgdGhyb3VnaCBbYGFkZENsYXNzYF0oLi9Ib3N0ZWRGaWVsZHMuaHRtbCNhZGRDbGFzcyksIFtgcmVtb3ZlQ2xhc3NgXSguL0hvc3RlZEZpZWxkcy5odG1sI3JlbW92ZUNsYXNzKSwgW2BzZXRBdHRyaWJ1dGVgXSguL0hvc3RlZEZpZWxkcy5odG1sI3NldEF0dHJpYnV0ZSksIFtgcmVtb3ZlQXR0cmlidXRlYF0oLi9Ib3N0ZWRGaWVsZHMuaHRtbCNyZW1vdmVBdHRyaWJ1dGUpLCBbYGNsZWFyYF0oLi9Ib3N0ZWRGaWVsZHMuaHRtbCNjbGVhciksIFtgZm9jdXNgXSguL0hvc3RlZEZpZWxkcy5odG1sI2ZvY3VzKSwgYW5kIFtgc2V0TW9udGhPcHRpb25zYF0oLi9Ib3N0ZWRGaWVsZHMuaHRtbCNzZXRNb250aE9wdGlvbnMpLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElEIE9jY3VycyB3aGVuIGF0dGVtcHRpbmcgdG8gbW9kaWZ5IGEgZmllbGQgdGhhdCBpcyBub3QgYSB2YWxpZCBIb3N0ZWQgRmllbGRzIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IEhPU1RFRF9GSUVMRFNfRklFTERfTk9UX1BSRVNFTlQgT2NjdXJzIHdoZW4gYXR0ZW1wdGluZyB0byBtb2RpZnkgYSBmaWVsZCB0aGF0IGlzIG5vdCBjb25maWd1cmVkIHdpdGggSG9zdGVkIEZpZWxkcy5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IEhPU1RFRF9GSUVMRFNfRklFTERfUFJPUEVSVFlfSU5WQUxJRCBPY2N1cnMgd2hlbiBhIGZpZWxkIGNvbmZpZ3VyYXRpb24gb3B0aW9uIGlzIG5vdCB2YWxpZC5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLkhvc3RlZCBGaWVsZHMgLSBTZXQgQXR0cmlidXRlIEVycm9yIENvZGVzXG4gKiBAZGVzY3JpcHRpb24gRXJyb3JzIHRoYXQgb2NjdXIgd2hlbiB1c2luZyB0aGUgW2BzZXRBdHRyaWJ1dGVgIG1ldGhvZF0oLi9Ib3N0ZWRGaWVsZHMuaHRtbCNzZXRBdHRyaWJ1dGUpXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBIT1NURURfRklFTERTX0FUVFJJQlVURV9OT1RfU1VQUE9SVEVEIE9jY3VycyB3aGVuIHRyeWluZyB0byBzZXQgYW4gYXR0cmlidXRlIHRoYXQgaXMgbm90IHN1cHBvcnRlZCB0byBiZSBzZXQuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBIT1NURURfRklFTERTX0FUVFJJQlVURV9WQUxVRV9OT1RfQUxMT1dFRCBPY2N1cnMgd2hlbiB0aGUgdHlwZSBvZiB2YWx1ZSBmb3IgYW4gYXR0cmlidXRlIGlzIG5vdCBhbGxvd2VkIHRvIGJlIHNldC5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLkhvc3RlZCBGaWVsZHMgLSBUb2tlbml6ZSBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gW3Rva2VuaXppbmcgdGhlIGNhcmQgZGV0YWlscyB3aXRoIEhvc3RlZCBGaWVsZHNdKC4vSG9zdGVkRmllbGRzLmh0bWwjdG9rZW5pemUpLlxuICogQHByb3BlcnR5IHtORVRXT1JLfSBIT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9ORVRXT1JLX0VSUk9SIE9jY3VycyB3aGVuIHRoZSBCcmFpbnRyZWUgZ2F0ZXdheSBjYW5ub3QgYmUgY29udGFjdGVkLlxuICogQHByb3BlcnR5IHtDVVNUT01FUn0gSE9TVEVEX0ZJRUxEU19UT0tFTklaQVRJT05fRkFJTF9PTl9EVVBMSUNBVEUgT2NjdXJzIHdoZW4gYXR0ZW1wdGluZyB0byB2YXVsdCBhIGNhcmQsIGJ1dCB0aGUgY2xpZW50IHRva2VuIGJlaW5nIHVzZWQgaXMgY29uZmlndXJlZCB0byBmYWlsIGlmIHRoZSBjYXJkIGFscmVhZHkgZXhpc3RzIGluIHRoZSB2YXVsdC5cbiAqIEBwcm9wZXJ0eSB7Q1VTVE9NRVJ9IEhPU1RFRF9GSUVMRFNfVE9LRU5JWkFUSU9OX0NWVl9WRVJJRklDQVRJT05fRkFJTEVEIE9jY3VycyB3aGVuIGN2diB2ZXJpZmljYXRpb24gaXMgdHVybmVkIG9uIGluIHRoZSBCcmFpbnRyZWUgY29udHJvbCBwYW5lbC5cbiAqIEBwcm9wZXJ0eSB7Q1VTVE9NRVJ9IEhPU1RFRF9GSUVMRFNfRkFJTEVEX1RPS0VOSVpBVElPTiBPY2N1cnMgd2hlbiB0aGUgY3JlZGl0IGNhcmQgZGV0YWlscyB3ZXJlIHNlbnQgdG8gQnJhaW50cmVlLCBidXQgZmFpbGVkIHRvIHRva2VuaXplLlxuICogQHByb3BlcnR5IHtDVVNUT01FUn0gSE9TVEVEX0ZJRUxEU19GSUVMRFNfRU1QVFkgT2NjdXJzIHdoZW4gYWxsIHRoZSBIb3N0ZWQgRmllbGRzIGlucHV0cyBhcmUgZW1wdHkuXG4gKiBAcHJvcGVydHkge0NVU1RPTUVSfSBIT1NURURfRklFTERTX0ZJRUxEU19JTlZBTElEIE9jY3VycyB3aGVuIG9uZSBvcmUgbW9yZSBmaWVsZHMgYXJlIGludmFsaWQuXG4gKi9cblxudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uLy4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBIT1NURURfRklFTERTX1RJTUVPVVQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5VTktOT1dOLFxuICAgIGNvZGU6IFwiSE9TVEVEX0ZJRUxEU19USU1FT1VUXCIsXG4gICAgbWVzc2FnZTogXCJIb3N0ZWQgRmllbGRzIHRpbWVkIG91dCB3aGVuIGF0dGVtcHRpbmcgdG8gc2V0IHVwLlwiLFxuICB9LFxuICBIT1NURURfRklFTERTX0lOVkFMSURfRklFTERfS0VZOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJIT1NURURfRklFTERTX0lOVkFMSURfRklFTERfS0VZXCIsXG4gIH0sXG4gIEhPU1RFRF9GSUVMRFNfSU5WQUxJRF9GSUVMRF9TRUxFQ1RPUjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiSE9TVEVEX0ZJRUxEU19JTlZBTElEX0ZJRUxEX1NFTEVDVE9SXCIsXG4gICAgbWVzc2FnZTogXCJTZWxlY3RvciBkb2VzIG5vdCByZWZlcmVuY2UgYSB2YWxpZCBET00gbm9kZS5cIixcbiAgfSxcbiAgSE9TVEVEX0ZJRUxEU19GSUVMRF9EVVBMSUNBVEVfSUZSQU1FOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJIT1NURURfRklFTERTX0ZJRUxEX0RVUExJQ0FURV9JRlJBTUVcIixcbiAgICBtZXNzYWdlOiBcIkVsZW1lbnQgYWxyZWFkeSBjb250YWlucyBhIEJyYWludHJlZSBpZnJhbWUuXCIsXG4gIH0sXG4gIEhPU1RFRF9GSUVMRFNfRklFTERfSU5WQUxJRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiSE9TVEVEX0ZJRUxEU19GSUVMRF9JTlZBTElEXCIsXG4gIH0sXG4gIEhPU1RFRF9GSUVMRFNfRklFTERfTk9UX1BSRVNFTlQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkhPU1RFRF9GSUVMRFNfRklFTERfTk9UX1BSRVNFTlRcIixcbiAgfSxcbiAgSE9TVEVEX0ZJRUxEU19UT0tFTklaQVRJT05fTkVUV09SS19FUlJPUjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk5FVFdPUkssXG4gICAgY29kZTogXCJIT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9ORVRXT1JLX0VSUk9SXCIsXG4gICAgbWVzc2FnZTogXCJBIHRva2VuaXphdGlvbiBuZXR3b3JrIGVycm9yIG9jY3VycmVkLlwiLFxuICB9LFxuICBIT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9GQUlMX09OX0RVUExJQ0FURToge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLkNVU1RPTUVSLFxuICAgIGNvZGU6IFwiSE9TVEVEX0ZJRUxEU19UT0tFTklaQVRJT05fRkFJTF9PTl9EVVBMSUNBVEVcIixcbiAgICBtZXNzYWdlOiBcIlRoaXMgY3JlZGl0IGNhcmQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIG1lcmNoYW50J3MgdmF1bHQuXCIsXG4gIH0sXG4gIEhPU1RFRF9GSUVMRFNfVE9LRU5JWkFUSU9OX0NWVl9WRVJJRklDQVRJT05fRkFJTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJIT1NURURfRklFTERTX1RPS0VOSVpBVElPTl9DVlZfVkVSSUZJQ0FUSU9OX0ZBSUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiQ1ZWIHZlcmlmaWNhdGlvbiBmYWlsZWQgZHVyaW5nIHRva2VuaXphdGlvbi5cIixcbiAgfSxcbiAgSE9TVEVEX0ZJRUxEU19GQUlMRURfVE9LRU5JWkFUSU9OOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJIT1NURURfRklFTERTX0ZBSUxFRF9UT0tFTklaQVRJT05cIixcbiAgICBtZXNzYWdlOiBcIlRoZSBzdXBwbGllZCBjYXJkIGRhdGEgZmFpbGVkIHRva2VuaXphdGlvbi5cIixcbiAgfSxcbiAgSE9TVEVEX0ZJRUxEU19GSUVMRFNfRU1QVFk6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5DVVNUT01FUixcbiAgICBjb2RlOiBcIkhPU1RFRF9GSUVMRFNfRklFTERTX0VNUFRZXCIsXG4gICAgbWVzc2FnZTogXCJBbGwgZmllbGRzIGFyZSBlbXB0eS4gQ2Fubm90IHRva2VuaXplIGVtcHR5IGNhcmQgZmllbGRzLlwiLFxuICB9LFxuICBIT1NURURfRklFTERTX0ZJRUxEU19JTlZBTElEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJIT1NURURfRklFTERTX0ZJRUxEU19JTlZBTElEXCIsXG4gICAgbWVzc2FnZTpcbiAgICAgIFwiU29tZSBwYXltZW50IGlucHV0IGZpZWxkcyBhcmUgaW52YWxpZC4gQ2Fubm90IHRva2VuaXplIGludmFsaWQgY2FyZCBmaWVsZHMuXCIsXG4gIH0sXG4gIEhPU1RFRF9GSUVMRFNfQVRUUklCVVRFX05PVF9TVVBQT1JURUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkhPU1RFRF9GSUVMRFNfQVRUUklCVVRFX05PVF9TVVBQT1JURURcIixcbiAgfSxcbiAgSE9TVEVEX0ZJRUxEU19BVFRSSUJVVEVfVkFMVUVfTk9UX0FMTE9XRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIkhPU1RFRF9GSUVMRFNfQVRUUklCVVRFX1ZBTFVFX05PVF9BTExPV0VEXCIsXG4gIH0sXG4gIEhPU1RFRF9GSUVMRFNfRklFTERfUFJPUEVSVFlfSU5WQUxJRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiSE9TVEVEX0ZJRUxEU19GSUVMRF9QUk9QRVJUWV9JTlZBTElEXCIsXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/shared/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/shared/find-parent-tags.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/shared/find-parent-tags.js ***!
  \*****************************************************************************/
/***/ ((module) => {

eval("\n\nfunction findParentTags(element, tag) {\n  var parent = element.parentNode;\n  var parents = [];\n\n  while (parent != null) {\n    if (parent.tagName != null && parent.tagName.toLowerCase() === tag) {\n      parents.push(parent);\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return parents;\n}\n\nmodule.exports = findParentTags;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9maW5kLXBhcmVudC10YWdzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvaG9zdGVkLWZpZWxkcy9zaGFyZWQvZmluZC1wYXJlbnQtdGFncy5qcz8xNmMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBmaW5kUGFyZW50VGFncyhlbGVtZW50LCB0YWcpIHtcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgdmFyIHBhcmVudHMgPSBbXTtcblxuICB3aGlsZSAocGFyZW50ICE9IG51bGwpIHtcbiAgICBpZiAocGFyZW50LnRhZ05hbWUgIT0gbnVsbCAmJiBwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0YWcpIHtcbiAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgIH1cblxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICB9XG5cbiAgcmV0dXJuIHBhcmVudHM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZFBhcmVudFRhZ3M7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/shared/find-parent-tags.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/shared/focus-intercept.js":
/*!****************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/shared/focus-intercept.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar browserDetection = __webpack_require__(/*! ./browser-detection */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/browser-detection.js\");\nvar constants = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/braintree-web/hosted-fields/shared/constants.js\");\nvar allowedFields = Object.keys(constants.allowedFields);\nvar directions = constants.navigationDirections;\n\nvar focusIntercept = {\n  generate: function (hostedFieldsId, type, direction, handler) {\n    var input = document.createElement(\"input\");\n    var focusInterceptStyles = {\n      border: \"none !important\",\n      display: \"block !important\",\n      height: \"1px !important\",\n      left: \"-1px !important\",\n      opacity: \"0 !important\",\n      position: \"absolute !important\",\n      top: \"-1px !important\",\n      width: \"1px !important\",\n    };\n    var shouldCreateFocusIntercept =\n      browserDetection.hasSoftwareKeyboard() || browserDetection.isFirefox();\n\n    if (!shouldCreateFocusIntercept) {\n      return document.createDocumentFragment();\n    }\n\n    input.setAttribute(\"aria-hidden\", \"true\");\n    input.setAttribute(\"autocomplete\", \"off\");\n    input.setAttribute(\"data-braintree-direction\", direction);\n    input.setAttribute(\"data-braintree-type\", type);\n    input.setAttribute(\n      \"id\",\n      \"bt-\" + type + \"-\" + direction + \"-\" + hostedFieldsId\n    );\n    input.setAttribute(\n      \"style\",\n      JSON.stringify(focusInterceptStyles)\n        .replace(/[{}\"]/g, \"\")\n        .replace(/,/g, \";\")\n    );\n\n    input.classList.add(\"focus-intercept\");\n\n    input.addEventListener(\"focus\", function (event) {\n      handler(event);\n\n      /*\n        Certain browsers without software keyboards (Firefox, Internet\n        Explorer) need the focus intercept inputs that get inserted\n        around the actual input to blur themselves, otherwise the\n        browser gets confused about what should have focus. Can't\n        apply this to browsers with software keyboards however,\n        because it blurs everything, and focus on the actual input is\n        also lost.\n      */\n      if (!browserDetection.hasSoftwareKeyboard()) {\n        input.blur();\n      }\n    });\n\n    return input;\n  },\n  destroy: function (idString) {\n    var focusInputs;\n\n    if (!idString) {\n      focusInputs = document.querySelectorAll(\"[data-braintree-direction]\");\n      focusInputs = [].slice.call(focusInputs);\n    } else {\n      focusInputs = [document.getElementById(idString)];\n    }\n\n    focusInputs.forEach(function (node) {\n      if (\n        node &&\n        node.nodeType === 1 &&\n        focusIntercept.matchFocusElement(node.getAttribute(\"id\"))\n      ) {\n        node.parentNode.removeChild(node);\n      }\n    });\n  },\n  matchFocusElement: function (idString) {\n    var idComponents, hasBTPrefix, isAllowedType, isValidDirection;\n\n    if (!idString) {\n      return false;\n    }\n\n    idComponents = idString.split(\"-\");\n\n    if (idComponents.length < 4) {\n      return false;\n    }\n\n    hasBTPrefix = idComponents[0] === \"bt\";\n    isAllowedType = allowedFields.indexOf(idComponents[1]) > -1;\n    isValidDirection =\n      idComponents[2] === directions.BACK ||\n      idComponents[2] === directions.FORWARD;\n\n    return Boolean(hasBTPrefix && isAllowedType && isValidDirection);\n  },\n};\n\nmodule.exports = focusIntercept;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9mb2N1cy1pbnRlcmNlcHQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsdUJBQXVCLG1CQUFPLENBQUMseUdBQXFCO0FBQ3BELGdCQUFnQixtQkFBTyxDQUFDLHlGQUFhO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6Qjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9mb2N1cy1pbnRlcmNlcHQuanM/YjIzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGJyb3dzZXJEZXRlY3Rpb24gPSByZXF1aXJlKFwiLi9icm93c2VyLWRldGVjdGlvblwiKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgYWxsb3dlZEZpZWxkcyA9IE9iamVjdC5rZXlzKGNvbnN0YW50cy5hbGxvd2VkRmllbGRzKTtcbnZhciBkaXJlY3Rpb25zID0gY29uc3RhbnRzLm5hdmlnYXRpb25EaXJlY3Rpb25zO1xuXG52YXIgZm9jdXNJbnRlcmNlcHQgPSB7XG4gIGdlbmVyYXRlOiBmdW5jdGlvbiAoaG9zdGVkRmllbGRzSWQsIHR5cGUsIGRpcmVjdGlvbiwgaGFuZGxlcikge1xuICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB2YXIgZm9jdXNJbnRlcmNlcHRTdHlsZXMgPSB7XG4gICAgICBib3JkZXI6IFwibm9uZSAhaW1wb3J0YW50XCIsXG4gICAgICBkaXNwbGF5OiBcImJsb2NrICFpbXBvcnRhbnRcIixcbiAgICAgIGhlaWdodDogXCIxcHggIWltcG9ydGFudFwiLFxuICAgICAgbGVmdDogXCItMXB4ICFpbXBvcnRhbnRcIixcbiAgICAgIG9wYWNpdHk6IFwiMCAhaW1wb3J0YW50XCIsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZSAhaW1wb3J0YW50XCIsXG4gICAgICB0b3A6IFwiLTFweCAhaW1wb3J0YW50XCIsXG4gICAgICB3aWR0aDogXCIxcHggIWltcG9ydGFudFwiLFxuICAgIH07XG4gICAgdmFyIHNob3VsZENyZWF0ZUZvY3VzSW50ZXJjZXB0ID1cbiAgICAgIGJyb3dzZXJEZXRlY3Rpb24uaGFzU29mdHdhcmVLZXlib2FyZCgpIHx8IGJyb3dzZXJEZXRlY3Rpb24uaXNGaXJlZm94KCk7XG5cbiAgICBpZiAoIXNob3VsZENyZWF0ZUZvY3VzSW50ZXJjZXB0KSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIH1cblxuICAgIGlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIik7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiZGF0YS1icmFpbnRyZWUtZGlyZWN0aW9uXCIsIGRpcmVjdGlvbik7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiZGF0YS1icmFpbnRyZWUtdHlwZVwiLCB0eXBlKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXG4gICAgICBcImlkXCIsXG4gICAgICBcImJ0LVwiICsgdHlwZSArIFwiLVwiICsgZGlyZWN0aW9uICsgXCItXCIgKyBob3N0ZWRGaWVsZHNJZFxuICAgICk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFxuICAgICAgXCJzdHlsZVwiLFxuICAgICAgSlNPTi5zdHJpbmdpZnkoZm9jdXNJbnRlcmNlcHRTdHlsZXMpXG4gICAgICAgIC5yZXBsYWNlKC9be31cIl0vZywgXCJcIilcbiAgICAgICAgLnJlcGxhY2UoLywvZywgXCI7XCIpXG4gICAgKTtcblxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJmb2N1cy1pbnRlcmNlcHRcIik7XG5cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBoYW5kbGVyKGV2ZW50KTtcblxuICAgICAgLypcbiAgICAgICAgQ2VydGFpbiBicm93c2VycyB3aXRob3V0IHNvZnR3YXJlIGtleWJvYXJkcyAoRmlyZWZveCwgSW50ZXJuZXRcbiAgICAgICAgRXhwbG9yZXIpIG5lZWQgdGhlIGZvY3VzIGludGVyY2VwdCBpbnB1dHMgdGhhdCBnZXQgaW5zZXJ0ZWRcbiAgICAgICAgYXJvdW5kIHRoZSBhY3R1YWwgaW5wdXQgdG8gYmx1ciB0aGVtc2VsdmVzLCBvdGhlcndpc2UgdGhlXG4gICAgICAgIGJyb3dzZXIgZ2V0cyBjb25mdXNlZCBhYm91dCB3aGF0IHNob3VsZCBoYXZlIGZvY3VzLiBDYW4ndFxuICAgICAgICBhcHBseSB0aGlzIHRvIGJyb3dzZXJzIHdpdGggc29mdHdhcmUga2V5Ym9hcmRzIGhvd2V2ZXIsXG4gICAgICAgIGJlY2F1c2UgaXQgYmx1cnMgZXZlcnl0aGluZywgYW5kIGZvY3VzIG9uIHRoZSBhY3R1YWwgaW5wdXQgaXNcbiAgICAgICAgYWxzbyBsb3N0LlxuICAgICAgKi9cbiAgICAgIGlmICghYnJvd3NlckRldGVjdGlvbi5oYXNTb2Z0d2FyZUtleWJvYXJkKCkpIHtcbiAgICAgICAgaW5wdXQuYmx1cigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGlucHV0O1xuICB9LFxuICBkZXN0cm95OiBmdW5jdGlvbiAoaWRTdHJpbmcpIHtcbiAgICB2YXIgZm9jdXNJbnB1dHM7XG5cbiAgICBpZiAoIWlkU3RyaW5nKSB7XG4gICAgICBmb2N1c0lucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1icmFpbnRyZWUtZGlyZWN0aW9uXVwiKTtcbiAgICAgIGZvY3VzSW5wdXRzID0gW10uc2xpY2UuY2FsbChmb2N1c0lucHV0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvY3VzSW5wdXRzID0gW2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkU3RyaW5nKV07XG4gICAgfVxuXG4gICAgZm9jdXNJbnB1dHMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKFxuICAgICAgICBub2RlICYmXG4gICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDEgJiZcbiAgICAgICAgZm9jdXNJbnRlcmNlcHQubWF0Y2hGb2N1c0VsZW1lbnQobm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSlcbiAgICAgICkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIG1hdGNoRm9jdXNFbGVtZW50OiBmdW5jdGlvbiAoaWRTdHJpbmcpIHtcbiAgICB2YXIgaWRDb21wb25lbnRzLCBoYXNCVFByZWZpeCwgaXNBbGxvd2VkVHlwZSwgaXNWYWxpZERpcmVjdGlvbjtcblxuICAgIGlmICghaWRTdHJpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZENvbXBvbmVudHMgPSBpZFN0cmluZy5zcGxpdChcIi1cIik7XG5cbiAgICBpZiAoaWRDb21wb25lbnRzLmxlbmd0aCA8IDQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBoYXNCVFByZWZpeCA9IGlkQ29tcG9uZW50c1swXSA9PT0gXCJidFwiO1xuICAgIGlzQWxsb3dlZFR5cGUgPSBhbGxvd2VkRmllbGRzLmluZGV4T2YoaWRDb21wb25lbnRzWzFdKSA+IC0xO1xuICAgIGlzVmFsaWREaXJlY3Rpb24gPVxuICAgICAgaWRDb21wb25lbnRzWzJdID09PSBkaXJlY3Rpb25zLkJBQ0sgfHxcbiAgICAgIGlkQ29tcG9uZW50c1syXSA9PT0gZGlyZWN0aW9ucy5GT1JXQVJEO1xuXG4gICAgcmV0dXJuIEJvb2xlYW4oaGFzQlRQcmVmaXggJiYgaXNBbGxvd2VkVHlwZSAmJiBpc1ZhbGlkRGlyZWN0aW9uKTtcbiAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZm9jdXNJbnRlcmNlcHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/shared/focus-intercept.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/hosted-fields/shared/get-card-types.js":
/*!***************************************************************************!*\
  !*** ./node_modules/braintree-web/hosted-fields/shared/get-card-types.js ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar creditCardType = __webpack_require__(/*! credit-card-type */ \"(ssr)/./node_modules/credit-card-type/dist/index.js\");\n\nmodule.exports = function (number) {\n  var results = creditCardType(number);\n\n  results.forEach(function (card) {\n    // NEXT_MAJOR_VERSION credit-card-type fixed the mastercard enum\n    // but we still pass master-card in the braintree API\n    // in a major version bump, we can remove this and\n    // this will be mastercard instead of master-card\n    if (card.type === \"mastercard\") {\n      card.type = \"master-card\";\n    }\n  });\n\n  return results;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9nZXQtY2FyZC10eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyw2RUFBa0I7O0FBRS9DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9ob3N0ZWQtZmllbGRzL3NoYXJlZC9nZXQtY2FyZC10eXBlcy5qcz80ZDA5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgY3JlZGl0Q2FyZFR5cGUgPSByZXF1aXJlKFwiY3JlZGl0LWNhcmQtdHlwZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobnVtYmVyKSB7XG4gIHZhciByZXN1bHRzID0gY3JlZGl0Q2FyZFR5cGUobnVtYmVyKTtcblxuICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKGNhcmQpIHtcbiAgICAvLyBORVhUX01BSk9SX1ZFUlNJT04gY3JlZGl0LWNhcmQtdHlwZSBmaXhlZCB0aGUgbWFzdGVyY2FyZCBlbnVtXG4gICAgLy8gYnV0IHdlIHN0aWxsIHBhc3MgbWFzdGVyLWNhcmQgaW4gdGhlIGJyYWludHJlZSBBUElcbiAgICAvLyBpbiBhIG1ham9yIHZlcnNpb24gYnVtcCwgd2UgY2FuIHJlbW92ZSB0aGlzIGFuZFxuICAgIC8vIHRoaXMgd2lsbCBiZSBtYXN0ZXJjYXJkIGluc3RlYWQgb2YgbWFzdGVyLWNhcmRcbiAgICBpZiAoY2FyZC50eXBlID09PSBcIm1hc3RlcmNhcmRcIikge1xuICAgICAgY2FyZC50eXBlID0gXCJtYXN0ZXItY2FyZFwiO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/hosted-fields/shared/get-card-types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/add-metadata.js":
/*!********************************************************!*\
  !*** ./node_modules/braintree-web/lib/add-metadata.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar createAuthorizationData = __webpack_require__(/*! ./create-authorization-data */ \"(ssr)/./node_modules/braintree-web/lib/create-authorization-data.js\");\nvar jsonClone = __webpack_require__(/*! ./json-clone */ \"(ssr)/./node_modules/braintree-web/lib/json-clone.js\");\nvar constants = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\");\n\nfunction addMetadata(configuration, data) {\n  var key;\n  var attrs = data ? jsonClone(data) : {};\n  var authAttrs = createAuthorizationData(configuration.authorization).attrs;\n  var _meta = jsonClone(configuration.analyticsMetadata);\n\n  attrs.braintreeLibraryVersion = constants.BRAINTREE_LIBRARY_VERSION;\n\n  for (key in attrs._meta) {\n    if (attrs._meta.hasOwnProperty(key)) {\n      _meta[key] = attrs._meta[key];\n    }\n  }\n\n  attrs._meta = _meta;\n\n  if (authAttrs.tokenizationKey) {\n    attrs.tokenizationKey = authAttrs.tokenizationKey;\n  } else {\n    attrs.authorizationFingerprint = authAttrs.authorizationFingerprint;\n  }\n\n  return attrs;\n}\n\nmodule.exports = addMetadata;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYWRkLW1ldGFkYXRhLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhCQUE4QixtQkFBTyxDQUFDLHdHQUE2QjtBQUNuRSxnQkFBZ0IsbUJBQU8sQ0FBQywwRUFBYztBQUN0QyxnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBYTs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9hZGQtbWV0YWRhdGEuanM/YjUwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGNyZWF0ZUF1dGhvcml6YXRpb25EYXRhID0gcmVxdWlyZShcIi4vY3JlYXRlLWF1dGhvcml6YXRpb24tZGF0YVwiKTtcbnZhciBqc29uQ2xvbmUgPSByZXF1aXJlKFwiLi9qc29uLWNsb25lXCIpO1xudmFyIGNvbnN0YW50cyA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcblxuZnVuY3Rpb24gYWRkTWV0YWRhdGEoY29uZmlndXJhdGlvbiwgZGF0YSkge1xuICB2YXIga2V5O1xuICB2YXIgYXR0cnMgPSBkYXRhID8ganNvbkNsb25lKGRhdGEpIDoge307XG4gIHZhciBhdXRoQXR0cnMgPSBjcmVhdGVBdXRob3JpemF0aW9uRGF0YShjb25maWd1cmF0aW9uLmF1dGhvcml6YXRpb24pLmF0dHJzO1xuICB2YXIgX21ldGEgPSBqc29uQ2xvbmUoY29uZmlndXJhdGlvbi5hbmFseXRpY3NNZXRhZGF0YSk7XG5cbiAgYXR0cnMuYnJhaW50cmVlTGlicmFyeVZlcnNpb24gPSBjb25zdGFudHMuQlJBSU5UUkVFX0xJQlJBUllfVkVSU0lPTjtcblxuICBmb3IgKGtleSBpbiBhdHRycy5fbWV0YSkge1xuICAgIGlmIChhdHRycy5fbWV0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBfbWV0YVtrZXldID0gYXR0cnMuX21ldGFba2V5XTtcbiAgICB9XG4gIH1cblxuICBhdHRycy5fbWV0YSA9IF9tZXRhO1xuXG4gIGlmIChhdXRoQXR0cnMudG9rZW5pemF0aW9uS2V5KSB7XG4gICAgYXR0cnMudG9rZW5pemF0aW9uS2V5ID0gYXV0aEF0dHJzLnRva2VuaXphdGlvbktleTtcbiAgfSBlbHNlIHtcbiAgICBhdHRycy5hdXRob3JpemF0aW9uRmluZ2VycHJpbnQgPSBhdXRoQXR0cnMuYXV0aG9yaXphdGlvbkZpbmdlcnByaW50O1xuICB9XG5cbiAgcmV0dXJuIGF0dHJzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFkZE1ldGFkYXRhO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/add-metadata.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/analytics.js":
/*!*****************************************************!*\
  !*** ./node_modules/braintree-web/lib/analytics.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar constants = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\");\nvar addMetadata = __webpack_require__(/*! ./add-metadata */ \"(ssr)/./node_modules/braintree-web/lib/add-metadata.js\");\n\nfunction sendAnalyticsEvent(clientInstanceOrPromise, kind, callback) {\n  var timestamp = Date.now(); // milliseconds\n\n  return Promise.resolve(clientInstanceOrPromise)\n    .then(function (client) {\n      var timestampInPromise = Date.now();\n      var configuration = client.getConfiguration();\n      var request = client._request;\n      var url = configuration.gatewayConfiguration.analytics.url;\n      var data = {\n        analytics: [\n          {\n            kind: constants.ANALYTICS_PREFIX + kind,\n            isAsync:\n              Math.floor(timestampInPromise / 1000) !==\n              Math.floor(timestamp / 1000),\n            timestamp: timestamp,\n          },\n        ],\n      };\n\n      request(\n        {\n          url: url,\n          method: \"post\",\n          data: addMetadata(configuration, data),\n          timeout: constants.ANALYTICS_REQUEST_TIMEOUT_MS,\n        },\n        callback\n      );\n    })\n    .catch(function (err) {\n      // for all non-test cases, we don't provide a callback,\n      // so this error will always be swallowed. In this case,\n      // that's fine, it should only error when the deferred\n      // client fails to set up, in which case we don't want\n      // that error to report over and over again via these\n      // deferred analytics events\n      if (callback) {\n        callback(err);\n      }\n    });\n}\n\nmodule.exports = {\n  sendEvent: sendAnalyticsEvent,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYW5hbHl0aWNzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLHdFQUFhO0FBQ3JDLGtCQUFrQixtQkFBTyxDQUFDLDhFQUFnQjs7QUFFMUM7QUFDQSw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2FuYWx5dGljcy5qcz83YzA1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgY29uc3RhbnRzID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGFkZE1ldGFkYXRhID0gcmVxdWlyZShcIi4vYWRkLW1ldGFkYXRhXCIpO1xuXG5mdW5jdGlvbiBzZW5kQW5hbHl0aWNzRXZlbnQoY2xpZW50SW5zdGFuY2VPclByb21pc2UsIGtpbmQsIGNhbGxiYWNrKSB7XG4gIHZhciB0aW1lc3RhbXAgPSBEYXRlLm5vdygpOyAvLyBtaWxsaXNlY29uZHNcblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNsaWVudEluc3RhbmNlT3JQcm9taXNlKVxuICAgIC50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHZhciB0aW1lc3RhbXBJblByb21pc2UgPSBEYXRlLm5vdygpO1xuICAgICAgdmFyIGNvbmZpZ3VyYXRpb24gPSBjbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpO1xuICAgICAgdmFyIHJlcXVlc3QgPSBjbGllbnQuX3JlcXVlc3Q7XG4gICAgICB2YXIgdXJsID0gY29uZmlndXJhdGlvbi5nYXRld2F5Q29uZmlndXJhdGlvbi5hbmFseXRpY3MudXJsO1xuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIGFuYWx5dGljczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtpbmQ6IGNvbnN0YW50cy5BTkFMWVRJQ1NfUFJFRklYICsga2luZCxcbiAgICAgICAgICAgIGlzQXN5bmM6XG4gICAgICAgICAgICAgIE1hdGguZmxvb3IodGltZXN0YW1wSW5Qcm9taXNlIC8gMTAwMCkgIT09XG4gICAgICAgICAgICAgIE1hdGguZmxvb3IodGltZXN0YW1wIC8gMTAwMCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgcmVxdWVzdChcbiAgICAgICAge1xuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgICAgICAgZGF0YTogYWRkTWV0YWRhdGEoY29uZmlndXJhdGlvbiwgZGF0YSksXG4gICAgICAgICAgdGltZW91dDogY29uc3RhbnRzLkFOQUxZVElDU19SRVFVRVNUX1RJTUVPVVRfTVMsXG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICApO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8vIGZvciBhbGwgbm9uLXRlc3QgY2FzZXMsIHdlIGRvbid0IHByb3ZpZGUgYSBjYWxsYmFjayxcbiAgICAgIC8vIHNvIHRoaXMgZXJyb3Igd2lsbCBhbHdheXMgYmUgc3dhbGxvd2VkLiBJbiB0aGlzIGNhc2UsXG4gICAgICAvLyB0aGF0J3MgZmluZSwgaXQgc2hvdWxkIG9ubHkgZXJyb3Igd2hlbiB0aGUgZGVmZXJyZWRcbiAgICAgIC8vIGNsaWVudCBmYWlscyB0byBzZXQgdXAsIGluIHdoaWNoIGNhc2Ugd2UgZG9uJ3Qgd2FudFxuICAgICAgLy8gdGhhdCBlcnJvciB0byByZXBvcnQgb3ZlciBhbmQgb3ZlciBhZ2FpbiB2aWEgdGhlc2VcbiAgICAgIC8vIGRlZmVycmVkIGFuYWx5dGljcyBldmVudHNcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2VuZEV2ZW50OiBzZW5kQW5hbHl0aWNzRXZlbnQsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/analytics.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/assets.js":
/*!**************************************************!*\
  !*** ./node_modules/braintree-web/lib/assets.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar loadScript = __webpack_require__(/*! @braintree/asset-loader/load-script */ \"(ssr)/./node_modules/@braintree/asset-loader/load-script.js\");\n\nmodule.exports = {\n  loadScript: loadScript,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYXNzZXRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlCQUFpQixtQkFBTyxDQUFDLHdHQUFxQzs7QUFFOUQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9hc3NldHMuanM/MTkzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGxvYWRTY3JpcHQgPSByZXF1aXJlKFwiQGJyYWludHJlZS9hc3NldC1sb2FkZXIvbG9hZC1zY3JpcHRcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBsb2FkU2NyaXB0OiBsb2FkU2NyaXB0LFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/assets.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/assign.js":
/*!**************************************************!*\
  !*** ./node_modules/braintree-web/lib/assign.js ***!
  \**************************************************/
/***/ ((module) => {

eval("\n\nvar assignNormalized =\n  typeof Object.assign === \"function\" ? Object.assign : assignPolyfill;\n\nfunction assignPolyfill(destination) {\n  var i, source, key;\n\n  for (i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      if (source.hasOwnProperty(key)) {\n        destination[key] = source[key];\n      }\n    }\n  }\n\n  return destination;\n}\n\nmodule.exports = {\n  assign: assignNormalized,\n  _assign: assignPolyfill,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYXNzaWduLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxjQUFjLHNCQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9hc3NpZ24uanM/N2NkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGFzc2lnbk5vcm1hbGl6ZWQgPVxuICB0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gXCJmdW5jdGlvblwiID8gT2JqZWN0LmFzc2lnbiA6IGFzc2lnblBvbHlmaWxsO1xuXG5mdW5jdGlvbiBhc3NpZ25Qb2x5ZmlsbChkZXN0aW5hdGlvbikge1xuICB2YXIgaSwgc291cmNlLCBrZXk7XG5cbiAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXNzaWduOiBhc3NpZ25Ob3JtYWxpemVkLFxuICBfYXNzaWduOiBhc3NpZ25Qb2x5ZmlsbCxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/assign.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js":
/*!************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/basic-component-verification.js ***!
  \************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ./braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar sharedErrors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/lib/errors.js\");\nvar VERSION = \"3.99.0\";\n\nfunction basicComponentVerification(options) {\n  var client, authorization, name;\n\n  if (!options) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.type,\n        code: sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.code,\n        message:\n          \"Options must be passed to basicComponentVerification function.\",\n      })\n    );\n  }\n\n  name = options.name;\n  client = options.client;\n  authorization = options.authorization;\n\n  if (!client && !authorization) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,\n        code: sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,\n        // NEXT_MAJOR_VERSION in major version, we expose passing in authorization for all components\n        // instead of passing in a client instance. Leave this a silent feature for now.\n        message: \"options.client is required when instantiating \" + name + \".\",\n      })\n    );\n  }\n\n  if (!authorization && client.getVersion() !== VERSION) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INCOMPATIBLE_VERSIONS.type,\n        code: sharedErrors.INCOMPATIBLE_VERSIONS.code,\n        message:\n          \"Client (version \" +\n          client.getVersion() +\n          \") and \" +\n          name +\n          \" (version \" +\n          VERSION +\n          \") components must be from the same SDK version.\",\n      })\n    );\n  }\n\n  return Promise.resolve();\n}\n\nmodule.exports = {\n  verify: basicComponentVerification,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYmFzaWMtY29tcG9uZW50LXZlcmlmaWNhdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyxvRkFBbUI7QUFDaEQsbUJBQW1CLG1CQUFPLENBQUMsa0VBQVU7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYmFzaWMtY29tcG9uZW50LXZlcmlmaWNhdGlvbi5qcz9mMmE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgc2hhcmVkRXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xudmFyIFZFUlNJT04gPSBcIjMuOTkuMFwiO1xuXG5mdW5jdGlvbiBiYXNpY0NvbXBvbmVudFZlcmlmaWNhdGlvbihvcHRpb25zKSB7XG4gIHZhciBjbGllbnQsIGF1dGhvcml6YXRpb24sIG5hbWU7XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogc2hhcmVkRXJyb3JzLklOVkFMSURfVVNFX09GX0lOVEVSTkFMX0ZVTkNUSU9OLnR5cGUsXG4gICAgICAgIGNvZGU6IHNoYXJlZEVycm9ycy5JTlZBTElEX1VTRV9PRl9JTlRFUk5BTF9GVU5DVElPTi5jb2RlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIFwiT3B0aW9ucyBtdXN0IGJlIHBhc3NlZCB0byBiYXNpY0NvbXBvbmVudFZlcmlmaWNhdGlvbiBmdW5jdGlvbi5cIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIG5hbWUgPSBvcHRpb25zLm5hbWU7XG4gIGNsaWVudCA9IG9wdGlvbnMuY2xpZW50O1xuICBhdXRob3JpemF0aW9uID0gb3B0aW9ucy5hdXRob3JpemF0aW9uO1xuXG4gIGlmICghY2xpZW50ICYmICFhdXRob3JpemF0aW9uKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogc2hhcmVkRXJyb3JzLklOU1RBTlRJQVRJT05fT1BUSU9OX1JFUVVJUkVELnR5cGUsXG4gICAgICAgIGNvZGU6IHNoYXJlZEVycm9ycy5JTlNUQU5USUFUSU9OX09QVElPTl9SRVFVSVJFRC5jb2RlLFxuICAgICAgICAvLyBORVhUX01BSk9SX1ZFUlNJT04gaW4gbWFqb3IgdmVyc2lvbiwgd2UgZXhwb3NlIHBhc3NpbmcgaW4gYXV0aG9yaXphdGlvbiBmb3IgYWxsIGNvbXBvbmVudHNcbiAgICAgICAgLy8gaW5zdGVhZCBvZiBwYXNzaW5nIGluIGEgY2xpZW50IGluc3RhbmNlLiBMZWF2ZSB0aGlzIGEgc2lsZW50IGZlYXR1cmUgZm9yIG5vdy5cbiAgICAgICAgbWVzc2FnZTogXCJvcHRpb25zLmNsaWVudCBpcyByZXF1aXJlZCB3aGVuIGluc3RhbnRpYXRpbmcgXCIgKyBuYW1lICsgXCIuXCIsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBpZiAoIWF1dGhvcml6YXRpb24gJiYgY2xpZW50LmdldFZlcnNpb24oKSAhPT0gVkVSU0lPTikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICAgIHR5cGU6IHNoYXJlZEVycm9ycy5JTkNPTVBBVElCTEVfVkVSU0lPTlMudHlwZSxcbiAgICAgICAgY29kZTogc2hhcmVkRXJyb3JzLklOQ09NUEFUSUJMRV9WRVJTSU9OUy5jb2RlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIFwiQ2xpZW50ICh2ZXJzaW9uIFwiICtcbiAgICAgICAgICBjbGllbnQuZ2V0VmVyc2lvbigpICtcbiAgICAgICAgICBcIikgYW5kIFwiICtcbiAgICAgICAgICBuYW1lICtcbiAgICAgICAgICBcIiAodmVyc2lvbiBcIiArXG4gICAgICAgICAgVkVSU0lPTiArXG4gICAgICAgICAgXCIpIGNvbXBvbmVudHMgbXVzdCBiZSBmcm9tIHRoZSBzYW1lIFNESyB2ZXJzaW9uLlwiLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdmVyaWZ5OiBiYXNpY0NvbXBvbmVudFZlcmlmaWNhdGlvbixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/batch-execute-functions.js":
/*!*******************************************************************!*\
  !*** ./node_modules/braintree-web/lib/batch-execute-functions.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar once = __webpack_require__(/*! ./once */ \"(ssr)/./node_modules/braintree-web/lib/once.js\");\n\nfunction call(fn, callback) {\n  var isSync = fn.length === 0;\n\n  if (isSync) {\n    fn();\n    callback(null);\n  } else {\n    fn(callback);\n  }\n}\n\nmodule.exports = function (functions, cb) {\n  var i;\n  var length = functions.length;\n  var remaining = length;\n  var callback = once(cb);\n\n  if (length === 0) {\n    callback(null);\n\n    return;\n  }\n\n  function finish(err) {\n    if (err) {\n      callback(err);\n\n      return;\n    }\n\n    remaining -= 1;\n    if (remaining === 0) {\n      callback(null);\n    }\n  }\n\n  for (i = 0; i < length; i++) {\n    call(functions[i], finish);\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYmF0Y2gtZXhlY3V0ZS1mdW5jdGlvbnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsV0FBVyxtQkFBTyxDQUFDLDhEQUFROztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9iYXRjaC1leGVjdXRlLWZ1bmN0aW9ucy5qcz82Mjg2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgb25jZSA9IHJlcXVpcmUoXCIuL29uY2VcIik7XG5cbmZ1bmN0aW9uIGNhbGwoZm4sIGNhbGxiYWNrKSB7XG4gIHZhciBpc1N5bmMgPSBmbi5sZW5ndGggPT09IDA7XG5cbiAgaWYgKGlzU3luYykge1xuICAgIGZuKCk7XG4gICAgY2FsbGJhY2sobnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZm4oY2FsbGJhY2spO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZ1bmN0aW9ucywgY2IpIHtcbiAgdmFyIGk7XG4gIHZhciBsZW5ndGggPSBmdW5jdGlvbnMubGVuZ3RoO1xuICB2YXIgcmVtYWluaW5nID0gbGVuZ3RoO1xuICB2YXIgY2FsbGJhY2sgPSBvbmNlKGNiKTtcblxuICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgY2FsbGJhY2sobnVsbCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2goZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlbWFpbmluZyAtPSAxO1xuICAgIGlmIChyZW1haW5pbmcgPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNhbGwoZnVuY3Rpb25zW2ldLCBmaW5pc2gpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/batch-execute-functions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/braintree-error.js":
/*!***********************************************************!*\
  !*** ./node_modules/braintree-web/lib/braintree-error.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar enumerate = __webpack_require__(/*! ./enumerate */ \"(ssr)/./node_modules/braintree-web/lib/enumerate.js\");\n\n/**\n * @class\n * @global\n * @param {object} options Construction options\n * @classdesc This class is used to report error conditions, frequently as the first parameter to callbacks throughout the Braintree SDK.\n * @description <strong>You cannot use this constructor directly. Interact with instances of this class through {@link callback callbacks}.</strong>\n */\nfunction BraintreeError(options) {\n  if (!BraintreeError.types.hasOwnProperty(options.type)) {\n    throw new Error(options.type + \" is not a valid type.\");\n  }\n\n  if (!options.code) {\n    throw new Error(\"Error code required.\");\n  }\n\n  if (!options.message) {\n    throw new Error(\"Error message required.\");\n  }\n\n  this.name = \"BraintreeError\";\n\n  /**\n   * @type {string}\n   * @description A code that corresponds to specific errors.\n   */\n  this.code = options.code;\n\n  /**\n   * @type {string}\n   * @description A short description of the error.\n   */\n  this.message = options.message;\n\n  /**\n   * @type {BraintreeError.types}\n   * @description The type of error.\n   */\n  this.type = options.type;\n\n  /**\n   * @type {object=}\n   * @description Additional information about the error, such as an underlying network error response.\n   */\n  this.details = options.details;\n}\n\nBraintreeError.prototype = Object.create(Error.prototype);\nBraintreeError.prototype.constructor = BraintreeError;\n\n/**\n * Enum for {@link BraintreeError} types.\n * @name BraintreeError.types\n * @enum\n * @readonly\n * @memberof BraintreeError\n * @property {string} CUSTOMER An error caused by the customer.\n * @property {string} MERCHANT An error that is actionable by the merchant.\n * @property {string} NETWORK An error due to a network problem.\n * @property {string} INTERNAL An error caused by Braintree code.\n * @property {string} UNKNOWN An error where the origin is unknown.\n */\nBraintreeError.types = enumerate([\n  \"CUSTOMER\",\n  \"MERCHANT\",\n  \"NETWORK\",\n  \"INTERNAL\",\n  \"UNKNOWN\",\n]);\n\nBraintreeError.findRootError = function (err) {\n  if (\n    err instanceof BraintreeError &&\n    err.details &&\n    err.details.originalError\n  ) {\n    return BraintreeError.findRootError(err.details.originalError);\n  }\n\n  return err;\n};\n\nmodule.exports = BraintreeError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvYnJhaW50cmVlLWVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLHdFQUFhOztBQUVyQztBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxpSEFBaUgseUJBQXlCO0FBQzFJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9icmFpbnRyZWUtZXJyb3IuanM/MjE2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGVudW1lcmF0ZSA9IHJlcXVpcmUoXCIuL2VudW1lcmF0ZVwiKTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBnbG9iYWxcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbnN0cnVjdGlvbiBvcHRpb25zXG4gKiBAY2xhc3NkZXNjIFRoaXMgY2xhc3MgaXMgdXNlZCB0byByZXBvcnQgZXJyb3IgY29uZGl0aW9ucywgZnJlcXVlbnRseSBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIGNhbGxiYWNrcyB0aHJvdWdob3V0IHRoZSBCcmFpbnRyZWUgU0RLLlxuICogQGRlc2NyaXB0aW9uIDxzdHJvbmc+WW91IGNhbm5vdCB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gSW50ZXJhY3Qgd2l0aCBpbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyB0aHJvdWdoIHtAbGluayBjYWxsYmFjayBjYWxsYmFja3N9Ljwvc3Ryb25nPlxuICovXG5mdW5jdGlvbiBCcmFpbnRyZWVFcnJvcihvcHRpb25zKSB7XG4gIGlmICghQnJhaW50cmVlRXJyb3IudHlwZXMuaGFzT3duUHJvcGVydHkob3B0aW9ucy50eXBlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihvcHRpb25zLnR5cGUgKyBcIiBpcyBub3QgYSB2YWxpZCB0eXBlLlwiKTtcbiAgfVxuXG4gIGlmICghb3B0aW9ucy5jb2RlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29kZSByZXF1aXJlZC5cIik7XG4gIH1cblxuICBpZiAoIW9wdGlvbnMubWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIG1lc3NhZ2UgcmVxdWlyZWQuXCIpO1xuICB9XG5cbiAgdGhpcy5uYW1lID0gXCJCcmFpbnRyZWVFcnJvclwiO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVzY3JpcHRpb24gQSBjb2RlIHRoYXQgY29ycmVzcG9uZHMgdG8gc3BlY2lmaWMgZXJyb3JzLlxuICAgKi9cbiAgdGhpcy5jb2RlID0gb3B0aW9ucy5jb2RlO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAZGVzY3JpcHRpb24gQSBzaG9ydCBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3IuXG4gICAqL1xuICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtCcmFpbnRyZWVFcnJvci50eXBlc31cbiAgICogQGRlc2NyaXB0aW9uIFRoZSB0eXBlIG9mIGVycm9yLlxuICAgKi9cbiAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7b2JqZWN0PX1cbiAgICogQGRlc2NyaXB0aW9uIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLCBzdWNoIGFzIGFuIHVuZGVybHlpbmcgbmV0d29yayBlcnJvciByZXNwb25zZS5cbiAgICovXG4gIHRoaXMuZGV0YWlscyA9IG9wdGlvbnMuZGV0YWlscztcbn1cblxuQnJhaW50cmVlRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuQnJhaW50cmVlRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQnJhaW50cmVlRXJyb3I7XG5cbi8qKlxuICogRW51bSBmb3Ige0BsaW5rIEJyYWludHJlZUVycm9yfSB0eXBlcy5cbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLnR5cGVzXG4gKiBAZW51bVxuICogQHJlYWRvbmx5XG4gKiBAbWVtYmVyb2YgQnJhaW50cmVlRXJyb3JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBDVVNUT01FUiBBbiBlcnJvciBjYXVzZWQgYnkgdGhlIGN1c3RvbWVyLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FUkNIQU5UIEFuIGVycm9yIHRoYXQgaXMgYWN0aW9uYWJsZSBieSB0aGUgbWVyY2hhbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTkVUV09SSyBBbiBlcnJvciBkdWUgdG8gYSBuZXR3b3JrIHByb2JsZW0uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSU5URVJOQUwgQW4gZXJyb3IgY2F1c2VkIGJ5IEJyYWludHJlZSBjb2RlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFVOS05PV04gQW4gZXJyb3Igd2hlcmUgdGhlIG9yaWdpbiBpcyB1bmtub3duLlxuICovXG5CcmFpbnRyZWVFcnJvci50eXBlcyA9IGVudW1lcmF0ZShbXG4gIFwiQ1VTVE9NRVJcIixcbiAgXCJNRVJDSEFOVFwiLFxuICBcIk5FVFdPUktcIixcbiAgXCJJTlRFUk5BTFwiLFxuICBcIlVOS05PV05cIixcbl0pO1xuXG5CcmFpbnRyZWVFcnJvci5maW5kUm9vdEVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICBpZiAoXG4gICAgZXJyIGluc3RhbmNlb2YgQnJhaW50cmVlRXJyb3IgJiZcbiAgICBlcnIuZGV0YWlscyAmJlxuICAgIGVyci5kZXRhaWxzLm9yaWdpbmFsRXJyb3JcbiAgKSB7XG4gICAgcmV0dXJuIEJyYWludHJlZUVycm9yLmZpbmRSb290RXJyb3IoZXJyLmRldGFpbHMub3JpZ2luYWxFcnJvcik7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCcmFpbnRyZWVFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/braintree-error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/constants.js":
/*!*****************************************************!*\
  !*** ./node_modules/braintree-web/lib/constants.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\nvar VERSION = \"3.99.0\";\nvar PLATFORM = \"web\";\n\nvar CLIENT_API_URLS = {\n  production: \"https://api.braintreegateway.com:443\",\n  sandbox: \"https://api.sandbox.braintreegateway.com:443\",\n};\n\nvar ASSETS_URLS = {\n  production: \"https://assets.braintreegateway.com\",\n  sandbox: \"https://assets.braintreegateway.com\",\n};\n\nvar GRAPHQL_URLS = {\n  production: \"https://payments.braintree-api.com/graphql\",\n  sandbox: \"https://payments.sandbox.braintree-api.com/graphql\",\n};\n\nmodule.exports = {\n  ANALYTICS_PREFIX: PLATFORM + \".\",\n  ANALYTICS_REQUEST_TIMEOUT_MS: 2000,\n  ASSETS_URLS: ASSETS_URLS,\n  CLIENT_API_URLS: CLIENT_API_URLS,\n  FRAUDNET_SOURCE: \"BRAINTREE_SIGNIN\",\n  FRAUDNET_FNCLS: \"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99\",\n  FRAUDNET_URL: \"https://c.paypal.com/da/r/fb.js\",\n  BUS_CONFIGURATION_REQUEST_EVENT: \"BUS_CONFIGURATION_REQUEST\",\n  GRAPHQL_URLS: GRAPHQL_URLS,\n  INTEGRATION_TIMEOUT_MS: 60000,\n  VERSION: VERSION,\n  INTEGRATION: \"custom\",\n  SOURCE: \"client\",\n  PLATFORM: PLATFORM,\n  BRAINTREE_LIBRARY_VERSION: \"braintree/\" + PLATFORM + \"/\" + VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY29uc3RhbnRzLmpzPzBlYmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcbnZhciBQTEFURk9STSA9IFwid2ViXCI7XG5cbnZhciBDTElFTlRfQVBJX1VSTFMgPSB7XG4gIHByb2R1Y3Rpb246IFwiaHR0cHM6Ly9hcGkuYnJhaW50cmVlZ2F0ZXdheS5jb206NDQzXCIsXG4gIHNhbmRib3g6IFwiaHR0cHM6Ly9hcGkuc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDNcIixcbn07XG5cbnZhciBBU1NFVFNfVVJMUyA9IHtcbiAgcHJvZHVjdGlvbjogXCJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbVwiLFxuICBzYW5kYm94OiBcImh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tXCIsXG59O1xuXG52YXIgR1JBUEhRTF9VUkxTID0ge1xuICBwcm9kdWN0aW9uOiBcImh0dHBzOi8vcGF5bWVudHMuYnJhaW50cmVlLWFwaS5jb20vZ3JhcGhxbFwiLFxuICBzYW5kYm94OiBcImh0dHBzOi8vcGF5bWVudHMuc2FuZGJveC5icmFpbnRyZWUtYXBpLmNvbS9ncmFwaHFsXCIsXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQU5BTFlUSUNTX1BSRUZJWDogUExBVEZPUk0gKyBcIi5cIixcbiAgQU5BTFlUSUNTX1JFUVVFU1RfVElNRU9VVF9NUzogMjAwMCxcbiAgQVNTRVRTX1VSTFM6IEFTU0VUU19VUkxTLFxuICBDTElFTlRfQVBJX1VSTFM6IENMSUVOVF9BUElfVVJMUyxcbiAgRlJBVURORVRfU09VUkNFOiBcIkJSQUlOVFJFRV9TSUdOSU5cIixcbiAgRlJBVURORVRfRk5DTFM6IFwiZm5wYXJhbXMtZGVkZTdjYzUtMTVmZC00Yzc1LWE5ZjQtMzZjNDMwZWUzYTk5XCIsXG4gIEZSQVVETkVUX1VSTDogXCJodHRwczovL2MucGF5cGFsLmNvbS9kYS9yL2ZiLmpzXCIsXG4gIEJVU19DT05GSUdVUkFUSU9OX1JFUVVFU1RfRVZFTlQ6IFwiQlVTX0NPTkZJR1VSQVRJT05fUkVRVUVTVFwiLFxuICBHUkFQSFFMX1VSTFM6IEdSQVBIUUxfVVJMUyxcbiAgSU5URUdSQVRJT05fVElNRU9VVF9NUzogNjAwMDAsXG4gIFZFUlNJT046IFZFUlNJT04sXG4gIElOVEVHUkFUSU9OOiBcImN1c3RvbVwiLFxuICBTT1VSQ0U6IFwiY2xpZW50XCIsXG4gIFBMQVRGT1JNOiBQTEFURk9STSxcbiAgQlJBSU5UUkVFX0xJQlJBUllfVkVSU0lPTjogXCJicmFpbnRyZWUvXCIgKyBQTEFURk9STSArIFwiL1wiICsgVkVSU0lPTixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js":
/*!********************************************************************!*\
  !*** ./node_modules/braintree-web/lib/convert-methods-to-error.js ***!
  \********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ./braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar sharedErrors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/lib/errors.js\");\n\nmodule.exports = function (instance, methodNames) {\n  methodNames.forEach(function (methodName) {\n    instance[methodName] = function () {\n      throw new BraintreeError({\n        type: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,\n        code: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,\n        message: methodName + \" cannot be called after teardown.\",\n      });\n    };\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY29udmVydC1tZXRob2RzLXRvLWVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHFCQUFxQixtQkFBTyxDQUFDLG9GQUFtQjtBQUNoRCxtQkFBbUIsbUJBQU8sQ0FBQyxrRUFBVTs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2NvbnZlcnQtbWV0aG9kcy10by1lcnJvci5qcz8zMjhiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgc2hhcmVkRXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgbWV0aG9kTmFtZXMpIHtcbiAgbWV0aG9kTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuICAgIGluc3RhbmNlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogc2hhcmVkRXJyb3JzLk1FVEhPRF9DQUxMRURfQUZURVJfVEVBUkRPV04udHlwZSxcbiAgICAgICAgY29kZTogc2hhcmVkRXJyb3JzLk1FVEhPRF9DQUxMRURfQUZURVJfVEVBUkRPV04uY29kZSxcbiAgICAgICAgbWVzc2FnZTogbWV0aG9kTmFtZSArIFwiIGNhbm5vdCBiZSBjYWxsZWQgYWZ0ZXIgdGVhcmRvd24uXCIsXG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/convert-to-braintree-error.js":
/*!**********************************************************************!*\
  !*** ./node_modules/braintree-web/lib/convert-to-braintree-error.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ./braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nfunction convertToBraintreeError(originalErr, btErrorObject) {\n  if (originalErr instanceof BraintreeError) {\n    return originalErr;\n  }\n\n  return new BraintreeError({\n    type: btErrorObject.type,\n    code: btErrorObject.code,\n    message: btErrorObject.message,\n    details: {\n      originalError: originalErr,\n    },\n  });\n}\n\nmodule.exports = convertToBraintreeError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY29udmVydC10by1icmFpbnRyZWUtZXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIscUJBQXFCLG1CQUFPLENBQUMsb0ZBQW1COztBQUVoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9jb252ZXJ0LXRvLWJyYWludHJlZS1lcnJvci5qcz84NmM5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi9icmFpbnRyZWUtZXJyb3JcIik7XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb0JyYWludHJlZUVycm9yKG9yaWdpbmFsRXJyLCBidEVycm9yT2JqZWN0KSB7XG4gIGlmIChvcmlnaW5hbEVyciBpbnN0YW5jZW9mIEJyYWludHJlZUVycm9yKSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsRXJyO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgdHlwZTogYnRFcnJvck9iamVjdC50eXBlLFxuICAgIGNvZGU6IGJ0RXJyb3JPYmplY3QuY29kZSxcbiAgICBtZXNzYWdlOiBidEVycm9yT2JqZWN0Lm1lc3NhZ2UsXG4gICAgZGV0YWlsczoge1xuICAgICAgb3JpZ2luYWxFcnJvcjogb3JpZ2luYWxFcnIsXG4gICAgfSxcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVydFRvQnJhaW50cmVlRXJyb3I7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/convert-to-braintree-error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/create-assets-url.js":
/*!*************************************************************!*\
  !*** ./node_modules/braintree-web/lib/create-assets-url.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar ASSETS_URLS = (__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").ASSETS_URLS);\n\nfunction createAssetsUrl(authorization) {\n  return ASSETS_URLS.production;\n}\n/* eslint-enable */\n\nmodule.exports = {\n  create: createAssetsUrl,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY3JlYXRlLWFzc2V0cy11cmwuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsa0JBQWtCLDJHQUFrQzs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9jcmVhdGUtYXNzZXRzLXVybC5qcz81MDE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQVNTRVRTX1VSTFMgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIikuQVNTRVRTX1VSTFM7XG5cbmZ1bmN0aW9uIGNyZWF0ZUFzc2V0c1VybChhdXRob3JpemF0aW9uKSB7XG4gIHJldHVybiBBU1NFVFNfVVJMUy5wcm9kdWN0aW9uO1xufVxuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiBjcmVhdGVBc3NldHNVcmwsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/create-authorization-data.js":
/*!*********************************************************************!*\
  !*** ./node_modules/braintree-web/lib/create-authorization-data.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar atob = (__webpack_require__(/*! ../lib/vendor/polyfill */ \"(ssr)/./node_modules/braintree-web/lib/vendor/polyfill.js\").atob);\nvar CLIENT_API_URLS = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").CLIENT_API_URLS);\n\nfunction _isTokenizationKey(str) {\n  return /^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(str);\n}\n\nfunction _parseTokenizationKey(tokenizationKey) {\n  var tokens = tokenizationKey.split(\"_\");\n  var environment = tokens[0];\n  var merchantId = tokens.slice(2).join(\"_\");\n\n  return {\n    merchantId: merchantId,\n    environment: environment,\n  };\n}\n\nfunction createAuthorizationData(authorization) {\n  var parsedClientToken, parsedTokenizationKey;\n  var data = {\n    attrs: {},\n    configUrl: \"\",\n  };\n\n  if (_isTokenizationKey(authorization)) {\n    parsedTokenizationKey = _parseTokenizationKey(authorization);\n    data.environment = parsedTokenizationKey.environment;\n    data.attrs.tokenizationKey = authorization;\n    data.configUrl =\n      CLIENT_API_URLS[parsedTokenizationKey.environment] +\n      \"/merchants/\" +\n      parsedTokenizationKey.merchantId +\n      \"/client_api/v1/configuration\";\n  } else {\n    parsedClientToken = JSON.parse(atob(authorization));\n    data.environment = parsedClientToken.environment;\n    data.attrs.authorizationFingerprint =\n      parsedClientToken.authorizationFingerprint;\n    data.configUrl = parsedClientToken.configUrl;\n    data.graphQL = parsedClientToken.graphQL;\n  }\n\n  return data;\n}\n\nmodule.exports = createAuthorizationData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY3JlYXRlLWF1dGhvcml6YXRpb24tZGF0YS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixXQUFXLHFIQUFzQztBQUNqRCxzQkFBc0Isb0hBQTJDOztBQUVqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY3JlYXRlLWF1dGhvcml6YXRpb24tZGF0YS5qcz9mMmExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgYXRvYiA9IHJlcXVpcmUoXCIuLi9saWIvdmVuZG9yL3BvbHlmaWxsXCIpLmF0b2I7XG52YXIgQ0xJRU5UX0FQSV9VUkxTID0gcmVxdWlyZShcIi4uL2xpYi9jb25zdGFudHNcIikuQ0xJRU5UX0FQSV9VUkxTO1xuXG5mdW5jdGlvbiBfaXNUb2tlbml6YXRpb25LZXkoc3RyKSB7XG4gIHJldHVybiAvXlthLXpBLVowLTldK19bYS16QS1aMC05XStfW2EtekEtWjAtOV9dKyQvLnRlc3Qoc3RyKTtcbn1cblxuZnVuY3Rpb24gX3BhcnNlVG9rZW5pemF0aW9uS2V5KHRva2VuaXphdGlvbktleSkge1xuICB2YXIgdG9rZW5zID0gdG9rZW5pemF0aW9uS2V5LnNwbGl0KFwiX1wiKTtcbiAgdmFyIGVudmlyb25tZW50ID0gdG9rZW5zWzBdO1xuICB2YXIgbWVyY2hhbnRJZCA9IHRva2Vucy5zbGljZSgyKS5qb2luKFwiX1wiKTtcblxuICByZXR1cm4ge1xuICAgIG1lcmNoYW50SWQ6IG1lcmNoYW50SWQsXG4gICAgZW52aXJvbm1lbnQ6IGVudmlyb25tZW50LFxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBdXRob3JpemF0aW9uRGF0YShhdXRob3JpemF0aW9uKSB7XG4gIHZhciBwYXJzZWRDbGllbnRUb2tlbiwgcGFyc2VkVG9rZW5pemF0aW9uS2V5O1xuICB2YXIgZGF0YSA9IHtcbiAgICBhdHRyczoge30sXG4gICAgY29uZmlnVXJsOiBcIlwiLFxuICB9O1xuXG4gIGlmIChfaXNUb2tlbml6YXRpb25LZXkoYXV0aG9yaXphdGlvbikpIHtcbiAgICBwYXJzZWRUb2tlbml6YXRpb25LZXkgPSBfcGFyc2VUb2tlbml6YXRpb25LZXkoYXV0aG9yaXphdGlvbik7XG4gICAgZGF0YS5lbnZpcm9ubWVudCA9IHBhcnNlZFRva2VuaXphdGlvbktleS5lbnZpcm9ubWVudDtcbiAgICBkYXRhLmF0dHJzLnRva2VuaXphdGlvbktleSA9IGF1dGhvcml6YXRpb247XG4gICAgZGF0YS5jb25maWdVcmwgPVxuICAgICAgQ0xJRU5UX0FQSV9VUkxTW3BhcnNlZFRva2VuaXphdGlvbktleS5lbnZpcm9ubWVudF0gK1xuICAgICAgXCIvbWVyY2hhbnRzL1wiICtcbiAgICAgIHBhcnNlZFRva2VuaXphdGlvbktleS5tZXJjaGFudElkICtcbiAgICAgIFwiL2NsaWVudF9hcGkvdjEvY29uZmlndXJhdGlvblwiO1xuICB9IGVsc2Uge1xuICAgIHBhcnNlZENsaWVudFRva2VuID0gSlNPTi5wYXJzZShhdG9iKGF1dGhvcml6YXRpb24pKTtcbiAgICBkYXRhLmVudmlyb25tZW50ID0gcGFyc2VkQ2xpZW50VG9rZW4uZW52aXJvbm1lbnQ7XG4gICAgZGF0YS5hdHRycy5hdXRob3JpemF0aW9uRmluZ2VycHJpbnQgPVxuICAgICAgcGFyc2VkQ2xpZW50VG9rZW4uYXV0aG9yaXphdGlvbkZpbmdlcnByaW50O1xuICAgIGRhdGEuY29uZmlnVXJsID0gcGFyc2VkQ2xpZW50VG9rZW4uY29uZmlnVXJsO1xuICAgIGRhdGEuZ3JhcGhRTCA9IHBhcnNlZENsaWVudFRva2VuLmdyYXBoUUw7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBdXRob3JpemF0aW9uRGF0YTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/create-authorization-data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js":
/*!******************************************************************!*\
  !*** ./node_modules/braintree-web/lib/create-deferred-client.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ./braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar assets = __webpack_require__(/*! ./assets */ \"(ssr)/./node_modules/braintree-web/lib/assets.js\");\nvar sharedErrors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/lib/errors.js\");\n\nvar VERSION = \"3.99.0\";\n\nfunction createDeferredClient(options) {\n  var promise = Promise.resolve();\n\n  if (options.client) {\n    return Promise.resolve(options.client);\n  }\n\n  if (!(window.braintree && window.braintree.client)) {\n    promise = assets\n      .loadScript({\n        src: options.assetsUrl + \"/web/\" + VERSION + \"/js/client.min.js\",\n      })\n      .catch(function (err) {\n        return Promise.reject(\n          new BraintreeError({\n            type: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.type,\n            code: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.code,\n            message: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      });\n  }\n\n  return promise.then(function () {\n    if (window.braintree.client.VERSION !== VERSION) {\n      return Promise.reject(\n        new BraintreeError({\n          type: sharedErrors.INCOMPATIBLE_VERSIONS.type,\n          code: sharedErrors.INCOMPATIBLE_VERSIONS.code,\n          message:\n            \"Client (version \" +\n            window.braintree.client.VERSION +\n            \") and \" +\n            options.name +\n            \" (version \" +\n            VERSION +\n            \") components must be from the same SDK version.\",\n        })\n      );\n    }\n\n    return window.braintree.client.create({\n      authorization: options.authorization,\n      debug: options.debug,\n    });\n  });\n}\n\nmodule.exports = {\n  create: createDeferredClient,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvY3JlYXRlLWRlZmVycmVkLWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyxvRkFBbUI7QUFDaEQsYUFBYSxtQkFBTyxDQUFDLGtFQUFVO0FBQy9CLG1CQUFtQixtQkFBTyxDQUFDLGtFQUFVOztBQUVyQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2NyZWF0ZS1kZWZlcnJlZC1jbGllbnQuanM/YWVmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4vYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGFzc2V0cyA9IHJlcXVpcmUoXCIuL2Fzc2V0c1wiKTtcbnZhciBzaGFyZWRFcnJvcnMgPSByZXF1aXJlKFwiLi9lcnJvcnNcIik7XG5cbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcblxuZnVuY3Rpb24gY3JlYXRlRGVmZXJyZWRDbGllbnQob3B0aW9ucykge1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gIGlmIChvcHRpb25zLmNsaWVudCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob3B0aW9ucy5jbGllbnQpO1xuICB9XG5cbiAgaWYgKCEod2luZG93LmJyYWludHJlZSAmJiB3aW5kb3cuYnJhaW50cmVlLmNsaWVudCkpIHtcbiAgICBwcm9taXNlID0gYXNzZXRzXG4gICAgICAubG9hZFNjcmlwdCh7XG4gICAgICAgIHNyYzogb3B0aW9ucy5hc3NldHNVcmwgKyBcIi93ZWIvXCIgKyBWRVJTSU9OICsgXCIvanMvY2xpZW50Lm1pbi5qc1wiLFxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgICAgdHlwZTogc2hhcmVkRXJyb3JzLkNMSUVOVF9TQ1JJUFRfRkFJTEVEX1RPX0xPQUQudHlwZSxcbiAgICAgICAgICAgIGNvZGU6IHNoYXJlZEVycm9ycy5DTElFTlRfU0NSSVBUX0ZBSUxFRF9UT19MT0FELmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBzaGFyZWRFcnJvcnMuQ0xJRU5UX1NDUklQVF9GQUlMRURfVE9fTE9BRC5tZXNzYWdlLFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3cuYnJhaW50cmVlLmNsaWVudC5WRVJTSU9OICE9PSBWRVJTSU9OKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICAgICAgdHlwZTogc2hhcmVkRXJyb3JzLklOQ09NUEFUSUJMRV9WRVJTSU9OUy50eXBlLFxuICAgICAgICAgIGNvZGU6IHNoYXJlZEVycm9ycy5JTkNPTVBBVElCTEVfVkVSU0lPTlMuY29kZSxcbiAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgXCJDbGllbnQgKHZlcnNpb24gXCIgK1xuICAgICAgICAgICAgd2luZG93LmJyYWludHJlZS5jbGllbnQuVkVSU0lPTiArXG4gICAgICAgICAgICBcIikgYW5kIFwiICtcbiAgICAgICAgICAgIG9wdGlvbnMubmFtZSArXG4gICAgICAgICAgICBcIiAodmVyc2lvbiBcIiArXG4gICAgICAgICAgICBWRVJTSU9OICtcbiAgICAgICAgICAgIFwiKSBjb21wb25lbnRzIG11c3QgYmUgZnJvbSB0aGUgc2FtZSBTREsgdmVyc2lvbi5cIixcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpbmRvdy5icmFpbnRyZWUuY2xpZW50LmNyZWF0ZSh7XG4gICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLmF1dGhvcml6YXRpb24sXG4gICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1ZyxcbiAgICB9KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6IGNyZWF0ZURlZmVycmVkQ2xpZW50LFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/deferred.js":
/*!****************************************************!*\
  !*** ./node_modules/braintree-web/lib/deferred.js ***!
  \****************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (fn) {\n  return function () {\n    // IE9 doesn't support passing arguments to setTimeout so we have to emulate it.\n    var args = arguments;\n\n    setTimeout(function () {\n      fn.apply(null, args);\n    }, 1);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZGVmZXJyZWQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9kZWZlcnJlZC5qcz85YTk1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIC8vIElFOSBkb2Vzbid0IHN1cHBvcnQgcGFzc2luZyBhcmd1bWVudHMgdG8gc2V0VGltZW91dCBzbyB3ZSBoYXZlIHRvIGVtdWxhdGUgaXQuXG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0sIDEpO1xuICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/deferred.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/destructor.js":
/*!******************************************************!*\
  !*** ./node_modules/braintree-web/lib/destructor.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar batchExecuteFunctions = __webpack_require__(/*! ./batch-execute-functions */ \"(ssr)/./node_modules/braintree-web/lib/batch-execute-functions.js\");\n\nfunction Destructor() {\n  this._teardownRegistry = [];\n\n  this._isTearingDown = false;\n}\n\nDestructor.prototype.registerFunctionForTeardown = function (fn) {\n  if (typeof fn === \"function\") {\n    this._teardownRegistry.push(fn);\n  }\n};\n\nDestructor.prototype.teardown = function (callback) {\n  if (this._isTearingDown) {\n    callback(new Error(\"Destructor is already tearing down\"));\n\n    return;\n  }\n\n  this._isTearingDown = true;\n\n  batchExecuteFunctions(\n    this._teardownRegistry,\n    function (err) {\n      this._teardownRegistry = [];\n      this._isTearingDown = false;\n\n      if (typeof callback === \"function\") {\n        callback(err);\n      }\n    }.bind(this)\n  );\n};\n\nmodule.exports = Destructor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZGVzdHJ1Y3Rvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw0QkFBNEIsbUJBQU8sQ0FBQyxvR0FBMkI7O0FBRS9EO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2Rlc3RydWN0b3IuanM/NmUxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGJhdGNoRXhlY3V0ZUZ1bmN0aW9ucyA9IHJlcXVpcmUoXCIuL2JhdGNoLWV4ZWN1dGUtZnVuY3Rpb25zXCIpO1xuXG5mdW5jdGlvbiBEZXN0cnVjdG9yKCkge1xuICB0aGlzLl90ZWFyZG93blJlZ2lzdHJ5ID0gW107XG5cbiAgdGhpcy5faXNUZWFyaW5nRG93biA9IGZhbHNlO1xufVxuXG5EZXN0cnVjdG9yLnByb3RvdHlwZS5yZWdpc3RlckZ1bmN0aW9uRm9yVGVhcmRvd24gPSBmdW5jdGlvbiAoZm4pIHtcbiAgaWYgKHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhpcy5fdGVhcmRvd25SZWdpc3RyeS5wdXNoKGZuKTtcbiAgfVxufTtcblxuRGVzdHJ1Y3Rvci5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgaWYgKHRoaXMuX2lzVGVhcmluZ0Rvd24pIHtcbiAgICBjYWxsYmFjayhuZXcgRXJyb3IoXCJEZXN0cnVjdG9yIGlzIGFscmVhZHkgdGVhcmluZyBkb3duXCIpKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX2lzVGVhcmluZ0Rvd24gPSB0cnVlO1xuXG4gIGJhdGNoRXhlY3V0ZUZ1bmN0aW9ucyhcbiAgICB0aGlzLl90ZWFyZG93blJlZ2lzdHJ5LFxuICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHRoaXMuX3RlYXJkb3duUmVnaXN0cnkgPSBbXTtcbiAgICAgIHRoaXMuX2lzVGVhcmluZ0Rvd24gPSBmYWxzZTtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlc3RydWN0b3I7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/destructor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/enumerate.js":
/*!*****************************************************!*\
  !*** ./node_modules/braintree-web/lib/enumerate.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\nfunction enumerate(values, prefix) {\n  prefix = prefix == null ? \"\" : prefix;\n\n  return values.reduce(function (enumeration, value) {\n    enumeration[value] = prefix + value;\n\n    return enumeration;\n  }, {});\n}\n\nmodule.exports = enumerate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZW51bWVyYXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUcsSUFBSTtBQUNQOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9lbnVtZXJhdGUuanM/MDU4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gZW51bWVyYXRlKHZhbHVlcywgcHJlZml4KSB7XG4gIHByZWZpeCA9IHByZWZpeCA9PSBudWxsID8gXCJcIiA6IHByZWZpeDtcblxuICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoZW51bWVyYXRpb24sIHZhbHVlKSB7XG4gICAgZW51bWVyYXRpb25bdmFsdWVdID0gcHJlZml4ICsgdmFsdWU7XG5cbiAgICByZXR1cm4gZW51bWVyYXRpb247XG4gIH0sIHt9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbnVtZXJhdGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/enumerate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/errors.js":
/*!**************************************************!*\
  !*** ./node_modules/braintree-web/lib/errors.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Shared Internal Error Codes\n * @ignore\n * @description These codes should never be experienced by the merchant directly.\n * @property {INTERNAL} INVALID_USE_OF_INTERNAL_FUNCTION Occurs when the client is created without a gateway configuration. Should never happen.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Creation Error Codes\n * @description Errors that occur when creating components.\n * @property {MERCHANT} INSTANTIATION_OPTION_REQUIRED Occurs when a component is created that is missing a required option.\n * @property {MERCHANT} INCOMPATIBLE_VERSIONS Occurs when a component is created with a client with a different version than the component.\n * @property {NETWORK} CLIENT_SCRIPT_FAILED_TO_LOAD Occurs when a component attempts to load the Braintree client script, but the request fails.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Instance Error Codes\n * @description Errors that occur when using instances of components.\n * @property {MERCHANT} METHOD_CALLED_AFTER_TEARDOWN Occurs when a method is called on a component instance after it has been torn down.\n */\n\nvar BraintreeError = __webpack_require__(/*! ./braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  INVALID_USE_OF_INTERNAL_FUNCTION: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"INVALID_USE_OF_INTERNAL_FUNCTION\",\n  },\n  INSTANTIATION_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INSTANTIATION_OPTION_REQUIRED\",\n  },\n  INCOMPATIBLE_VERSIONS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INCOMPATIBLE_VERSIONS\",\n  },\n  CLIENT_SCRIPT_FAILED_TO_LOAD: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_SCRIPT_FAILED_TO_LOAD\",\n    message: \"Braintree client script could not be loaded.\",\n  },\n  METHOD_CALLED_AFTER_TEARDOWN: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"METHOD_CALLED_AFTER_TEARDOWN\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyxvRkFBbUI7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9lcnJvcnMuanM/Y2Y0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5TaGFyZWQgSW50ZXJuYWwgRXJyb3IgQ29kZXNcbiAqIEBpZ25vcmVcbiAqIEBkZXNjcmlwdGlvbiBUaGVzZSBjb2RlcyBzaG91bGQgbmV2ZXIgYmUgZXhwZXJpZW5jZWQgYnkgdGhlIG1lcmNoYW50IGRpcmVjdGx5LlxuICogQHByb3BlcnR5IHtJTlRFUk5BTH0gSU5WQUxJRF9VU0VfT0ZfSU5URVJOQUxfRlVOQ1RJT04gT2NjdXJzIHdoZW4gdGhlIGNsaWVudCBpcyBjcmVhdGVkIHdpdGhvdXQgYSBnYXRld2F5IGNvbmZpZ3VyYXRpb24uIFNob3VsZCBuZXZlciBoYXBwZW4uXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5TaGFyZWQgRXJyb3JzIC0gQ29tcG9uZW50IENyZWF0aW9uIEVycm9yIENvZGVzXG4gKiBAZGVzY3JpcHRpb24gRXJyb3JzIHRoYXQgb2NjdXIgd2hlbiBjcmVhdGluZyBjb21wb25lbnRzLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gSU5TVEFOVElBVElPTl9PUFRJT05fUkVRVUlSRUQgT2NjdXJzIHdoZW4gYSBjb21wb25lbnQgaXMgY3JlYXRlZCB0aGF0IGlzIG1pc3NpbmcgYSByZXF1aXJlZCBvcHRpb24uXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBJTkNPTVBBVElCTEVfVkVSU0lPTlMgT2NjdXJzIHdoZW4gYSBjb21wb25lbnQgaXMgY3JlYXRlZCB3aXRoIGEgY2xpZW50IHdpdGggYSBkaWZmZXJlbnQgdmVyc2lvbiB0aGFuIHRoZSBjb21wb25lbnQuXG4gKiBAcHJvcGVydHkge05FVFdPUkt9IENMSUVOVF9TQ1JJUFRfRkFJTEVEX1RPX0xPQUQgT2NjdXJzIHdoZW4gYSBjb21wb25lbnQgYXR0ZW1wdHMgdG8gbG9hZCB0aGUgQnJhaW50cmVlIGNsaWVudCBzY3JpcHQsIGJ1dCB0aGUgcmVxdWVzdCBmYWlscy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLlNoYXJlZCBFcnJvcnMgLSBDb21wb25lbnQgSW5zdGFuY2UgRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIHVzaW5nIGluc3RhbmNlcyBvZiBjb21wb25lbnRzLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gTUVUSE9EX0NBTExFRF9BRlRFUl9URUFSRE9XTiBPY2N1cnMgd2hlbiBhIG1ldGhvZCBpcyBjYWxsZWQgb24gYSBjb21wb25lbnQgaW5zdGFuY2UgYWZ0ZXIgaXQgaGFzIGJlZW4gdG9ybiBkb3duLlxuICovXG5cbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuL2JyYWludHJlZS1lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIElOVkFMSURfVVNFX09GX0lOVEVSTkFMX0ZVTkNUSU9OOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuSU5URVJOQUwsXG4gICAgY29kZTogXCJJTlZBTElEX1VTRV9PRl9JTlRFUk5BTF9GVU5DVElPTlwiLFxuICB9LFxuICBJTlNUQU5USUFUSU9OX09QVElPTl9SRVFVSVJFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiSU5TVEFOVElBVElPTl9PUFRJT05fUkVRVUlSRURcIixcbiAgfSxcbiAgSU5DT01QQVRJQkxFX1ZFUlNJT05TOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJJTkNPTVBBVElCTEVfVkVSU0lPTlNcIixcbiAgfSxcbiAgQ0xJRU5UX1NDUklQVF9GQUlMRURfVE9fTE9BRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk5FVFdPUkssXG4gICAgY29kZTogXCJDTElFTlRfU0NSSVBUX0ZBSUxFRF9UT19MT0FEXCIsXG4gICAgbWVzc2FnZTogXCJCcmFpbnRyZWUgY2xpZW50IHNjcmlwdCBjb3VsZCBub3QgYmUgbG9hZGVkLlwiLFxuICB9LFxuICBNRVRIT0RfQ0FMTEVEX0FGVEVSX1RFQVJET1dOOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJNRVRIT0RfQ0FMTEVEX0FGVEVSX1RFQVJET1dOXCIsXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/find-root-node.js":
/*!**********************************************************!*\
  !*** ./node_modules/braintree-web/lib/find-root-node.js ***!
  \**********************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function findRootNode(element) {\n  while (element.parentNode) {\n    element = element.parentNode;\n  }\n\n  return element;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZmluZC1yb290LW5vZGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZmluZC1yb290LW5vZGUuanM/ZGEwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaW5kUm9vdE5vZGUoZWxlbWVudCkge1xuICB3aGlsZSAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/find-root-node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/find.js":
/*!************************************************!*\
  !*** ./node_modules/braintree-web/lib/find.js ***!
  \************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (array, key, value) {\n  var i;\n\n  for (i = 0; i < array.length; i++) {\n    if (array[i].hasOwnProperty(key) && array[i][key] === value) {\n      return array[i];\n    }\n  }\n\n  return null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZmluZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBOztBQUVBLGNBQWMsa0JBQWtCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2ZpbmQuanM/N2U3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJyYXksIGtleSwgdmFsdWUpIHtcbiAgdmFyIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldLmhhc093blByb3BlcnR5KGtleSkgJiYgYXJyYXlbaV1ba2V5XSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBhcnJheVtpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/find.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/external/frame-service.js":
/*!********************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/external/frame-service.js ***!
  \********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar Popup = __webpack_require__(/*! ./strategies/popup */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/index.js\");\nvar PopupBridge = __webpack_require__(/*! ./strategies/popup-bridge */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup-bridge.js\");\nvar Modal = __webpack_require__(/*! ./strategies/modal */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/modal.js\");\nvar Bus = __webpack_require__(/*! framebus */ \"(ssr)/./node_modules/framebus/dist/index.js\");\nvar events = __webpack_require__(/*! ../shared/events */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/shared/events.js\");\nvar errors = __webpack_require__(/*! ../shared/errors */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/shared/errors.js\");\nvar constants = __webpack_require__(/*! ../shared/constants */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/shared/constants.js\");\nvar uuid = __webpack_require__(/*! @braintree/uuid */ \"(ssr)/./node_modules/@braintree/uuid/index.js\");\nvar iFramer = __webpack_require__(/*! @braintree/iframer */ \"(ssr)/./node_modules/@braintree/iframer/dist/index.js\");\nvar BraintreeError = __webpack_require__(/*! ../../braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar browserDetection = __webpack_require__(/*! ../shared/browser-detection */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/shared/browser-detection.js\");\nvar assign = (__webpack_require__(/*! ./../../assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar BUS_CONFIGURATION_REQUEST_EVENT =\n  (__webpack_require__(/*! ../../constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").BUS_CONFIGURATION_REQUEST_EVENT);\n\nvar REQUIRED_CONFIG_KEYS = [\"name\", \"dispatchFrameUrl\", \"openFrameUrl\"];\n\nfunction noop() {}\n\nfunction _validateFrameConfiguration(options) {\n  if (!options) {\n    throw new Error(\"Valid configuration is required\");\n  }\n\n  REQUIRED_CONFIG_KEYS.forEach(function (key) {\n    if (!options.hasOwnProperty(key)) {\n      throw new Error(\"A valid frame \" + key + \" must be provided\");\n    }\n  });\n\n  if (!/^[\\w_]+$/.test(options.name)) {\n    throw new Error(\"A valid frame name must be provided\");\n  }\n}\n\nfunction FrameService(options) {\n  _validateFrameConfiguration(options);\n\n  this._serviceId = uuid().replace(/-/g, \"\");\n\n  this._options = {\n    name: options.name + \"_\" + this._serviceId,\n    dispatchFrameUrl: options.dispatchFrameUrl,\n    openFrameUrl: options.openFrameUrl,\n    height: options.height,\n    width: options.width,\n    top: options.top,\n    left: options.left,\n  };\n  this.state = options.state || {};\n\n  this._bus = new Bus({ channel: this._serviceId });\n  this._setBusEvents();\n}\n\nFrameService.prototype.initialize = function (callback) {\n  var dispatchFrameReadyHandler = function () {\n    callback();\n    this._bus.off(events.DISPATCH_FRAME_READY, dispatchFrameReadyHandler);\n  }.bind(this);\n\n  this._bus.on(events.DISPATCH_FRAME_READY, dispatchFrameReadyHandler);\n  this._writeDispatchFrame();\n};\n\nFrameService.prototype._writeDispatchFrame = function () {\n  var frameName = constants.DISPATCH_FRAME_NAME + \"_\" + this._serviceId;\n  var frameSrc = this._options.dispatchFrameUrl;\n\n  this._dispatchFrame = iFramer({\n    \"aria-hidden\": true,\n    name: frameName,\n    title: frameName,\n    src: frameSrc,\n    class: constants.DISPATCH_FRAME_CLASS,\n    height: 0,\n    width: 0,\n    style: {\n      position: \"absolute\",\n      left: \"-9999px\",\n    },\n  });\n\n  document.body.appendChild(this._dispatchFrame);\n};\n\nFrameService.prototype._setBusEvents = function () {\n  this._bus.on(\n    events.DISPATCH_FRAME_REPORT,\n    function (res, reply) {\n      if (this._onCompleteCallback) {\n        this._onCompleteCallback.call(null, res.err, res.payload);\n      }\n      this._frame.close();\n\n      this._onCompleteCallback = null;\n\n      if (reply) {\n        reply();\n      }\n    }.bind(this)\n  );\n\n  this._bus.on(\n    BUS_CONFIGURATION_REQUEST_EVENT,\n    function (reply) {\n      reply(this.state);\n    }.bind(this)\n  );\n};\n\nFrameService.prototype.open = function (options, callback) {\n  options = options || {};\n  this._frame = this._getFrameForEnvironment(options);\n\n  this._frame.initialize(callback);\n\n  if (this._frame instanceof PopupBridge) {\n    // Frameservice loads a spinner then redirects to the final destination url.\n    // For Popupbridge it doesn't have the same rules around popups since it's deferred to the mobile side\n    // therefore, skips the regular open path and instead uses `#redirect` to handle things\n    return;\n  }\n\n  assign(this.state, options.state);\n\n  this._onCompleteCallback = callback;\n  this._frame.open();\n\n  if (this.isFrameClosed()) {\n    this._cleanupFrame();\n\n    if (callback) {\n      callback(new BraintreeError(errors.FRAME_SERVICE_FRAME_OPEN_FAILED));\n    }\n\n    return;\n  }\n  this._pollForPopupClose();\n};\n\nFrameService.prototype.redirect = function (url) {\n  if (this._frame && !this.isFrameClosed()) {\n    this._frame.redirect(url);\n  }\n};\n\nFrameService.prototype.close = function () {\n  if (!this.isFrameClosed()) {\n    this._frame.close();\n  }\n};\n\nFrameService.prototype.focus = function () {\n  if (!this.isFrameClosed()) {\n    this._frame.focus();\n  }\n};\n\nFrameService.prototype.createHandler = function (options) {\n  options = options || {};\n\n  return {\n    close: function () {\n      if (options.beforeClose) {\n        options.beforeClose();\n      }\n\n      this.close();\n    }.bind(this),\n    focus: function () {\n      if (options.beforeFocus) {\n        options.beforeFocus();\n      }\n\n      this.focus();\n    }.bind(this),\n  };\n};\n\nFrameService.prototype.createNoopHandler = function () {\n  return {\n    close: noop,\n    focus: noop,\n  };\n};\n\nFrameService.prototype.teardown = function () {\n  this.close();\n  this._dispatchFrame.parentNode.removeChild(this._dispatchFrame);\n  this._dispatchFrame = null;\n  this._cleanupFrame();\n};\n\nFrameService.prototype.isFrameClosed = function () {\n  return this._frame == null || this._frame.isClosed();\n};\n\nFrameService.prototype._cleanupFrame = function () {\n  this._frame = null;\n  clearInterval(this._popupInterval);\n  this._popupInterval = null;\n};\n\nFrameService.prototype._pollForPopupClose = function () {\n  this._popupInterval = setInterval(\n    function () {\n      if (this.isFrameClosed()) {\n        this._cleanupFrame();\n        if (this._onCompleteCallback) {\n          this._onCompleteCallback(\n            new BraintreeError(errors.FRAME_SERVICE_FRAME_CLOSED)\n          );\n        }\n      }\n    }.bind(this),\n    constants.POPUP_POLL_INTERVAL\n  );\n\n  return this._popupInterval;\n};\n\nFrameService.prototype._getFrameForEnvironment = function (options) {\n  var usePopup = browserDetection.supportsPopups();\n  var popupBridgeExists = Boolean(window.popupBridge);\n\n  var initOptions = assign({}, this._options, options);\n\n  if (popupBridgeExists) {\n    return new PopupBridge(initOptions);\n  } else if (usePopup) {\n    return new Popup(initOptions);\n  }\n\n  return new Modal(initOptions);\n};\n\nmodule.exports = FrameService;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9mcmFtZS1zZXJ2aWNlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsa0JBQWtCLG1CQUFPLENBQUMsMkhBQTJCO0FBQ3JELFlBQVksbUJBQU8sQ0FBQyw2R0FBb0I7QUFDeEMsVUFBVSxtQkFBTyxDQUFDLDZEQUFVO0FBQzVCLGFBQWEsbUJBQU8sQ0FBQywrRkFBa0I7QUFDdkMsYUFBYSxtQkFBTyxDQUFDLCtGQUFrQjtBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxxR0FBcUI7QUFDN0MsV0FBVyxtQkFBTyxDQUFDLHNFQUFpQjtBQUNwQyxjQUFjLG1CQUFPLENBQUMsaUZBQW9CO0FBQzFDLHFCQUFxQixtQkFBTyxDQUFDLHdGQUF1QjtBQUNwRCx1QkFBdUIsbUJBQU8sQ0FBQyxxSEFBNkI7QUFDNUQsYUFBYSxzR0FBZ0M7QUFDN0M7QUFDQSxFQUFFLG1JQUEwRDs7QUFFNUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLDBCQUEwQjtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDZCQUE2Qjs7QUFFN0I7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2ZyYW1lLXNlcnZpY2UvZXh0ZXJuYWwvZnJhbWUtc2VydmljZS5qcz8xMmVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgUG9wdXAgPSByZXF1aXJlKFwiLi9zdHJhdGVnaWVzL3BvcHVwXCIpO1xudmFyIFBvcHVwQnJpZGdlID0gcmVxdWlyZShcIi4vc3RyYXRlZ2llcy9wb3B1cC1icmlkZ2VcIik7XG52YXIgTW9kYWwgPSByZXF1aXJlKFwiLi9zdHJhdGVnaWVzL21vZGFsXCIpO1xudmFyIEJ1cyA9IHJlcXVpcmUoXCJmcmFtZWJ1c1wiKTtcbnZhciBldmVudHMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2V2ZW50c1wiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2Vycm9yc1wiKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2NvbnN0YW50c1wiKTtcbnZhciB1dWlkID0gcmVxdWlyZShcIkBicmFpbnRyZWUvdXVpZFwiKTtcbnZhciBpRnJhbWVyID0gcmVxdWlyZShcIkBicmFpbnRyZWUvaWZyYW1lclwiKTtcbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi8uLi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgYnJvd3NlckRldGVjdGlvbiA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvYnJvd3Nlci1kZXRlY3Rpb25cIik7XG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vLi4vLi4vYXNzaWduXCIpLmFzc2lnbjtcbnZhciBCVVNfQ09ORklHVVJBVElPTl9SRVFVRVNUX0VWRU5UID1cbiAgcmVxdWlyZShcIi4uLy4uL2NvbnN0YW50c1wiKS5CVVNfQ09ORklHVVJBVElPTl9SRVFVRVNUX0VWRU5UO1xuXG52YXIgUkVRVUlSRURfQ09ORklHX0tFWVMgPSBbXCJuYW1lXCIsIFwiZGlzcGF0Y2hGcmFtZVVybFwiLCBcIm9wZW5GcmFtZVVybFwiXTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIF92YWxpZGF0ZUZyYW1lQ29uZmlndXJhdGlvbihvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlZhbGlkIGNvbmZpZ3VyYXRpb24gaXMgcmVxdWlyZWRcIik7XG4gIH1cblxuICBSRVFVSVJFRF9DT05GSUdfS0VZUy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB2YWxpZCBmcmFtZSBcIiArIGtleSArIFwiIG11c3QgYmUgcHJvdmlkZWRcIik7XG4gICAgfVxuICB9KTtcblxuICBpZiAoIS9eW1xcd19dKyQvLnRlc3Qob3B0aW9ucy5uYW1lKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkEgdmFsaWQgZnJhbWUgbmFtZSBtdXN0IGJlIHByb3ZpZGVkXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIEZyYW1lU2VydmljZShvcHRpb25zKSB7XG4gIF92YWxpZGF0ZUZyYW1lQ29uZmlndXJhdGlvbihvcHRpb25zKTtcblxuICB0aGlzLl9zZXJ2aWNlSWQgPSB1dWlkKCkucmVwbGFjZSgvLS9nLCBcIlwiKTtcblxuICB0aGlzLl9vcHRpb25zID0ge1xuICAgIG5hbWU6IG9wdGlvbnMubmFtZSArIFwiX1wiICsgdGhpcy5fc2VydmljZUlkLFxuICAgIGRpc3BhdGNoRnJhbWVVcmw6IG9wdGlvbnMuZGlzcGF0Y2hGcmFtZVVybCxcbiAgICBvcGVuRnJhbWVVcmw6IG9wdGlvbnMub3BlbkZyYW1lVXJsLFxuICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG4gICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgdG9wOiBvcHRpb25zLnRvcCxcbiAgICBsZWZ0OiBvcHRpb25zLmxlZnQsXG4gIH07XG4gIHRoaXMuc3RhdGUgPSBvcHRpb25zLnN0YXRlIHx8IHt9O1xuXG4gIHRoaXMuX2J1cyA9IG5ldyBCdXMoeyBjaGFubmVsOiB0aGlzLl9zZXJ2aWNlSWQgfSk7XG4gIHRoaXMuX3NldEJ1c0V2ZW50cygpO1xufVxuXG5GcmFtZVNlcnZpY2UucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIGRpc3BhdGNoRnJhbWVSZWFkeUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgICB0aGlzLl9idXMub2ZmKGV2ZW50cy5ESVNQQVRDSF9GUkFNRV9SRUFEWSwgZGlzcGF0Y2hGcmFtZVJlYWR5SGFuZGxlcik7XG4gIH0uYmluZCh0aGlzKTtcblxuICB0aGlzLl9idXMub24oZXZlbnRzLkRJU1BBVENIX0ZSQU1FX1JFQURZLCBkaXNwYXRjaEZyYW1lUmVhZHlIYW5kbGVyKTtcbiAgdGhpcy5fd3JpdGVEaXNwYXRjaEZyYW1lKCk7XG59O1xuXG5GcmFtZVNlcnZpY2UucHJvdG90eXBlLl93cml0ZURpc3BhdGNoRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmcmFtZU5hbWUgPSBjb25zdGFudHMuRElTUEFUQ0hfRlJBTUVfTkFNRSArIFwiX1wiICsgdGhpcy5fc2VydmljZUlkO1xuICB2YXIgZnJhbWVTcmMgPSB0aGlzLl9vcHRpb25zLmRpc3BhdGNoRnJhbWVVcmw7XG5cbiAgdGhpcy5fZGlzcGF0Y2hGcmFtZSA9IGlGcmFtZXIoe1xuICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICBuYW1lOiBmcmFtZU5hbWUsXG4gICAgdGl0bGU6IGZyYW1lTmFtZSxcbiAgICBzcmM6IGZyYW1lU3JjLFxuICAgIGNsYXNzOiBjb25zdGFudHMuRElTUEFUQ0hfRlJBTUVfQ0xBU1MsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHdpZHRoOiAwLFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgbGVmdDogXCItOTk5OXB4XCIsXG4gICAgfSxcbiAgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9kaXNwYXRjaEZyYW1lKTtcbn07XG5cbkZyYW1lU2VydmljZS5wcm90b3R5cGUuX3NldEJ1c0V2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fYnVzLm9uKFxuICAgIGV2ZW50cy5ESVNQQVRDSF9GUkFNRV9SRVBPUlQsXG4gICAgZnVuY3Rpb24gKHJlcywgcmVwbHkpIHtcbiAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZUNhbGxiYWNrLmNhbGwobnVsbCwgcmVzLmVyciwgcmVzLnBheWxvYWQpO1xuICAgICAgfVxuICAgICAgdGhpcy5fZnJhbWUuY2xvc2UoKTtcblxuICAgICAgdGhpcy5fb25Db21wbGV0ZUNhbGxiYWNrID0gbnVsbDtcblxuICAgICAgaWYgKHJlcGx5KSB7XG4gICAgICAgIHJlcGx5KCk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG5cbiAgdGhpcy5fYnVzLm9uKFxuICAgIEJVU19DT05GSUdVUkFUSU9OX1JFUVVFU1RfRVZFTlQsXG4gICAgZnVuY3Rpb24gKHJlcGx5KSB7XG4gICAgICByZXBseSh0aGlzLnN0YXRlKTtcbiAgICB9LmJpbmQodGhpcylcbiAgKTtcbn07XG5cbkZyYW1lU2VydmljZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5fZnJhbWUgPSB0aGlzLl9nZXRGcmFtZUZvckVudmlyb25tZW50KG9wdGlvbnMpO1xuXG4gIHRoaXMuX2ZyYW1lLmluaXRpYWxpemUoY2FsbGJhY2spO1xuXG4gIGlmICh0aGlzLl9mcmFtZSBpbnN0YW5jZW9mIFBvcHVwQnJpZGdlKSB7XG4gICAgLy8gRnJhbWVzZXJ2aWNlIGxvYWRzIGEgc3Bpbm5lciB0aGVuIHJlZGlyZWN0cyB0byB0aGUgZmluYWwgZGVzdGluYXRpb24gdXJsLlxuICAgIC8vIEZvciBQb3B1cGJyaWRnZSBpdCBkb2Vzbid0IGhhdmUgdGhlIHNhbWUgcnVsZXMgYXJvdW5kIHBvcHVwcyBzaW5jZSBpdCdzIGRlZmVycmVkIHRvIHRoZSBtb2JpbGUgc2lkZVxuICAgIC8vIHRoZXJlZm9yZSwgc2tpcHMgdGhlIHJlZ3VsYXIgb3BlbiBwYXRoIGFuZCBpbnN0ZWFkIHVzZXMgYCNyZWRpcmVjdGAgdG8gaGFuZGxlIHRoaW5nc1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGFzc2lnbih0aGlzLnN0YXRlLCBvcHRpb25zLnN0YXRlKTtcblxuICB0aGlzLl9vbkNvbXBsZXRlQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgdGhpcy5fZnJhbWUub3BlbigpO1xuXG4gIGlmICh0aGlzLmlzRnJhbWVDbG9zZWQoKSkge1xuICAgIHRoaXMuX2NsZWFudXBGcmFtZSgpO1xuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLkZSQU1FX1NFUlZJQ0VfRlJBTUVfT1BFTl9GQUlMRUQpKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fcG9sbEZvclBvcHVwQ2xvc2UoKTtcbn07XG5cbkZyYW1lU2VydmljZS5wcm90b3R5cGUucmVkaXJlY3QgPSBmdW5jdGlvbiAodXJsKSB7XG4gIGlmICh0aGlzLl9mcmFtZSAmJiAhdGhpcy5pc0ZyYW1lQ2xvc2VkKCkpIHtcbiAgICB0aGlzLl9mcmFtZS5yZWRpcmVjdCh1cmwpO1xuICB9XG59O1xuXG5GcmFtZVNlcnZpY2UucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuaXNGcmFtZUNsb3NlZCgpKSB7XG4gICAgdGhpcy5fZnJhbWUuY2xvc2UoKTtcbiAgfVxufTtcblxuRnJhbWVTZXJ2aWNlLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmlzRnJhbWVDbG9zZWQoKSkge1xuICAgIHRoaXMuX2ZyYW1lLmZvY3VzKCk7XG4gIH1cbn07XG5cbkZyYW1lU2VydmljZS5wcm90b3R5cGUuY3JlYXRlSGFuZGxlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHJldHVybiB7XG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChvcHRpb25zLmJlZm9yZUNsb3NlKSB7XG4gICAgICAgIG9wdGlvbnMuYmVmb3JlQ2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0uYmluZCh0aGlzKSxcbiAgICBmb2N1czogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG9wdGlvbnMuYmVmb3JlRm9jdXMpIHtcbiAgICAgICAgb3B0aW9ucy5iZWZvcmVGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZvY3VzKCk7XG4gICAgfS5iaW5kKHRoaXMpLFxuICB9O1xufTtcblxuRnJhbWVTZXJ2aWNlLnByb3RvdHlwZS5jcmVhdGVOb29wSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBjbG9zZTogbm9vcCxcbiAgICBmb2N1czogbm9vcCxcbiAgfTtcbn07XG5cbkZyYW1lU2VydmljZS5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2xvc2UoKTtcbiAgdGhpcy5fZGlzcGF0Y2hGcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2Rpc3BhdGNoRnJhbWUpO1xuICB0aGlzLl9kaXNwYXRjaEZyYW1lID0gbnVsbDtcbiAgdGhpcy5fY2xlYW51cEZyYW1lKCk7XG59O1xuXG5GcmFtZVNlcnZpY2UucHJvdG90eXBlLmlzRnJhbWVDbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9mcmFtZSA9PSBudWxsIHx8IHRoaXMuX2ZyYW1lLmlzQ2xvc2VkKCk7XG59O1xuXG5GcmFtZVNlcnZpY2UucHJvdG90eXBlLl9jbGVhbnVwRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgY2xlYXJJbnRlcnZhbCh0aGlzLl9wb3B1cEludGVydmFsKTtcbiAgdGhpcy5fcG9wdXBJbnRlcnZhbCA9IG51bGw7XG59O1xuXG5GcmFtZVNlcnZpY2UucHJvdG90eXBlLl9wb2xsRm9yUG9wdXBDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fcG9wdXBJbnRlcnZhbCA9IHNldEludGVydmFsKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmlzRnJhbWVDbG9zZWQoKSkge1xuICAgICAgICB0aGlzLl9jbGVhbnVwRnJhbWUoKTtcbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGVDYWxsYmFjaykge1xuICAgICAgICAgIHRoaXMuX29uQ29tcGxldGVDYWxsYmFjayhcbiAgICAgICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuRlJBTUVfU0VSVklDRV9GUkFNRV9DTE9TRUQpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSxcbiAgICBjb25zdGFudHMuUE9QVVBfUE9MTF9JTlRFUlZBTFxuICApO1xuXG4gIHJldHVybiB0aGlzLl9wb3B1cEludGVydmFsO1xufTtcblxuRnJhbWVTZXJ2aWNlLnByb3RvdHlwZS5fZ2V0RnJhbWVGb3JFbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciB1c2VQb3B1cCA9IGJyb3dzZXJEZXRlY3Rpb24uc3VwcG9ydHNQb3B1cHMoKTtcbiAgdmFyIHBvcHVwQnJpZGdlRXhpc3RzID0gQm9vbGVhbih3aW5kb3cucG9wdXBCcmlkZ2UpO1xuXG4gIHZhciBpbml0T3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgaWYgKHBvcHVwQnJpZGdlRXhpc3RzKSB7XG4gICAgcmV0dXJuIG5ldyBQb3B1cEJyaWRnZShpbml0T3B0aW9ucyk7XG4gIH0gZWxzZSBpZiAodXNlUG9wdXApIHtcbiAgICByZXR1cm4gbmV3IFBvcHVwKGluaXRPcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgTW9kYWwoaW5pdE9wdGlvbnMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGcmFtZVNlcnZpY2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/external/frame-service.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/external/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/external/index.js ***!
  \************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar FrameService = __webpack_require__(/*! ./frame-service */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/frame-service.js\");\n\n/**\n * @ignore\n * @function create\n * Initializing FrameService should be done at the point when the component is created, so it is ready whenever a component needs to open a popup window.\n * Browsers have varying rules around what constitutes and async action worth blocking a popup for, but the likes of Safari\n * will block the popup if `frameService#create` is invoked during any asynchronous process (such as an API request to tokenize payment details).\n *\n * The process of setting up the dispatch frame and subsequent framebus communications via event listeners are considered async by Safari's standards.\n *\n * @param {object} options The options provided to frameservice\n * @param {string} options.name The name to use for identifying the various pieces associated with frameservice.\n * @param {string} options.dispatchFrameUrl The static asset to load for use as the dispatch frame. This allows for secure communication between the iframe and the popup, since they are on the same asset domain (usually checkout.paypal.com or assets.braintreegateway.com)\n * @param {string} options.openFrameUrl The url to load in the popup. Sometimes it is the case that you'll need info that comes _after_ the popup loads in which case we load the `landing-frame` that's a loading spinner then redirect to the proper/final destination. See the PayPal component for an example.\n * Otherwise if all the info needed is ready up-front, then you can forego a landing frame and go straight to the final destination.\n * @param {string} [options.height] The desired popup height.\n * @param {string} [options.width] The desired popup width.\n * @param {string} [options.top] The desired top value of the popup for positioning.\n * @param {string} [options.left] The desired left value of the popup for positioning.\n * @param {object} [options.state] Seems to be dead code, but allows for injecting data in to popup. NEXT_MAJOR_VERSION remove this param if no usage exists.\n * @param {function} callback The function to invoke once the frameservice is created and ready to use. FrameService instance is returned.\n */\nmodule.exports = {\n  create: function createFrameService(options, callback) {\n    var frameService = new FrameService(options);\n\n    frameService.initialize(function () {\n      callback(frameService);\n    });\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixtQkFBbUIsbUJBQU8sQ0FBQyx1R0FBaUI7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9mcmFtZS1zZXJ2aWNlL2V4dGVybmFsL2luZGV4LmpzPzU1MzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBGcmFtZVNlcnZpY2UgPSByZXF1aXJlKFwiLi9mcmFtZS1zZXJ2aWNlXCIpO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvbiBjcmVhdGVcbiAqIEluaXRpYWxpemluZyBGcmFtZVNlcnZpY2Ugc2hvdWxkIGJlIGRvbmUgYXQgdGhlIHBvaW50IHdoZW4gdGhlIGNvbXBvbmVudCBpcyBjcmVhdGVkLCBzbyBpdCBpcyByZWFkeSB3aGVuZXZlciBhIGNvbXBvbmVudCBuZWVkcyB0byBvcGVuIGEgcG9wdXAgd2luZG93LlxuICogQnJvd3NlcnMgaGF2ZSB2YXJ5aW5nIHJ1bGVzIGFyb3VuZCB3aGF0IGNvbnN0aXR1dGVzIGFuZCBhc3luYyBhY3Rpb24gd29ydGggYmxvY2tpbmcgYSBwb3B1cCBmb3IsIGJ1dCB0aGUgbGlrZXMgb2YgU2FmYXJpXG4gKiB3aWxsIGJsb2NrIHRoZSBwb3B1cCBpZiBgZnJhbWVTZXJ2aWNlI2NyZWF0ZWAgaXMgaW52b2tlZCBkdXJpbmcgYW55IGFzeW5jaHJvbm91cyBwcm9jZXNzIChzdWNoIGFzIGFuIEFQSSByZXF1ZXN0IHRvIHRva2VuaXplIHBheW1lbnQgZGV0YWlscykuXG4gKlxuICogVGhlIHByb2Nlc3Mgb2Ygc2V0dGluZyB1cCB0aGUgZGlzcGF0Y2ggZnJhbWUgYW5kIHN1YnNlcXVlbnQgZnJhbWVidXMgY29tbXVuaWNhdGlvbnMgdmlhIGV2ZW50IGxpc3RlbmVycyBhcmUgY29uc2lkZXJlZCBhc3luYyBieSBTYWZhcmkncyBzdGFuZGFyZHMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgcHJvdmlkZWQgdG8gZnJhbWVzZXJ2aWNlXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5uYW1lIFRoZSBuYW1lIHRvIHVzZSBmb3IgaWRlbnRpZnlpbmcgdGhlIHZhcmlvdXMgcGllY2VzIGFzc29jaWF0ZWQgd2l0aCBmcmFtZXNlcnZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5kaXNwYXRjaEZyYW1lVXJsIFRoZSBzdGF0aWMgYXNzZXQgdG8gbG9hZCBmb3IgdXNlIGFzIHRoZSBkaXNwYXRjaCBmcmFtZS4gVGhpcyBhbGxvd3MgZm9yIHNlY3VyZSBjb21tdW5pY2F0aW9uIGJldHdlZW4gdGhlIGlmcmFtZSBhbmQgdGhlIHBvcHVwLCBzaW5jZSB0aGV5IGFyZSBvbiB0aGUgc2FtZSBhc3NldCBkb21haW4gKHVzdWFsbHkgY2hlY2tvdXQucGF5cGFsLmNvbSBvciBhc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20pXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5vcGVuRnJhbWVVcmwgVGhlIHVybCB0byBsb2FkIGluIHRoZSBwb3B1cC4gU29tZXRpbWVzIGl0IGlzIHRoZSBjYXNlIHRoYXQgeW91J2xsIG5lZWQgaW5mbyB0aGF0IGNvbWVzIF9hZnRlcl8gdGhlIHBvcHVwIGxvYWRzIGluIHdoaWNoIGNhc2Ugd2UgbG9hZCB0aGUgYGxhbmRpbmctZnJhbWVgIHRoYXQncyBhIGxvYWRpbmcgc3Bpbm5lciB0aGVuIHJlZGlyZWN0IHRvIHRoZSBwcm9wZXIvZmluYWwgZGVzdGluYXRpb24uIFNlZSB0aGUgUGF5UGFsIGNvbXBvbmVudCBmb3IgYW4gZXhhbXBsZS5cbiAqIE90aGVyd2lzZSBpZiBhbGwgdGhlIGluZm8gbmVlZGVkIGlzIHJlYWR5IHVwLWZyb250LCB0aGVuIHlvdSBjYW4gZm9yZWdvIGEgbGFuZGluZyBmcmFtZSBhbmQgZ28gc3RyYWlnaHQgdG8gdGhlIGZpbmFsIGRlc3RpbmF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmhlaWdodF0gVGhlIGRlc2lyZWQgcG9wdXAgaGVpZ2h0LlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLndpZHRoXSBUaGUgZGVzaXJlZCBwb3B1cCB3aWR0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50b3BdIFRoZSBkZXNpcmVkIHRvcCB2YWx1ZSBvZiB0aGUgcG9wdXAgZm9yIHBvc2l0aW9uaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxlZnRdIFRoZSBkZXNpcmVkIGxlZnQgdmFsdWUgb2YgdGhlIHBvcHVwIGZvciBwb3NpdGlvbmluZy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5zdGF0ZV0gU2VlbXMgdG8gYmUgZGVhZCBjb2RlLCBidXQgYWxsb3dzIGZvciBpbmplY3RpbmcgZGF0YSBpbiB0byBwb3B1cC4gTkVYVF9NQUpPUl9WRVJTSU9OIHJlbW92ZSB0aGlzIHBhcmFtIGlmIG5vIHVzYWdlIGV4aXN0cy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBpbnZva2Ugb25jZSB0aGUgZnJhbWVzZXJ2aWNlIGlzIGNyZWF0ZWQgYW5kIHJlYWR5IHRvIHVzZS4gRnJhbWVTZXJ2aWNlIGluc3RhbmNlIGlzIHJldHVybmVkLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGVGcmFtZVNlcnZpY2Uob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICB2YXIgZnJhbWVTZXJ2aWNlID0gbmV3IEZyYW1lU2VydmljZShvcHRpb25zKTtcblxuICAgIGZyYW1lU2VydmljZS5pbml0aWFsaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKGZyYW1lU2VydmljZSk7XG4gICAgfSk7XG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/external/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/modal.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/external/strategies/modal.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar iFramer = __webpack_require__(/*! @braintree/iframer */ \"(ssr)/./node_modules/@braintree/iframer/dist/index.js\");\nvar assign = (__webpack_require__(/*! ../../../assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar browserDetection = __webpack_require__(/*! ../../shared/browser-detection */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/shared/browser-detection.js\");\n\nvar ELEMENT_STYLES = {\n  position: \"fixed\",\n  top: 0,\n  left: 0,\n  bottom: 0,\n  padding: 0,\n  margin: 0,\n  border: 0,\n  outline: \"none\",\n  zIndex: 20001,\n  background: \"#FFFFFF\",\n};\n\nfunction noop() {}\n\n/**\n *\n * We should not ever really use the Modal. Modals are _like_  popups, but the key difference is that the customer can't actually verify it's app domain and thus secure/valid. Old PP sdk (./src/paypal) uses this\n * to get info from webviews (e.g. facebook).\n */\n\nfunction Modal(options) {\n  this._closed = null;\n  this._frame = null;\n  this._options = options || {};\n  this._container = this._options.container || document.body;\n}\n\nModal.prototype.initialize = noop;\n\nModal.prototype.open = function () {\n  var iframerConfig = {\n    src: this._options.openFrameUrl,\n    name: this._options.name,\n    scrolling: \"yes\",\n    height: \"100%\",\n    width: \"100%\",\n    style: assign({}, ELEMENT_STYLES),\n    title: \"Lightbox Frame\",\n  };\n\n  if (browserDetection.isIos()) {\n    // WKWebView has buggy behavior when scrolling a fixed position modal. The workaround is to lock scrolling in\n    // the background. When modal is closed, we restore scrolling and return to the previous scroll position.\n    if (browserDetection.isIosWKWebview()) {\n      this._lockScrolling();\n      // Allows WKWebView to scroll all the way down to bottom\n      iframerConfig.style = {};\n    }\n\n    this._el = document.createElement(\"div\");\n\n    assign(this._el.style, ELEMENT_STYLES, {\n      height: \"100%\",\n      width: \"100%\",\n      overflow: \"auto\",\n      \"-webkit-overflow-scrolling\": \"touch\",\n    });\n\n    this._frame = iFramer(iframerConfig);\n    this._el.appendChild(this._frame);\n  } else {\n    this._el = this._frame = iFramer(iframerConfig);\n  }\n  this._closed = false;\n\n  this._container.appendChild(this._el);\n};\n\nModal.prototype.focus = noop;\n\nModal.prototype.close = function () {\n  this._container.removeChild(this._el);\n  this._frame = null;\n  this._closed = true;\n  if (browserDetection.isIosWKWebview()) {\n    this._unlockScrolling();\n  }\n};\n\nModal.prototype.isClosed = function () {\n  return Boolean(this._closed);\n};\n\nModal.prototype.redirect = function (redirectUrl) {\n  this._frame.src = redirectUrl;\n};\n\nModal.prototype._unlockScrolling = function () {\n  document.body.style.overflow = this._savedBodyProperties.overflowStyle;\n  document.body.style.position = this._savedBodyProperties.positionStyle;\n  window.scrollTo(\n    this._savedBodyProperties.left,\n    this._savedBodyProperties.top\n  );\n  delete this._savedBodyProperties;\n};\n\nModal.prototype._lockScrolling = function () {\n  var doc = document.documentElement;\n\n  // From https://stackoverflow.com/questions/9538868/prevent-body-from-scrolling-when-a-modal-is-opened#comment65626743_24727206\n  this._savedBodyProperties = {\n    left: (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\n    top: (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0),\n    overflowStyle: document.body.style.overflow,\n    positionStyle: document.body.style.position,\n  };\n  document.body.style.overflow = \"hidden\";\n  document.body.style.position = \"fixed\";\n  window.scrollTo(0, 0);\n};\n\nmodule.exports = Modal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9zdHJhdGVnaWVzL21vZGFsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGNBQWMsbUJBQU8sQ0FBQyxpRkFBb0I7QUFDMUMsYUFBYSx1R0FBaUM7QUFDOUMsdUJBQXVCLG1CQUFPLENBQUMsd0hBQWdDOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2ZyYW1lLXNlcnZpY2UvZXh0ZXJuYWwvc3RyYXRlZ2llcy9tb2RhbC5qcz85ZTZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaUZyYW1lciA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2lmcmFtZXJcIik7XG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4uLy4uLy4uL2Fzc2lnblwiKS5hc3NpZ247XG52YXIgYnJvd3NlckRldGVjdGlvbiA9IHJlcXVpcmUoXCIuLi8uLi9zaGFyZWQvYnJvd3Nlci1kZXRlY3Rpb25cIik7XG5cbnZhciBFTEVNRU5UX1NUWUxFUyA9IHtcbiAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgdG9wOiAwLFxuICBsZWZ0OiAwLFxuICBib3R0b206IDAsXG4gIHBhZGRpbmc6IDAsXG4gIG1hcmdpbjogMCxcbiAgYm9yZGVyOiAwLFxuICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgekluZGV4OiAyMDAwMSxcbiAgYmFja2dyb3VuZDogXCIjRkZGRkZGXCIsXG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKlxuICogV2Ugc2hvdWxkIG5vdCBldmVyIHJlYWxseSB1c2UgdGhlIE1vZGFsLiBNb2RhbHMgYXJlIF9saWtlXyAgcG9wdXBzLCBidXQgdGhlIGtleSBkaWZmZXJlbmNlIGlzIHRoYXQgdGhlIGN1c3RvbWVyIGNhbid0IGFjdHVhbGx5IHZlcmlmeSBpdCdzIGFwcCBkb21haW4gYW5kIHRodXMgc2VjdXJlL3ZhbGlkLiBPbGQgUFAgc2RrICguL3NyYy9wYXlwYWwpIHVzZXMgdGhpc1xuICogdG8gZ2V0IGluZm8gZnJvbSB3ZWJ2aWV3cyAoZS5nLiBmYWNlYm9vaykuXG4gKi9cblxuZnVuY3Rpb24gTW9kYWwob3B0aW9ucykge1xuICB0aGlzLl9jbG9zZWQgPSBudWxsO1xuICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB0aGlzLl9jb250YWluZXIgPSB0aGlzLl9vcHRpb25zLmNvbnRhaW5lciB8fCBkb2N1bWVudC5ib2R5O1xufVxuXG5Nb2RhbC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IG5vb3A7XG5cbk1vZGFsLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaWZyYW1lckNvbmZpZyA9IHtcbiAgICBzcmM6IHRoaXMuX29wdGlvbnMub3BlbkZyYW1lVXJsLFxuICAgIG5hbWU6IHRoaXMuX29wdGlvbnMubmFtZSxcbiAgICBzY3JvbGxpbmc6IFwieWVzXCIsXG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgc3R5bGU6IGFzc2lnbih7fSwgRUxFTUVOVF9TVFlMRVMpLFxuICAgIHRpdGxlOiBcIkxpZ2h0Ym94IEZyYW1lXCIsXG4gIH07XG5cbiAgaWYgKGJyb3dzZXJEZXRlY3Rpb24uaXNJb3MoKSkge1xuICAgIC8vIFdLV2ViVmlldyBoYXMgYnVnZ3kgYmVoYXZpb3Igd2hlbiBzY3JvbGxpbmcgYSBmaXhlZCBwb3NpdGlvbiBtb2RhbC4gVGhlIHdvcmthcm91bmQgaXMgdG8gbG9jayBzY3JvbGxpbmcgaW5cbiAgICAvLyB0aGUgYmFja2dyb3VuZC4gV2hlbiBtb2RhbCBpcyBjbG9zZWQsIHdlIHJlc3RvcmUgc2Nyb2xsaW5nIGFuZCByZXR1cm4gdG8gdGhlIHByZXZpb3VzIHNjcm9sbCBwb3NpdGlvbi5cbiAgICBpZiAoYnJvd3NlckRldGVjdGlvbi5pc0lvc1dLV2VidmlldygpKSB7XG4gICAgICB0aGlzLl9sb2NrU2Nyb2xsaW5nKCk7XG4gICAgICAvLyBBbGxvd3MgV0tXZWJWaWV3IHRvIHNjcm9sbCBhbGwgdGhlIHdheSBkb3duIHRvIGJvdHRvbVxuICAgICAgaWZyYW1lckNvbmZpZy5zdHlsZSA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMuX2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGFzc2lnbih0aGlzLl9lbC5zdHlsZSwgRUxFTUVOVF9TVFlMRVMsIHtcbiAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICBcIi13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nXCI6IFwidG91Y2hcIixcbiAgICB9KTtcblxuICAgIHRoaXMuX2ZyYW1lID0gaUZyYW1lcihpZnJhbWVyQ29uZmlnKTtcbiAgICB0aGlzLl9lbC5hcHBlbmRDaGlsZCh0aGlzLl9mcmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZWwgPSB0aGlzLl9mcmFtZSA9IGlGcmFtZXIoaWZyYW1lckNvbmZpZyk7XG4gIH1cbiAgdGhpcy5fY2xvc2VkID0gZmFsc2U7XG5cbiAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2VsKTtcbn07XG5cbk1vZGFsLnByb3RvdHlwZS5mb2N1cyA9IG5vb3A7XG5cbk1vZGFsLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2VsKTtcbiAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICB0aGlzLl9jbG9zZWQgPSB0cnVlO1xuICBpZiAoYnJvd3NlckRldGVjdGlvbi5pc0lvc1dLV2VidmlldygpKSB7XG4gICAgdGhpcy5fdW5sb2NrU2Nyb2xsaW5nKCk7XG4gIH1cbn07XG5cbk1vZGFsLnByb3RvdHlwZS5pc0Nsb3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEJvb2xlYW4odGhpcy5fY2xvc2VkKTtcbn07XG5cbk1vZGFsLnByb3RvdHlwZS5yZWRpcmVjdCA9IGZ1bmN0aW9uIChyZWRpcmVjdFVybCkge1xuICB0aGlzLl9mcmFtZS5zcmMgPSByZWRpcmVjdFVybDtcbn07XG5cbk1vZGFsLnByb3RvdHlwZS5fdW5sb2NrU2Nyb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gdGhpcy5fc2F2ZWRCb2R5UHJvcGVydGllcy5vdmVyZmxvd1N0eWxlO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gdGhpcy5fc2F2ZWRCb2R5UHJvcGVydGllcy5wb3NpdGlvblN0eWxlO1xuICB3aW5kb3cuc2Nyb2xsVG8oXG4gICAgdGhpcy5fc2F2ZWRCb2R5UHJvcGVydGllcy5sZWZ0LFxuICAgIHRoaXMuX3NhdmVkQm9keVByb3BlcnRpZXMudG9wXG4gICk7XG4gIGRlbGV0ZSB0aGlzLl9zYXZlZEJvZHlQcm9wZXJ0aWVzO1xufTtcblxuTW9kYWwucHJvdG90eXBlLl9sb2NrU2Nyb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gIC8vIEZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTUzODg2OC9wcmV2ZW50LWJvZHktZnJvbS1zY3JvbGxpbmctd2hlbi1hLW1vZGFsLWlzLW9wZW5lZCNjb21tZW50NjU2MjY3NDNfMjQ3MjcyMDZcbiAgdGhpcy5fc2F2ZWRCb2R5UHJvcGVydGllcyA9IHtcbiAgICBsZWZ0OiAod2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvYy5zY3JvbGxMZWZ0KSAtIChkb2MuY2xpZW50TGVmdCB8fCAwKSxcbiAgICB0b3A6ICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jLnNjcm9sbFRvcCkgLSAoZG9jLmNsaWVudFRvcCB8fCAwKSxcbiAgICBvdmVyZmxvd1N0eWxlOiBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93LFxuICAgIHBvc2l0aW9uU3R5bGU6IGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24sXG4gIH07XG4gIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGFsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/modal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup-bridge.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/external/strategies/popup-bridge.js ***!
  \******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BraintreeError = __webpack_require__(/*! ../../../braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar errors = __webpack_require__(/*! ../../shared/errors */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/shared/errors.js\");\n\nfunction noop() {}\n\nfunction PopupBridge(options) {\n  this._closed = null;\n  this._options = options;\n}\n\nPopupBridge.prototype.initialize = function (callback) {\n  var self = this;\n\n  window.popupBridge.onComplete = function (err, payload) {\n    var popupDismissed = !payload && !err;\n\n    self._closed = true;\n\n    if (err || popupDismissed) {\n      // User clicked \"Done\" button of browser view\n      callback(new BraintreeError(errors.FRAME_SERVICE_FRAME_CLOSED));\n\n      return;\n    }\n    // User completed popup flow (includes success and cancel cases)\n    callback(null, payload);\n  };\n};\n\nPopupBridge.prototype.open = function (options) {\n  var url;\n\n  options = options || {};\n  url = options.openFrameUrl || this._options.openFrameUrl;\n\n  this._closed = false;\n  window.popupBridge.open(url);\n};\n\nPopupBridge.prototype.focus = noop;\n\nPopupBridge.prototype.close = noop;\n\nPopupBridge.prototype.isClosed = function () {\n  return Boolean(this._closed);\n};\n\nPopupBridge.prototype.redirect = function (redirectUrl) {\n  this.open({ openFrameUrl: redirectUrl });\n};\n\nmodule.exports = PopupBridge;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9zdHJhdGVnaWVzL3BvcHVwLWJyaWRnZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQywyRkFBMEI7QUFDdkQsYUFBYSxtQkFBTyxDQUFDLGtHQUFxQjs7QUFFMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLDJCQUEyQjtBQUN6Qzs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9zdHJhdGVnaWVzL3BvcHVwLWJyaWRnZS5qcz9mYTQ3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuLi8uLi9zaGFyZWQvZXJyb3JzXCIpO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gUG9wdXBCcmlkZ2Uob3B0aW9ucykge1xuICB0aGlzLl9jbG9zZWQgPSBudWxsO1xuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbn1cblxuUG9wdXBCcmlkZ2UucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHdpbmRvdy5wb3B1cEJyaWRnZS5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKGVyciwgcGF5bG9hZCkge1xuICAgIHZhciBwb3B1cERpc21pc3NlZCA9ICFwYXlsb2FkICYmICFlcnI7XG5cbiAgICBzZWxmLl9jbG9zZWQgPSB0cnVlO1xuXG4gICAgaWYgKGVyciB8fCBwb3B1cERpc21pc3NlZCkge1xuICAgICAgLy8gVXNlciBjbGlja2VkIFwiRG9uZVwiIGJ1dHRvbiBvZiBicm93c2VyIHZpZXdcbiAgICAgIGNhbGxiYWNrKG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuRlJBTUVfU0VSVklDRV9GUkFNRV9DTE9TRUQpKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBVc2VyIGNvbXBsZXRlZCBwb3B1cCBmbG93IChpbmNsdWRlcyBzdWNjZXNzIGFuZCBjYW5jZWwgY2FzZXMpXG4gICAgY2FsbGJhY2sobnVsbCwgcGF5bG9hZCk7XG4gIH07XG59O1xuXG5Qb3B1cEJyaWRnZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciB1cmw7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHVybCA9IG9wdGlvbnMub3BlbkZyYW1lVXJsIHx8IHRoaXMuX29wdGlvbnMub3BlbkZyYW1lVXJsO1xuXG4gIHRoaXMuX2Nsb3NlZCA9IGZhbHNlO1xuICB3aW5kb3cucG9wdXBCcmlkZ2Uub3Blbih1cmwpO1xufTtcblxuUG9wdXBCcmlkZ2UucHJvdG90eXBlLmZvY3VzID0gbm9vcDtcblxuUG9wdXBCcmlkZ2UucHJvdG90eXBlLmNsb3NlID0gbm9vcDtcblxuUG9wdXBCcmlkZ2UucHJvdG90eXBlLmlzQ2xvc2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gQm9vbGVhbih0aGlzLl9jbG9zZWQpO1xufTtcblxuUG9wdXBCcmlkZ2UucHJvdG90eXBlLnJlZGlyZWN0ID0gZnVuY3Rpb24gKHJlZGlyZWN0VXJsKSB7XG4gIHRoaXMub3Blbih7IG9wZW5GcmFtZVVybDogcmVkaXJlY3RVcmwgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBvcHVwQnJpZGdlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup-bridge.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/compose-options.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/external/strategies/popup/compose-options.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar constants = __webpack_require__(/*! ../../../shared/constants */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/shared/constants.js\");\nvar position = __webpack_require__(/*! ./position */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/position.js\");\n\nfunction calculatePosition(type, userDefinedPosition, size) {\n  if (typeof userDefinedPosition !== \"undefined\") {\n    return userDefinedPosition;\n  }\n\n  return position[type](size);\n}\n\nmodule.exports = function composePopupOptions(options) {\n  var height = options.height || constants.DEFAULT_POPUP_HEIGHT;\n  var width = options.width || constants.DEFAULT_POPUP_WIDTH;\n  var top = calculatePosition(\"top\", options.top, height);\n  var left = calculatePosition(\"left\", options.left, width);\n\n  return [\n    constants.POPUP_BASE_OPTIONS,\n    \"height=\" + height,\n    \"width=\" + width,\n    \"top=\" + top,\n    \"left=\" + left,\n  ].join(\",\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9zdHJhdGVnaWVzL3BvcHVwL2NvbXBvc2Utb3B0aW9ucy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQkFBZ0IsbUJBQU8sQ0FBQywyR0FBMkI7QUFDbkQsZUFBZSxtQkFBTyxDQUFDLDhHQUFZOztBQUVuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9zdHJhdGVnaWVzL3BvcHVwL2NvbXBvc2Utb3B0aW9ucy5qcz8yN2NhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL3NoYXJlZC9jb25zdGFudHNcIik7XG52YXIgcG9zaXRpb24gPSByZXF1aXJlKFwiLi9wb3NpdGlvblwiKTtcblxuZnVuY3Rpb24gY2FsY3VsYXRlUG9zaXRpb24odHlwZSwgdXNlckRlZmluZWRQb3NpdGlvbiwgc2l6ZSkge1xuICBpZiAodHlwZW9mIHVzZXJEZWZpbmVkUG9zaXRpb24gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gdXNlckRlZmluZWRQb3NpdGlvbjtcbiAgfVxuXG4gIHJldHVybiBwb3NpdGlvblt0eXBlXShzaXplKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21wb3NlUG9wdXBPcHRpb25zKG9wdGlvbnMpIHtcbiAgdmFyIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IGNvbnN0YW50cy5ERUZBVUxUX1BPUFVQX0hFSUdIVDtcbiAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCB8fCBjb25zdGFudHMuREVGQVVMVF9QT1BVUF9XSURUSDtcbiAgdmFyIHRvcCA9IGNhbGN1bGF0ZVBvc2l0aW9uKFwidG9wXCIsIG9wdGlvbnMudG9wLCBoZWlnaHQpO1xuICB2YXIgbGVmdCA9IGNhbGN1bGF0ZVBvc2l0aW9uKFwibGVmdFwiLCBvcHRpb25zLmxlZnQsIHdpZHRoKTtcblxuICByZXR1cm4gW1xuICAgIGNvbnN0YW50cy5QT1BVUF9CQVNFX09QVElPTlMsXG4gICAgXCJoZWlnaHQ9XCIgKyBoZWlnaHQsXG4gICAgXCJ3aWR0aD1cIiArIHdpZHRoLFxuICAgIFwidG9wPVwiICsgdG9wLFxuICAgIFwibGVmdD1cIiArIGxlZnQsXG4gIF0uam9pbihcIixcIik7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/compose-options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/index.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/external/strategies/popup/index.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar composeOptions = __webpack_require__(/*! ./compose-options */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/compose-options.js\");\n\nfunction noop() {}\n\nfunction Popup(options) {\n  this._frame = null;\n  this._options = options || {};\n}\n\nPopup.prototype.initialize = noop;\n\nPopup.prototype.open = function () {\n  this._frame = window.open(\n    this._options.openFrameUrl,\n    this._options.name,\n    composeOptions(this._options)\n  );\n};\n\nPopup.prototype.focus = function () {\n  this._frame.focus();\n};\n\nPopup.prototype.close = function () {\n  if (this._frame.closed) {\n    return;\n  }\n  this._frame.close();\n};\n\nPopup.prototype.isClosed = function () {\n  return !this._frame || Boolean(this._frame.closed);\n};\n\nPopup.prototype.redirect = function (redirectUrl) {\n  this._frame.location.href = redirectUrl;\n};\n\nmodule.exports = Popup;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9zdHJhdGVnaWVzL3BvcHVwL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHFCQUFxQixtQkFBTyxDQUFDLDRIQUFtQjs7QUFFaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9mcmFtZS1zZXJ2aWNlL2V4dGVybmFsL3N0cmF0ZWdpZXMvcG9wdXAvaW5kZXguanM/ZGU0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGNvbXBvc2VPcHRpb25zID0gcmVxdWlyZShcIi4vY29tcG9zZS1vcHRpb25zXCIpO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gUG9wdXAob3B0aW9ucykge1xuICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xufVxuXG5Qb3B1cC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IG5vb3A7XG5cblBvcHVwLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9mcmFtZSA9IHdpbmRvdy5vcGVuKFxuICAgIHRoaXMuX29wdGlvbnMub3BlbkZyYW1lVXJsLFxuICAgIHRoaXMuX29wdGlvbnMubmFtZSxcbiAgICBjb21wb3NlT3B0aW9ucyh0aGlzLl9vcHRpb25zKVxuICApO1xufTtcblxuUG9wdXAucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9mcmFtZS5mb2N1cygpO1xufTtcblxuUG9wdXAucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fZnJhbWUuY2xvc2VkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2ZyYW1lLmNsb3NlKCk7XG59O1xuXG5Qb3B1cC5wcm90b3R5cGUuaXNDbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhdGhpcy5fZnJhbWUgfHwgQm9vbGVhbih0aGlzLl9mcmFtZS5jbG9zZWQpO1xufTtcblxuUG9wdXAucHJvdG90eXBlLnJlZGlyZWN0ID0gZnVuY3Rpb24gKHJlZGlyZWN0VXJsKSB7XG4gIHRoaXMuX2ZyYW1lLmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdFVybDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUG9wdXA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/position.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/external/strategies/popup/position.js ***!
  \********************************************************************************************/
/***/ ((module) => {

eval("\n\nfunction top(height) {\n  var windowHeight =\n    window.outerHeight || document.documentElement.clientHeight;\n  var windowTop = window.screenY == null ? window.screenTop : window.screenY;\n\n  return center(windowHeight, height, windowTop);\n}\n\nfunction left(width) {\n  var windowWidth = window.outerWidth || document.documentElement.clientWidth;\n  var windowLeft = window.screenX == null ? window.screenLeft : window.screenX;\n\n  return center(windowWidth, width, windowLeft);\n}\n\nfunction center(windowMetric, popupMetric, offset) {\n  return (windowMetric - popupMetric) / 2 + offset;\n}\n\nmodule.exports = {\n  top: top,\n  left: left,\n  center: center,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9leHRlcm5hbC9zdHJhdGVnaWVzL3BvcHVwL3Bvc2l0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2ZyYW1lLXNlcnZpY2UvZXh0ZXJuYWwvc3RyYXRlZ2llcy9wb3B1cC9wb3NpdGlvbi5qcz82NmQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiB0b3AoaGVpZ2h0KSB7XG4gIHZhciB3aW5kb3dIZWlnaHQgPVxuICAgIHdpbmRvdy5vdXRlckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICB2YXIgd2luZG93VG9wID0gd2luZG93LnNjcmVlblkgPT0gbnVsbCA/IHdpbmRvdy5zY3JlZW5Ub3AgOiB3aW5kb3cuc2NyZWVuWTtcblxuICByZXR1cm4gY2VudGVyKHdpbmRvd0hlaWdodCwgaGVpZ2h0LCB3aW5kb3dUb3ApO1xufVxuXG5mdW5jdGlvbiBsZWZ0KHdpZHRoKSB7XG4gIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5vdXRlcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgdmFyIHdpbmRvd0xlZnQgPSB3aW5kb3cuc2NyZWVuWCA9PSBudWxsID8gd2luZG93LnNjcmVlbkxlZnQgOiB3aW5kb3cuc2NyZWVuWDtcblxuICByZXR1cm4gY2VudGVyKHdpbmRvd1dpZHRoLCB3aWR0aCwgd2luZG93TGVmdCk7XG59XG5cbmZ1bmN0aW9uIGNlbnRlcih3aW5kb3dNZXRyaWMsIHBvcHVwTWV0cmljLCBvZmZzZXQpIHtcbiAgcmV0dXJuICh3aW5kb3dNZXRyaWMgLSBwb3B1cE1ldHJpYykgLyAyICsgb2Zmc2V0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdG9wOiB0b3AsXG4gIGxlZnQ6IGxlZnQsXG4gIGNlbnRlcjogY2VudGVyLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/external/strategies/popup/position.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/shared/browser-detection.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/shared/browser-detection.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nmodule.exports = {\n  isIos: __webpack_require__(/*! @braintree/browser-detection/is-ios */ \"(ssr)/./node_modules/@braintree/browser-detection/is-ios.js\"),\n  isIosWKWebview: __webpack_require__(/*! @braintree/browser-detection/is-ios-wkwebview */ \"(ssr)/./node_modules/@braintree/browser-detection/is-ios-wkwebview.js\"),\n  supportsPopups: __webpack_require__(/*! @braintree/browser-detection/supports-popups */ \"(ssr)/./node_modules/@braintree/browser-detection/supports-popups.js\"),\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9zaGFyZWQvYnJvd3Nlci1kZXRlY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQSxTQUFTLG1CQUFPLENBQUMsd0dBQXFDO0FBQ3RELGtCQUFrQixtQkFBTyxDQUFDLDRIQUErQztBQUN6RSxrQkFBa0IsbUJBQU8sQ0FBQywwSEFBOEM7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2ZyYW1lLXNlcnZpY2Uvc2hhcmVkL2Jyb3dzZXItZGV0ZWN0aW9uLmpzPzBlM2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0lvczogcmVxdWlyZShcIkBicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtaW9zXCIpLFxuICBpc0lvc1dLV2VidmlldzogcmVxdWlyZShcIkBicmFpbnRyZWUvYnJvd3Nlci1kZXRlY3Rpb24vaXMtaW9zLXdrd2Vidmlld1wiKSxcbiAgc3VwcG9ydHNQb3B1cHM6IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL3N1cHBvcnRzLXBvcHVwc1wiKSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/shared/browser-detection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/shared/constants.js":
/*!**************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/shared/constants.js ***!
  \**************************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  DISPATCH_FRAME_NAME: \"dispatch\",\n  DISPATCH_FRAME_CLASS: \"braintree-dispatch-frame\",\n  POPUP_BASE_OPTIONS: \"resizable,scrollbars\",\n  DEFAULT_POPUP_WIDTH: 450,\n  DEFAULT_POPUP_HEIGHT: 535,\n  POPUP_POLL_INTERVAL: 100,\n  POPUP_CLOSE_TIMEOUT: 100,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9zaGFyZWQvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9zaGFyZWQvY29uc3RhbnRzLmpzP2E3ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBESVNQQVRDSF9GUkFNRV9OQU1FOiBcImRpc3BhdGNoXCIsXG4gIERJU1BBVENIX0ZSQU1FX0NMQVNTOiBcImJyYWludHJlZS1kaXNwYXRjaC1mcmFtZVwiLFxuICBQT1BVUF9CQVNFX09QVElPTlM6IFwicmVzaXphYmxlLHNjcm9sbGJhcnNcIixcbiAgREVGQVVMVF9QT1BVUF9XSURUSDogNDUwLFxuICBERUZBVUxUX1BPUFVQX0hFSUdIVDogNTM1LFxuICBQT1BVUF9QT0xMX0lOVEVSVkFMOiAxMDAsXG4gIFBPUFVQX0NMT1NFX1RJTUVPVVQ6IDEwMCxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/shared/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/shared/errors.js":
/*!***********************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/shared/errors.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Popup Related Error Codes\n * @ignore\n * @description Errors that occur when using a component that opens a popup window.\n * @property {INTERNAL} FRAME_SERVICE_FRAME_CLOSED - Occurs when the frame is closed before tokenization can occur.\n * @property {INTERNAL} FRAME_SERVICE_FRAME_OPEN_FAILED - Occurs when the popup could not be opened.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../../braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  FRAME_SERVICE_FRAME_CLOSED: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"FRAME_SERVICE_FRAME_CLOSED\",\n    message: \"Frame closed before tokenization could occur.\",\n  },\n  FRAME_SERVICE_FRAME_OPEN_FAILED: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"FRAME_SERVICE_FRAME_OPEN_FAILED\",\n    message: \"Frame failed to open.\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9zaGFyZWQvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyx3RkFBdUI7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2ZyYW1lLXNlcnZpY2Uvc2hhcmVkL2Vycm9ycy5qcz8xZWUwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLlBvcHVwIFJlbGF0ZWQgRXJyb3IgQ29kZXNcbiAqIEBpZ25vcmVcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIHVzaW5nIGEgY29tcG9uZW50IHRoYXQgb3BlbnMgYSBwb3B1cCB3aW5kb3cuXG4gKiBAcHJvcGVydHkge0lOVEVSTkFMfSBGUkFNRV9TRVJWSUNFX0ZSQU1FX0NMT1NFRCAtIE9jY3VycyB3aGVuIHRoZSBmcmFtZSBpcyBjbG9zZWQgYmVmb3JlIHRva2VuaXphdGlvbiBjYW4gb2NjdXIuXG4gKiBAcHJvcGVydHkge0lOVEVSTkFMfSBGUkFNRV9TRVJWSUNFX0ZSQU1FX09QRU5fRkFJTEVEIC0gT2NjdXJzIHdoZW4gdGhlIHBvcHVwIGNvdWxkIG5vdCBiZSBvcGVuZWQuXG4gKi9cblxudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uLy4uL2JyYWludHJlZS1lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEZSQU1FX1NFUlZJQ0VfRlJBTUVfQ0xPU0VEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuSU5URVJOQUwsXG4gICAgY29kZTogXCJGUkFNRV9TRVJWSUNFX0ZSQU1FX0NMT1NFRFwiLFxuICAgIG1lc3NhZ2U6IFwiRnJhbWUgY2xvc2VkIGJlZm9yZSB0b2tlbml6YXRpb24gY291bGQgb2NjdXIuXCIsXG4gIH0sXG4gIEZSQU1FX1NFUlZJQ0VfRlJBTUVfT1BFTl9GQUlMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5JTlRFUk5BTCxcbiAgICBjb2RlOiBcIkZSQU1FX1NFUlZJQ0VfRlJBTUVfT1BFTl9GQUlMRURcIixcbiAgICBtZXNzYWdlOiBcIkZyYW1lIGZhaWxlZCB0byBvcGVuLlwiLFxuICB9LFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/shared/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/frame-service/shared/events.js":
/*!***********************************************************************!*\
  !*** ./node_modules/braintree-web/lib/frame-service/shared/events.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar enumerate = __webpack_require__(/*! ../../enumerate */ \"(ssr)/./node_modules/braintree-web/lib/enumerate.js\");\n\nmodule.exports = enumerate(\n  [\"DISPATCH_FRAME_READY\", \"DISPATCH_FRAME_REPORT\"],\n  \"frameService:\"\n);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZnJhbWUtc2VydmljZS9zaGFyZWQvZXZlbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLDRFQUFpQjs7QUFFekM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2ZyYW1lLXNlcnZpY2Uvc2hhcmVkL2V2ZW50cy5qcz9lY2FhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgZW51bWVyYXRlID0gcmVxdWlyZShcIi4uLy4uL2VudW1lcmF0ZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnVtZXJhdGUoXG4gIFtcIkRJU1BBVENIX0ZSQU1FX1JFQURZXCIsIFwiRElTUEFUQ0hfRlJBTUVfUkVQT1JUXCJdLFxuICBcImZyYW1lU2VydmljZTpcIlxuKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/frame-service/shared/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/generate-google-pay-configuration.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/braintree-web/lib/generate-google-pay-configuration.js ***!
  \*****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar VERSION = \"3.99.0\";\nvar assign = (__webpack_require__(/*! ./assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\n\nfunction generateTokenizationParameters(configuration, overrides) {\n  var metadata = configuration.analyticsMetadata;\n  var basicTokenizationParameters = {\n    gateway: \"braintree\",\n    \"braintree:merchantId\": configuration.gatewayConfiguration.merchantId,\n    \"braintree:apiVersion\": \"v1\",\n    \"braintree:sdkVersion\": VERSION,\n    \"braintree:metadata\": JSON.stringify({\n      source: metadata.source,\n      integration: metadata.integration,\n      sessionId: metadata.sessionId,\n      version: VERSION,\n      platform: metadata.platform,\n    }),\n  };\n\n  return assign({}, basicTokenizationParameters, overrides);\n}\n\nmodule.exports = function (configuration, googlePayVersion, googleMerchantId) {\n  var data, paypalPaymentMethod;\n  var androidPayConfiguration = configuration.gatewayConfiguration.androidPay;\n  var environment =\n    configuration.gatewayConfiguration.environment === \"production\"\n      ? \"PRODUCTION\"\n      : \"TEST\";\n\n  if (googlePayVersion === 2) {\n    data = {\n      apiVersion: 2,\n      apiVersionMinor: 0,\n      environment: environment,\n      allowedPaymentMethods: [\n        {\n          type: \"CARD\",\n          parameters: {\n            allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\n            allowedCardNetworks: androidPayConfiguration.supportedNetworks.map(\n              function (card) {\n                return card.toUpperCase();\n              }\n            ),\n          },\n          tokenizationSpecification: {\n            type: \"PAYMENT_GATEWAY\",\n            parameters: generateTokenizationParameters(configuration, {\n              \"braintree:authorizationFingerprint\":\n                androidPayConfiguration.googleAuthorizationFingerprint,\n            }),\n          },\n        },\n      ],\n    };\n\n    if (googleMerchantId) {\n      data.merchantInfo = {\n        merchantId: googleMerchantId,\n      };\n    }\n\n    if (androidPayConfiguration.paypalClientId) {\n      paypalPaymentMethod = {\n        type: \"PAYPAL\",\n        parameters: {\n          /* eslint-disable camelcase */\n          purchase_context: {\n            purchase_units: [\n              {\n                payee: {\n                  client_id: androidPayConfiguration.paypalClientId,\n                },\n                recurring_payment: true,\n              },\n            ],\n          },\n          /* eslint-enable camelcase */\n        },\n        tokenizationSpecification: {\n          type: \"PAYMENT_GATEWAY\",\n          parameters: generateTokenizationParameters(configuration, {\n            \"braintree:paypalClientId\": androidPayConfiguration.paypalClientId,\n          }),\n        },\n      };\n\n      data.allowedPaymentMethods.push(paypalPaymentMethod);\n    }\n  } else {\n    data = {\n      environment: environment,\n      allowedPaymentMethods: [\"CARD\", \"TOKENIZED_CARD\"],\n      paymentMethodTokenizationParameters: {\n        tokenizationType: \"PAYMENT_GATEWAY\",\n        parameters: generateTokenizationParameters(configuration, {\n          \"braintree:authorizationFingerprint\":\n            androidPayConfiguration.googleAuthorizationFingerprint,\n        }),\n      },\n      cardRequirements: {\n        allowedCardNetworks: androidPayConfiguration.supportedNetworks.map(\n          function (card) {\n            return card.toUpperCase();\n          }\n        ),\n      },\n    };\n\n    if (configuration.authorizationType === \"TOKENIZATION_KEY\") {\n      data.paymentMethodTokenizationParameters.parameters[\n        \"braintree:clientKey\"\n      ] = configuration.authorization;\n    }\n\n    if (googleMerchantId) {\n      data.merchantId = googleMerchantId;\n    }\n\n    if (googlePayVersion) {\n      data.apiVersion = googlePayVersion;\n    }\n  }\n\n  return data;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZ2VuZXJhdGUtZ29vZ2xlLXBheS1jb25maWd1cmF0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0EsYUFBYSxnR0FBMEI7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvZ2VuZXJhdGUtZ29vZ2xlLXBheS1jb25maWd1cmF0aW9uLmpzPzBhNzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9hc3NpZ25cIikuYXNzaWduO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVRva2VuaXphdGlvblBhcmFtZXRlcnMoY29uZmlndXJhdGlvbiwgb3ZlcnJpZGVzKSB7XG4gIHZhciBtZXRhZGF0YSA9IGNvbmZpZ3VyYXRpb24uYW5hbHl0aWNzTWV0YWRhdGE7XG4gIHZhciBiYXNpY1Rva2VuaXphdGlvblBhcmFtZXRlcnMgPSB7XG4gICAgZ2F0ZXdheTogXCJicmFpbnRyZWVcIixcbiAgICBcImJyYWludHJlZTptZXJjaGFudElkXCI6IGNvbmZpZ3VyYXRpb24uZ2F0ZXdheUNvbmZpZ3VyYXRpb24ubWVyY2hhbnRJZCxcbiAgICBcImJyYWludHJlZTphcGlWZXJzaW9uXCI6IFwidjFcIixcbiAgICBcImJyYWludHJlZTpzZGtWZXJzaW9uXCI6IFZFUlNJT04sXG4gICAgXCJicmFpbnRyZWU6bWV0YWRhdGFcIjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgc291cmNlOiBtZXRhZGF0YS5zb3VyY2UsXG4gICAgICBpbnRlZ3JhdGlvbjogbWV0YWRhdGEuaW50ZWdyYXRpb24sXG4gICAgICBzZXNzaW9uSWQ6IG1ldGFkYXRhLnNlc3Npb25JZCxcbiAgICAgIHZlcnNpb246IFZFUlNJT04sXG4gICAgICBwbGF0Zm9ybTogbWV0YWRhdGEucGxhdGZvcm0sXG4gICAgfSksXG4gIH07XG5cbiAgcmV0dXJuIGFzc2lnbih7fSwgYmFzaWNUb2tlbml6YXRpb25QYXJhbWV0ZXJzLCBvdmVycmlkZXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBnb29nbGVQYXlWZXJzaW9uLCBnb29nbGVNZXJjaGFudElkKSB7XG4gIHZhciBkYXRhLCBwYXlwYWxQYXltZW50TWV0aG9kO1xuICB2YXIgYW5kcm9pZFBheUNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uLmdhdGV3YXlDb25maWd1cmF0aW9uLmFuZHJvaWRQYXk7XG4gIHZhciBlbnZpcm9ubWVudCA9XG4gICAgY29uZmlndXJhdGlvbi5nYXRld2F5Q29uZmlndXJhdGlvbi5lbnZpcm9ubWVudCA9PT0gXCJwcm9kdWN0aW9uXCJcbiAgICAgID8gXCJQUk9EVUNUSU9OXCJcbiAgICAgIDogXCJURVNUXCI7XG5cbiAgaWYgKGdvb2dsZVBheVZlcnNpb24gPT09IDIpIHtcbiAgICBkYXRhID0ge1xuICAgICAgYXBpVmVyc2lvbjogMixcbiAgICAgIGFwaVZlcnNpb25NaW5vcjogMCxcbiAgICAgIGVudmlyb25tZW50OiBlbnZpcm9ubWVudCxcbiAgICAgIGFsbG93ZWRQYXltZW50TWV0aG9kczogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJDQVJEXCIsXG4gICAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgYWxsb3dlZEF1dGhNZXRob2RzOiBbXCJQQU5fT05MWVwiLCBcIkNSWVBUT0dSQU1fM0RTXCJdLFxuICAgICAgICAgICAgYWxsb3dlZENhcmROZXR3b3JrczogYW5kcm9pZFBheUNvbmZpZ3VyYXRpb24uc3VwcG9ydGVkTmV0d29ya3MubWFwKFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoY2FyZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYXJkLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b2tlbml6YXRpb25TcGVjaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiBcIlBBWU1FTlRfR0FURVdBWVwiLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogZ2VuZXJhdGVUb2tlbml6YXRpb25QYXJhbWV0ZXJzKGNvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgICAgICAgXCJicmFpbnRyZWU6YXV0aG9yaXphdGlvbkZpbmdlcnByaW50XCI6XG4gICAgICAgICAgICAgICAgYW5kcm9pZFBheUNvbmZpZ3VyYXRpb24uZ29vZ2xlQXV0aG9yaXphdGlvbkZpbmdlcnByaW50LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcblxuICAgIGlmIChnb29nbGVNZXJjaGFudElkKSB7XG4gICAgICBkYXRhLm1lcmNoYW50SW5mbyA9IHtcbiAgICAgICAgbWVyY2hhbnRJZDogZ29vZ2xlTWVyY2hhbnRJZCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGFuZHJvaWRQYXlDb25maWd1cmF0aW9uLnBheXBhbENsaWVudElkKSB7XG4gICAgICBwYXlwYWxQYXltZW50TWV0aG9kID0ge1xuICAgICAgICB0eXBlOiBcIlBBWVBBTFwiLFxuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4gICAgICAgICAgcHVyY2hhc2VfY29udGV4dDoge1xuICAgICAgICAgICAgcHVyY2hhc2VfdW5pdHM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBheWVlOiB7XG4gICAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IGFuZHJvaWRQYXlDb25maWd1cmF0aW9uLnBheXBhbENsaWVudElkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVjdXJyaW5nX3BheW1lbnQ6IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cbiAgICAgICAgfSxcbiAgICAgICAgdG9rZW5pemF0aW9uU3BlY2lmaWNhdGlvbjoge1xuICAgICAgICAgIHR5cGU6IFwiUEFZTUVOVF9HQVRFV0FZXCIsXG4gICAgICAgICAgcGFyYW1ldGVyczogZ2VuZXJhdGVUb2tlbml6YXRpb25QYXJhbWV0ZXJzKGNvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgICAgIFwiYnJhaW50cmVlOnBheXBhbENsaWVudElkXCI6IGFuZHJvaWRQYXlDb25maWd1cmF0aW9uLnBheXBhbENsaWVudElkLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgZGF0YS5hbGxvd2VkUGF5bWVudE1ldGhvZHMucHVzaChwYXlwYWxQYXltZW50TWV0aG9kKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0YSA9IHtcbiAgICAgIGVudmlyb25tZW50OiBlbnZpcm9ubWVudCxcbiAgICAgIGFsbG93ZWRQYXltZW50TWV0aG9kczogW1wiQ0FSRFwiLCBcIlRPS0VOSVpFRF9DQVJEXCJdLFxuICAgICAgcGF5bWVudE1ldGhvZFRva2VuaXphdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgdG9rZW5pemF0aW9uVHlwZTogXCJQQVlNRU5UX0dBVEVXQVlcIixcbiAgICAgICAgcGFyYW1ldGVyczogZ2VuZXJhdGVUb2tlbml6YXRpb25QYXJhbWV0ZXJzKGNvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgICBcImJyYWludHJlZTphdXRob3JpemF0aW9uRmluZ2VycHJpbnRcIjpcbiAgICAgICAgICAgIGFuZHJvaWRQYXlDb25maWd1cmF0aW9uLmdvb2dsZUF1dGhvcml6YXRpb25GaW5nZXJwcmludCxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgICAgY2FyZFJlcXVpcmVtZW50czoge1xuICAgICAgICBhbGxvd2VkQ2FyZE5ldHdvcmtzOiBhbmRyb2lkUGF5Q29uZmlndXJhdGlvbi5zdXBwb3J0ZWROZXR3b3Jrcy5tYXAoXG4gICAgICAgICAgZnVuY3Rpb24gKGNhcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXJkLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaWYgKGNvbmZpZ3VyYXRpb24uYXV0aG9yaXphdGlvblR5cGUgPT09IFwiVE9LRU5JWkFUSU9OX0tFWVwiKSB7XG4gICAgICBkYXRhLnBheW1lbnRNZXRob2RUb2tlbml6YXRpb25QYXJhbWV0ZXJzLnBhcmFtZXRlcnNbXG4gICAgICAgIFwiYnJhaW50cmVlOmNsaWVudEtleVwiXG4gICAgICBdID0gY29uZmlndXJhdGlvbi5hdXRob3JpemF0aW9uO1xuICAgIH1cblxuICAgIGlmIChnb29nbGVNZXJjaGFudElkKSB7XG4gICAgICBkYXRhLm1lcmNoYW50SWQgPSBnb29nbGVNZXJjaGFudElkO1xuICAgIH1cblxuICAgIGlmIChnb29nbGVQYXlWZXJzaW9uKSB7XG4gICAgICBkYXRhLmFwaVZlcnNpb24gPSBnb29nbGVQYXlWZXJzaW9uO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/generate-google-pay-configuration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/in-iframe.js":
/*!*****************************************************!*\
  !*** ./node_modules/braintree-web/lib/in-iframe.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function inIframe(win) {\n  win = win || window;\n\n  try {\n    return win.self !== win.top;\n  } catch (e) {\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvaW4taWZyYW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2luLWlmcmFtZS5qcz80NmJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluSWZyYW1lKHdpbikge1xuICB3aW4gPSB3aW4gfHwgd2luZG93O1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbi5zZWxmICE9PSB3aW4udG9wO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/in-iframe.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/is-date-string-before-or-on.js":
/*!***********************************************************************!*\
  !*** ./node_modules/braintree-web/lib/is-date-string-before-or-on.js ***!
  \***********************************************************************/
/***/ ((module) => {

eval("\n\nfunction convertDateStringToDate(dateString) {\n  var splitDate = dateString.split(\"-\");\n\n  return new Date(splitDate[0], splitDate[1], splitDate[2]);\n}\n\nfunction isDateStringBeforeOrOn(firstDate, secondDate) {\n  return (\n    convertDateStringToDate(firstDate) <= convertDateStringToDate(secondDate)\n  );\n}\n\nmodule.exports = isDateStringBeforeOrOn;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvaXMtZGF0ZS1zdHJpbmctYmVmb3JlLW9yLW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9pcy1kYXRlLXN0cmluZy1iZWZvcmUtb3Itb24uanM/ODAwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gY29udmVydERhdGVTdHJpbmdUb0RhdGUoZGF0ZVN0cmluZykge1xuICB2YXIgc3BsaXREYXRlID0gZGF0ZVN0cmluZy5zcGxpdChcIi1cIik7XG5cbiAgcmV0dXJuIG5ldyBEYXRlKHNwbGl0RGF0ZVswXSwgc3BsaXREYXRlWzFdLCBzcGxpdERhdGVbMl0pO1xufVxuXG5mdW5jdGlvbiBpc0RhdGVTdHJpbmdCZWZvcmVPck9uKGZpcnN0RGF0ZSwgc2Vjb25kRGF0ZSkge1xuICByZXR1cm4gKFxuICAgIGNvbnZlcnREYXRlU3RyaW5nVG9EYXRlKGZpcnN0RGF0ZSkgPD0gY29udmVydERhdGVTdHJpbmdUb0RhdGUoc2Vjb25kRGF0ZSlcbiAgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0RhdGVTdHJpbmdCZWZvcmVPck9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/is-date-string-before-or-on.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/is-https.js":
/*!****************************************************!*\
  !*** ./node_modules/braintree-web/lib/is-https.js ***!
  \****************************************************/
/***/ ((module) => {

eval("\n\nfunction isHTTPS(protocol) {\n  protocol = protocol || window.location.protocol;\n\n  return protocol === \"https:\";\n}\n\nmodule.exports = {\n  isHTTPS: isHTTPS,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvaXMtaHR0cHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvaXMtaHR0cHMuanM/NWJjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gaXNIVFRQUyhwcm90b2NvbCkge1xuICBwcm90b2NvbCA9IHByb3RvY29sIHx8IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcblxuICByZXR1cm4gcHJvdG9jb2wgPT09IFwiaHR0cHM6XCI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0hUVFBTOiBpc0hUVFBTLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/is-https.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/is-verified-domain.js":
/*!**************************************************************!*\
  !*** ./node_modules/braintree-web/lib/is-verified-domain.js ***!
  \**************************************************************/
/***/ ((module) => {

eval("\n\nvar parser;\nvar legalHosts = {\n  \"paypal.com\": 1,\n  \"braintreepayments.com\": 1,\n  \"braintreegateway.com\": 1,\n  \"braintree-api.com\": 1,\n};\n\nfunction stripSubdomains(domain) {\n  return domain.split(\".\").slice(-2).join(\".\");\n}\n\nfunction isVerifiedDomain(url) {\n  var mainDomain;\n\n  url = url.toLowerCase();\n\n  if (!/^https:/.test(url)) {\n    return false;\n  }\n\n  parser = parser || document.createElement(\"a\");\n  parser.href = url;\n  mainDomain = stripSubdomains(parser.hostname);\n\n  return legalHosts.hasOwnProperty(mainDomain);\n}\n\nmodule.exports = isVerifiedDomain;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvaXMtdmVyaWZpZWQtZG9tYWluLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvaXMtdmVyaWZpZWQtZG9tYWluLmpzPzQzOWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwYXJzZXI7XG52YXIgbGVnYWxIb3N0cyA9IHtcbiAgXCJwYXlwYWwuY29tXCI6IDEsXG4gIFwiYnJhaW50cmVlcGF5bWVudHMuY29tXCI6IDEsXG4gIFwiYnJhaW50cmVlZ2F0ZXdheS5jb21cIjogMSxcbiAgXCJicmFpbnRyZWUtYXBpLmNvbVwiOiAxLFxufTtcblxuZnVuY3Rpb24gc3RyaXBTdWJkb21haW5zKGRvbWFpbikge1xuICByZXR1cm4gZG9tYWluLnNwbGl0KFwiLlwiKS5zbGljZSgtMikuam9pbihcIi5cIik7XG59XG5cbmZ1bmN0aW9uIGlzVmVyaWZpZWREb21haW4odXJsKSB7XG4gIHZhciBtYWluRG9tYWluO1xuXG4gIHVybCA9IHVybC50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmICghL15odHRwczovLnRlc3QodXJsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHBhcnNlciA9IHBhcnNlciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgcGFyc2VyLmhyZWYgPSB1cmw7XG4gIG1haW5Eb21haW4gPSBzdHJpcFN1YmRvbWFpbnMocGFyc2VyLmhvc3RuYW1lKTtcblxuICByZXR1cm4gbGVnYWxIb3N0cy5oYXNPd25Qcm9wZXJ0eShtYWluRG9tYWluKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1ZlcmlmaWVkRG9tYWluO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/is-verified-domain.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/json-clone.js":
/*!******************************************************!*\
  !*** ./node_modules/braintree-web/lib/json-clone.js ***!
  \******************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (value) {\n  return JSON.parse(JSON.stringify(value));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvanNvbi1jbG9uZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL2pzb24tY2xvbmUuanM/NWY3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/json-clone.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/methods.js":
/*!***************************************************!*\
  !*** ./node_modules/braintree-web/lib/methods.js ***!
  \***************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (obj) {\n  return Object.keys(obj).filter(function (key) {\n    return typeof obj[key] === \"function\";\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvbWV0aG9kcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL21ldGhvZHMuanM/MTkxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmpba2V5XSA9PT0gXCJmdW5jdGlvblwiO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/methods.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/once.js":
/*!************************************************!*\
  !*** ./node_modules/braintree-web/lib/once.js ***!
  \************************************************/
/***/ ((module) => {

eval("\n\nfunction once(fn) {\n  var called = false;\n\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(null, arguments);\n    }\n  };\n}\n\nmodule.exports = once;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvb25jZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9vbmNlLmpzP2I2N2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvbmNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/once.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/querystring.js":
/*!*******************************************************!*\
  !*** ./node_modules/braintree-web/lib/querystring.js ***!
  \*******************************************************/
/***/ ((module) => {

eval("\n\nfunction _notEmpty(obj) {\n  var key;\n\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/* eslint-disable no-mixed-operators */\nfunction _isArray(value) {\n  return (\n    (value &&\n      typeof value === \"object\" &&\n      typeof value.length === \"number\" &&\n      Object.prototype.toString.call(value) === \"[object Array]\") ||\n    false\n  );\n}\n/* eslint-enable no-mixed-operators */\n\nfunction hasQueryParams(url) {\n  url = url || window.location.href;\n\n  return /\\?/.test(url);\n}\n\nfunction parse(url) {\n  var query, params;\n\n  url = url || window.location.href;\n\n  if (!hasQueryParams(url)) {\n    return {};\n  }\n\n  query = url.split(\"?\")[1] || \"\";\n  query = query.replace(/#.*$/, \"\").split(\"&\");\n\n  params = query.reduce(function (toReturn, keyValue) {\n    var parts = keyValue.split(\"=\");\n    var key = decodeURIComponent(parts[0]);\n    var value = decodeURIComponent(parts[1]);\n\n    toReturn[key] = value;\n\n    return toReturn;\n  }, {});\n\n  return params;\n}\n\nfunction stringify(params, namespace) {\n  var k, v, p;\n  var query = [];\n\n  for (p in params) {\n    if (!params.hasOwnProperty(p)) {\n      continue;\n    }\n\n    v = params[p];\n\n    if (namespace) {\n      if (_isArray(params)) {\n        k = namespace + \"[]\";\n      } else {\n        k = namespace + \"[\" + p + \"]\";\n      }\n    } else {\n      k = p;\n    }\n    if (typeof v === \"object\") {\n      query.push(stringify(v, k));\n    } else {\n      query.push(encodeURIComponent(k) + \"=\" + encodeURIComponent(v));\n    }\n  }\n\n  return query.join(\"&\");\n}\n\nfunction queryify(url, params) {\n  url = url || \"\";\n\n  if (params != null && typeof params === \"object\" && _notEmpty(params)) {\n    url += url.indexOf(\"?\") === -1 ? \"?\" : \"\";\n    url += url.indexOf(\"=\") !== -1 ? \"&\" : \"\";\n    url += stringify(params);\n  }\n\n  return url;\n}\n\nmodule.exports = {\n  parse: parse,\n  stringify: stringify,\n  queryify: queryify,\n  hasQueryParams: hasQueryParams,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvcXVlcnlzdHJpbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUcsSUFBSTs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL3F1ZXJ5c3RyaW5nLmpzPzQ3ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9ub3RFbXB0eShvYmopIHtcbiAgdmFyIGtleTtcblxuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tbWl4ZWQtb3BlcmF0b3JzICovXG5mdW5jdGlvbiBfaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgICh2YWx1ZSAmJlxuICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICB0eXBlb2YgdmFsdWUubGVuZ3RoID09PSBcIm51bWJlclwiICYmXG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgQXJyYXldXCIpIHx8XG4gICAgZmFsc2VcbiAgKTtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tbWl4ZWQtb3BlcmF0b3JzICovXG5cbmZ1bmN0aW9uIGhhc1F1ZXJ5UGFyYW1zKHVybCkge1xuICB1cmwgPSB1cmwgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cbiAgcmV0dXJuIC9cXD8vLnRlc3QodXJsKTtcbn1cblxuZnVuY3Rpb24gcGFyc2UodXJsKSB7XG4gIHZhciBxdWVyeSwgcGFyYW1zO1xuXG4gIHVybCA9IHVybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcblxuICBpZiAoIWhhc1F1ZXJ5UGFyYW1zKHVybCkpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBxdWVyeSA9IHVybC5zcGxpdChcIj9cIilbMV0gfHwgXCJcIjtcbiAgcXVlcnkgPSBxdWVyeS5yZXBsYWNlKC8jLiokLywgXCJcIikuc3BsaXQoXCImXCIpO1xuXG4gIHBhcmFtcyA9IHF1ZXJ5LnJlZHVjZShmdW5jdGlvbiAodG9SZXR1cm4sIGtleVZhbHVlKSB7XG4gICAgdmFyIHBhcnRzID0ga2V5VmFsdWUuc3BsaXQoXCI9XCIpO1xuICAgIHZhciBrZXkgPSBkZWNvZGVVUklDb21wb25lbnQocGFydHNbMF0pO1xuICAgIHZhciB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1sxXSk7XG5cbiAgICB0b1JldHVybltrZXldID0gdmFsdWU7XG5cbiAgICByZXR1cm4gdG9SZXR1cm47XG4gIH0sIHt9KTtcblxuICByZXR1cm4gcGFyYW1zO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkocGFyYW1zLCBuYW1lc3BhY2UpIHtcbiAgdmFyIGssIHYsIHA7XG4gIHZhciBxdWVyeSA9IFtdO1xuXG4gIGZvciAocCBpbiBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdiA9IHBhcmFtc1twXTtcblxuICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgIGlmIChfaXNBcnJheShwYXJhbXMpKSB7XG4gICAgICAgIGsgPSBuYW1lc3BhY2UgKyBcIltdXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrID0gbmFtZXNwYWNlICsgXCJbXCIgKyBwICsgXCJdXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGsgPSBwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHF1ZXJ5LnB1c2goc3RyaW5naWZ5KHYsIGspKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcXVlcnkucHVzaChlbmNvZGVVUklDb21wb25lbnQoaykgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2KSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHF1ZXJ5LmpvaW4oXCImXCIpO1xufVxuXG5mdW5jdGlvbiBxdWVyeWlmeSh1cmwsIHBhcmFtcykge1xuICB1cmwgPSB1cmwgfHwgXCJcIjtcblxuICBpZiAocGFyYW1zICE9IG51bGwgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiAmJiBfbm90RW1wdHkocGFyYW1zKSkge1xuICAgIHVybCArPSB1cmwuaW5kZXhPZihcIj9cIikgPT09IC0xID8gXCI/XCIgOiBcIlwiO1xuICAgIHVybCArPSB1cmwuaW5kZXhPZihcIj1cIikgIT09IC0xID8gXCImXCIgOiBcIlwiO1xuICAgIHVybCArPSBzdHJpbmdpZnkocGFyYW1zKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwYXJzZTogcGFyc2UsXG4gIHN0cmluZ2lmeTogc3RyaW5naWZ5LFxuICBxdWVyeWlmeTogcXVlcnlpZnksXG4gIGhhc1F1ZXJ5UGFyYW1zOiBoYXNRdWVyeVBhcmFtcyxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/querystring.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/shadow.js":
/*!**************************************************!*\
  !*** ./node_modules/braintree-web/lib/shadow.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar uuid = __webpack_require__(/*! @braintree/uuid */ \"(ssr)/./node_modules/@braintree/uuid/index.js\");\nvar findRootNode = __webpack_require__(/*! ./find-root-node */ \"(ssr)/./node_modules/braintree-web/lib/find-root-node.js\");\n\n// based on https://github.com/krakenjs/belter/blob/cdddc4f8ddb172d29db9e7e1ad1eeeacfb93e215/src/dom.js#L981-L1031\n// thanks @bluepnume\n\nfunction isShadowElement(element) {\n  element = findRootNode(element);\n\n  return element.toString() === \"[object ShadowRoot]\";\n}\n\nfunction getShadowHost(element) {\n  element = findRootNode(element);\n\n  if (!isShadowElement(element)) {\n    return null;\n  }\n\n  return element.host;\n}\n\nfunction transformToSlot(element, styles) {\n  var styleNode = findRootNode(element).querySelector(\"style\");\n  var shadowHost = getShadowHost(element);\n  var slotName = \"shadow-slot-\" + uuid();\n  var slot = document.createElement(\"slot\");\n  var slotProvider = document.createElement(\"div\");\n\n  slot.setAttribute(\"name\", slotName);\n  element.appendChild(slot);\n\n  slotProvider.setAttribute(\"slot\", slotName);\n  shadowHost.appendChild(slotProvider);\n\n  if (styles) {\n    if (!styleNode) {\n      styleNode = document.createElement(\"style\");\n      element.appendChild(styleNode);\n    }\n\n    styleNode.sheet.insertRule(\n      '::slotted([slot=\"' + slotName + '\"]) { ' + styles + \" }\"\n    );\n  }\n\n  if (isShadowElement(shadowHost)) {\n    return transformToSlot(slotProvider, styles);\n  }\n\n  return slotProvider;\n}\n\nmodule.exports = {\n  isShadowElement: isShadowElement,\n  getShadowHost: getShadowHost,\n  transformToSlot: transformToSlot,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvc2hhZG93LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFdBQVcsbUJBQU8sQ0FBQyxzRUFBaUI7QUFDcEMsbUJBQW1CLG1CQUFPLENBQUMsa0ZBQWtCOztBQUU3QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QyxnQkFBZ0I7QUFDOUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL2xpYi9zaGFkb3cuanM/ZThmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHV1aWQgPSByZXF1aXJlKFwiQGJyYWludHJlZS91dWlkXCIpO1xudmFyIGZpbmRSb290Tm9kZSA9IHJlcXVpcmUoXCIuL2ZpbmQtcm9vdC1ub2RlXCIpO1xuXG4vLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20va3Jha2VuanMvYmVsdGVyL2Jsb2IvY2RkZGM0ZjhkZGIxNzJkMjlkYjllN2UxYWQxZWVlYWNmYjkzZTIxNS9zcmMvZG9tLmpzI0w5ODEtTDEwMzFcbi8vIHRoYW5rcyBAYmx1ZXBudW1lXG5cbmZ1bmN0aW9uIGlzU2hhZG93RWxlbWVudChlbGVtZW50KSB7XG4gIGVsZW1lbnQgPSBmaW5kUm9vdE5vZGUoZWxlbWVudCk7XG5cbiAgcmV0dXJuIGVsZW1lbnQudG9TdHJpbmcoKSA9PT0gXCJbb2JqZWN0IFNoYWRvd1Jvb3RdXCI7XG59XG5cbmZ1bmN0aW9uIGdldFNoYWRvd0hvc3QoZWxlbWVudCkge1xuICBlbGVtZW50ID0gZmluZFJvb3ROb2RlKGVsZW1lbnQpO1xuXG4gIGlmICghaXNTaGFkb3dFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5ob3N0O1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Ub1Nsb3QoZWxlbWVudCwgc3R5bGVzKSB7XG4gIHZhciBzdHlsZU5vZGUgPSBmaW5kUm9vdE5vZGUoZWxlbWVudCkucXVlcnlTZWxlY3RvcihcInN0eWxlXCIpO1xuICB2YXIgc2hhZG93SG9zdCA9IGdldFNoYWRvd0hvc3QoZWxlbWVudCk7XG4gIHZhciBzbG90TmFtZSA9IFwic2hhZG93LXNsb3QtXCIgKyB1dWlkKCk7XG4gIHZhciBzbG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNsb3RcIik7XG4gIHZhciBzbG90UHJvdmlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gIHNsb3Quc2V0QXR0cmlidXRlKFwibmFtZVwiLCBzbG90TmFtZSk7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoc2xvdCk7XG5cbiAgc2xvdFByb3ZpZGVyLnNldEF0dHJpYnV0ZShcInNsb3RcIiwgc2xvdE5hbWUpO1xuICBzaGFkb3dIb3N0LmFwcGVuZENoaWxkKHNsb3RQcm92aWRlcik7XG5cbiAgaWYgKHN0eWxlcykge1xuICAgIGlmICghc3R5bGVOb2RlKSB7XG4gICAgICBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gICAgfVxuXG4gICAgc3R5bGVOb2RlLnNoZWV0Lmluc2VydFJ1bGUoXG4gICAgICAnOjpzbG90dGVkKFtzbG90PVwiJyArIHNsb3ROYW1lICsgJ1wiXSkgeyAnICsgc3R5bGVzICsgXCIgfVwiXG4gICAgKTtcbiAgfVxuXG4gIGlmIChpc1NoYWRvd0VsZW1lbnQoc2hhZG93SG9zdCkpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtVG9TbG90KHNsb3RQcm92aWRlciwgc3R5bGVzKTtcbiAgfVxuXG4gIHJldHVybiBzbG90UHJvdmlkZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1NoYWRvd0VsZW1lbnQ6IGlzU2hhZG93RWxlbWVudCxcbiAgZ2V0U2hhZG93SG9zdDogZ2V0U2hhZG93SG9zdCxcbiAgdHJhbnNmb3JtVG9TbG90OiB0cmFuc2Zvcm1Ub1Nsb3QsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/shadow.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/snake-case-to-camel-case.js":
/*!********************************************************************!*\
  !*** ./node_modules/braintree-web/lib/snake-case-to-camel-case.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (snakeString) {\n  if (snakeString.indexOf(\"_\") === -1) {\n    return snakeString;\n  }\n\n  return snakeString.toLowerCase().replace(/(\\_\\w)/g, function (match) {\n    return match[1].toUpperCase();\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvc25ha2UtY2FzZS10by1jYW1lbC1jYXNlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL3NuYWtlLWNhc2UtdG8tY2FtZWwtY2FzZS5qcz9hMzY3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzbmFrZVN0cmluZykge1xuICBpZiAoc25ha2VTdHJpbmcuaW5kZXhPZihcIl9cIikgPT09IC0xKSB7XG4gICAgcmV0dXJuIHNuYWtlU3RyaW5nO1xuICB9XG5cbiAgcmV0dXJuIHNuYWtlU3RyaW5nLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFxcX1xcdykvZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIG1hdGNoWzFdLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/snake-case-to-camel-case.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/use-min.js":
/*!***************************************************!*\
  !*** ./node_modules/braintree-web/lib/use-min.js ***!
  \***************************************************/
/***/ ((module) => {

eval("\n\nfunction useMin(isDebug) {\n  return isDebug ? \"\" : \".min\";\n}\n\nmodule.exports = useMin;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvdXNlLW1pbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvbGliL3VzZS1taW4uanM/MDQzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gdXNlTWluKGlzRGVidWcpIHtcbiAgcmV0dXJuIGlzRGVidWcgPyBcIlwiIDogXCIubWluXCI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdXNlTWluO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/use-min.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/lib/vendor/polyfill.js":
/*!***********************************************************!*\
  !*** ./node_modules/braintree-web/lib/vendor/polyfill.js ***!
  \***********************************************************/
/***/ ((module) => {

eval("\n\n// NEXT_MAJOR_VERSION old versions of IE don't have atob, in the\n// next major version, we're dropping support for those versions\n// so we can eliminate the need to have this atob polyfill\nvar atobNormalized = typeof atob === \"function\" ? atob : atobPolyfill;\n\nfunction atobPolyfill(base64String) {\n  var a, b, c, b1, b2, b3, b4, i;\n  var base64Matcher = new RegExp(\n    \"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$\"\n  );\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var result = \"\";\n\n  if (!base64Matcher.test(base64String)) {\n    throw new Error(\"Non base64 encoded input passed to window.atob polyfill\");\n  }\n\n  i = 0;\n  do {\n    b1 = characters.indexOf(base64String.charAt(i++));\n    b2 = characters.indexOf(base64String.charAt(i++));\n    b3 = characters.indexOf(base64String.charAt(i++));\n    b4 = characters.indexOf(base64String.charAt(i++));\n\n    a = ((b1 & 0x3f) << 2) | ((b2 >> 4) & 0x3);\n    b = ((b2 & 0xf) << 4) | ((b3 >> 2) & 0xf);\n    c = ((b3 & 0x3) << 6) | (b4 & 0x3f);\n\n    result +=\n      String.fromCharCode(a) +\n      (b ? String.fromCharCode(b) : \"\") +\n      (c ? String.fromCharCode(c) : \"\");\n  } while (i < base64String.length);\n\n  return result;\n}\n\nmodule.exports = {\n  atob: function (base64String) {\n    return atobNormalized.call(window, base64String);\n  },\n  _atob: atobPolyfill,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvdmVuZG9yL3BvbHlmaWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixFQUFFLG1CQUFtQixFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixFQUFFLE1BQU0sSUFBSTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9saWIvdmVuZG9yL3BvbHlmaWxsLmpzP2Y2ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIE5FWFRfTUFKT1JfVkVSU0lPTiBvbGQgdmVyc2lvbnMgb2YgSUUgZG9uJ3QgaGF2ZSBhdG9iLCBpbiB0aGVcbi8vIG5leHQgbWFqb3IgdmVyc2lvbiwgd2UncmUgZHJvcHBpbmcgc3VwcG9ydCBmb3IgdGhvc2UgdmVyc2lvbnNcbi8vIHNvIHdlIGNhbiBlbGltaW5hdGUgdGhlIG5lZWQgdG8gaGF2ZSB0aGlzIGF0b2IgcG9seWZpbGxcbnZhciBhdG9iTm9ybWFsaXplZCA9IHR5cGVvZiBhdG9iID09PSBcImZ1bmN0aW9uXCIgPyBhdG9iIDogYXRvYlBvbHlmaWxsO1xuXG5mdW5jdGlvbiBhdG9iUG9seWZpbGwoYmFzZTY0U3RyaW5nKSB7XG4gIHZhciBhLCBiLCBjLCBiMSwgYjIsIGIzLCBiNCwgaTtcbiAgdmFyIGJhc2U2NE1hdGNoZXIgPSBuZXcgUmVnRXhwKFxuICAgIFwiXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PXxbQS1aYS16MC05Ky9dezR9KShbPV17MSwyfSk/JFwiXG4gICk7XG4gIHZhciBjaGFyYWN0ZXJzID1cbiAgICBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuXG4gIGlmICghYmFzZTY0TWF0Y2hlci50ZXN0KGJhc2U2NFN0cmluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb24gYmFzZTY0IGVuY29kZWQgaW5wdXQgcGFzc2VkIHRvIHdpbmRvdy5hdG9iIHBvbHlmaWxsXCIpO1xuICB9XG5cbiAgaSA9IDA7XG4gIGRvIHtcbiAgICBiMSA9IGNoYXJhY3RlcnMuaW5kZXhPZihiYXNlNjRTdHJpbmcuY2hhckF0KGkrKykpO1xuICAgIGIyID0gY2hhcmFjdGVycy5pbmRleE9mKGJhc2U2NFN0cmluZy5jaGFyQXQoaSsrKSk7XG4gICAgYjMgPSBjaGFyYWN0ZXJzLmluZGV4T2YoYmFzZTY0U3RyaW5nLmNoYXJBdChpKyspKTtcbiAgICBiNCA9IGNoYXJhY3RlcnMuaW5kZXhPZihiYXNlNjRTdHJpbmcuY2hhckF0KGkrKykpO1xuXG4gICAgYSA9ICgoYjEgJiAweDNmKSA8PCAyKSB8ICgoYjIgPj4gNCkgJiAweDMpO1xuICAgIGIgPSAoKGIyICYgMHhmKSA8PCA0KSB8ICgoYjMgPj4gMikgJiAweGYpO1xuICAgIGMgPSAoKGIzICYgMHgzKSA8PCA2KSB8IChiNCAmIDB4M2YpO1xuXG4gICAgcmVzdWx0ICs9XG4gICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKGEpICtcbiAgICAgIChiID8gU3RyaW5nLmZyb21DaGFyQ29kZShiKSA6IFwiXCIpICtcbiAgICAgIChjID8gU3RyaW5nLmZyb21DaGFyQ29kZShjKSA6IFwiXCIpO1xuICB9IHdoaWxlIChpIDwgYmFzZTY0U3RyaW5nLmxlbmd0aCk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGF0b2I6IGZ1bmN0aW9uIChiYXNlNjRTdHJpbmcpIHtcbiAgICByZXR1cm4gYXRvYk5vcm1hbGl6ZWQuY2FsbCh3aW5kb3csIGJhc2U2NFN0cmluZyk7XG4gIH0sXG4gIF9hdG9iOiBhdG9iUG9seWZpbGwsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/lib/vendor/polyfill.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/paypal-checkout/errors.js":
/*!**************************************************************!*\
  !*** ./node_modules/braintree-web/paypal-checkout/errors.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.PayPal Checkout - Creation Error Codes\n * @description Errors that occur when [creating the PayPal Checkout component](./module-braintree-web_paypal-checkout.html#.create).\n * @property {MERCHANT} PAYPAL_NOT_ENABLED Occurs when PayPal is not enabled on the Braintree control panel.\n * @property {MERCHANT} PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED Occurs only when testing in Sandbox, when a PayPal sandbox account is not linked to the merchant account in the Braintree control panel.\n */\n\n/**\n * @name BraintreeError.PayPal Checkout - createPayment Error Codes\n * @description Errors that occur when using the [`createPayment` method](./PayPalCheckout.html#createPayment).\n * @property {MERCHANT} PAYPAL_FLOW_OPTION_REQUIRED Occurs when a required option is missing.\n * @property {MERCHANT} PAYPAL_INVALID_PAYMENT_OPTION Occurs when an option contains an invalid value.\n * @property {NETWORK} PAYPAL_FLOW_FAILED Occurs when something goes wrong when initializing the flow.\n */\n\n/**\n * @name BraintreeError.PayPal Checkout - startVaultInitiatedCheckout Error Codes\n * @description Errors that occur when using the [`startVaultInitiatedCheckout` method](./PayPalCheckout.html#startVaultInitiatedCheckout).\n * @property {MERCHANT} PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED Occurs when a required param is missing when calling the method.\n * @property {MERCHANT} PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED Occurs when PayPal window could not be opened. This often occurs because the call to start the vault initiated flow was not triggered from a click event.\n * @property {CUSTOMER} PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED Occurs when a customer closes the PayPal flow before completion.\n * @property {MERCHANT} PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS Occurs when the flow is initialized while an authorization is already in progress.\n * @property {NETWORK} PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED Occurs when something went wrong setting up the flow.\n */\n\n/**\n * @name BraintreeError.PayPal Checkout - tokenizePayment Error Codes\n * @description Errors that occur when using the [`tokenizePayment` method](./PayPalCheckout.html#tokenizePayment).\n * @property {NETWORK} PAYPAL_ACCOUNT_TOKENIZATION_FAILED Occurs when PayPal account could not be tokenized.\n */\n\n/**\n * @name BraintreeError.Paypal Checkout - updatePayment Error Codes\n * @description Errors that occur when using the [`updatePayment` method](./PayPalCheckout.html#updatePayment).\n * @property {MERCHANT} PAYPAL_INVALID_PAYMENT_OPTION Occurs when an option contains an invalid value.\n * @property {MERCHANT} PAYPAL_MISSING_REQUIRED_OPTION Occurs when a required option is missing.\n * @property {NETWORK} PAYPAL_FLOW_FAILED Occurs when something goes wrong when initializing the flow or communicating with the server.\n */\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  PAYPAL_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_NOT_ENABLED\",\n    message: \"PayPal is not enabled for this merchant.\",\n  },\n  PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED\",\n    message:\n      \"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree.\",\n  },\n  PAYPAL_ACCOUNT_TOKENIZATION_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"PAYPAL_ACCOUNT_TOKENIZATION_FAILED\",\n    message: \"Could not tokenize user's PayPal account.\",\n  },\n  PAYPAL_FLOW_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"PAYPAL_FLOW_FAILED\",\n    message: \"Could not initialize PayPal flow.\",\n  },\n  PAYPAL_FLOW_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_FLOW_OPTION_REQUIRED\",\n    message: \"PayPal flow property is invalid or missing.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED\",\n    message: \"Something went wrong when setting up the checkout workflow.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\",\n    message:\n      \"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED\",\n    message: \"Customer closed PayPal popup before authorizing.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS\",\n    message: \"Vault initiated checkout already in progress.\",\n  },\n  PAYPAL_INVALID_PAYMENT_OPTION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_INVALID_PAYMENT_OPTION\",\n    message: \"PayPal payment options are invalid.\",\n  },\n  PAYPAL_MISSING_REQUIRED_OPTION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_MISSING_REQUIRED_OPTION\",\n    message: \"Missing required option.\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9wYXlwYWwtY2hlY2tvdXQvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFNBQVM7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsU0FBUztBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFNBQVM7QUFDdkI7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9wYXlwYWwtY2hlY2tvdXQvZXJyb3JzLmpzPzhkNmYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuUGF5UGFsIENoZWNrb3V0IC0gQ3JlYXRpb24gRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIFtjcmVhdGluZyB0aGUgUGF5UGFsIENoZWNrb3V0IGNvbXBvbmVudF0oLi9tb2R1bGUtYnJhaW50cmVlLXdlYl9wYXlwYWwtY2hlY2tvdXQuaHRtbCMuY3JlYXRlKS5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFBBWVBBTF9OT1RfRU5BQkxFRCBPY2N1cnMgd2hlbiBQYXlQYWwgaXMgbm90IGVuYWJsZWQgb24gdGhlIEJyYWludHJlZSBjb250cm9sIHBhbmVsLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gUEFZUEFMX1NBTkRCT1hfQUNDT1VOVF9OT1RfTElOS0VEIE9jY3VycyBvbmx5IHdoZW4gdGVzdGluZyBpbiBTYW5kYm94LCB3aGVuIGEgUGF5UGFsIHNhbmRib3ggYWNjb3VudCBpcyBub3QgbGlua2VkIHRvIHRoZSBtZXJjaGFudCBhY2NvdW50IGluIHRoZSBCcmFpbnRyZWUgY29udHJvbCBwYW5lbC5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLlBheVBhbCBDaGVja291dCAtIGNyZWF0ZVBheW1lbnQgRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIHVzaW5nIHRoZSBbYGNyZWF0ZVBheW1lbnRgIG1ldGhvZF0oLi9QYXlQYWxDaGVja291dC5odG1sI2NyZWF0ZVBheW1lbnQpLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gUEFZUEFMX0ZMT1dfT1BUSU9OX1JFUVVJUkVEIE9jY3VycyB3aGVuIGEgcmVxdWlyZWQgb3B0aW9uIGlzIG1pc3NpbmcuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBQQVlQQUxfSU5WQUxJRF9QQVlNRU5UX09QVElPTiBPY2N1cnMgd2hlbiBhbiBvcHRpb24gY29udGFpbnMgYW4gaW52YWxpZCB2YWx1ZS5cbiAqIEBwcm9wZXJ0eSB7TkVUV09SS30gUEFZUEFMX0ZMT1dfRkFJTEVEIE9jY3VycyB3aGVuIHNvbWV0aGluZyBnb2VzIHdyb25nIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBmbG93LlxuICovXG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuUGF5UGFsIENoZWNrb3V0IC0gc3RhcnRWYXVsdEluaXRpYXRlZENoZWNrb3V0IEVycm9yIENvZGVzXG4gKiBAZGVzY3JpcHRpb24gRXJyb3JzIHRoYXQgb2NjdXIgd2hlbiB1c2luZyB0aGUgW2BzdGFydFZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRgIG1ldGhvZF0oLi9QYXlQYWxDaGVja291dC5odG1sI3N0YXJ0VmF1bHRJbml0aWF0ZWRDaGVja291dCkuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBQQVlQQUxfU1RBUlRfVkFVTFRfSU5JVElBVEVEX0NIRUNLT1VUX1BBUkFNX1JFUVVJUkVEIE9jY3VycyB3aGVuIGEgcmVxdWlyZWQgcGFyYW0gaXMgbWlzc2luZyB3aGVuIGNhbGxpbmcgdGhlIG1ldGhvZC5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUE9QVVBfT1BFTl9GQUlMRUQgT2NjdXJzIHdoZW4gUGF5UGFsIHdpbmRvdyBjb3VsZCBub3QgYmUgb3BlbmVkLiBUaGlzIG9mdGVuIG9jY3VycyBiZWNhdXNlIHRoZSBjYWxsIHRvIHN0YXJ0IHRoZSB2YXVsdCBpbml0aWF0ZWQgZmxvdyB3YXMgbm90IHRyaWdnZXJlZCBmcm9tIGEgY2xpY2sgZXZlbnQuXG4gKiBAcHJvcGVydHkge0NVU1RPTUVSfSBQQVlQQUxfU1RBUlRfVkFVTFRfSU5JVElBVEVEX0NIRUNLT1VUX0NBTkNFTEVEIE9jY3VycyB3aGVuIGEgY3VzdG9tZXIgY2xvc2VzIHRoZSBQYXlQYWwgZmxvdyBiZWZvcmUgY29tcGxldGlvbi5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfSU5fUFJPR1JFU1MgT2NjdXJzIHdoZW4gdGhlIGZsb3cgaXMgaW5pdGlhbGl6ZWQgd2hpbGUgYW4gYXV0aG9yaXphdGlvbiBpcyBhbHJlYWR5IGluIHByb2dyZXNzLlxuICogQHByb3BlcnR5IHtORVRXT1JLfSBQQVlQQUxfU1RBUlRfVkFVTFRfSU5JVElBVEVEX0NIRUNLT1VUX1NFVFVQX0ZBSUxFRCBPY2N1cnMgd2hlbiBzb21ldGhpbmcgd2VudCB3cm9uZyBzZXR0aW5nIHVwIHRoZSBmbG93LlxuICovXG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuUGF5UGFsIENoZWNrb3V0IC0gdG9rZW5pemVQYXltZW50IEVycm9yIENvZGVzXG4gKiBAZGVzY3JpcHRpb24gRXJyb3JzIHRoYXQgb2NjdXIgd2hlbiB1c2luZyB0aGUgW2B0b2tlbml6ZVBheW1lbnRgIG1ldGhvZF0oLi9QYXlQYWxDaGVja291dC5odG1sI3Rva2VuaXplUGF5bWVudCkuXG4gKiBAcHJvcGVydHkge05FVFdPUkt9IFBBWVBBTF9BQ0NPVU5UX1RPS0VOSVpBVElPTl9GQUlMRUQgT2NjdXJzIHdoZW4gUGF5UGFsIGFjY291bnQgY291bGQgbm90IGJlIHRva2VuaXplZC5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIEJyYWludHJlZUVycm9yLlBheXBhbCBDaGVja291dCAtIHVwZGF0ZVBheW1lbnQgRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIHVzaW5nIHRoZSBbYHVwZGF0ZVBheW1lbnRgIG1ldGhvZF0oLi9QYXlQYWxDaGVja291dC5odG1sI3VwZGF0ZVBheW1lbnQpLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gUEFZUEFMX0lOVkFMSURfUEFZTUVOVF9PUFRJT04gT2NjdXJzIHdoZW4gYW4gb3B0aW9uIGNvbnRhaW5zIGFuIGludmFsaWQgdmFsdWUuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBQQVlQQUxfTUlTU0lOR19SRVFVSVJFRF9PUFRJT04gT2NjdXJzIHdoZW4gYSByZXF1aXJlZCBvcHRpb24gaXMgbWlzc2luZy5cbiAqIEBwcm9wZXJ0eSB7TkVUV09SS30gUEFZUEFMX0ZMT1dfRkFJTEVEIE9jY3VycyB3aGVuIHNvbWV0aGluZyBnb2VzIHdyb25nIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBmbG93IG9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgc2VydmVyLlxuICovXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFBBWVBBTF9OT1RfRU5BQkxFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiUEFZUEFMX05PVF9FTkFCTEVEXCIsXG4gICAgbWVzc2FnZTogXCJQYXlQYWwgaXMgbm90IGVuYWJsZWQgZm9yIHRoaXMgbWVyY2hhbnQuXCIsXG4gIH0sXG4gIFBBWVBBTF9TQU5EQk9YX0FDQ09VTlRfTk9UX0xJTktFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiUEFZUEFMX1NBTkRCT1hfQUNDT1VOVF9OT1RfTElOS0VEXCIsXG4gICAgbWVzc2FnZTpcbiAgICAgIFwiQSBsaW5rZWQgUGF5UGFsIFNhbmRib3ggYWNjb3VudCBpcyByZXF1aXJlZCB0byB1c2UgUGF5UGFsIENoZWNrb3V0IGluIFNhbmRib3guIFNlZSBodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2JyYWludHJlZS9kb2NzL2d1aWRlcy9wYXlwYWwvdGVzdGluZy1nby1saXZlI2xpbmtlZC1wYXlwYWwtdGVzdGluZyBmb3IgZGV0YWlscyBvbiBsaW5raW5nIHlvdXIgUGF5UGFsIHNhbmRib3ggd2l0aCBCcmFpbnRyZWUuXCIsXG4gIH0sXG4gIFBBWVBBTF9BQ0NPVU5UX1RPS0VOSVpBVElPTl9GQUlMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5ORVRXT1JLLFxuICAgIGNvZGU6IFwiUEFZUEFMX0FDQ09VTlRfVE9LRU5JWkFUSU9OX0ZBSUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiQ291bGQgbm90IHRva2VuaXplIHVzZXIncyBQYXlQYWwgYWNjb3VudC5cIixcbiAgfSxcbiAgUEFZUEFMX0ZMT1dfRkFJTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTkVUV09SSyxcbiAgICBjb2RlOiBcIlBBWVBBTF9GTE9XX0ZBSUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiQ291bGQgbm90IGluaXRpYWxpemUgUGF5UGFsIGZsb3cuXCIsXG4gIH0sXG4gIFBBWVBBTF9GTE9XX09QVElPTl9SRVFVSVJFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiUEFZUEFMX0ZMT1dfT1BUSU9OX1JFUVVJUkVEXCIsXG4gICAgbWVzc2FnZTogXCJQYXlQYWwgZmxvdyBwcm9wZXJ0eSBpcyBpbnZhbGlkIG9yIG1pc3NpbmcuXCIsXG4gIH0sXG4gIFBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUEFSQU1fUkVRVUlSRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIlBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUEFSQU1fUkVRVUlSRURcIixcbiAgfSxcbiAgUEFZUEFMX1NUQVJUX1ZBVUxUX0lOSVRJQVRFRF9DSEVDS09VVF9TRVRVUF9GQUlMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5ORVRXT1JLLFxuICAgIGNvZGU6IFwiUEFZUEFMX1NUQVJUX1ZBVUxUX0lOSVRJQVRFRF9DSEVDS09VVF9TRVRVUF9GQUlMRURcIixcbiAgICBtZXNzYWdlOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoZW4gc2V0dGluZyB1cCB0aGUgY2hlY2tvdXQgd29ya2Zsb3cuXCIsXG4gIH0sXG4gIFBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUE9QVVBfT1BFTl9GQUlMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIlBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUE9QVVBfT1BFTl9GQUlMRURcIixcbiAgICBtZXNzYWdlOlxuICAgICAgXCJQYXlQYWwgcG9wdXAgZmFpbGVkIHRvIG9wZW4sIG1ha2Ugc3VyZSB0byBpbml0aWF0ZSB0aGUgdmF1bHQgY2hlY2tvdXQgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGFjdGlvbi5cIixcbiAgfSxcbiAgUEFZUEFMX1NUQVJUX1ZBVUxUX0lOSVRJQVRFRF9DSEVDS09VVF9DQU5DRUxFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLkNVU1RPTUVSLFxuICAgIGNvZGU6IFwiUEFZUEFMX1NUQVJUX1ZBVUxUX0lOSVRJQVRFRF9DSEVDS09VVF9DQU5DRUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgY2xvc2VkIFBheVBhbCBwb3B1cCBiZWZvcmUgYXV0aG9yaXppbmcuXCIsXG4gIH0sXG4gIFBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfSU5fUFJPR1JFU1M6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIlBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfSU5fUFJPR1JFU1NcIixcbiAgICBtZXNzYWdlOiBcIlZhdWx0IGluaXRpYXRlZCBjaGVja291dCBhbHJlYWR5IGluIHByb2dyZXNzLlwiLFxuICB9LFxuICBQQVlQQUxfSU5WQUxJRF9QQVlNRU5UX09QVElPTjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiUEFZUEFMX0lOVkFMSURfUEFZTUVOVF9PUFRJT05cIixcbiAgICBtZXNzYWdlOiBcIlBheVBhbCBwYXltZW50IG9wdGlvbnMgYXJlIGludmFsaWQuXCIsXG4gIH0sXG4gIFBBWVBBTF9NSVNTSU5HX1JFUVVJUkVEX09QVElPTjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiUEFZUEFMX01JU1NJTkdfUkVRVUlSRURfT1BUSU9OXCIsXG4gICAgbWVzc2FnZTogXCJNaXNzaW5nIHJlcXVpcmVkIG9wdGlvbi5cIixcbiAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/paypal-checkout/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/paypal-checkout/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/braintree-web/paypal-checkout/index.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/**\n * @module braintree-web/paypal-checkout\n * @description A component to integrate with the [PayPal JS SDK](https://github.com/paypal/paypal-checkout-components).\n */\n\nvar basicComponentVerification = __webpack_require__(/*! ../lib/basic-component-verification */ \"(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar PayPalCheckout = __webpack_require__(/*! ./paypal-checkout */ \"(ssr)/./node_modules/braintree-web/paypal-checkout/paypal-checkout.js\");\nvar VERSION = \"3.99.0\";\n\n/**\n * @static\n * @function create\n * @description There are two ways to integrate the PayPal Checkout component. See the [PayPal Checkout constructor documentation](PayPalCheckout.html#PayPalCheckout) for more information and examples.\n *\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {string} [options.merchantAccountId] A non-default merchant account ID to use for tokenization.\n * @param {boolean} [options.autoSetDataUserIdToken=false] Whether or not to render the PayPal SDK button with a customer's vaulted PayPal account. Must be used in conjunction with a Client Token generated with a customer id.\n * @param {callback} [callback] The second argument, `data`, is the {@link PayPalCheckout} instance.\n * @example\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   // set up the PayPal JS SDK\n * }).catch(function (err) {\n *   console.error('Error!', err);\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nfunction create(options) {\n  var name = \"PayPal Checkout\";\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      var instance = new PayPalCheckout(options);\n\n      return instance._initialize(options);\n    });\n}\n\n/**\n * @static\n * @function isSupported\n * @description Returns true if PayPal Checkout [supports this browser](index.html#browser-support-webviews).\n * @deprecated Previously, this method checked for Popup support in the browser. The PayPal JS SDK now falls back to a modal if popups are not supported.\n * @returns {Boolean} Returns true if PayPal Checkout supports this browser.\n */\nfunction isSupported() {\n  return true;\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  isSupported: isSupported,\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9wYXlwYWwtY2hlY2tvdXQvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsbUJBQU8sQ0FBQyxtSEFBcUM7QUFDOUUsa0JBQWtCLG1CQUFPLENBQUMsa0dBQXlCO0FBQ25ELHFCQUFxQixtQkFBTyxDQUFDLGdHQUFtQjtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxvQkFBb0IsY0FBYztBQUNyRCxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFVBQVUsZ0RBQWdELHNCQUFzQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0osYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEUsWUFBWTtBQUNaO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9wYXlwYWwtY2hlY2tvdXQvaW5kZXguanM/NWFjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQG1vZHVsZSBicmFpbnRyZWUtd2ViL3BheXBhbC1jaGVja291dFxuICogQGRlc2NyaXB0aW9uIEEgY29tcG9uZW50IHRvIGludGVncmF0ZSB3aXRoIHRoZSBbUGF5UGFsIEpTIFNES10oaHR0cHM6Ly9naXRodWIuY29tL3BheXBhbC9wYXlwYWwtY2hlY2tvdXQtY29tcG9uZW50cykuXG4gKi9cblxudmFyIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uID0gcmVxdWlyZShcIi4uL2xpYi9iYXNpYy1jb21wb25lbnQtdmVyaWZpY2F0aW9uXCIpO1xudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xudmFyIFBheVBhbENoZWNrb3V0ID0gcmVxdWlyZShcIi4vcGF5cGFsLWNoZWNrb3V0XCIpO1xudmFyIFZFUlNJT04gPSBcIjMuOTkuMFwiO1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBjcmVhdGVcbiAqIEBkZXNjcmlwdGlvbiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gaW50ZWdyYXRlIHRoZSBQYXlQYWwgQ2hlY2tvdXQgY29tcG9uZW50LiBTZWUgdGhlIFtQYXlQYWwgQ2hlY2tvdXQgY29uc3RydWN0b3IgZG9jdW1lbnRhdGlvbl0oUGF5UGFsQ2hlY2tvdXQuaHRtbCNQYXlQYWxDaGVja291dCkgZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGV4YW1wbGVzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENyZWF0aW9uIG9wdGlvbnM6XG4gKiBAcGFyYW0ge0NsaWVudH0gW29wdGlvbnMuY2xpZW50XSBBIHtAbGluayBDbGllbnR9IGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmF1dGhvcml6YXRpb25dIEEgdG9rZW5pemF0aW9uS2V5IG9yIGNsaWVudFRva2VuLiBDYW4gYmUgdXNlZCBpbiBwbGFjZSBvZiBgb3B0aW9ucy5jbGllbnRgLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm1lcmNoYW50QWNjb3VudElkXSBBIG5vbi1kZWZhdWx0IG1lcmNoYW50IGFjY291bnQgSUQgdG8gdXNlIGZvciB0b2tlbml6YXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TZXREYXRhVXNlcklkVG9rZW49ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHRvIHJlbmRlciB0aGUgUGF5UGFsIFNESyBidXR0b24gd2l0aCBhIGN1c3RvbWVyJ3MgdmF1bHRlZCBQYXlQYWwgYWNjb3VudC4gTXVzdCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSBDbGllbnQgVG9rZW4gZ2VuZXJhdGVkIHdpdGggYSBjdXN0b21lciBpZC5cbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gVGhlIHNlY29uZCBhcmd1bWVudCwgYGRhdGFgLCBpcyB0aGUge0BsaW5rIFBheVBhbENoZWNrb3V0fSBpbnN0YW5jZS5cbiAqIEBleGFtcGxlXG4gKiBicmFpbnRyZWUuY2xpZW50LmNyZWF0ZSh7XG4gKiAgIGF1dGhvcml6YXRpb246ICdhdXRob3JpemF0aW9uJ1xuICogfSkudGhlbihmdW5jdGlvbiAoY2xpZW50SW5zdGFuY2UpIHtcbiAqICAgcmV0dXJuIGJyYWludHJlZS5wYXlwYWxDaGVja291dC5jcmVhdGUoe1xuICogICAgIGNsaWVudDogY2xpZW50SW5zdGFuY2VcbiAqICAgfSk7XG4gKiB9KS50aGVuKGZ1bmN0aW9uIChwYXlwYWxDaGVja291dEluc3RhbmNlKSB7XG4gKiAgIC8vIHNldCB1cCB0aGUgUGF5UGFsIEpTIFNES1xuICogfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICogICBjb25zb2xlLmVycm9yKCdFcnJvciEnLCBlcnIpO1xuICogfSk7XG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5mdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICB2YXIgbmFtZSA9IFwiUGF5UGFsIENoZWNrb3V0XCI7XG5cbiAgcmV0dXJuIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uXG4gICAgLnZlcmlmeSh7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgY2xpZW50OiBvcHRpb25zLmNsaWVudCxcbiAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBQYXlQYWxDaGVja291dChvcHRpb25zKTtcblxuICAgICAgcmV0dXJuIGluc3RhbmNlLl9pbml0aWFsaXplKG9wdGlvbnMpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBpc1N1cHBvcnRlZFxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgdHJ1ZSBpZiBQYXlQYWwgQ2hlY2tvdXQgW3N1cHBvcnRzIHRoaXMgYnJvd3Nlcl0oaW5kZXguaHRtbCNicm93c2VyLXN1cHBvcnQtd2Vidmlld3MpLlxuICogQGRlcHJlY2F0ZWQgUHJldmlvdXNseSwgdGhpcyBtZXRob2QgY2hlY2tlZCBmb3IgUG9wdXAgc3VwcG9ydCBpbiB0aGUgYnJvd3Nlci4gVGhlIFBheVBhbCBKUyBTREsgbm93IGZhbGxzIGJhY2sgdG8gYSBtb2RhbCBpZiBwb3B1cHMgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIFBheVBhbCBDaGVja291dCBzdXBwb3J0cyB0aGlzIGJyb3dzZXIuXG4gKi9cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZTogd3JhcFByb21pc2UoY3JlYXRlKSxcbiAgaXNTdXBwb3J0ZWQ6IGlzU3VwcG9ydGVkLFxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIFNESywgaS5lLiBge0Bwa2cgdmVyc2lvbn1gLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgVkVSU0lPTjogVkVSU0lPTixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/paypal-checkout/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/paypal-checkout/paypal-checkout.js":
/*!***********************************************************************!*\
  !*** ./node_modules/braintree-web/paypal-checkout/paypal-checkout.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar assign = (__webpack_require__(/*! ../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar createDeferredClient = __webpack_require__(/*! ../lib/create-deferred-client */ \"(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\");\nvar createAssetsUrl = __webpack_require__(/*! ../lib/create-assets-url */ \"(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\");\nvar ExtendedPromise = __webpack_require__(/*! @braintree/extended-promise */ \"(ssr)/./node_modules/@braintree/extended-promise/dist/index.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar convertToBraintreeError = __webpack_require__(/*! ../lib/convert-to-braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-to-braintree-error.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/paypal-checkout/errors.js\");\nvar constants = __webpack_require__(/*! ../paypal/shared/constants */ \"(ssr)/./node_modules/braintree-web/paypal/shared/constants.js\");\nvar frameService = __webpack_require__(/*! ../lib/frame-service/external */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/index.js\");\nvar createAuthorizationData = __webpack_require__(/*! ../lib/create-authorization-data */ \"(ssr)/./node_modules/braintree-web/lib/create-authorization-data.js\");\nvar methods = __webpack_require__(/*! ../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar useMin = __webpack_require__(/*! ../lib/use-min */ \"(ssr)/./node_modules/braintree-web/lib/use-min.js\");\nvar convertMethodsToError = __webpack_require__(/*! ../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar querystring = __webpack_require__(/*! ../lib/querystring */ \"(ssr)/./node_modules/braintree-web/lib/querystring.js\");\nvar VERSION = \"3.99.0\";\nvar INTEGRATION_TIMEOUT_MS = (__webpack_require__(/*! ../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").INTEGRATION_TIMEOUT_MS);\n\nvar REQUIRED_PARAMS_FOR_START_VAULT_INITIATED_CHECKOUT = [\n  \"amount\",\n  \"currency\",\n  \"vaultInitiatedCheckoutPaymentMethodToken\",\n];\n\nvar PAYPAL_SDK_PRELOAD_URL =\n  \"https://www.{ENV}paypal.com/smart/buttons/preload\";\n\nExtendedPromise.suppressUnhandledPromiseMessage = true;\n\n/**\n * PayPal Checkout tokenized payload. Returned in {@link PayPalCheckout#tokenizePayment}'s callback as the second argument, `data`.\n * @typedef {object} PayPalCheckout~tokenizePayload\n * @property {string} nonce The payment method nonce.\n * @property {string} type The payment method type, always `PayPalAccount`.\n * @property {object} details Additional PayPal account details.\n * @property {string} details.email User's email address.\n * @property {string} details.payerId User's payer ID, the unique identifier for each PayPal account.\n * @property {string} details.firstName User's given name.\n * @property {string} details.lastName User's surname.\n * @property {?string} details.countryCode User's 2 character country code.\n * @property {?string} details.phone User's phone number (e.g. 555-867-5309).\n * @property {?object} details.shippingAddress User's shipping address details, only available if shipping address is enabled.\n * @property {string} details.shippingAddress.recipientName Recipient of postage.\n * @property {string} details.shippingAddress.line1 Street number and name.\n * @property {string} details.shippingAddress.line2 Extended address.\n * @property {string} details.shippingAddress.city City or locality.\n * @property {string} details.shippingAddress.state State or region.\n * @property {string} details.shippingAddress.postalCode Postal code.\n * @property {string} details.shippingAddress.countryCode 2 character country code (e.g. US).\n * @property {?object} details.billingAddress User's billing address details.\n * Not available to all merchants; [contact support](https://developer.paypal.com/braintree/help) for details on eligibility and enabling this feature.\n * Alternatively, see `shippingAddress` above as an available client option.\n * @property {string} details.billingAddress.line1 Street number and name.\n * @property {string} details.billingAddress.line2 Extended address.\n * @property {string} details.billingAddress.city City or locality.\n * @property {string} details.billingAddress.state State or region.\n * @property {string} details.billingAddress.postalCode Postal code.\n * @property {string} details.billingAddress.countryCode 2 character country code (e.g. US).\n * @property {?object} creditFinancingOffered This property will only be present when the customer pays with PayPal Credit.\n * @property {object} creditFinancingOffered.totalCost This is the estimated total payment amount including interest and fees the user will pay during the lifetime of the loan.\n * @property {string} creditFinancingOffered.totalCost.value An amount defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm) for the given currency.\n * @property {string} creditFinancingOffered.totalCost.currency 3 letter currency code as defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm).\n * @property {number} creditFinancingOffered.term Length of financing terms in months.\n * @property {object} creditFinancingOffered.monthlyPayment This is the estimated amount per month that the customer will need to pay including fees and interest.\n * @property {string} creditFinancingOffered.monthlyPayment.value An amount defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm) for the given currency.\n * @property {string} creditFinancingOffered.monthlyPayment.currency 3 letter currency code as defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm).\n * @property {object} creditFinancingOffered.totalInterest Estimated interest or fees amount the payer will have to pay during the lifetime of the loan.\n * @property {string} creditFinancingOffered.totalInterest.value An amount defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm) for the given currency.\n * @property {string} creditFinancingOffered.totalInterest.currency 3 letter currency code as defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm).\n * @property {boolean} creditFinancingOffered.payerAcceptance Status of whether the customer ultimately was approved for and chose to make the payment using the approved installment credit.\n * @property {boolean} creditFinancingOffered.cartAmountImmutable Indicates whether the cart amount is editable after payer's acceptance on PayPal side.\n */\n\n/**\n * @class\n * @param {object} options see {@link module:braintree-web/paypal-checkout.create|paypal-checkout.create}\n * @classdesc This class represents a PayPal Checkout component that coordinates with the {@link https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page|PayPal SDK}. Instances of this class can generate payment data and tokenize authorized payments.\n *\n * All UI (such as preventing actions on the parent page while authentication is in progress) is managed by the {@link https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page|PayPal SDK}. You must provide your PayPal `client-id` as a query parameter. You can [retrieve this value from the PayPal Dashboard](https://developer.paypal.com/docs/checkout/integrate/#1-get-paypal-rest-api-credentials).\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/paypal-checkout.create|braintree-web.paypal-checkout.create} instead.</strong>\n *\n * #### Integrate Checkout Flow with PayPal SDK\n *\n * You must have [PayPal's script, configured with various query parameters](https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page), loaded on your page:\n *\n * ```html\n * <script src=\"https://www.paypal.com/sdk/js?client-id=your-sandbox-or-prod-client-id\"></script>\n * <div id=\"paypal-button\"></div>\n * ```\n *\n * When passing values in the `createPayment` method, make sure they match the [corresponding parameters in the query parameters for the PayPal SDK script](https://developer.paypal.com/docs/checkout/reference/customize-sdk/).\n *\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Buttons({\n *     createOrder: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         flow: 'checkout',\n *         currency: 'USD',\n *         amount: '10.00',\n *         intent: 'capture' // this value must either be `capture` or match the intent passed into the PayPal SDK intent query parameter\n *         // your other createPayment options here\n *       });\n *     },\n *\n *     onApprove: function (data, actions) {\n *       // some logic here before tokenization happens below\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     },\n *\n *     onCancel: function () {\n *       // handle case where user cancels\n *     },\n *\n *     onError: function (err) {\n *       // handle case where error occurs\n *     }\n *   }).render('#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n *\n * #### Integrate Vault Flow with PayPal SDK\n *\n * You must have [PayPal's script, configured with various query parameters](https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page), loaded on your page:\n *\n * ```html\n * <script src=\"https://www.paypal.com/sdk/js?client-id=your-sandbox-or-prod-client-id&vault=true\"></script>\n * <div id=\"paypal-button\"></div>\n * ```\n *\n * When passing values in the `createPayment` method, make sure they match the [corresponding parameters in the query parameters for the PayPal SDK script](https://developer.paypal.com/docs/checkout/reference/customize-sdk/).\n *\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Buttons({\n *     createBillingAgreement: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         flow: 'vault'\n *         // your other createPayment options here\n *       });\n *     },\n *\n *     onApprove: function (data, actions) {\n *       // some logic here before tokenization happens below\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     },\n *\n *     onCancel: function () {\n *       // handle case where user cancels\n *     },\n *\n *     onError: function (err) {\n *       // handle case where error occurs\n *     }\n *   }).render('#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n *\n * #### Integrate with Checkout.js (deprecated PayPal SDK)\n *\n * If you are creating a new PayPal integration, please follow the previous integration guide to use the current version of the PayPal SDK. Use this integration guide only as a reference if you are already integrated with Checkout.js.\n *\n * You must have PayPal's Checkout.js script loaded on your page.\n *\n * ```html\n * <script src=\"https://www.paypalobjects.com/api/checkout.js\" data-version-4 log-level=\"warn\"></script>\n * ```\n *\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Button.render({\n *     env: 'production', // or 'sandbox'\n *\n *     payment: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         // your createPayment options here\n *       });\n *     },\n *\n *     onAuthorize: function (data, actions) {\n *       // some logic here before tokenization happens below\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     }\n *   }, '#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n */\nfunction PayPalCheckout(options) {\n  this._merchantAccountId = options.merchantAccountId;\n  // TODO remove this requirement for it to be opt in.\n  // This feature is not yet GA, so we're intentionally making\n  // it opt in and not publicly documenting it yet. Once it's\n  // GA, we can remove the requirement to opt in to it\n  this._autoSetDataUserIdToken = Boolean(options.autoSetDataUserIdToken);\n}\n\nPayPalCheckout.prototype._initialize = function (options) {\n  var config;\n\n  if (options.client) {\n    config = options.client.getConfiguration();\n    this._authorizationInformation = {\n      fingerprint: config.authorizationFingerprint,\n      environment: config.gatewayConfiguration.environment,\n    };\n  } else {\n    config = createAuthorizationData(options.authorization);\n    this._authorizationInformation = {\n      fingerprint: config.attrs.authorizationFingerprint,\n      environment: config.environment,\n    };\n  }\n\n  this._clientPromise = createDeferredClient\n    .create({\n      authorization: options.authorization,\n      client: options.client,\n      debug: options.debug,\n      assetsUrl: createAssetsUrl.create(options.authorization),\n      name: \"PayPal Checkout\",\n    })\n    .then(\n      function (client) {\n        this._configuration = client.getConfiguration();\n\n        // we skip these checks if a merchant account id is\n        // passed in, because the default merchant account\n        // may not have paypal enabled\n        if (!this._merchantAccountId) {\n          if (!this._configuration.gatewayConfiguration.paypalEnabled) {\n            this._setupError = new BraintreeError(errors.PAYPAL_NOT_ENABLED);\n          } else if (\n            this._configuration.gatewayConfiguration.paypal\n              .environmentNoNetwork === true\n          ) {\n            this._setupError = new BraintreeError(\n              errors.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED\n            );\n          }\n        }\n\n        if (this._setupError) {\n          return Promise.reject(this._setupError);\n        }\n\n        analytics.sendEvent(client, \"paypal-checkout.initialized\");\n        this._frameServicePromise = this._setupFrameService(client);\n\n        return client;\n      }.bind(this)\n    );\n\n  // if client was passed in, let config checks happen before\n  // resolving the instance. Otherwise, just resolve the instance\n  if (options.client) {\n    return this._clientPromise.then(\n      function () {\n        return this;\n      }.bind(this)\n    );\n  }\n\n  return Promise.resolve(this);\n};\n\nPayPalCheckout.prototype._setupFrameService = function (client) {\n  var frameServicePromise = new ExtendedPromise();\n  var config = client.getConfiguration();\n  var timeoutRef = setTimeout(function () {\n    analytics.sendEvent(client, \"paypal-checkout.frame-service.timed-out\");\n    frameServicePromise.reject(\n      new BraintreeError(\n        errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED\n      )\n    );\n  }, INTEGRATION_TIMEOUT_MS);\n\n  this._assetsUrl =\n    config.gatewayConfiguration.paypal.assetsUrl + \"/web/\" + VERSION;\n  this._isDebug = config.isDebug;\n  // Note: this is using the static landing frame that the deprecated PayPal component builds and uses\n  this._loadingFrameUrl =\n    this._assetsUrl +\n    \"/html/paypal-landing-frame\" +\n    useMin(this._isDebug) +\n    \".html\";\n\n  frameService.create(\n    {\n      name: \"braintreepaypallanding\",\n      dispatchFrameUrl:\n        this._assetsUrl +\n        \"/html/dispatch-frame\" +\n        useMin(this._isDebug) +\n        \".html\",\n      openFrameUrl: this._loadingFrameUrl,\n    },\n    function (service) {\n      this._frameService = service;\n      clearTimeout(timeoutRef);\n\n      frameServicePromise.resolve();\n    }.bind(this)\n  );\n\n  return frameServicePromise;\n};\n\n/**\n * @typedef {object} PayPalCheckout~lineItem\n * @property {string} quantity Number of units of the item purchased. This value must be a whole number and can't be negative or zero.\n * @property {string} unitAmount Per-unit price of the item. Can include up to 2 decimal places. This value can't be negative or zero.\n * @property {string} name Item name. Maximum 127 characters.\n * @property {string} kind Indicates whether the line item is a debit (sale) or credit (refund) to the customer. Accepted values: `debit` and `credit`.\n * @property {?string} unitTaxAmount Per-unit tax price of the item. Can include up to 2 decimal places. This value can't be negative or zero.\n * @property {?string} description Item description. Maximum 127 characters.\n * @property {?string} productCode Product or UPC code for the item. Maximum 127 characters.\n * @property {?string} url The URL to product information.\n */\n\n/**\n * @typedef {object} PayPalCheckout~shippingOption\n * @property {string} id A unique ID that identifies a payer-selected shipping option.\n * @property {string} label A description that the payer sees, which helps them choose an appropriate shipping option. For example, `Free Shipping`, `USPS Priority Shipping`, `Expédition prioritaire USPS`, or `USPS yōuxiān fā huò`. Localize this description to the payer's locale.\n * @property {boolean} selected If `selected = true` is specified as part of the API request it represents the shipping option that the payee/merchant expects to be pre-selected for the payer when they first view the shipping options within the PayPal checkout experience. As part of the response if a shipping option has `selected = true` it represents the shipping option that the payer selected during the course of checkout with PayPal. Only 1 `shippingOption` can be set to `selected = true`.\n * @property {string} type The method by which the payer wants to get their items. The possible values are:\n * * `SHIPPING` - The payer intends to receive the items at a specified address.\n * * `PICKUP` - The payer intends to pick up the items at a specified address. For example, a store address.\n * @property {object} amount The shipping cost for the selected option.\n * @property {string} amount.currency The three-character ISO-4217 currency code. PayPal does not support all currencies.\n * @property {string} amount.value The amount the shipping option will cost. Includes the specified number of digits after decimal separator for the ISO-4217 currency code.\n */\n\n/**\n * Creates a PayPal payment ID or billing token using the given options. This is meant to be passed to the PayPal JS SDK.\n * When a {@link callback} is defined, the function returns undefined and invokes the callback with the id to be used with the PayPal JS SDK. Otherwise, it returns a Promise that resolves with the id.\n * @public\n * @param {object} options All options for the PayPalCheckout component.\n * @param {string} options.flow Set to 'checkout' for one-time payment flow, or 'vault' for Vault flow. If 'vault' is used with a client token generated with a customer ID, the PayPal account will be added to that customer as a saved payment method.\n * @param {string} [options.intent=authorize]\n * * `authorize` - Submits the transaction for authorization but not settlement.\n * * `order` - Validates the transaction without an authorization (i.e. without holding funds). Useful for authorizing and capturing funds up to 90 days after the order has been placed. Only available for Checkout flow.\n * * `capture` - Payment will be immediately submitted for settlement upon creating a transaction. `sale` can be used as an alias for this value.\n * @param {boolean} [options.offerCredit=false] Offers PayPal Credit as the default funding instrument for the transaction. If the customer isn't pre-approved for PayPal Credit, they will be prompted to apply for it.\n * @param {(string|number)} [options.amount] The amount of the transaction. Required when using the Checkout flow. Should not include shipping cost.\n * * Supports up to 2 digits after the decimal point\n * @param {string} [options.currency] The currency code of the amount, such as 'USD'. Required when using the Checkout flow.\n * @param {string} [options.displayName] The merchant name displayed inside of the PayPal lightbox; defaults to the company name on your Braintree account\n * @param {boolean} [options.requestBillingAgreement] If `true` and `flow = checkout`, the customer will be prompted to consent to a billing agreement during the checkout flow. This value is ignored when `flow = vault`.\n * @param {object} [options.billingAgreementDetails] When `requestBillingAgreement = true`, allows for details to be set for the billing agreement portion of the flow.\n * @param {string} [options.billingAgreementDetails.description] Description of the billing agreement to display to the customer.\n * @param {string} [options.vaultInitiatedCheckoutPaymentMethodToken] Use the payment method nonce representing a PayPal account with a Billing Agreement ID to create the payment and redirect the customer to select a new financial instrument. This option is only applicable to the `checkout` flow.\n * @param {shippingOption[]} [options.shippingOptions] List of shipping options offered by the payee or merchant to the payer to ship or pick up their items.\n * @param {boolean} [options.enableShippingAddress=false] Returns a shipping address object in {@link PayPal#tokenize}.\n * @param {object} [options.shippingAddressOverride] Allows you to pass a shipping address you have already collected into the PayPal payment flow.\n * @param {string} options.shippingAddressOverride.line1 Street address.\n * @param {string} [options.shippingAddressOverride.line2] Street address (extended).\n * @param {string} options.shippingAddressOverride.city City.\n * @param {string} options.shippingAddressOverride.state State.\n * @param {string} options.shippingAddressOverride.postalCode Postal code.\n * @param {string} options.shippingAddressOverride.countryCode Country.\n * @param {string} [options.shippingAddressOverride.phone] Phone number.\n * @param {string} [options.shippingAddressOverride.recipientName] Recipient's name.\n * @param {boolean} [options.shippingAddressEditable=true] Set to false to disable user editing of the shipping address.\n * @param {string} [options.billingAgreementDescription] Use this option to set the description of the preapproved payment agreement visible to customers in their PayPal profile during Vault flows. Max 255 characters.\n * @param {string} [options.landingPageType] Use this option to specify the PayPal page to display when a user lands on the PayPal site to complete the payment.\n * * `login` - A PayPal account login page is used.\n * * `billing` - A non-PayPal account landing page is used.\n * @param {lineItem[]} [options.lineItems] The {@link PayPalCheckout~lineItem|line items} for this transaction. It can include up to 249 line items.\n * @param {callback} [callback] The second argument is a PayPal `paymentId` or `billingToken` string, depending on whether `options.flow` is `checkout` or `vault`. This is also what is resolved by the promise if no callback is provided.\n * @example\n * // this paypal object is created by the PayPal JS SDK\n * // see https://github.com/paypal/paypal-checkout-components\n * paypal.Buttons({\n *   createOrder: function () {\n *     // when createPayment resolves, it is automatically passed to the PayPal JS SDK\n *     return paypalCheckoutInstance.createPayment({\n *       flow: 'checkout',\n *       amount: '10.00',\n *       currency: 'USD',\n *       intent: 'capture' // this value must either be `capture` or match the intent passed into the PayPal SDK intent query parameter\n *     });\n *   },\n *   // Add other options, e.g. onApproved, onCancel, onError\n * }).render('#paypal-button');\n *\n * @example\n * // shippingOptions are passed to createPayment. You can review the result from onAuthorize to determine which shipping option id was selected.\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Button.render({\n *     env: 'production'\n *\n *     payment: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         flow: 'checkout',\n *         amount: '10.00',\n *         currency: 'USD',\n *         shippingOptions: [\n *           {\n *             id: 'UUID-9',\n *             type: 'PICKUP',\n *             label: 'Store Location Five',\n *             selected: true,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           },\n *           {\n *             id: 'shipping-speed-fast',\n *             type: 'SHIPPING',\n *             label: 'Fast Shipping',\n *             selected: false,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           },\n *           {\n *             id: 'shipping-speed-slow',\n *             type: 'SHIPPING',\n *             label: 'Slow Shipping',\n *             selected: false,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           }\n *         ]\n *       });\n *     },\n *\n *     onAuthorize: function (data, actions) {\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     }\n *   }, '#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.createPayment = function (options) {\n  if (!options || !constants.FLOW_ENDPOINTS.hasOwnProperty(options.flow)) {\n    return Promise.reject(\n      new BraintreeError(errors.PAYPAL_FLOW_OPTION_REQUIRED)\n    );\n  }\n\n  analytics.sendEvent(this._clientPromise, \"paypal-checkout.createPayment\");\n\n  return this._createPaymentResource(options).then(function (response) {\n    var flowToken, urlParams;\n\n    if (options.flow === \"checkout\") {\n      urlParams = querystring.parse(response.paymentResource.redirectUrl);\n      flowToken = urlParams.token;\n    } else {\n      flowToken = response.agreementSetup.tokenId;\n    }\n\n    return flowToken;\n  });\n};\n\nPayPalCheckout.prototype._createPaymentResource = function (options, config) {\n  var self = this;\n  var endpoint = \"paypal_hermes/\" + constants.FLOW_ENDPOINTS[options.flow];\n\n  delete this.intentFromCreatePayment;\n\n  config = config || {};\n\n  if (options.offerCredit === true) {\n    analytics.sendEvent(this._clientPromise, \"paypal-checkout.credit.offered\");\n  }\n\n  return this._clientPromise\n    .then(function (client) {\n      return client\n        .request({\n          endpoint: endpoint,\n          method: \"post\",\n          data: self._formatPaymentResourceData(options, config),\n        })\n        .then(function (data) {\n          self.intentFromCreatePayment = options.intent;\n\n          return data;\n        });\n    })\n    .catch(function (err) {\n      var status;\n\n      if (self._setupError) {\n        return Promise.reject(self._setupError);\n      }\n\n      status = err.details && err.details.httpStatus;\n\n      if (status === 422) {\n        return Promise.reject(\n          new BraintreeError({\n            type: errors.PAYPAL_INVALID_PAYMENT_OPTION.type,\n            code: errors.PAYPAL_INVALID_PAYMENT_OPTION.code,\n            message: errors.PAYPAL_INVALID_PAYMENT_OPTION.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      }\n\n      return Promise.reject(\n        convertToBraintreeError(err, {\n          type: errors.PAYPAL_FLOW_FAILED.type,\n          code: errors.PAYPAL_FLOW_FAILED.code,\n          message: errors.PAYPAL_FLOW_FAILED.message,\n        })\n      );\n    });\n};\n\n/**\n * Use this function to update {@link PayPalCheckout~lineItem|line items} and/or {@link PayPalCheckout~shippingOption|shipping options} associated with a PayPalCheckout flow (`paymentId`).\n * When a {@link callback} is defined, this function returns undefined and invokes the callback. The second callback argument, <code>data</code>, is the returned server data. If no callback is provided, `updatePayment` returns a promise that resolves with the server data.\n * @public\n * @param {object} options All options for the PayPalCheckout component.\n * @param {string} options.paymentId This should be PayPal `paymentId`.\n * @param {(string|number)} options.amount The amount of the transaction, including the amount of the selected shipping option, and all `line_items`.\n * * Supports up to 2 decimal digits.\n * @param {string} options.currency The currency code of the amount, such as 'USD'. Required when using the Checkout flow.\n * @param {shippingOption[]} [options.shippingOptions] List of {@link PayPalCheckout~shippingOption|shipping options} offered by the payee or merchant to the payer to ship or pick up their items.\n * @param {lineItem[]} [options.lineItems] The {@link PayPalCheckout~lineItem|line items} for this transaction. It can include up to 249 line items.\n * @param {callback} [callback] The second argument is a PayPal `paymentId` or `billingToken` string, depending on whether `options.flow` is `checkout` or `vault`. This is also what is resolved by the promise if no callback is provided.\n * @example\n * // this paypal object is created by the PayPal JS SDK\n * // see https://github.com/paypal/paypal-checkout-components\n * paypal.Buttons({\n *   createOrder: function () {\n *     // when createPayment resolves, it is automatically passed to the PayPal JS SDK\n *     return paypalCheckoutInstance.createPayment({\n *       //\n *     });\n *   },\n *   onShippingChange: function (data) {\n *     // Examine data and determine if the payment needs to be updated.\n *     // when updatePayment resolves, it is automatically passed to the PayPal JS SDK\n *     return paypalCheckoutInstance.updatePayment({\n *         paymentId: data.paymentId,\n *         amount: '15.00',\n *         currency: 'USD',\n *         shippingOptions: [\n *           {\n *             id: 'shipping-speed-fast',\n *             type: 'SHIPPING',\n *             label: 'Fast Shipping',\n *             selected: true,\n *             amount: {\n *               value: '5.00',\n *               currency: 'USD'\n *             }\n *           },\n *           {\n *             id: 'shipping-speed-slow',\n *             type: 'SHIPPING',\n *             label: 'Slow Shipping',\n *             selected: false,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           }\n *         ]\n *     });\n *   }\n *   // Add other options, e.g. onApproved, onCancel, onError\n * }).render('#paypal-button');\n *\n * ```\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.updatePayment = function (options) {\n  var self = this;\n  var endpoint = \"paypal_hermes/patch_payment_resource\";\n\n  if (!options || this._hasMissingOption(options, constants.REQUIRED_OPTIONS)) {\n    analytics.sendEvent(\n      self._clientPromise,\n      \"paypal-checkout.updatePayment.missing-options\"\n    );\n\n    return Promise.reject(\n      new BraintreeError(errors.PAYPAL_MISSING_REQUIRED_OPTION)\n    );\n  }\n\n  if (!this._verifyConsistentCurrency(options)) {\n    analytics.sendEvent(\n      self._clientPromise,\n      \"paypal-checkout.updatePayment.inconsistent-currencies\"\n    );\n\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.PAYPAL_INVALID_PAYMENT_OPTION.type,\n        code: errors.PAYPAL_INVALID_PAYMENT_OPTION.code,\n        message: errors.PAYPAL_INVALID_PAYMENT_OPTION.message,\n        details: {\n          originalError: new Error(\n            \"One or more shipping option currencies differ from checkout currency.\"\n          ),\n        },\n      })\n    );\n  }\n\n  analytics.sendEvent(this._clientPromise, \"paypal-checkout.updatePayment\");\n\n  return this._clientPromise\n    .then(function (client) {\n      return client.request({\n        endpoint: endpoint,\n        method: \"post\",\n        data: self._formatUpdatePaymentData(options),\n      });\n    })\n    .catch(function (err) {\n      var status = err.details && err.details.httpStatus;\n\n      if (status === 422) {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.updatePayment.invalid\"\n        );\n\n        return Promise.reject(\n          new BraintreeError({\n            type: errors.PAYPAL_INVALID_PAYMENT_OPTION.type,\n            code: errors.PAYPAL_INVALID_PAYMENT_OPTION.code,\n            message: errors.PAYPAL_INVALID_PAYMENT_OPTION.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      }\n\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.updatePayment.\" + errors.PAYPAL_FLOW_FAILED.code\n      );\n\n      return Promise.reject(\n        convertToBraintreeError(err, {\n          type: errors.PAYPAL_FLOW_FAILED.type,\n          code: errors.PAYPAL_FLOW_FAILED.code,\n          message: errors.PAYPAL_FLOW_FAILED.message,\n        })\n      );\n    });\n};\n\n/**\n * Initializes the PayPal checkout flow with a payment method nonce that represents a vaulted PayPal account.\n * When a {@link callback} is defined, the function returns undefined and invokes the callback with the id to be used with the PayPal JS SDK. Otherwise, it returns a Promise that resolves with the id.\n * @public\n * @ignore\n * @param {object} options These options are identical to the {@link PayPalCheckout#createPayment|options for creating a payment resource}, except for the following:\n * * `flow` cannot be set (will always be `'checkout'`)\n * * `amount`, `currency`, and `vaultInitiatedCheckoutPaymentMethodToken` are required instead of optional\n * * Additional configuration is available (listed below)\n * @param {boolean} [options.optOutOfModalBackdrop=false] By default, the webpage will darken and become unusable while the PayPal window is open. For full control of the UI, pass `true` for this option.\n * @param {callback} [callback] The second argument, <code>payload</code>, is a {@link PayPalCheckout~tokenizePayload|tokenizePayload}. If no callback is provided, the promise resolves with a {@link PayPalCheckout~tokenizePayload|tokenizePayload}.\n * @example\n * paypalCheckoutInstance.startVaultInitiatedCheckout({\n *   vaultInitiatedCheckoutPaymentMethodToken: 'nonce-that-represents-a-vaulted-paypal-account',\n *   amount: '10.00',\n *   currency: 'USD'\n * }).then(function (payload) {\n *   // send payload.nonce to your server\n * }).catch(function (err) {\n *   if (err.code === 'PAYPAL_POPUP_CLOSED') {\n *     // indicates that customer canceled by\n *     // manually closing the PayPal popup\n *   }\n *\n *   // handle other errors\n * });\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.startVaultInitiatedCheckout = function (options) {\n  var missingRequiredParam;\n  var self = this;\n\n  if (this._vaultInitiatedCheckoutInProgress) {\n    analytics.sendEvent(\n      this._clientPromise,\n      \"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress\"\n    );\n\n    return Promise.reject(\n      new BraintreeError(\n        errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS\n      )\n    );\n  }\n\n  REQUIRED_PARAMS_FOR_START_VAULT_INITIATED_CHECKOUT.forEach(function (param) {\n    if (!options.hasOwnProperty(param)) {\n      missingRequiredParam = param;\n    }\n  });\n\n  if (missingRequiredParam) {\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,\n        code: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,\n        message: \"Required param \" + missingRequiredParam + \" is missing.\",\n      })\n    );\n  }\n\n  this._vaultInitiatedCheckoutInProgress = true;\n  this._addModalBackdrop(options);\n\n  options = assign({}, options, {\n    flow: \"checkout\",\n  });\n\n  analytics.sendEvent(\n    this._clientPromise,\n    \"paypal-checkout.startVaultInitiatedCheckout.started\"\n  );\n\n  return this._waitForVaultInitiatedCheckoutDependencies()\n    .then(function () {\n      var frameCommunicationPromise = new ExtendedPromise();\n      var startVaultInitiatedCheckoutPromise = self\n        ._createPaymentResource(options, {\n          returnUrl: self._constructVaultCheckutUrl(\"redirect-frame\"),\n          cancelUrl: self._constructVaultCheckutUrl(\"cancel-frame\"),\n        })\n        .then(function (response) {\n          var redirectUrl = response.paymentResource.redirectUrl;\n\n          self._frameService.redirect(redirectUrl);\n\n          return frameCommunicationPromise;\n        });\n\n      self._frameService.open(\n        {},\n        self._createFrameServiceCallback(frameCommunicationPromise)\n      );\n\n      return startVaultInitiatedCheckoutPromise;\n    })\n    .catch(function (err) {\n      self._vaultInitiatedCheckoutInProgress = false;\n      self._removeModalBackdrop();\n\n      if (err.code === \"FRAME_SERVICE_FRAME_CLOSED\") {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer\"\n        );\n\n        return Promise.reject(\n          new BraintreeError(\n            errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED\n          )\n        );\n      }\n\n      if (self._frameService) {\n        self._frameService.close();\n      }\n\n      if (\n        err.code &&\n        err.code.indexOf(\"FRAME_SERVICE_FRAME_OPEN_FAILED\") > -1\n      ) {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened\"\n        );\n\n        return Promise.reject(\n          new BraintreeError({\n            code: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\n              .code,\n            type: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\n              .type,\n            message:\n              errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\n                .message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      }\n\n      return Promise.reject(err);\n    })\n    .then(function (response) {\n      self._frameService.close();\n      self._vaultInitiatedCheckoutInProgress = false;\n      self._removeModalBackdrop();\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.startVaultInitiatedCheckout.succeeded\"\n      );\n\n      return Promise.resolve(response);\n    });\n};\n\nPayPalCheckout.prototype._addModalBackdrop = function (options) {\n  if (options.optOutOfModalBackdrop) {\n    return;\n  }\n\n  if (!this._modalBackdrop) {\n    this._modalBackdrop = document.createElement(\"div\");\n    this._modalBackdrop.setAttribute(\n      \"data-braintree-paypal-vault-initiated-checkout-modal\",\n      true\n    );\n    this._modalBackdrop.style.position = \"fixed\";\n    this._modalBackdrop.style.top = 0;\n    this._modalBackdrop.style.bottom = 0;\n    this._modalBackdrop.style.left = 0;\n    this._modalBackdrop.style.right = 0;\n    this._modalBackdrop.style.zIndex = 9999;\n    this._modalBackdrop.style.background = \"black\";\n    this._modalBackdrop.style.opacity = \"0.7\";\n    this._modalBackdrop.addEventListener(\n      \"click\",\n      function () {\n        this.focusVaultInitiatedCheckoutWindow();\n      }.bind(this)\n    );\n  }\n\n  document.body.appendChild(this._modalBackdrop);\n};\n\nPayPalCheckout.prototype._removeModalBackdrop = function () {\n  if (!(this._modalBackdrop && this._modalBackdrop.parentNode)) {\n    return;\n  }\n\n  this._modalBackdrop.parentNode.removeChild(this._modalBackdrop);\n};\n\n/**\n * Closes the PayPal window if it is opened via `startVaultInitiatedCheckout`.\n * @public\n * @ignore\n * @param {callback} [callback] Gets called when window is closed.\n * @example\n * paypalCheckoutInstance.closeVaultInitiatedCheckoutWindow();\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.closeVaultInitiatedCheckoutWindow = function () {\n  if (this._vaultInitiatedCheckoutInProgress) {\n    analytics.sendEvent(\n      this._clientPromise,\n      \"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant\"\n    );\n  }\n\n  return this._waitForVaultInitiatedCheckoutDependencies().then(\n    function () {\n      this._frameService.close();\n    }.bind(this)\n  );\n};\n\n/**\n * Focuses the PayPal window if it is opened via `startVaultInitiatedCheckout`.\n * @public\n * @ignore\n * @param {callback} [callback] Gets called when window is focused.\n * @example\n * paypalCheckoutInstance.focusVaultInitiatedCheckoutWindow();\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.focusVaultInitiatedCheckoutWindow = function () {\n  return this._waitForVaultInitiatedCheckoutDependencies().then(\n    function () {\n      this._frameService.focus();\n    }.bind(this)\n  );\n};\n\nPayPalCheckout.prototype._createFrameServiceCallback = function (\n  frameCommunicationPromise\n) {\n  var self = this;\n\n  // TODO when a merchant integrates an iOS or Android integration\n  // with a webview using the web SDK, we will have to add popupbridge\n  // support\n  return function (err, payload) {\n    if (err) {\n      frameCommunicationPromise.reject(err);\n    } else if (payload) {\n      self._frameService.redirect(self._loadingFrameUrl);\n      self\n        .tokenizePayment({\n          paymentToken: payload.token,\n          payerID: payload.PayerID,\n          paymentID: payload.paymentId,\n          orderID: payload.orderId,\n        })\n        .then(function (res) {\n          frameCommunicationPromise.resolve(res);\n        })\n        .catch(function (tokenizationError) {\n          frameCommunicationPromise.reject(tokenizationError);\n        });\n    }\n  };\n};\n\nPayPalCheckout.prototype._waitForVaultInitiatedCheckoutDependencies =\n  function () {\n    var self = this;\n\n    return this._clientPromise.then(function () {\n      return self._frameServicePromise;\n    });\n  };\n\nPayPalCheckout.prototype._constructVaultCheckutUrl = function (frameName) {\n  var serviceId = this._frameService._serviceId;\n\n  return (\n    this._assetsUrl +\n    \"/html/\" +\n    frameName +\n    useMin(this._isDebug) +\n    \".html?channel=\" +\n    serviceId\n  );\n};\n\n/**\n * Tokenizes the authorize data from the PayPal JS SDK when completing a buyer approval flow.\n * When a {@link callback} is defined, invokes the callback with {@link PayPalCheckout~tokenizePayload|tokenizePayload} and returns undefined. Otherwise, returns a Promise that resolves with a {@link PayPalCheckout~tokenizePayload|tokenizePayload}.\n * @public\n * @param {object} tokenizeOptions Tokens and IDs required to tokenize the payment.\n * @param {string} tokenizeOptions.payerId Payer ID returned by PayPal `onApproved` callback.\n * @param {string} [tokenizeOptions.paymentId] Payment ID returned by PayPal `onApproved` callback.\n * @param {string} [tokenizeOptions.billingToken] Billing Token returned by PayPal `onApproved` callback.\n * @param {boolean} [tokenizeOptions.vault=true] Whether or not to vault the resulting PayPal account (if using a client token generated with a customer id and the vault flow).\n * @param {callback} [callback] The second argument, <code>payload</code>, is a {@link PayPalCheckout~tokenizePayload|tokenizePayload}. If no callback is provided, the promise resolves with a {@link PayPalCheckout~tokenizePayload|tokenizePayload}.\n * @example <caption>Opt out of auto-vaulting behavior</caption>\n * // create the paypalCheckoutInstance with a client token generated with a customer id\n * paypal.Buttons({\n *   createBillingAgreement: function () {\n *     return paypalCheckoutInstance.createPayment({\n *       flow: 'vault'\n *       // your other createPayment options here\n *     });\n *   },\n *   onApproved: function (data) {\n *     data.vault = false;\n *\n *     return paypalCheckoutInstance.tokenizePayment(data);\n *   },\n *   // Add other options, e.g. onCancel, onError\n * }).render('#paypal-button');\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.tokenizePayment = function (tokenizeOptions) {\n  var self = this;\n  var shouldVault = true;\n  var payload;\n  var options = {\n    flow:\n      tokenizeOptions.billingToken && !tokenizeOptions.paymentID\n        ? \"vault\"\n        : \"checkout\",\n    intent: tokenizeOptions.intent || this.intentFromCreatePayment,\n  };\n  var params = {\n    // The paymentToken provided by the PayPal JS SDK is the EC Token\n    ecToken: tokenizeOptions.paymentToken,\n    billingToken: tokenizeOptions.billingToken,\n    payerId: tokenizeOptions.payerID,\n    paymentId: tokenizeOptions.paymentID,\n    orderId: tokenizeOptions.orderID,\n    shippingOptionsId: tokenizeOptions.shippingOptionsId,\n  };\n\n  if (tokenizeOptions.hasOwnProperty(\"vault\")) {\n    shouldVault = tokenizeOptions.vault;\n  }\n\n  options.vault = shouldVault;\n\n  analytics.sendEvent(\n    this._clientPromise,\n    \"paypal-checkout.tokenization.started\"\n  );\n\n  return this._clientPromise\n    .then(function (client) {\n      return client.request({\n        endpoint: \"payment_methods/paypal_accounts\",\n        method: \"post\",\n        data: self._formatTokenizeData(options, params),\n      });\n    })\n    .then(function (response) {\n      payload = self._formatTokenizePayload(response);\n\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.tokenization.success\"\n      );\n      if (payload.creditFinancingOffered) {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.credit.accepted\"\n        );\n      }\n\n      return payload;\n    })\n    .catch(function (err) {\n      if (self._setupError) {\n        return Promise.reject(self._setupError);\n      }\n\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.tokenization.failed\"\n      );\n\n      return Promise.reject(\n        convertToBraintreeError(err, {\n          type: errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,\n          code: errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,\n          message: errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message,\n        })\n      );\n    });\n};\n\n/**\n * Resolves with the PayPal client id to be used when loading the PayPal SDK.\n * @public\n * @param {callback} [callback] The second argument, <code>id</code>, is a the PayPal client id. If no callback is provided, the promise resolves with the PayPal client id.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * paypalCheckoutInstance.getClientId().then(function (id) {\n *  var script = document.createElement('script');\n *\n *  script.src = 'https://www.paypal.com/sdk/js?client-id=' + id;\n *  script.onload = function () {\n *    // setup the PayPal SDK\n *  };\n *\n *  document.body.appendChild(script);\n * });\n */\nPayPalCheckout.prototype.getClientId = function () {\n  return this._clientPromise.then(function (client) {\n    return client.getConfiguration().gatewayConfiguration.paypal.clientId;\n  });\n};\n\n/**\n * Resolves when the PayPal SDK has been successfully loaded onto the page.\n * @public\n * @param {object} [options] A configuration object to modify the query params and data-attributes on the PayPal SDK. A subset of the parameters are listed below. For a full list of query params, see the [PayPal docs](https://developer.paypal.com/docs/checkout/reference/customize-sdk/?mark=query#query-parameters).\n * @param {string} [options.client-id] By default, this will be the client id associated with the authorization used to create the Braintree component. When used in conjunction with passing `authorization` when creating the PayPal Checkout component, you can speed up the loading of the PayPal SDK.\n * @param {string} [options.intent=\"authorize\"] By default, the PayPal SDK defaults to an intent of `capture`. Since the default intent when calling {@link PayPalCheckout#createPayment|`createPayment`} is `authorize`, the PayPal SDK will be loaded with `intent=authorize`. If you wish to use a different intent when calling {@link PayPalCheckout#createPayment|`createPayment`}, make sure it matches here. If `sale` is used, it will be converted to `capture` for the PayPal SDK. If the `vault: true` param is used, `tokenize` will be passed as the default intent.\n * @param {string} [options.locale=en_US] Use this option to change the language, links, and terminology used in the PayPal flow. This locale will be used unless the buyer has set a preferred locale for their account. If an unsupported locale is supplied, a fallback locale (determined by buyer preference or browser data) will be used and no error will be thrown.\n *\n * Supported locales are:\n * `da_DK`,\n * `de_DE`,\n * `en_AU`,\n * `en_GB`,\n * `en_US`,\n * `es_ES`,\n * `fr_CA`,\n * `fr_FR`,\n * `id_ID`,\n * `it_IT`,\n * `ja_JP`,\n * `ko_KR`,\n * `nl_NL`,\n * `no_NO`,\n * `pl_PL`,\n * `pt_BR`,\n * `pt_PT`,\n * `ru_RU`,\n * `sv_SE`,\n * `th_TH`,\n * `zh_CN`,\n * `zh_HK`,\n * and `zh_TW`.\n *\n * @param {string} [options.currency=\"USD\"] If a currency is passed in {@link PayPalCheckout#createPayment|`createPayment`}, it must match the currency passed here.\n * @param {boolean} [options.vault] Must be `true` when using `flow: vault` in {@link PayPalCheckout#createPayment|`createPayment`}.\n * @param {string} [options.components=buttons] By default, the Braintree SDK will only load the PayPal smart buttons component. If you would like to load just the [messages component](https://developer.paypal.com/docs/business/checkout/add-capabilities/credit-messaging/), pass `messages`. If you would like to load both, pass `buttons,messages`\n * @param {object} [options.dataAttributes] The data attributes to apply to the script. Any data attribute can be passed. A subset of the parameters are listed below. For a full list of data attributes, see the [PayPal docs](https://developer.paypal.com/docs/checkout/reference/customize-sdk/#script-parameters).\n * @param {string} [options.dataAttributes.client-token] The client token to use in the script. (usually not needed)\n * @param {string} [options.dataAttributes.csp-nonce] See the [PayPal docs about content security nonces](https://developer.paypal.com/docs/checkout/reference/customize-sdk/#csp-nonce).\n * @param {callback} [callback] Called when the PayPal SDK has been loaded onto the page. The second argument is the PayPal Checkout instance. If no callback is provided, the promise resolves with the PayPal Checkout instance when the PayPal SDK has been loaded onto the page.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example <caption>Without options</caption>\n * paypalCheckoutInstance.loadPayPalSDK().then(function () {\n *   // window.paypal.Buttons is now available to use\n * });\n * @example <caption>With options</caption>\n * paypalCheckoutInstance.loadPayPalSDK({\n *   'client-id': 'PayPal Client Id', // Can speed up rendering time to hardcode this value\n *\n *   intent: 'capture', // Make sure this value matches the value in createPayment\n *   currency: 'USD', // Make sure this value matches the value in createPayment\n * }).then(function () {\n *   // window.paypal.Buttons is now available to use\n * });\n * @example <caption>With Vaulting</caption>\n * paypalCheckoutInstance.loadPayPalSDK({\n *   vault: true\n * }).then(function () {\n *   // window.paypal.Buttons is now available to use\n * });\n */\nPayPalCheckout.prototype.loadPayPalSDK = function (options) {\n  var idPromise, src;\n  var loadPromise = new ExtendedPromise();\n  var dataAttributes = (options && options.dataAttributes) || {};\n  var userIdToken =\n    dataAttributes[\"user-id-token\"] || dataAttributes[\"data-user-id-token\"];\n\n  if (!userIdToken) {\n    userIdToken =\n      this._authorizationInformation.fingerprint &&\n      this._authorizationInformation.fingerprint.split(\"?\")[0];\n  }\n\n  this._paypalScript = document.createElement(\"script\");\n\n  // NEXT_MAJOR_VERSION\n  // this options object should have 2 properties:\n  // * queryParams\n  // * dataAttributes\n  // should make organizing this better than squashing\n  // all the query params at the top level and extracting\n  // the data attributes\n  options = assign(\n    {},\n    {\n      components: \"buttons\",\n    },\n    options\n  );\n  delete options.dataAttributes;\n\n  // NEXT_MAJOR_VERSION if merchant passes an explicit intent,\n  // currency, amount, etc, save those for use in createPayment\n  // if no explicit param of that type is passed in when calling\n  // createPayment to reduce the number of items that need to be\n  // duplicated here and in createPayment\n  if (options.vault) {\n    options.intent = options.intent || \"tokenize\";\n  } else {\n    options.intent = options.intent || \"authorize\";\n    options.currency = options.currency || \"USD\";\n  }\n\n  src = \"https://www.paypal.com/sdk/js?\";\n  this._paypalScript.onload = function () {\n    loadPromise.resolve();\n  };\n\n  Object.keys(dataAttributes).forEach(\n    function (attribute) {\n      this._paypalScript.setAttribute(\n        \"data-\" + attribute.replace(/^data\\-/, \"\"),\n        dataAttributes[attribute]\n      );\n    }.bind(this)\n  );\n\n  if (options[\"client-id\"]) {\n    idPromise = Promise.resolve(options[\"client-id\"]);\n  } else {\n    idPromise = this.getClientId();\n  }\n\n  idPromise.then(\n    function (id) {\n      options[\"client-id\"] = id;\n\n      if (this._autoSetDataUserIdToken && userIdToken) {\n        this._paypalScript.setAttribute(\"data-user-id-token\", userIdToken);\n\n        // preloading improves the rendering time of the PayPal button\n        this._attachPreloadPixel({\n          id: id,\n          userIdToken: userIdToken,\n          amount: dataAttributes.amount,\n          currency: options.currency,\n          merchantId: options[\"merchant-id\"],\n        });\n      }\n\n      this._paypalScript.src = querystring.queryify(src, options);\n      document.head.insertBefore(\n        this._paypalScript,\n        document.head.firstElementChild\n      );\n    }.bind(this)\n  );\n\n  return loadPromise.then(\n    function () {\n      return this;\n    }.bind(this)\n  );\n};\n\nPayPalCheckout.prototype._attachPreloadPixel = function (options) {\n  var request;\n  var id = options.id;\n  var userIdToken = options.userIdToken;\n  var env = this._authorizationInformation.environment;\n  var subdomain = env === \"production\" ? \"\" : \"sandbox.\";\n  var url = PAYPAL_SDK_PRELOAD_URL.replace(\"{ENV}\", subdomain);\n  var preloadOptions = {\n    \"client-id\": id,\n    \"user-id-token\": userIdToken,\n  };\n\n  if (options.amount) {\n    preloadOptions.amount = options.amount;\n  }\n  if (options.currency) {\n    preloadOptions.currency = options.currency;\n  }\n  if (options.merchantId) {\n    preloadOptions[\"merchant-id\"] = options.merchantId;\n  }\n\n  request = new XMLHttpRequest();\n  request.open(\"GET\", querystring.queryify(url, preloadOptions));\n  request.send();\n};\n\nPayPalCheckout.prototype._formatPaymentResourceData = function (\n  options,\n  config\n) {\n  var key;\n  var gatewayConfiguration = this._configuration.gatewayConfiguration;\n  // NEXT_MAJOR_VERSION default value for intent in PayPal SDK is capture\n  // but our integrations default value is authorize. Default this to capture\n  // in the next major version.\n  var intent = options.intent;\n  var paymentResource = {\n    // returnUrl and cancelUrl are required in hermes create_payment_resource route\n    // but are not used by the PayPal sdk, except to redirect to an error page\n    returnUrl: config.returnUrl || \"https://www.paypal.com/checkoutnow/error\",\n    cancelUrl: config.cancelUrl || \"https://www.paypal.com/checkoutnow/error\",\n    offerPaypalCredit: options.offerCredit === true,\n    merchantAccountId: this._merchantAccountId,\n    experienceProfile: {\n      brandName: options.displayName || gatewayConfiguration.paypal.displayName,\n      localeCode: options.locale,\n      noShipping: (!options.enableShippingAddress).toString(),\n      addressOverride: options.shippingAddressEditable === false,\n      landingPageType: options.landingPageType,\n    },\n    shippingOptions: options.shippingOptions,\n  };\n\n  if (options.flow === \"checkout\") {\n    paymentResource.amount = options.amount;\n    paymentResource.currencyIsoCode = options.currency;\n    paymentResource.requestBillingAgreement = options.requestBillingAgreement;\n\n    if (intent) {\n      // 'sale' has been changed to 'capture' in PayPal's backend, but\n      // we use an old version with 'sale'. We provide capture as an alias\n      // to match the PayPal SDK\n      if (intent === \"capture\") {\n        intent = \"sale\";\n      }\n      paymentResource.intent = intent;\n    }\n\n    if (options.hasOwnProperty(\"lineItems\")) {\n      paymentResource.lineItems = options.lineItems;\n    }\n\n    if (options.hasOwnProperty(\"vaultInitiatedCheckoutPaymentMethodToken\")) {\n      paymentResource.vaultInitiatedCheckoutPaymentMethodToken =\n        options.vaultInitiatedCheckoutPaymentMethodToken;\n    }\n\n    if (options.hasOwnProperty(\"shippingOptions\")) {\n      paymentResource.shippingOptions = options.shippingOptions;\n    }\n\n    for (key in options.shippingAddressOverride) {\n      if (options.shippingAddressOverride.hasOwnProperty(key)) {\n        paymentResource[key] = options.shippingAddressOverride[key];\n      }\n    }\n\n    if (options.hasOwnProperty(\"billingAgreementDetails\")) {\n      paymentResource.billingAgreementDetails = options.billingAgreementDetails;\n    }\n  } else {\n    paymentResource.shippingAddress = options.shippingAddressOverride;\n\n    if (options.billingAgreementDescription) {\n      paymentResource.description = options.billingAgreementDescription;\n    }\n  }\n\n  // this needs to be set outside of the block where add it to the\n  // payment request so that a follow up tokenization call can use it,\n  // but if a second create payment resource call is made without\n  // the correlation id, we want to reset it to undefined so that the\n  // tokenization call does not use a stale correlation id\n  this._riskCorrelationId = options.riskCorrelationId;\n  if (options.riskCorrelationId) {\n    paymentResource.correlationId = this._riskCorrelationId;\n  }\n\n  return paymentResource;\n};\n\n/**\n * @ignore\n * @static\n * @function _verifyConsistentCurrency\n * Verifies that `options.currency` and the currencies for each `shippingOption` the same.\n * @param {object} options `options` provided for `updatePayment`.\n * @returns {boolean} true is currencies match (or no shipping options); false if currencies do not match.\n */\n\nPayPalCheckout.prototype._verifyConsistentCurrency = function (options) {\n  if (\n    options.currency &&\n    options.hasOwnProperty(\"shippingOptions\") &&\n    Array.isArray(options.shippingOptions)\n  ) {\n    return options.shippingOptions.every(function (item) {\n      return (\n        item.amount &&\n        item.amount.currency &&\n        options.currency.toLowerCase() === item.amount.currency.toLowerCase()\n      );\n    });\n  }\n\n  return true;\n};\n\n/**\n * @ignore\n * @static\n * @function _hasMissingOption\n * @param {object} options All options provided for intiating the PayPal flow.\n * @param {array} required A list of required inputs that must be include as part of the options.\n * @returns {boolean} Returns a boolean.\n */\n\nPayPalCheckout.prototype._hasMissingOption = function (options, required) {\n  var i, option;\n\n  required = required || [];\n\n  if (\n    !options.hasOwnProperty(\"amount\") &&\n    !options.hasOwnProperty(\"lineItems\")\n  ) {\n    return true;\n  }\n\n  for (i = 0; i < required.length; i++) {\n    option = required[i];\n\n    if (!options.hasOwnProperty(option)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nPayPalCheckout.prototype._formatUpdatePaymentData = function (options) {\n  var self = this;\n  var paymentResource = {\n    merchantAccountId: this._merchantAccountId,\n    paymentId: options.paymentId || options.orderId,\n    currencyIsoCode: options.currency,\n  };\n\n  if (options.hasOwnProperty(\"amount\")) {\n    paymentResource.amount = options.amount;\n  }\n\n  if (options.hasOwnProperty(\"lineItems\")) {\n    paymentResource.lineItems = options.lineItems;\n  }\n\n  if (options.hasOwnProperty(\"shippingOptions\")) {\n    paymentResource.shippingOptions = options.shippingOptions;\n  }\n\n  /* shippingAddress not supported yet */\n  if (options.hasOwnProperty(\"shippingAddress\")) {\n    analytics.sendEvent(\n      self._clientPromise,\n      \"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant\"\n    );\n\n    paymentResource.line1 = options.shippingAddress.line1;\n\n    if (options.shippingAddress.hasOwnProperty(\"line2\")) {\n      paymentResource.line2 = options.shippingAddress.line2;\n    }\n\n    paymentResource.city = options.shippingAddress.city;\n    paymentResource.state = options.shippingAddress.state;\n    paymentResource.postalCode = options.shippingAddress.postalCode;\n    paymentResource.countryCode = options.shippingAddress.countryCode;\n\n    if (options.shippingAddress.hasOwnProperty(\"phone\")) {\n      paymentResource.phone = options.shippingAddress.phone;\n    }\n\n    if (options.shippingAddress.hasOwnProperty(\"recipientName\")) {\n      paymentResource.recipientName = options.shippingAddress.recipientName;\n    }\n  }\n\n  return paymentResource;\n};\n\nPayPalCheckout.prototype._formatTokenizeData = function (options, params) {\n  var clientConfiguration = this._configuration;\n  var gatewayConfiguration = clientConfiguration.gatewayConfiguration;\n  var isTokenizationKey =\n    clientConfiguration.authorizationType === \"TOKENIZATION_KEY\";\n  var isVaultFlow = options.flow === \"vault\";\n  var correlationId =\n    this._riskCorrelationId || params.billingToken || params.ecToken;\n  var data = {\n    paypalAccount: {\n      correlationId: correlationId,\n      options: {\n        validate: isVaultFlow && !isTokenizationKey && options.vault,\n      },\n    },\n  };\n\n  if (isVaultFlow) {\n    data.paypalAccount.billingAgreementToken = params.billingToken;\n  } else {\n    data.paypalAccount.paymentToken = params.paymentId || params.orderId;\n    data.paypalAccount.payerId = params.payerId;\n    data.paypalAccount.unilateral =\n      gatewayConfiguration.paypal.unvettedMerchant;\n\n    if (options.intent) {\n      data.paypalAccount.intent = options.intent;\n    }\n  }\n\n  if (this._merchantAccountId) {\n    data.merchantAccountId = this._merchantAccountId;\n  }\n\n  return data;\n};\n\nPayPalCheckout.prototype._formatTokenizePayload = function (response) {\n  var payload;\n  var account = {};\n\n  if (response.paypalAccounts) {\n    account = response.paypalAccounts[0];\n  }\n\n  payload = {\n    nonce: account.nonce,\n    details: {},\n    type: account.type,\n  };\n\n  if (account.details && account.details.payerInfo) {\n    payload.details = account.details.payerInfo;\n  }\n\n  if (account.details && account.details.creditFinancingOffered) {\n    payload.creditFinancingOffered = account.details.creditFinancingOffered;\n  }\n\n  if (account.details && account.details.shippingOptionId) {\n    payload.shippingOptionId = account.details.shippingOptionId;\n  }\n\n  if (account.details && account.details.cobrandedCardLabel) {\n    payload.cobrandedCardLabel = account.details.cobrandedCardLabel;\n  }\n\n  return payload;\n};\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/paypal-checkout.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * paypalCheckoutInstance.teardown();\n * @example <caption>With callback</caption>\n * paypalCheckoutInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.teardown = function () {\n  var self = this;\n\n  convertMethodsToError(this, methods(PayPalCheckout.prototype));\n\n  if (this._paypalScript && this._paypalScript.parentNode) {\n    this._paypalScript.parentNode.removeChild(this._paypalScript);\n  }\n\n  return this._frameServicePromise\n    .catch(function () {\n      // no need to error in teardown for an error setting up the frame service\n    })\n    .then(function () {\n      if (!self._frameService) {\n        return Promise.resolve();\n      }\n\n      return self._frameService.teardown();\n    });\n};\n\nmodule.exports = wrapPromise.wrapPrototype(PayPalCheckout);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9wYXlwYWwtY2hlY2tvdXQvcGF5cGFsLWNoZWNrb3V0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLDZFQUFrQjtBQUMxQyxhQUFhLHFHQUErQjtBQUM1QywyQkFBMkIsbUJBQU8sQ0FBQyx1R0FBK0I7QUFDbEUsc0JBQXNCLG1CQUFPLENBQUMsNkZBQTBCO0FBQ3hELHNCQUFzQixtQkFBTyxDQUFDLG1HQUE2QjtBQUMzRCxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBeUI7QUFDbkQscUJBQXFCLG1CQUFPLENBQUMseUZBQXdCO0FBQ3JELDhCQUE4QixtQkFBTyxDQUFDLCtHQUFtQztBQUN6RSxhQUFhLG1CQUFPLENBQUMsOEVBQVU7QUFDL0IsZ0JBQWdCLG1CQUFPLENBQUMsaUdBQTRCO0FBQ3BELG1CQUFtQixtQkFBTyxDQUFDLDZHQUErQjtBQUMxRCw4QkFBOEIsbUJBQU8sQ0FBQyw2R0FBa0M7QUFDeEUsY0FBYyxtQkFBTyxDQUFDLHlFQUFnQjtBQUN0QyxhQUFhLG1CQUFPLENBQUMseUVBQWdCO0FBQ3JDLDRCQUE0QixtQkFBTyxDQUFDLDJHQUFpQztBQUNyRSxrQkFBa0IsbUJBQU8sQ0FBQyxpRkFBb0I7QUFDOUM7QUFDQSw2QkFBNkIsMkhBQWtEOztBQUUvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLElBQUk7O0FBRXBCOztBQUVBO0FBQ0EsbURBQW1ELHFDQUFxQztBQUN4RixhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsbUNBQW1DO0FBQ25DO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVEsYUFBYTtBQUNoQywyRkFBMkYsZ0hBQWdIO0FBQzNNO0FBQ0EsaUhBQWlILGdIQUFnSDtBQUNqTyxtRUFBbUUsd0ZBQXdGO0FBQzNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkI7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLGlGQUFpRjtBQUNwRyxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxTQUFTLDRFQUE0RSxzQkFBc0I7QUFDdEgsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsWUFBWSx5QkFBeUIsMENBQTBDO0FBQzFGLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLE1BQU07QUFDTjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxnQ0FBZ0MsMENBQTBDLFFBQVEsc0RBQXNEO0FBQ3hJLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLGlCQUFpQjtBQUM1QjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQixtQ0FBbUMsc0RBQXNEO0FBQ3RILFdBQVcsWUFBWSx5QkFBeUIsMENBQTBDO0FBQzFGLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQSxXQUFXLFFBQVEsNENBQTRDLDJFQUEyRTtBQUMxSTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxVQUFVLDREQUE0RCxxREFBcUQsMkRBQTJELHFEQUFxRDtBQUN0UDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQjtBQUNyQjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQix1Q0FBdUMsc0RBQXNELDBFQUEwRSxxREFBcUQ7QUFDdlA7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsVUFBVSw0REFBNEQscURBQXFELDJEQUEyRCxxREFBcUQ7QUFDdFA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVEsbUlBQW1JLG9EQUFvRCwySEFBMkgsbURBQW1EO0FBQ3hYLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRLHFEQUFxRCxtREFBbUQ7QUFDM0gsV0FBVyxTQUFTLDREQUE0RCxtREFBbUQ7QUFDbkksV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsSUFBSTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTLG1EQUFtRDtBQUN6RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsYUFBYSxTQUFTO0FBQ3RCOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMscUJBQXFCO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHlDQUF5Qyx5REFBeUQ7QUFDbEc7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9wYXlwYWwtY2hlY2tvdXQvcGF5cGFsLWNoZWNrb3V0LmpzP2VlMjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbmFseXRpY3MgPSByZXF1aXJlKFwiLi4vbGliL2FuYWx5dGljc1wiKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi4vbGliL2Fzc2lnblwiKS5hc3NpZ247XG52YXIgY3JlYXRlRGVmZXJyZWRDbGllbnQgPSByZXF1aXJlKFwiLi4vbGliL2NyZWF0ZS1kZWZlcnJlZC1jbGllbnRcIik7XG52YXIgY3JlYXRlQXNzZXRzVXJsID0gcmVxdWlyZShcIi4uL2xpYi9jcmVhdGUtYXNzZXRzLXVybFwiKTtcbnZhciBFeHRlbmRlZFByb21pc2UgPSByZXF1aXJlKFwiQGJyYWludHJlZS9leHRlbmRlZC1wcm9taXNlXCIpO1xudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgY29udmVydFRvQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2NvbnZlcnQtdG8tYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vcGF5cGFsL3NoYXJlZC9jb25zdGFudHNcIik7XG52YXIgZnJhbWVTZXJ2aWNlID0gcmVxdWlyZShcIi4uL2xpYi9mcmFtZS1zZXJ2aWNlL2V4dGVybmFsXCIpO1xudmFyIGNyZWF0ZUF1dGhvcml6YXRpb25EYXRhID0gcmVxdWlyZShcIi4uL2xpYi9jcmVhdGUtYXV0aG9yaXphdGlvbi1kYXRhXCIpO1xudmFyIG1ldGhvZHMgPSByZXF1aXJlKFwiLi4vbGliL21ldGhvZHNcIik7XG52YXIgdXNlTWluID0gcmVxdWlyZShcIi4uL2xpYi91c2UtbWluXCIpO1xudmFyIGNvbnZlcnRNZXRob2RzVG9FcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvY29udmVydC1tZXRob2RzLXRvLWVycm9yXCIpO1xudmFyIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZShcIi4uL2xpYi9xdWVyeXN0cmluZ1wiKTtcbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcbnZhciBJTlRFR1JBVElPTl9USU1FT1VUX01TID0gcmVxdWlyZShcIi4uL2xpYi9jb25zdGFudHNcIikuSU5URUdSQVRJT05fVElNRU9VVF9NUztcblxudmFyIFJFUVVJUkVEX1BBUkFNU19GT1JfU1RBUlRfVkFVTFRfSU5JVElBVEVEX0NIRUNLT1VUID0gW1xuICBcImFtb3VudFwiLFxuICBcImN1cnJlbmN5XCIsXG4gIFwidmF1bHRJbml0aWF0ZWRDaGVja291dFBheW1lbnRNZXRob2RUb2tlblwiLFxuXTtcblxudmFyIFBBWVBBTF9TREtfUFJFTE9BRF9VUkwgPVxuICBcImh0dHBzOi8vd3d3LntFTlZ9cGF5cGFsLmNvbS9zbWFydC9idXR0b25zL3ByZWxvYWRcIjtcblxuRXh0ZW5kZWRQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUHJvbWlzZU1lc3NhZ2UgPSB0cnVlO1xuXG4vKipcbiAqIFBheVBhbCBDaGVja291dCB0b2tlbml6ZWQgcGF5bG9hZC4gUmV0dXJuZWQgaW4ge0BsaW5rIFBheVBhbENoZWNrb3V0I3Rva2VuaXplUGF5bWVudH0ncyBjYWxsYmFjayBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBgZGF0YWAuXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQYXlQYWxDaGVja291dH50b2tlbml6ZVBheWxvYWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBub25jZSBUaGUgcGF5bWVudCBtZXRob2Qgbm9uY2UuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgcGF5bWVudCBtZXRob2QgdHlwZSwgYWx3YXlzIGBQYXlQYWxBY2NvdW50YC5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBkZXRhaWxzIEFkZGl0aW9uYWwgUGF5UGFsIGFjY291bnQgZGV0YWlscy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmVtYWlsIFVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMucGF5ZXJJZCBVc2VyJ3MgcGF5ZXIgSUQsIHRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgZWFjaCBQYXlQYWwgYWNjb3VudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmZpcnN0TmFtZSBVc2VyJ3MgZ2l2ZW4gbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmxhc3ROYW1lIFVzZXIncyBzdXJuYW1lLlxuICogQHByb3BlcnR5IHs/c3RyaW5nfSBkZXRhaWxzLmNvdW50cnlDb2RlIFVzZXIncyAyIGNoYXJhY3RlciBjb3VudHJ5IGNvZGUuXG4gKiBAcHJvcGVydHkgez9zdHJpbmd9IGRldGFpbHMucGhvbmUgVXNlcidzIHBob25lIG51bWJlciAoZS5nLiA1NTUtODY3LTUzMDkpLlxuICogQHByb3BlcnR5IHs/b2JqZWN0fSBkZXRhaWxzLnNoaXBwaW5nQWRkcmVzcyBVc2VyJ3Mgc2hpcHBpbmcgYWRkcmVzcyBkZXRhaWxzLCBvbmx5IGF2YWlsYWJsZSBpZiBzaGlwcGluZyBhZGRyZXNzIGlzIGVuYWJsZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5zaGlwcGluZ0FkZHJlc3MucmVjaXBpZW50TmFtZSBSZWNpcGllbnQgb2YgcG9zdGFnZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLnNoaXBwaW5nQWRkcmVzcy5saW5lMSBTdHJlZXQgbnVtYmVyIGFuZCBuYW1lLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMuc2hpcHBpbmdBZGRyZXNzLmxpbmUyIEV4dGVuZGVkIGFkZHJlc3MuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5zaGlwcGluZ0FkZHJlc3MuY2l0eSBDaXR5IG9yIGxvY2FsaXR5LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMuc2hpcHBpbmdBZGRyZXNzLnN0YXRlIFN0YXRlIG9yIHJlZ2lvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLnNoaXBwaW5nQWRkcmVzcy5wb3N0YWxDb2RlIFBvc3RhbCBjb2RlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMuc2hpcHBpbmdBZGRyZXNzLmNvdW50cnlDb2RlIDIgY2hhcmFjdGVyIGNvdW50cnkgY29kZSAoZS5nLiBVUykuXG4gKiBAcHJvcGVydHkgez9vYmplY3R9IGRldGFpbHMuYmlsbGluZ0FkZHJlc3MgVXNlcidzIGJpbGxpbmcgYWRkcmVzcyBkZXRhaWxzLlxuICogTm90IGF2YWlsYWJsZSB0byBhbGwgbWVyY2hhbnRzOyBbY29udGFjdCBzdXBwb3J0XShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2JyYWludHJlZS9oZWxwKSBmb3IgZGV0YWlscyBvbiBlbGlnaWJpbGl0eSBhbmQgZW5hYmxpbmcgdGhpcyBmZWF0dXJlLlxuICogQWx0ZXJuYXRpdmVseSwgc2VlIGBzaGlwcGluZ0FkZHJlc3NgIGFib3ZlIGFzIGFuIGF2YWlsYWJsZSBjbGllbnQgb3B0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMuYmlsbGluZ0FkZHJlc3MubGluZTEgU3RyZWV0IG51bWJlciBhbmQgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmJpbGxpbmdBZGRyZXNzLmxpbmUyIEV4dGVuZGVkIGFkZHJlc3MuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5iaWxsaW5nQWRkcmVzcy5jaXR5IENpdHkgb3IgbG9jYWxpdHkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5iaWxsaW5nQWRkcmVzcy5zdGF0ZSBTdGF0ZSBvciByZWdpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5iaWxsaW5nQWRkcmVzcy5wb3N0YWxDb2RlIFBvc3RhbCBjb2RlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMuYmlsbGluZ0FkZHJlc3MuY291bnRyeUNvZGUgMiBjaGFyYWN0ZXIgY291bnRyeSBjb2RlIChlLmcuIFVTKS5cbiAqIEBwcm9wZXJ0eSB7P29iamVjdH0gY3JlZGl0RmluYW5jaW5nT2ZmZXJlZCBUaGlzIHByb3BlcnR5IHdpbGwgb25seSBiZSBwcmVzZW50IHdoZW4gdGhlIGN1c3RvbWVyIHBheXMgd2l0aCBQYXlQYWwgQ3JlZGl0LlxuICogQHByb3BlcnR5IHtvYmplY3R9IGNyZWRpdEZpbmFuY2luZ09mZmVyZWQudG90YWxDb3N0IFRoaXMgaXMgdGhlIGVzdGltYXRlZCB0b3RhbCBwYXltZW50IGFtb3VudCBpbmNsdWRpbmcgaW50ZXJlc3QgYW5kIGZlZXMgdGhlIHVzZXIgd2lsbCBwYXkgZHVyaW5nIHRoZSBsaWZldGltZSBvZiB0aGUgbG9hbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjcmVkaXRGaW5hbmNpbmdPZmZlcmVkLnRvdGFsQ29zdC52YWx1ZSBBbiBhbW91bnQgZGVmaW5lZCBieSBbSVNPIDQyMTddKGh0dHBzOi8vd3d3Lmlzby5vcmcvaXNvL2hvbWUvc3RhbmRhcmRzL2N1cnJlbmN5X2NvZGVzLmh0bSkgZm9yIHRoZSBnaXZlbiBjdXJyZW5jeS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjcmVkaXRGaW5hbmNpbmdPZmZlcmVkLnRvdGFsQ29zdC5jdXJyZW5jeSAzIGxldHRlciBjdXJyZW5jeSBjb2RlIGFzIGRlZmluZWQgYnkgW0lTTyA0MjE3XShodHRwczovL3d3dy5pc28ub3JnL2lzby9ob21lL3N0YW5kYXJkcy9jdXJyZW5jeV9jb2Rlcy5odG0pLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNyZWRpdEZpbmFuY2luZ09mZmVyZWQudGVybSBMZW5ndGggb2YgZmluYW5jaW5nIHRlcm1zIGluIG1vbnRocy5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBjcmVkaXRGaW5hbmNpbmdPZmZlcmVkLm1vbnRobHlQYXltZW50IFRoaXMgaXMgdGhlIGVzdGltYXRlZCBhbW91bnQgcGVyIG1vbnRoIHRoYXQgdGhlIGN1c3RvbWVyIHdpbGwgbmVlZCB0byBwYXkgaW5jbHVkaW5nIGZlZXMgYW5kIGludGVyZXN0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNyZWRpdEZpbmFuY2luZ09mZmVyZWQubW9udGhseVBheW1lbnQudmFsdWUgQW4gYW1vdW50IGRlZmluZWQgYnkgW0lTTyA0MjE3XShodHRwczovL3d3dy5pc28ub3JnL2lzby9ob21lL3N0YW5kYXJkcy9jdXJyZW5jeV9jb2Rlcy5odG0pIGZvciB0aGUgZ2l2ZW4gY3VycmVuY3kuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY3JlZGl0RmluYW5jaW5nT2ZmZXJlZC5tb250aGx5UGF5bWVudC5jdXJyZW5jeSAzIGxldHRlciBjdXJyZW5jeSBjb2RlIGFzIGRlZmluZWQgYnkgW0lTTyA0MjE3XShodHRwczovL3d3dy5pc28ub3JnL2lzby9ob21lL3N0YW5kYXJkcy9jdXJyZW5jeV9jb2Rlcy5odG0pLlxuICogQHByb3BlcnR5IHtvYmplY3R9IGNyZWRpdEZpbmFuY2luZ09mZmVyZWQudG90YWxJbnRlcmVzdCBFc3RpbWF0ZWQgaW50ZXJlc3Qgb3IgZmVlcyBhbW91bnQgdGhlIHBheWVyIHdpbGwgaGF2ZSB0byBwYXkgZHVyaW5nIHRoZSBsaWZldGltZSBvZiB0aGUgbG9hbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjcmVkaXRGaW5hbmNpbmdPZmZlcmVkLnRvdGFsSW50ZXJlc3QudmFsdWUgQW4gYW1vdW50IGRlZmluZWQgYnkgW0lTTyA0MjE3XShodHRwczovL3d3dy5pc28ub3JnL2lzby9ob21lL3N0YW5kYXJkcy9jdXJyZW5jeV9jb2Rlcy5odG0pIGZvciB0aGUgZ2l2ZW4gY3VycmVuY3kuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY3JlZGl0RmluYW5jaW5nT2ZmZXJlZC50b3RhbEludGVyZXN0LmN1cnJlbmN5IDMgbGV0dGVyIGN1cnJlbmN5IGNvZGUgYXMgZGVmaW5lZCBieSBbSVNPIDQyMTddKGh0dHBzOi8vd3d3Lmlzby5vcmcvaXNvL2hvbWUvc3RhbmRhcmRzL2N1cnJlbmN5X2NvZGVzLmh0bSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNyZWRpdEZpbmFuY2luZ09mZmVyZWQucGF5ZXJBY2NlcHRhbmNlIFN0YXR1cyBvZiB3aGV0aGVyIHRoZSBjdXN0b21lciB1bHRpbWF0ZWx5IHdhcyBhcHByb3ZlZCBmb3IgYW5kIGNob3NlIHRvIG1ha2UgdGhlIHBheW1lbnQgdXNpbmcgdGhlIGFwcHJvdmVkIGluc3RhbGxtZW50IGNyZWRpdC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY3JlZGl0RmluYW5jaW5nT2ZmZXJlZC5jYXJ0QW1vdW50SW1tdXRhYmxlIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjYXJ0IGFtb3VudCBpcyBlZGl0YWJsZSBhZnRlciBwYXllcidzIGFjY2VwdGFuY2Ugb24gUGF5UGFsIHNpZGUuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIHNlZSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvcGF5cGFsLWNoZWNrb3V0LmNyZWF0ZXxwYXlwYWwtY2hlY2tvdXQuY3JlYXRlfVxuICogQGNsYXNzZGVzYyBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBQYXlQYWwgQ2hlY2tvdXQgY29tcG9uZW50IHRoYXQgY29vcmRpbmF0ZXMgd2l0aCB0aGUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vZG9jcy9jaGVja291dC9pbnRlZ3JhdGUvIzItYWRkLXRoZS1wYXlwYWwtc2NyaXB0LXRvLXlvdXItd2ViLXBhZ2V8UGF5UGFsIFNES30uIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGNhbiBnZW5lcmF0ZSBwYXltZW50IGRhdGEgYW5kIHRva2VuaXplIGF1dGhvcml6ZWQgcGF5bWVudHMuXG4gKlxuICogQWxsIFVJIChzdWNoIGFzIHByZXZlbnRpbmcgYWN0aW9ucyBvbiB0aGUgcGFyZW50IHBhZ2Ugd2hpbGUgYXV0aGVudGljYXRpb24gaXMgaW4gcHJvZ3Jlc3MpIGlzIG1hbmFnZWQgYnkgdGhlIHtAbGluayBodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvY2hlY2tvdXQvaW50ZWdyYXRlLyMyLWFkZC10aGUtcGF5cGFsLXNjcmlwdC10by15b3VyLXdlYi1wYWdlfFBheVBhbCBTREt9LiBZb3UgbXVzdCBwcm92aWRlIHlvdXIgUGF5UGFsIGBjbGllbnQtaWRgIGFzIGEgcXVlcnkgcGFyYW1ldGVyLiBZb3UgY2FuIFtyZXRyaWV2ZSB0aGlzIHZhbHVlIGZyb20gdGhlIFBheVBhbCBEYXNoYm9hcmRdKGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vZG9jcy9jaGVja291dC9pbnRlZ3JhdGUvIzEtZ2V0LXBheXBhbC1yZXN0LWFwaS1jcmVkZW50aWFscykuXG4gKiBAZGVzY3JpcHRpb24gPHN0cm9uZz5EbyBub3QgdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIFVzZSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvcGF5cGFsLWNoZWNrb3V0LmNyZWF0ZXxicmFpbnRyZWUtd2ViLnBheXBhbC1jaGVja291dC5jcmVhdGV9IGluc3RlYWQuPC9zdHJvbmc+XG4gKlxuICogIyMjIyBJbnRlZ3JhdGUgQ2hlY2tvdXQgRmxvdyB3aXRoIFBheVBhbCBTREtcbiAqXG4gKiBZb3UgbXVzdCBoYXZlIFtQYXlQYWwncyBzY3JpcHQsIGNvbmZpZ3VyZWQgd2l0aCB2YXJpb3VzIHF1ZXJ5IHBhcmFtZXRlcnNdKGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vZG9jcy9jaGVja291dC9pbnRlZ3JhdGUvIzItYWRkLXRoZS1wYXlwYWwtc2NyaXB0LXRvLXlvdXItd2ViLXBhZ2UpLCBsb2FkZWQgb24geW91ciBwYWdlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9zZGsvanM/Y2xpZW50LWlkPXlvdXItc2FuZGJveC1vci1wcm9kLWNsaWVudC1pZFwiPjwvc2NyaXB0PlxuICogPGRpdiBpZD1cInBheXBhbC1idXR0b25cIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gcGFzc2luZyB2YWx1ZXMgaW4gdGhlIGBjcmVhdGVQYXltZW50YCBtZXRob2QsIG1ha2Ugc3VyZSB0aGV5IG1hdGNoIHRoZSBbY29ycmVzcG9uZGluZyBwYXJhbWV0ZXJzIGluIHRoZSBxdWVyeSBwYXJhbWV0ZXJzIGZvciB0aGUgUGF5UGFsIFNESyBzY3JpcHRdKGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vZG9jcy9jaGVja291dC9yZWZlcmVuY2UvY3VzdG9taXplLXNkay8pLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGJyYWludHJlZS5jbGllbnQuY3JlYXRlKHtcbiAqICAgYXV0aG9yaXphdGlvbjogJ2F1dGhvcml6YXRpb24nXG4gKiB9KS50aGVuKGZ1bmN0aW9uIChjbGllbnRJbnN0YW5jZSkge1xuICogICByZXR1cm4gYnJhaW50cmVlLnBheXBhbENoZWNrb3V0LmNyZWF0ZSh7XG4gKiAgICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZVxuICogICB9KTtcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKHBheXBhbENoZWNrb3V0SW5zdGFuY2UpIHtcbiAqICAgcmV0dXJuIHBheXBhbC5CdXR0b25zKHtcbiAqICAgICBjcmVhdGVPcmRlcjogZnVuY3Rpb24gKCkge1xuICogICAgICAgcmV0dXJuIHBheXBhbENoZWNrb3V0SW5zdGFuY2UuY3JlYXRlUGF5bWVudCh7XG4gKiAgICAgICAgIGZsb3c6ICdjaGVja291dCcsXG4gKiAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAqICAgICAgICAgYW1vdW50OiAnMTAuMDAnLFxuICogICAgICAgICBpbnRlbnQ6ICdjYXB0dXJlJyAvLyB0aGlzIHZhbHVlIG11c3QgZWl0aGVyIGJlIGBjYXB0dXJlYCBvciBtYXRjaCB0aGUgaW50ZW50IHBhc3NlZCBpbnRvIHRoZSBQYXlQYWwgU0RLIGludGVudCBxdWVyeSBwYXJhbWV0ZXJcbiAqICAgICAgICAgLy8geW91ciBvdGhlciBjcmVhdGVQYXltZW50IG9wdGlvbnMgaGVyZVxuICogICAgICAgfSk7XG4gKiAgICAgfSxcbiAqXG4gKiAgICAgb25BcHByb3ZlOiBmdW5jdGlvbiAoZGF0YSwgYWN0aW9ucykge1xuICogICAgICAgLy8gc29tZSBsb2dpYyBoZXJlIGJlZm9yZSB0b2tlbml6YXRpb24gaGFwcGVucyBiZWxvd1xuICogICAgICAgcmV0dXJuIHBheXBhbENoZWNrb3V0SW5zdGFuY2UudG9rZW5pemVQYXltZW50KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAqICAgICAgICAgLy8gU3VibWl0IHBheWxvYWQubm9uY2UgdG8geW91ciBzZXJ2ZXJcbiAqICAgICAgIH0pO1xuICogICAgIH0sXG4gKlxuICogICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gKiAgICAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSB1c2VyIGNhbmNlbHNcbiAqICAgICB9LFxuICpcbiAqICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gKiAgICAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSBlcnJvciBvY2N1cnNcbiAqICAgICB9XG4gKiAgIH0pLnJlbmRlcignI3BheXBhbC1idXR0b24nKTtcbiAqIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICBjb25zb2xlLmVycm9yKCdFcnJvciEnLCBlcnIpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMjIEludGVncmF0ZSBWYXVsdCBGbG93IHdpdGggUGF5UGFsIFNES1xuICpcbiAqIFlvdSBtdXN0IGhhdmUgW1BheVBhbCdzIHNjcmlwdCwgY29uZmlndXJlZCB3aXRoIHZhcmlvdXMgcXVlcnkgcGFyYW1ldGVyc10oaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS9kb2NzL2NoZWNrb3V0L2ludGVncmF0ZS8jMi1hZGQtdGhlLXBheXBhbC1zY3JpcHQtdG8teW91ci13ZWItcGFnZSksIGxvYWRlZCBvbiB5b3VyIHBhZ2U6XG4gKlxuICogYGBgaHRtbFxuICogPHNjcmlwdCBzcmM9XCJodHRwczovL3d3dy5wYXlwYWwuY29tL3Nkay9qcz9jbGllbnQtaWQ9eW91ci1zYW5kYm94LW9yLXByb2QtY2xpZW50LWlkJnZhdWx0PXRydWVcIj48L3NjcmlwdD5cbiAqIDxkaXYgaWQ9XCJwYXlwYWwtYnV0dG9uXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHBhc3NpbmcgdmFsdWVzIGluIHRoZSBgY3JlYXRlUGF5bWVudGAgbWV0aG9kLCBtYWtlIHN1cmUgdGhleSBtYXRjaCB0aGUgW2NvcnJlc3BvbmRpbmcgcGFyYW1ldGVycyBpbiB0aGUgcXVlcnkgcGFyYW1ldGVycyBmb3IgdGhlIFBheVBhbCBTREsgc2NyaXB0XShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvY2hlY2tvdXQvcmVmZXJlbmNlL2N1c3RvbWl6ZS1zZGsvKS5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBicmFpbnRyZWUuY2xpZW50LmNyZWF0ZSh7XG4gKiAgIGF1dGhvcml6YXRpb246ICdhdXRob3JpemF0aW9uJ1xuICogfSkudGhlbihmdW5jdGlvbiAoY2xpZW50SW5zdGFuY2UpIHtcbiAqICAgcmV0dXJuIGJyYWludHJlZS5wYXlwYWxDaGVja291dC5jcmVhdGUoe1xuICogICAgIGNsaWVudDogY2xpZW50SW5zdGFuY2VcbiAqICAgfSk7XG4gKiB9KS50aGVuKGZ1bmN0aW9uIChwYXlwYWxDaGVja291dEluc3RhbmNlKSB7XG4gKiAgIHJldHVybiBwYXlwYWwuQnV0dG9ucyh7XG4gKiAgICAgY3JlYXRlQmlsbGluZ0FncmVlbWVudDogZnVuY3Rpb24gKCkge1xuICogICAgICAgcmV0dXJuIHBheXBhbENoZWNrb3V0SW5zdGFuY2UuY3JlYXRlUGF5bWVudCh7XG4gKiAgICAgICAgIGZsb3c6ICd2YXVsdCdcbiAqICAgICAgICAgLy8geW91ciBvdGhlciBjcmVhdGVQYXltZW50IG9wdGlvbnMgaGVyZVxuICogICAgICAgfSk7XG4gKiAgICAgfSxcbiAqXG4gKiAgICAgb25BcHByb3ZlOiBmdW5jdGlvbiAoZGF0YSwgYWN0aW9ucykge1xuICogICAgICAgLy8gc29tZSBsb2dpYyBoZXJlIGJlZm9yZSB0b2tlbml6YXRpb24gaGFwcGVucyBiZWxvd1xuICogICAgICAgcmV0dXJuIHBheXBhbENoZWNrb3V0SW5zdGFuY2UudG9rZW5pemVQYXltZW50KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAqICAgICAgICAgLy8gU3VibWl0IHBheWxvYWQubm9uY2UgdG8geW91ciBzZXJ2ZXJcbiAqICAgICAgIH0pO1xuICogICAgIH0sXG4gKlxuICogICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gKiAgICAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSB1c2VyIGNhbmNlbHNcbiAqICAgICB9LFxuICpcbiAqICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gKiAgICAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSBlcnJvciBvY2N1cnNcbiAqICAgICB9XG4gKiAgIH0pLnJlbmRlcignI3BheXBhbC1idXR0b24nKTtcbiAqIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICBjb25zb2xlLmVycm9yKCdFcnJvciEnLCBlcnIpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMjIEludGVncmF0ZSB3aXRoIENoZWNrb3V0LmpzIChkZXByZWNhdGVkIFBheVBhbCBTREspXG4gKlxuICogSWYgeW91IGFyZSBjcmVhdGluZyBhIG5ldyBQYXlQYWwgaW50ZWdyYXRpb24sIHBsZWFzZSBmb2xsb3cgdGhlIHByZXZpb3VzIGludGVncmF0aW9uIGd1aWRlIHRvIHVzZSB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBQYXlQYWwgU0RLLiBVc2UgdGhpcyBpbnRlZ3JhdGlvbiBndWlkZSBvbmx5IGFzIGEgcmVmZXJlbmNlIGlmIHlvdSBhcmUgYWxyZWFkeSBpbnRlZ3JhdGVkIHdpdGggQ2hlY2tvdXQuanMuXG4gKlxuICogWW91IG11c3QgaGF2ZSBQYXlQYWwncyBDaGVja291dC5qcyBzY3JpcHQgbG9hZGVkIG9uIHlvdXIgcGFnZS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8c2NyaXB0IHNyYz1cImh0dHBzOi8vd3d3LnBheXBhbG9iamVjdHMuY29tL2FwaS9jaGVja291dC5qc1wiIGRhdGEtdmVyc2lvbi00IGxvZy1sZXZlbD1cIndhcm5cIj48L3NjcmlwdD5cbiAqIGBgYFxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGJyYWludHJlZS5jbGllbnQuY3JlYXRlKHtcbiAqICAgYXV0aG9yaXphdGlvbjogJ2F1dGhvcml6YXRpb24nXG4gKiB9KS50aGVuKGZ1bmN0aW9uIChjbGllbnRJbnN0YW5jZSkge1xuICogICByZXR1cm4gYnJhaW50cmVlLnBheXBhbENoZWNrb3V0LmNyZWF0ZSh7XG4gKiAgICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZVxuICogICB9KTtcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKHBheXBhbENoZWNrb3V0SW5zdGFuY2UpIHtcbiAqICAgcmV0dXJuIHBheXBhbC5CdXR0b24ucmVuZGVyKHtcbiAqICAgICBlbnY6ICdwcm9kdWN0aW9uJywgLy8gb3IgJ3NhbmRib3gnXG4gKlxuICogICAgIHBheW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAqICAgICAgIHJldHVybiBwYXlwYWxDaGVja291dEluc3RhbmNlLmNyZWF0ZVBheW1lbnQoe1xuICogICAgICAgICAvLyB5b3VyIGNyZWF0ZVBheW1lbnQgb3B0aW9ucyBoZXJlXG4gKiAgICAgICB9KTtcbiAqICAgICB9LFxuICpcbiAqICAgICBvbkF1dGhvcml6ZTogZnVuY3Rpb24gKGRhdGEsIGFjdGlvbnMpIHtcbiAqICAgICAgIC8vIHNvbWUgbG9naWMgaGVyZSBiZWZvcmUgdG9rZW5pemF0aW9uIGhhcHBlbnMgYmVsb3dcbiAqICAgICAgIHJldHVybiBwYXlwYWxDaGVja291dEluc3RhbmNlLnRva2VuaXplUGF5bWVudChkYXRhKS50aGVuKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gKiAgICAgICAgIC8vIFN1Ym1pdCBwYXlsb2FkLm5vbmNlIHRvIHlvdXIgc2VydmVyXG4gKiAgICAgICB9KTtcbiAqICAgICB9XG4gKiAgIH0sICcjcGF5cGFsLWJ1dHRvbicpO1xuICogfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICogIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIScsIGVycik7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBQYXlQYWxDaGVja291dChvcHRpb25zKSB7XG4gIHRoaXMuX21lcmNoYW50QWNjb3VudElkID0gb3B0aW9ucy5tZXJjaGFudEFjY291bnRJZDtcbiAgLy8gVE9ETyByZW1vdmUgdGhpcyByZXF1aXJlbWVudCBmb3IgaXQgdG8gYmUgb3B0IGluLlxuICAvLyBUaGlzIGZlYXR1cmUgaXMgbm90IHlldCBHQSwgc28gd2UncmUgaW50ZW50aW9uYWxseSBtYWtpbmdcbiAgLy8gaXQgb3B0IGluIGFuZCBub3QgcHVibGljbHkgZG9jdW1lbnRpbmcgaXQgeWV0LiBPbmNlIGl0J3NcbiAgLy8gR0EsIHdlIGNhbiByZW1vdmUgdGhlIHJlcXVpcmVtZW50IHRvIG9wdCBpbiB0byBpdFxuICB0aGlzLl9hdXRvU2V0RGF0YVVzZXJJZFRva2VuID0gQm9vbGVhbihvcHRpb25zLmF1dG9TZXREYXRhVXNlcklkVG9rZW4pO1xufVxuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX2luaXRpYWxpemUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgY29uZmlnO1xuXG4gIGlmIChvcHRpb25zLmNsaWVudCkge1xuICAgIGNvbmZpZyA9IG9wdGlvbnMuY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKTtcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uSW5mb3JtYXRpb24gPSB7XG4gICAgICBmaW5nZXJwcmludDogY29uZmlnLmF1dGhvcml6YXRpb25GaW5nZXJwcmludCxcbiAgICAgIGVudmlyb25tZW50OiBjb25maWcuZ2F0ZXdheUNvbmZpZ3VyYXRpb24uZW52aXJvbm1lbnQsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcgPSBjcmVhdGVBdXRob3JpemF0aW9uRGF0YShvcHRpb25zLmF1dGhvcml6YXRpb24pO1xuICAgIHRoaXMuX2F1dGhvcml6YXRpb25JbmZvcm1hdGlvbiA9IHtcbiAgICAgIGZpbmdlcnByaW50OiBjb25maWcuYXR0cnMuYXV0aG9yaXphdGlvbkZpbmdlcnByaW50LFxuICAgICAgZW52aXJvbm1lbnQ6IGNvbmZpZy5lbnZpcm9ubWVudCxcbiAgICB9O1xuICB9XG5cbiAgdGhpcy5fY2xpZW50UHJvbWlzZSA9IGNyZWF0ZURlZmVycmVkQ2xpZW50XG4gICAgLmNyZWF0ZSh7XG4gICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLmF1dGhvcml6YXRpb24sXG4gICAgICBjbGllbnQ6IG9wdGlvbnMuY2xpZW50LFxuICAgICAgZGVidWc6IG9wdGlvbnMuZGVidWcsXG4gICAgICBhc3NldHNVcmw6IGNyZWF0ZUFzc2V0c1VybC5jcmVhdGUob3B0aW9ucy5hdXRob3JpemF0aW9uKSxcbiAgICAgIG5hbWU6IFwiUGF5UGFsIENoZWNrb3V0XCIsXG4gICAgfSlcbiAgICAudGhlbihcbiAgICAgIGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNsaWVudC5nZXRDb25maWd1cmF0aW9uKCk7XG5cbiAgICAgICAgLy8gd2Ugc2tpcCB0aGVzZSBjaGVja3MgaWYgYSBtZXJjaGFudCBhY2NvdW50IGlkIGlzXG4gICAgICAgIC8vIHBhc3NlZCBpbiwgYmVjYXVzZSB0aGUgZGVmYXVsdCBtZXJjaGFudCBhY2NvdW50XG4gICAgICAgIC8vIG1heSBub3QgaGF2ZSBwYXlwYWwgZW5hYmxlZFxuICAgICAgICBpZiAoIXRoaXMuX21lcmNoYW50QWNjb3VudElkKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9jb25maWd1cmF0aW9uLmdhdGV3YXlDb25maWd1cmF0aW9uLnBheXBhbEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwRXJyb3IgPSBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlBBWVBBTF9OT1RfRU5BQkxFRCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZ3VyYXRpb24uZ2F0ZXdheUNvbmZpZ3VyYXRpb24ucGF5cGFsXG4gICAgICAgICAgICAgIC5lbnZpcm9ubWVudE5vTmV0d29yayA9PT0gdHJ1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBFcnJvciA9IG5ldyBCcmFpbnRyZWVFcnJvcihcbiAgICAgICAgICAgICAgZXJyb3JzLlBBWVBBTF9TQU5EQk9YX0FDQ09VTlRfTk9UX0xJTktFRFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2V0dXBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLl9zZXR1cEVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoY2xpZW50LCBcInBheXBhbC1jaGVja291dC5pbml0aWFsaXplZFwiKTtcbiAgICAgICAgdGhpcy5fZnJhbWVTZXJ2aWNlUHJvbWlzZSA9IHRoaXMuX3NldHVwRnJhbWVTZXJ2aWNlKGNsaWVudCk7XG5cbiAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICAgIH0uYmluZCh0aGlzKVxuICAgICk7XG5cbiAgLy8gaWYgY2xpZW50IHdhcyBwYXNzZWQgaW4sIGxldCBjb25maWcgY2hlY2tzIGhhcHBlbiBiZWZvcmVcbiAgLy8gcmVzb2x2aW5nIHRoZSBpbnN0YW5jZS4gT3RoZXJ3aXNlLCBqdXN0IHJlc29sdmUgdGhlIGluc3RhbmNlXG4gIGlmIChvcHRpb25zLmNsaWVudCkge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRQcm9taXNlLnRoZW4oXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG59O1xuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX3NldHVwRnJhbWVTZXJ2aWNlID0gZnVuY3Rpb24gKGNsaWVudCkge1xuICB2YXIgZnJhbWVTZXJ2aWNlUHJvbWlzZSA9IG5ldyBFeHRlbmRlZFByb21pc2UoKTtcbiAgdmFyIGNvbmZpZyA9IGNsaWVudC5nZXRDb25maWd1cmF0aW9uKCk7XG4gIHZhciB0aW1lb3V0UmVmID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChjbGllbnQsIFwicGF5cGFsLWNoZWNrb3V0LmZyYW1lLXNlcnZpY2UudGltZWQtb3V0XCIpO1xuICAgIGZyYW1lU2VydmljZVByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKFxuICAgICAgICBlcnJvcnMuUEFZUEFMX1NUQVJUX1ZBVUxUX0lOSVRJQVRFRF9DSEVDS09VVF9TRVRVUF9GQUlMRURcbiAgICAgIClcbiAgICApO1xuICB9LCBJTlRFR1JBVElPTl9USU1FT1VUX01TKTtcblxuICB0aGlzLl9hc3NldHNVcmwgPVxuICAgIGNvbmZpZy5nYXRld2F5Q29uZmlndXJhdGlvbi5wYXlwYWwuYXNzZXRzVXJsICsgXCIvd2ViL1wiICsgVkVSU0lPTjtcbiAgdGhpcy5faXNEZWJ1ZyA9IGNvbmZpZy5pc0RlYnVnO1xuICAvLyBOb3RlOiB0aGlzIGlzIHVzaW5nIHRoZSBzdGF0aWMgbGFuZGluZyBmcmFtZSB0aGF0IHRoZSBkZXByZWNhdGVkIFBheVBhbCBjb21wb25lbnQgYnVpbGRzIGFuZCB1c2VzXG4gIHRoaXMuX2xvYWRpbmdGcmFtZVVybCA9XG4gICAgdGhpcy5fYXNzZXRzVXJsICtcbiAgICBcIi9odG1sL3BheXBhbC1sYW5kaW5nLWZyYW1lXCIgK1xuICAgIHVzZU1pbih0aGlzLl9pc0RlYnVnKSArXG4gICAgXCIuaHRtbFwiO1xuXG4gIGZyYW1lU2VydmljZS5jcmVhdGUoXG4gICAge1xuICAgICAgbmFtZTogXCJicmFpbnRyZWVwYXlwYWxsYW5kaW5nXCIsXG4gICAgICBkaXNwYXRjaEZyYW1lVXJsOlxuICAgICAgICB0aGlzLl9hc3NldHNVcmwgK1xuICAgICAgICBcIi9odG1sL2Rpc3BhdGNoLWZyYW1lXCIgK1xuICAgICAgICB1c2VNaW4odGhpcy5faXNEZWJ1ZykgK1xuICAgICAgICBcIi5odG1sXCIsXG4gICAgICBvcGVuRnJhbWVVcmw6IHRoaXMuX2xvYWRpbmdGcmFtZVVybCxcbiAgICB9LFxuICAgIGZ1bmN0aW9uIChzZXJ2aWNlKSB7XG4gICAgICB0aGlzLl9mcmFtZVNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYpO1xuXG4gICAgICBmcmFtZVNlcnZpY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LmJpbmQodGhpcylcbiAgKTtcblxuICByZXR1cm4gZnJhbWVTZXJ2aWNlUHJvbWlzZTtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gUGF5UGFsQ2hlY2tvdXR+bGluZUl0ZW1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBxdWFudGl0eSBOdW1iZXIgb2YgdW5pdHMgb2YgdGhlIGl0ZW0gcHVyY2hhc2VkLiBUaGlzIHZhbHVlIG11c3QgYmUgYSB3aG9sZSBudW1iZXIgYW5kIGNhbid0IGJlIG5lZ2F0aXZlIG9yIHplcm8uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdW5pdEFtb3VudCBQZXItdW5pdCBwcmljZSBvZiB0aGUgaXRlbS4gQ2FuIGluY2x1ZGUgdXAgdG8gMiBkZWNpbWFsIHBsYWNlcy4gVGhpcyB2YWx1ZSBjYW4ndCBiZSBuZWdhdGl2ZSBvciB6ZXJvLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgSXRlbSBuYW1lLiBNYXhpbXVtIDEyNyBjaGFyYWN0ZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGtpbmQgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGxpbmUgaXRlbSBpcyBhIGRlYml0IChzYWxlKSBvciBjcmVkaXQgKHJlZnVuZCkgdG8gdGhlIGN1c3RvbWVyLiBBY2NlcHRlZCB2YWx1ZXM6IGBkZWJpdGAgYW5kIGBjcmVkaXRgLlxuICogQHByb3BlcnR5IHs/c3RyaW5nfSB1bml0VGF4QW1vdW50IFBlci11bml0IHRheCBwcmljZSBvZiB0aGUgaXRlbS4gQ2FuIGluY2x1ZGUgdXAgdG8gMiBkZWNpbWFsIHBsYWNlcy4gVGhpcyB2YWx1ZSBjYW4ndCBiZSBuZWdhdGl2ZSBvciB6ZXJvLlxuICogQHByb3BlcnR5IHs/c3RyaW5nfSBkZXNjcmlwdGlvbiBJdGVtIGRlc2NyaXB0aW9uLiBNYXhpbXVtIDEyNyBjaGFyYWN0ZXJzLlxuICogQHByb3BlcnR5IHs/c3RyaW5nfSBwcm9kdWN0Q29kZSBQcm9kdWN0IG9yIFVQQyBjb2RlIGZvciB0aGUgaXRlbS4gTWF4aW11bSAxMjcgY2hhcmFjdGVycy5cbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gcHJvZHVjdCBpbmZvcm1hdGlvbi5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBheVBhbENoZWNrb3V0fnNoaXBwaW5nT3B0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWQgQSB1bmlxdWUgSUQgdGhhdCBpZGVudGlmaWVzIGEgcGF5ZXItc2VsZWN0ZWQgc2hpcHBpbmcgb3B0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxhYmVsIEEgZGVzY3JpcHRpb24gdGhhdCB0aGUgcGF5ZXIgc2Vlcywgd2hpY2ggaGVscHMgdGhlbSBjaG9vc2UgYW4gYXBwcm9wcmlhdGUgc2hpcHBpbmcgb3B0aW9uLiBGb3IgZXhhbXBsZSwgYEZyZWUgU2hpcHBpbmdgLCBgVVNQUyBQcmlvcml0eSBTaGlwcGluZ2AsIGBFeHDDqWRpdGlvbiBwcmlvcml0YWlyZSBVU1BTYCwgb3IgYFVTUFMgecWNdXhpxIFuIGbEgSBodcOyYC4gTG9jYWxpemUgdGhpcyBkZXNjcmlwdGlvbiB0byB0aGUgcGF5ZXIncyBsb2NhbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNlbGVjdGVkIElmIGBzZWxlY3RlZCA9IHRydWVgIGlzIHNwZWNpZmllZCBhcyBwYXJ0IG9mIHRoZSBBUEkgcmVxdWVzdCBpdCByZXByZXNlbnRzIHRoZSBzaGlwcGluZyBvcHRpb24gdGhhdCB0aGUgcGF5ZWUvbWVyY2hhbnQgZXhwZWN0cyB0byBiZSBwcmUtc2VsZWN0ZWQgZm9yIHRoZSBwYXllciB3aGVuIHRoZXkgZmlyc3QgdmlldyB0aGUgc2hpcHBpbmcgb3B0aW9ucyB3aXRoaW4gdGhlIFBheVBhbCBjaGVja291dCBleHBlcmllbmNlLiBBcyBwYXJ0IG9mIHRoZSByZXNwb25zZSBpZiBhIHNoaXBwaW5nIG9wdGlvbiBoYXMgYHNlbGVjdGVkID0gdHJ1ZWAgaXQgcmVwcmVzZW50cyB0aGUgc2hpcHBpbmcgb3B0aW9uIHRoYXQgdGhlIHBheWVyIHNlbGVjdGVkIGR1cmluZyB0aGUgY291cnNlIG9mIGNoZWNrb3V0IHdpdGggUGF5UGFsLiBPbmx5IDEgYHNoaXBwaW5nT3B0aW9uYCBjYW4gYmUgc2V0IHRvIGBzZWxlY3RlZCA9IHRydWVgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIG1ldGhvZCBieSB3aGljaCB0aGUgcGF5ZXIgd2FudHMgdG8gZ2V0IHRoZWlyIGl0ZW1zLiBUaGUgcG9zc2libGUgdmFsdWVzIGFyZTpcbiAqICogYFNISVBQSU5HYCAtIFRoZSBwYXllciBpbnRlbmRzIHRvIHJlY2VpdmUgdGhlIGl0ZW1zIGF0IGEgc3BlY2lmaWVkIGFkZHJlc3MuXG4gKiAqIGBQSUNLVVBgIC0gVGhlIHBheWVyIGludGVuZHMgdG8gcGljayB1cCB0aGUgaXRlbXMgYXQgYSBzcGVjaWZpZWQgYWRkcmVzcy4gRm9yIGV4YW1wbGUsIGEgc3RvcmUgYWRkcmVzcy5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBhbW91bnQgVGhlIHNoaXBwaW5nIGNvc3QgZm9yIHRoZSBzZWxlY3RlZCBvcHRpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYW1vdW50LmN1cnJlbmN5IFRoZSB0aHJlZS1jaGFyYWN0ZXIgSVNPLTQyMTcgY3VycmVuY3kgY29kZS4gUGF5UGFsIGRvZXMgbm90IHN1cHBvcnQgYWxsIGN1cnJlbmNpZXMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYW1vdW50LnZhbHVlIFRoZSBhbW91bnQgdGhlIHNoaXBwaW5nIG9wdGlvbiB3aWxsIGNvc3QuIEluY2x1ZGVzIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRpZ2l0cyBhZnRlciBkZWNpbWFsIHNlcGFyYXRvciBmb3IgdGhlIElTTy00MjE3IGN1cnJlbmN5IGNvZGUuXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgUGF5UGFsIHBheW1lbnQgSUQgb3IgYmlsbGluZyB0b2tlbiB1c2luZyB0aGUgZ2l2ZW4gb3B0aW9ucy4gVGhpcyBpcyBtZWFudCB0byBiZSBwYXNzZWQgdG8gdGhlIFBheVBhbCBKUyBTREsuXG4gKiBXaGVuIGEge0BsaW5rIGNhbGxiYWNrfSBpcyBkZWZpbmVkLCB0aGUgZnVuY3Rpb24gcmV0dXJucyB1bmRlZmluZWQgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIHdpdGggdGhlIGlkIHRvIGJlIHVzZWQgd2l0aCB0aGUgUGF5UGFsIEpTIFNESy4gT3RoZXJ3aXNlLCBpdCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGlkLlxuICogQHB1YmxpY1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQWxsIG9wdGlvbnMgZm9yIHRoZSBQYXlQYWxDaGVja291dCBjb21wb25lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5mbG93IFNldCB0byAnY2hlY2tvdXQnIGZvciBvbmUtdGltZSBwYXltZW50IGZsb3csIG9yICd2YXVsdCcgZm9yIFZhdWx0IGZsb3cuIElmICd2YXVsdCcgaXMgdXNlZCB3aXRoIGEgY2xpZW50IHRva2VuIGdlbmVyYXRlZCB3aXRoIGEgY3VzdG9tZXIgSUQsIHRoZSBQYXlQYWwgYWNjb3VudCB3aWxsIGJlIGFkZGVkIHRvIHRoYXQgY3VzdG9tZXIgYXMgYSBzYXZlZCBwYXltZW50IG1ldGhvZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pbnRlbnQ9YXV0aG9yaXplXVxuICogKiBgYXV0aG9yaXplYCAtIFN1Ym1pdHMgdGhlIHRyYW5zYWN0aW9uIGZvciBhdXRob3JpemF0aW9uIGJ1dCBub3Qgc2V0dGxlbWVudC5cbiAqICogYG9yZGVyYCAtIFZhbGlkYXRlcyB0aGUgdHJhbnNhY3Rpb24gd2l0aG91dCBhbiBhdXRob3JpemF0aW9uIChpLmUuIHdpdGhvdXQgaG9sZGluZyBmdW5kcykuIFVzZWZ1bCBmb3IgYXV0aG9yaXppbmcgYW5kIGNhcHR1cmluZyBmdW5kcyB1cCB0byA5MCBkYXlzIGFmdGVyIHRoZSBvcmRlciBoYXMgYmVlbiBwbGFjZWQuIE9ubHkgYXZhaWxhYmxlIGZvciBDaGVja291dCBmbG93LlxuICogKiBgY2FwdHVyZWAgLSBQYXltZW50IHdpbGwgYmUgaW1tZWRpYXRlbHkgc3VibWl0dGVkIGZvciBzZXR0bGVtZW50IHVwb24gY3JlYXRpbmcgYSB0cmFuc2FjdGlvbi4gYHNhbGVgIGNhbiBiZSB1c2VkIGFzIGFuIGFsaWFzIGZvciB0aGlzIHZhbHVlLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5vZmZlckNyZWRpdD1mYWxzZV0gT2ZmZXJzIFBheVBhbCBDcmVkaXQgYXMgdGhlIGRlZmF1bHQgZnVuZGluZyBpbnN0cnVtZW50IGZvciB0aGUgdHJhbnNhY3Rpb24uIElmIHRoZSBjdXN0b21lciBpc24ndCBwcmUtYXBwcm92ZWQgZm9yIFBheVBhbCBDcmVkaXQsIHRoZXkgd2lsbCBiZSBwcm9tcHRlZCB0byBhcHBseSBmb3IgaXQuXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKX0gW29wdGlvbnMuYW1vdW50XSBUaGUgYW1vdW50IG9mIHRoZSB0cmFuc2FjdGlvbi4gUmVxdWlyZWQgd2hlbiB1c2luZyB0aGUgQ2hlY2tvdXQgZmxvdy4gU2hvdWxkIG5vdCBpbmNsdWRlIHNoaXBwaW5nIGNvc3QuXG4gKiAqIFN1cHBvcnRzIHVwIHRvIDIgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50XG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY3VycmVuY3ldIFRoZSBjdXJyZW5jeSBjb2RlIG9mIHRoZSBhbW91bnQsIHN1Y2ggYXMgJ1VTRCcuIFJlcXVpcmVkIHdoZW4gdXNpbmcgdGhlIENoZWNrb3V0IGZsb3cuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZGlzcGxheU5hbWVdIFRoZSBtZXJjaGFudCBuYW1lIGRpc3BsYXllZCBpbnNpZGUgb2YgdGhlIFBheVBhbCBsaWdodGJveDsgZGVmYXVsdHMgdG8gdGhlIGNvbXBhbnkgbmFtZSBvbiB5b3VyIEJyYWludHJlZSBhY2NvdW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlcXVlc3RCaWxsaW5nQWdyZWVtZW50XSBJZiBgdHJ1ZWAgYW5kIGBmbG93ID0gY2hlY2tvdXRgLCB0aGUgY3VzdG9tZXIgd2lsbCBiZSBwcm9tcHRlZCB0byBjb25zZW50IHRvIGEgYmlsbGluZyBhZ3JlZW1lbnQgZHVyaW5nIHRoZSBjaGVja291dCBmbG93LiBUaGlzIHZhbHVlIGlzIGlnbm9yZWQgd2hlbiBgZmxvdyA9IHZhdWx0YC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5iaWxsaW5nQWdyZWVtZW50RGV0YWlsc10gV2hlbiBgcmVxdWVzdEJpbGxpbmdBZ3JlZW1lbnQgPSB0cnVlYCwgYWxsb3dzIGZvciBkZXRhaWxzIHRvIGJlIHNldCBmb3IgdGhlIGJpbGxpbmcgYWdyZWVtZW50IHBvcnRpb24gb2YgdGhlIGZsb3cuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmlsbGluZ0FncmVlbWVudERldGFpbHMuZGVzY3JpcHRpb25dIERlc2NyaXB0aW9uIG9mIHRoZSBiaWxsaW5nIGFncmVlbWVudCB0byBkaXNwbGF5IHRvIHRoZSBjdXN0b21lci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXVsdEluaXRpYXRlZENoZWNrb3V0UGF5bWVudE1ldGhvZFRva2VuXSBVc2UgdGhlIHBheW1lbnQgbWV0aG9kIG5vbmNlIHJlcHJlc2VudGluZyBhIFBheVBhbCBhY2NvdW50IHdpdGggYSBCaWxsaW5nIEFncmVlbWVudCBJRCB0byBjcmVhdGUgdGhlIHBheW1lbnQgYW5kIHJlZGlyZWN0IHRoZSBjdXN0b21lciB0byBzZWxlY3QgYSBuZXcgZmluYW5jaWFsIGluc3RydW1lbnQuIFRoaXMgb3B0aW9uIGlzIG9ubHkgYXBwbGljYWJsZSB0byB0aGUgYGNoZWNrb3V0YCBmbG93LlxuICogQHBhcmFtIHtzaGlwcGluZ09wdGlvbltdfSBbb3B0aW9ucy5zaGlwcGluZ09wdGlvbnNdIExpc3Qgb2Ygc2hpcHBpbmcgb3B0aW9ucyBvZmZlcmVkIGJ5IHRoZSBwYXllZSBvciBtZXJjaGFudCB0byB0aGUgcGF5ZXIgdG8gc2hpcCBvciBwaWNrIHVwIHRoZWlyIGl0ZW1zLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5lbmFibGVTaGlwcGluZ0FkZHJlc3M9ZmFsc2VdIFJldHVybnMgYSBzaGlwcGluZyBhZGRyZXNzIG9iamVjdCBpbiB7QGxpbmsgUGF5UGFsI3Rva2VuaXplfS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5zaGlwcGluZ0FkZHJlc3NPdmVycmlkZV0gQWxsb3dzIHlvdSB0byBwYXNzIGEgc2hpcHBpbmcgYWRkcmVzcyB5b3UgaGF2ZSBhbHJlYWR5IGNvbGxlY3RlZCBpbnRvIHRoZSBQYXlQYWwgcGF5bWVudCBmbG93LlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUubGluZTEgU3RyZWV0IGFkZHJlc3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUubGluZTJdIFN0cmVldCBhZGRyZXNzIChleHRlbmRlZCkuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zaGlwcGluZ0FkZHJlc3NPdmVycmlkZS5jaXR5IENpdHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zaGlwcGluZ0FkZHJlc3NPdmVycmlkZS5zdGF0ZSBTdGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnNoaXBwaW5nQWRkcmVzc092ZXJyaWRlLnBvc3RhbENvZGUgUG9zdGFsIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zaGlwcGluZ0FkZHJlc3NPdmVycmlkZS5jb3VudHJ5Q29kZSBDb3VudHJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNoaXBwaW5nQWRkcmVzc092ZXJyaWRlLnBob25lXSBQaG9uZSBudW1iZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc2hpcHBpbmdBZGRyZXNzT3ZlcnJpZGUucmVjaXBpZW50TmFtZV0gUmVjaXBpZW50J3MgbmFtZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hpcHBpbmdBZGRyZXNzRWRpdGFibGU9dHJ1ZV0gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdXNlciBlZGl0aW5nIG9mIHRoZSBzaGlwcGluZyBhZGRyZXNzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJpbGxpbmdBZ3JlZW1lbnREZXNjcmlwdGlvbl0gVXNlIHRoaXMgb3B0aW9uIHRvIHNldCB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIHByZWFwcHJvdmVkIHBheW1lbnQgYWdyZWVtZW50IHZpc2libGUgdG8gY3VzdG9tZXJzIGluIHRoZWlyIFBheVBhbCBwcm9maWxlIGR1cmluZyBWYXVsdCBmbG93cy4gTWF4IDI1NSBjaGFyYWN0ZXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxhbmRpbmdQYWdlVHlwZV0gVXNlIHRoaXMgb3B0aW9uIHRvIHNwZWNpZnkgdGhlIFBheVBhbCBwYWdlIHRvIGRpc3BsYXkgd2hlbiBhIHVzZXIgbGFuZHMgb24gdGhlIFBheVBhbCBzaXRlIHRvIGNvbXBsZXRlIHRoZSBwYXltZW50LlxuICogKiBgbG9naW5gIC0gQSBQYXlQYWwgYWNjb3VudCBsb2dpbiBwYWdlIGlzIHVzZWQuXG4gKiAqIGBiaWxsaW5nYCAtIEEgbm9uLVBheVBhbCBhY2NvdW50IGxhbmRpbmcgcGFnZSBpcyB1c2VkLlxuICogQHBhcmFtIHtsaW5lSXRlbVtdfSBbb3B0aW9ucy5saW5lSXRlbXNdIFRoZSB7QGxpbmsgUGF5UGFsQ2hlY2tvdXR+bGluZUl0ZW18bGluZSBpdGVtc30gZm9yIHRoaXMgdHJhbnNhY3Rpb24uIEl0IGNhbiBpbmNsdWRlIHVwIHRvIDI0OSBsaW5lIGl0ZW1zLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50IGlzIGEgUGF5UGFsIGBwYXltZW50SWRgIG9yIGBiaWxsaW5nVG9rZW5gIHN0cmluZywgZGVwZW5kaW5nIG9uIHdoZXRoZXIgYG9wdGlvbnMuZmxvd2AgaXMgYGNoZWNrb3V0YCBvciBgdmF1bHRgLiBUaGlzIGlzIGFsc28gd2hhdCBpcyByZXNvbHZlZCBieSB0aGUgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqIEBleGFtcGxlXG4gKiAvLyB0aGlzIHBheXBhbCBvYmplY3QgaXMgY3JlYXRlZCBieSB0aGUgUGF5UGFsIEpTIFNES1xuICogLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXlwYWwvcGF5cGFsLWNoZWNrb3V0LWNvbXBvbmVudHNcbiAqIHBheXBhbC5CdXR0b25zKHtcbiAqICAgY3JlYXRlT3JkZXI6IGZ1bmN0aW9uICgpIHtcbiAqICAgICAvLyB3aGVuIGNyZWF0ZVBheW1lbnQgcmVzb2x2ZXMsIGl0IGlzIGF1dG9tYXRpY2FsbHkgcGFzc2VkIHRvIHRoZSBQYXlQYWwgSlMgU0RLXG4gKiAgICAgcmV0dXJuIHBheXBhbENoZWNrb3V0SW5zdGFuY2UuY3JlYXRlUGF5bWVudCh7XG4gKiAgICAgICBmbG93OiAnY2hlY2tvdXQnLFxuICogICAgICAgYW1vdW50OiAnMTAuMDAnLFxuICogICAgICAgY3VycmVuY3k6ICdVU0QnLFxuICogICAgICAgaW50ZW50OiAnY2FwdHVyZScgLy8gdGhpcyB2YWx1ZSBtdXN0IGVpdGhlciBiZSBgY2FwdHVyZWAgb3IgbWF0Y2ggdGhlIGludGVudCBwYXNzZWQgaW50byB0aGUgUGF5UGFsIFNESyBpbnRlbnQgcXVlcnkgcGFyYW1ldGVyXG4gKiAgICAgfSk7XG4gKiAgIH0sXG4gKiAgIC8vIEFkZCBvdGhlciBvcHRpb25zLCBlLmcuIG9uQXBwcm92ZWQsIG9uQ2FuY2VsLCBvbkVycm9yXG4gKiB9KS5yZW5kZXIoJyNwYXlwYWwtYnV0dG9uJyk7XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIHNoaXBwaW5nT3B0aW9ucyBhcmUgcGFzc2VkIHRvIGNyZWF0ZVBheW1lbnQuIFlvdSBjYW4gcmV2aWV3IHRoZSByZXN1bHQgZnJvbSBvbkF1dGhvcml6ZSB0byBkZXRlcm1pbmUgd2hpY2ggc2hpcHBpbmcgb3B0aW9uIGlkIHdhcyBzZWxlY3RlZC5cbiAqIGBgYGphdmFzY3JpcHRcbiAqIGJyYWludHJlZS5jbGllbnQuY3JlYXRlKHtcbiAqICAgYXV0aG9yaXphdGlvbjogJ2F1dGhvcml6YXRpb24nXG4gKiB9KS50aGVuKGZ1bmN0aW9uIChjbGllbnRJbnN0YW5jZSkge1xuICogICByZXR1cm4gYnJhaW50cmVlLnBheXBhbENoZWNrb3V0LmNyZWF0ZSh7XG4gKiAgICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZVxuICogICB9KTtcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKHBheXBhbENoZWNrb3V0SW5zdGFuY2UpIHtcbiAqICAgcmV0dXJuIHBheXBhbC5CdXR0b24ucmVuZGVyKHtcbiAqICAgICBlbnY6ICdwcm9kdWN0aW9uJ1xuICpcbiAqICAgICBwYXltZW50OiBmdW5jdGlvbiAoKSB7XG4gKiAgICAgICByZXR1cm4gcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZS5jcmVhdGVQYXltZW50KHtcbiAqICAgICAgICAgZmxvdzogJ2NoZWNrb3V0JyxcbiAqICAgICAgICAgYW1vdW50OiAnMTAuMDAnLFxuICogICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gKiAgICAgICAgIHNoaXBwaW5nT3B0aW9uczogW1xuICogICAgICAgICAgIHtcbiAqICAgICAgICAgICAgIGlkOiAnVVVJRC05JyxcbiAqICAgICAgICAgICAgIHR5cGU6ICdQSUNLVVAnLFxuICogICAgICAgICAgICAgbGFiZWw6ICdTdG9yZSBMb2NhdGlvbiBGaXZlJyxcbiAqICAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICogICAgICAgICAgICAgYW1vdW50OiB7XG4gKiAgICAgICAgICAgICAgIHZhbHVlOiAnMS4wMCcsXG4gKiAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJ1xuICogICAgICAgICAgICAgfVxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgICAge1xuICogICAgICAgICAgICAgaWQ6ICdzaGlwcGluZy1zcGVlZC1mYXN0JyxcbiAqICAgICAgICAgICAgIHR5cGU6ICdTSElQUElORycsXG4gKiAgICAgICAgICAgICBsYWJlbDogJ0Zhc3QgU2hpcHBpbmcnLFxuICogICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICogICAgICAgICAgICAgYW1vdW50OiB7XG4gKiAgICAgICAgICAgICAgIHZhbHVlOiAnMS4wMCcsXG4gKiAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJ1xuICogICAgICAgICAgICAgfVxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgICAge1xuICogICAgICAgICAgICAgaWQ6ICdzaGlwcGluZy1zcGVlZC1zbG93JyxcbiAqICAgICAgICAgICAgIHR5cGU6ICdTSElQUElORycsXG4gKiAgICAgICAgICAgICBsYWJlbDogJ1Nsb3cgU2hpcHBpbmcnLFxuICogICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICogICAgICAgICAgICAgYW1vdW50OiB7XG4gKiAgICAgICAgICAgICAgIHZhbHVlOiAnMS4wMCcsXG4gKiAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJ1xuICogICAgICAgICAgICAgfVxuICogICAgICAgICAgIH1cbiAqICAgICAgICAgXVxuICogICAgICAgfSk7XG4gKiAgICAgfSxcbiAqXG4gKiAgICAgb25BdXRob3JpemU6IGZ1bmN0aW9uIChkYXRhLCBhY3Rpb25zKSB7XG4gKiAgICAgICByZXR1cm4gcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZS50b2tlbml6ZVBheW1lbnQoZGF0YSkudGhlbihmdW5jdGlvbiAocGF5bG9hZCkge1xuICogICAgICAgICAvLyBTdWJtaXQgcGF5bG9hZC5ub25jZSB0byB5b3VyIHNlcnZlclxuICogICAgICAgfSk7XG4gKiAgICAgfVxuICogICB9LCAnI3BheXBhbC1idXR0b24nKTtcbiAqIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICBjb25zb2xlLmVycm9yKCdFcnJvciEnLCBlcnIpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuY3JlYXRlUGF5bWVudCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCAhY29uc3RhbnRzLkZMT1dfRU5EUE9JTlRTLmhhc093blByb3BlcnR5KG9wdGlvbnMuZmxvdykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlBBWVBBTF9GTE9XX09QVElPTl9SRVFVSVJFRClcbiAgICApO1xuICB9XG5cbiAgYW5hbHl0aWNzLnNlbmRFdmVudCh0aGlzLl9jbGllbnRQcm9taXNlLCBcInBheXBhbC1jaGVja291dC5jcmVhdGVQYXltZW50XCIpO1xuXG4gIHJldHVybiB0aGlzLl9jcmVhdGVQYXltZW50UmVzb3VyY2Uob3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2YXIgZmxvd1Rva2VuLCB1cmxQYXJhbXM7XG5cbiAgICBpZiAob3B0aW9ucy5mbG93ID09PSBcImNoZWNrb3V0XCIpIHtcbiAgICAgIHVybFBhcmFtcyA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHJlc3BvbnNlLnBheW1lbnRSZXNvdXJjZS5yZWRpcmVjdFVybCk7XG4gICAgICBmbG93VG9rZW4gPSB1cmxQYXJhbXMudG9rZW47XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb3dUb2tlbiA9IHJlc3BvbnNlLmFncmVlbWVudFNldHVwLnRva2VuSWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZsb3dUb2tlbjtcbiAgfSk7XG59O1xuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX2NyZWF0ZVBheW1lbnRSZXNvdXJjZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjb25maWcpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgZW5kcG9pbnQgPSBcInBheXBhbF9oZXJtZXMvXCIgKyBjb25zdGFudHMuRkxPV19FTkRQT0lOVFNbb3B0aW9ucy5mbG93XTtcblxuICBkZWxldGUgdGhpcy5pbnRlbnRGcm9tQ3JlYXRlUGF5bWVudDtcblxuICBjb25maWcgPSBjb25maWcgfHwge307XG5cbiAgaWYgKG9wdGlvbnMub2ZmZXJDcmVkaXQgPT09IHRydWUpIHtcbiAgICBhbmFseXRpY3Muc2VuZEV2ZW50KHRoaXMuX2NsaWVudFByb21pc2UsIFwicGF5cGFsLWNoZWNrb3V0LmNyZWRpdC5vZmZlcmVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2NsaWVudFByb21pc2VcbiAgICAudGhlbihmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBlbmRwb2ludDogZW5kcG9pbnQsXG4gICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcbiAgICAgICAgICBkYXRhOiBzZWxmLl9mb3JtYXRQYXltZW50UmVzb3VyY2VEYXRhKG9wdGlvbnMsIGNvbmZpZyksXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgc2VsZi5pbnRlbnRGcm9tQ3JlYXRlUGF5bWVudCA9IG9wdGlvbnMuaW50ZW50O1xuXG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHZhciBzdGF0dXM7XG5cbiAgICAgIGlmIChzZWxmLl9zZXR1cEVycm9yKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChzZWxmLl9zZXR1cEVycm9yKTtcbiAgICAgIH1cblxuICAgICAgc3RhdHVzID0gZXJyLmRldGFpbHMgJiYgZXJyLmRldGFpbHMuaHR0cFN0YXR1cztcblxuICAgICAgaWYgKHN0YXR1cyA9PT0gNDIyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgICAgdHlwZTogZXJyb3JzLlBBWVBBTF9JTlZBTElEX1BBWU1FTlRfT1BUSU9OLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiBlcnJvcnMuUEFZUEFMX0lOVkFMSURfUEFZTUVOVF9PUFRJT04uY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9ycy5QQVlQQUxfSU5WQUxJRF9QQVlNRU5UX09QVElPTi5tZXNzYWdlLFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgY29udmVydFRvQnJhaW50cmVlRXJyb3IoZXJyLCB7XG4gICAgICAgICAgdHlwZTogZXJyb3JzLlBBWVBBTF9GTE9XX0ZBSUxFRC50eXBlLFxuICAgICAgICAgIGNvZGU6IGVycm9ycy5QQVlQQUxfRkxPV19GQUlMRUQuY29kZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvcnMuUEFZUEFMX0ZMT1dfRkFJTEVELm1lc3NhZ2UsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byB1cGRhdGUge0BsaW5rIFBheVBhbENoZWNrb3V0fmxpbmVJdGVtfGxpbmUgaXRlbXN9IGFuZC9vciB7QGxpbmsgUGF5UGFsQ2hlY2tvdXR+c2hpcHBpbmdPcHRpb258c2hpcHBpbmcgb3B0aW9uc30gYXNzb2NpYXRlZCB3aXRoIGEgUGF5UGFsQ2hlY2tvdXQgZmxvdyAoYHBheW1lbnRJZGApLlxuICogV2hlbiBhIHtAbGluayBjYWxsYmFja30gaXMgZGVmaW5lZCwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZCBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2suIFRoZSBzZWNvbmQgY2FsbGJhY2sgYXJndW1lbnQsIDxjb2RlPmRhdGE8L2NvZGU+LCBpcyB0aGUgcmV0dXJuZWQgc2VydmVyIGRhdGEuIElmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLCBgdXBkYXRlUGF5bWVudGAgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBzZXJ2ZXIgZGF0YS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEFsbCBvcHRpb25zIGZvciB0aGUgUGF5UGFsQ2hlY2tvdXQgY29tcG9uZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMucGF5bWVudElkIFRoaXMgc2hvdWxkIGJlIFBheVBhbCBgcGF5bWVudElkYC5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpfSBvcHRpb25zLmFtb3VudCBUaGUgYW1vdW50IG9mIHRoZSB0cmFuc2FjdGlvbiwgaW5jbHVkaW5nIHRoZSBhbW91bnQgb2YgdGhlIHNlbGVjdGVkIHNoaXBwaW5nIG9wdGlvbiwgYW5kIGFsbCBgbGluZV9pdGVtc2AuXG4gKiAqIFN1cHBvcnRzIHVwIHRvIDIgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jdXJyZW5jeSBUaGUgY3VycmVuY3kgY29kZSBvZiB0aGUgYW1vdW50LCBzdWNoIGFzICdVU0QnLiBSZXF1aXJlZCB3aGVuIHVzaW5nIHRoZSBDaGVja291dCBmbG93LlxuICogQHBhcmFtIHtzaGlwcGluZ09wdGlvbltdfSBbb3B0aW9ucy5zaGlwcGluZ09wdGlvbnNdIExpc3Qgb2Yge0BsaW5rIFBheVBhbENoZWNrb3V0fnNoaXBwaW5nT3B0aW9ufHNoaXBwaW5nIG9wdGlvbnN9IG9mZmVyZWQgYnkgdGhlIHBheWVlIG9yIG1lcmNoYW50IHRvIHRoZSBwYXllciB0byBzaGlwIG9yIHBpY2sgdXAgdGhlaXIgaXRlbXMuXG4gKiBAcGFyYW0ge2xpbmVJdGVtW119IFtvcHRpb25zLmxpbmVJdGVtc10gVGhlIHtAbGluayBQYXlQYWxDaGVja291dH5saW5lSXRlbXxsaW5lIGl0ZW1zfSBmb3IgdGhpcyB0cmFuc2FjdGlvbi4gSXQgY2FuIGluY2x1ZGUgdXAgdG8gMjQ5IGxpbmUgaXRlbXMuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQgaXMgYSBQYXlQYWwgYHBheW1lbnRJZGAgb3IgYGJpbGxpbmdUb2tlbmAgc3RyaW5nLCBkZXBlbmRpbmcgb24gd2hldGhlciBgb3B0aW9ucy5mbG93YCBpcyBgY2hlY2tvdXRgIG9yIGB2YXVsdGAuIFRoaXMgaXMgYWxzbyB3aGF0IGlzIHJlc29sdmVkIGJ5IHRoZSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICogQGV4YW1wbGVcbiAqIC8vIHRoaXMgcGF5cGFsIG9iamVjdCBpcyBjcmVhdGVkIGJ5IHRoZSBQYXlQYWwgSlMgU0RLXG4gKiAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BheXBhbC9wYXlwYWwtY2hlY2tvdXQtY29tcG9uZW50c1xuICogcGF5cGFsLkJ1dHRvbnMoe1xuICogICBjcmVhdGVPcmRlcjogZnVuY3Rpb24gKCkge1xuICogICAgIC8vIHdoZW4gY3JlYXRlUGF5bWVudCByZXNvbHZlcywgaXQgaXMgYXV0b21hdGljYWxseSBwYXNzZWQgdG8gdGhlIFBheVBhbCBKUyBTREtcbiAqICAgICByZXR1cm4gcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZS5jcmVhdGVQYXltZW50KHtcbiAqICAgICAgIC8vXG4gKiAgICAgfSk7XG4gKiAgIH0sXG4gKiAgIG9uU2hpcHBpbmdDaGFuZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gKiAgICAgLy8gRXhhbWluZSBkYXRhIGFuZCBkZXRlcm1pbmUgaWYgdGhlIHBheW1lbnQgbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAqICAgICAvLyB3aGVuIHVwZGF0ZVBheW1lbnQgcmVzb2x2ZXMsIGl0IGlzIGF1dG9tYXRpY2FsbHkgcGFzc2VkIHRvIHRoZSBQYXlQYWwgSlMgU0RLXG4gKiAgICAgcmV0dXJuIHBheXBhbENoZWNrb3V0SW5zdGFuY2UudXBkYXRlUGF5bWVudCh7XG4gKiAgICAgICAgIHBheW1lbnRJZDogZGF0YS5wYXltZW50SWQsXG4gKiAgICAgICAgIGFtb3VudDogJzE1LjAwJyxcbiAqICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxuICogICAgICAgICBzaGlwcGluZ09wdGlvbnM6IFtcbiAqICAgICAgICAgICB7XG4gKiAgICAgICAgICAgICBpZDogJ3NoaXBwaW5nLXNwZWVkLWZhc3QnLFxuICogICAgICAgICAgICAgdHlwZTogJ1NISVBQSU5HJyxcbiAqICAgICAgICAgICAgIGxhYmVsOiAnRmFzdCBTaGlwcGluZycsXG4gKiAgICAgICAgICAgICBzZWxlY3RlZDogdHJ1ZSxcbiAqICAgICAgICAgICAgIGFtb3VudDoge1xuICogICAgICAgICAgICAgICB2YWx1ZTogJzUuMDAnLFxuICogICAgICAgICAgICAgICBjdXJyZW5jeTogJ1VTRCdcbiAqICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICB9LFxuICogICAgICAgICAgIHtcbiAqICAgICAgICAgICAgIGlkOiAnc2hpcHBpbmctc3BlZWQtc2xvdycsXG4gKiAgICAgICAgICAgICB0eXBlOiAnU0hJUFBJTkcnLFxuICogICAgICAgICAgICAgbGFiZWw6ICdTbG93IFNoaXBwaW5nJyxcbiAqICAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAqICAgICAgICAgICAgIGFtb3VudDoge1xuICogICAgICAgICAgICAgICB2YWx1ZTogJzEuMDAnLFxuICogICAgICAgICAgICAgICBjdXJyZW5jeTogJ1VTRCdcbiAqICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICB9XG4gKiAgICAgICAgIF1cbiAqICAgICB9KTtcbiAqICAgfVxuICogICAvLyBBZGQgb3RoZXIgb3B0aW9ucywgZS5nLiBvbkFwcHJvdmVkLCBvbkNhbmNlbCwgb25FcnJvclxuICogfSkucmVuZGVyKCcjcGF5cGFsLWJ1dHRvbicpO1xuICpcbiAqIGBgYFxuICpcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS51cGRhdGVQYXltZW50ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgZW5kcG9pbnQgPSBcInBheXBhbF9oZXJtZXMvcGF0Y2hfcGF5bWVudF9yZXNvdXJjZVwiO1xuXG4gIGlmICghb3B0aW9ucyB8fCB0aGlzLl9oYXNNaXNzaW5nT3B0aW9uKG9wdGlvbnMsIGNvbnN0YW50cy5SRVFVSVJFRF9PUFRJT05TKSkge1xuICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICBzZWxmLl9jbGllbnRQcm9taXNlLFxuICAgICAgXCJwYXlwYWwtY2hlY2tvdXQudXBkYXRlUGF5bWVudC5taXNzaW5nLW9wdGlvbnNcIlxuICAgICk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlBBWVBBTF9NSVNTSU5HX1JFUVVJUkVEX09QVElPTilcbiAgICApO1xuICB9XG5cbiAgaWYgKCF0aGlzLl92ZXJpZnlDb25zaXN0ZW50Q3VycmVuY3kob3B0aW9ucykpIHtcbiAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgc2VsZi5fY2xpZW50UHJvbWlzZSxcbiAgICAgIFwicGF5cGFsLWNoZWNrb3V0LnVwZGF0ZVBheW1lbnQuaW5jb25zaXN0ZW50LWN1cnJlbmNpZXNcIlxuICAgICk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICB0eXBlOiBlcnJvcnMuUEFZUEFMX0lOVkFMSURfUEFZTUVOVF9PUFRJT04udHlwZSxcbiAgICAgICAgY29kZTogZXJyb3JzLlBBWVBBTF9JTlZBTElEX1BBWU1FTlRfT1BUSU9OLmNvZGUsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9ycy5QQVlQQUxfSU5WQUxJRF9QQVlNRU5UX09QVElPTi5tZXNzYWdlLFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgb3JpZ2luYWxFcnJvcjogbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJPbmUgb3IgbW9yZSBzaGlwcGluZyBvcHRpb24gY3VycmVuY2llcyBkaWZmZXIgZnJvbSBjaGVja291dCBjdXJyZW5jeS5cIlxuICAgICAgICAgICksXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBhbmFseXRpY3Muc2VuZEV2ZW50KHRoaXMuX2NsaWVudFByb21pc2UsIFwicGF5cGFsLWNoZWNrb3V0LnVwZGF0ZVBheW1lbnRcIik7XG5cbiAgcmV0dXJuIHRoaXMuX2NsaWVudFByb21pc2VcbiAgICAudGhlbihmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICByZXR1cm4gY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICBlbmRwb2ludDogZW5kcG9pbnQsXG4gICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgICAgIGRhdGE6IHNlbGYuX2Zvcm1hdFVwZGF0ZVBheW1lbnREYXRhKG9wdGlvbnMpLFxuICAgICAgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgdmFyIHN0YXR1cyA9IGVyci5kZXRhaWxzICYmIGVyci5kZXRhaWxzLmh0dHBTdGF0dXM7XG5cbiAgICAgIGlmIChzdGF0dXMgPT09IDQyMikge1xuICAgICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICAgIHNlbGYuX2NsaWVudFByb21pc2UsXG4gICAgICAgICAgXCJwYXlwYWwtY2hlY2tvdXQudXBkYXRlUGF5bWVudC5pbnZhbGlkXCJcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICAgIHR5cGU6IGVycm9ycy5QQVlQQUxfSU5WQUxJRF9QQVlNRU5UX09QVElPTi50eXBlLFxuICAgICAgICAgICAgY29kZTogZXJyb3JzLlBBWVBBTF9JTlZBTElEX1BBWU1FTlRfT1BUSU9OLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvcnMuUEFZUEFMX0lOVkFMSURfUEFZTUVOVF9PUFRJT04ubWVzc2FnZSxcbiAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jbGllbnRQcm9taXNlLFxuICAgICAgICBcInBheXBhbC1jaGVja291dC51cGRhdGVQYXltZW50LlwiICsgZXJyb3JzLlBBWVBBTF9GTE9XX0ZBSUxFRC5jb2RlXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIGNvbnZlcnRUb0JyYWludHJlZUVycm9yKGVyciwge1xuICAgICAgICAgIHR5cGU6IGVycm9ycy5QQVlQQUxfRkxPV19GQUlMRUQudHlwZSxcbiAgICAgICAgICBjb2RlOiBlcnJvcnMuUEFZUEFMX0ZMT1dfRkFJTEVELmNvZGUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JzLlBBWVBBTF9GTE9XX0ZBSUxFRC5tZXNzYWdlLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgdGhlIFBheVBhbCBjaGVja291dCBmbG93IHdpdGggYSBwYXltZW50IG1ldGhvZCBub25jZSB0aGF0IHJlcHJlc2VudHMgYSB2YXVsdGVkIFBheVBhbCBhY2NvdW50LlxuICogV2hlbiBhIHtAbGluayBjYWxsYmFja30gaXMgZGVmaW5lZCwgdGhlIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkIGFuZCBpbnZva2VzIHRoZSBjYWxsYmFjayB3aXRoIHRoZSBpZCB0byBiZSB1c2VkIHdpdGggdGhlIFBheVBhbCBKUyBTREsuIE90aGVyd2lzZSwgaXQgcmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBpZC5cbiAqIEBwdWJsaWNcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFRoZXNlIG9wdGlvbnMgYXJlIGlkZW50aWNhbCB0byB0aGUge0BsaW5rIFBheVBhbENoZWNrb3V0I2NyZWF0ZVBheW1lbnR8b3B0aW9ucyBmb3IgY3JlYXRpbmcgYSBwYXltZW50IHJlc291cmNlfSwgZXhjZXB0IGZvciB0aGUgZm9sbG93aW5nOlxuICogKiBgZmxvd2AgY2Fubm90IGJlIHNldCAod2lsbCBhbHdheXMgYmUgYCdjaGVja291dCdgKVxuICogKiBgYW1vdW50YCwgYGN1cnJlbmN5YCwgYW5kIGB2YXVsdEluaXRpYXRlZENoZWNrb3V0UGF5bWVudE1ldGhvZFRva2VuYCBhcmUgcmVxdWlyZWQgaW5zdGVhZCBvZiBvcHRpb25hbFxuICogKiBBZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gaXMgYXZhaWxhYmxlIChsaXN0ZWQgYmVsb3cpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm9wdE91dE9mTW9kYWxCYWNrZHJvcD1mYWxzZV0gQnkgZGVmYXVsdCwgdGhlIHdlYnBhZ2Ugd2lsbCBkYXJrZW4gYW5kIGJlY29tZSB1bnVzYWJsZSB3aGlsZSB0aGUgUGF5UGFsIHdpbmRvdyBpcyBvcGVuLiBGb3IgZnVsbCBjb250cm9sIG9mIHRoZSBVSSwgcGFzcyBgdHJ1ZWAgZm9yIHRoaXMgb3B0aW9uLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCA8Y29kZT5wYXlsb2FkPC9jb2RlPiwgaXMgYSB7QGxpbmsgUGF5UGFsQ2hlY2tvdXR+dG9rZW5pemVQYXlsb2FkfHRva2VuaXplUGF5bG9hZH0uIElmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSByZXNvbHZlcyB3aXRoIGEge0BsaW5rIFBheVBhbENoZWNrb3V0fnRva2VuaXplUGF5bG9hZHx0b2tlbml6ZVBheWxvYWR9LlxuICogQGV4YW1wbGVcbiAqIHBheXBhbENoZWNrb3V0SW5zdGFuY2Uuc3RhcnRWYXVsdEluaXRpYXRlZENoZWNrb3V0KHtcbiAqICAgdmF1bHRJbml0aWF0ZWRDaGVja291dFBheW1lbnRNZXRob2RUb2tlbjogJ25vbmNlLXRoYXQtcmVwcmVzZW50cy1hLXZhdWx0ZWQtcGF5cGFsLWFjY291bnQnLFxuICogICBhbW91bnQ6ICcxMC4wMCcsXG4gKiAgIGN1cnJlbmN5OiAnVVNEJ1xuICogfSkudGhlbihmdW5jdGlvbiAocGF5bG9hZCkge1xuICogICAvLyBzZW5kIHBheWxvYWQubm9uY2UgdG8geW91ciBzZXJ2ZXJcbiAqIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICAgaWYgKGVyci5jb2RlID09PSAnUEFZUEFMX1BPUFVQX0NMT1NFRCcpIHtcbiAqICAgICAvLyBpbmRpY2F0ZXMgdGhhdCBjdXN0b21lciBjYW5jZWxlZCBieVxuICogICAgIC8vIG1hbnVhbGx5IGNsb3NpbmcgdGhlIFBheVBhbCBwb3B1cFxuICogICB9XG4gKlxuICogICAvLyBoYW5kbGUgb3RoZXIgZXJyb3JzXG4gKiB9KTtcbiAqXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICovXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuc3RhcnRWYXVsdEluaXRpYXRlZENoZWNrb3V0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIG1pc3NpbmdSZXF1aXJlZFBhcmFtO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuX3ZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRJblByb2dyZXNzKSB7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgIHRoaXMuX2NsaWVudFByb21pc2UsXG4gICAgICBcInBheXBhbC1jaGVja291dC5zdGFydFZhdWx0SW5pdGlhdGVkQ2hlY2tvdXQuZXJyb3IuYWxyZWFkeS1pbi1wcm9ncmVzc1wiXG4gICAgKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihcbiAgICAgICAgZXJyb3JzLlBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfSU5fUFJPR1JFU1NcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgUkVRVUlSRURfUEFSQU1TX0ZPUl9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVQuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkocGFyYW0pKSB7XG4gICAgICBtaXNzaW5nUmVxdWlyZWRQYXJhbSA9IHBhcmFtO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKG1pc3NpbmdSZXF1aXJlZFBhcmFtKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogZXJyb3JzLlBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUEFSQU1fUkVRVUlSRUQudHlwZSxcbiAgICAgICAgY29kZTogZXJyb3JzLlBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUEFSQU1fUkVRVUlSRUQuY29kZSxcbiAgICAgICAgbWVzc2FnZTogXCJSZXF1aXJlZCBwYXJhbSBcIiArIG1pc3NpbmdSZXF1aXJlZFBhcmFtICsgXCIgaXMgbWlzc2luZy5cIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHRoaXMuX3ZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRJblByb2dyZXNzID0gdHJ1ZTtcbiAgdGhpcy5fYWRkTW9kYWxCYWNrZHJvcChvcHRpb25zKTtcblxuICBvcHRpb25zID0gYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgZmxvdzogXCJjaGVja291dFwiLFxuICB9KTtcblxuICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgIHRoaXMuX2NsaWVudFByb21pc2UsXG4gICAgXCJwYXlwYWwtY2hlY2tvdXQuc3RhcnRWYXVsdEluaXRpYXRlZENoZWNrb3V0LnN0YXJ0ZWRcIlxuICApO1xuXG4gIHJldHVybiB0aGlzLl93YWl0Rm9yVmF1bHRJbml0aWF0ZWRDaGVja291dERlcGVuZGVuY2llcygpXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZyYW1lQ29tbXVuaWNhdGlvblByb21pc2UgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG4gICAgICB2YXIgc3RhcnRWYXVsdEluaXRpYXRlZENoZWNrb3V0UHJvbWlzZSA9IHNlbGZcbiAgICAgICAgLl9jcmVhdGVQYXltZW50UmVzb3VyY2Uob3B0aW9ucywge1xuICAgICAgICAgIHJldHVyblVybDogc2VsZi5fY29uc3RydWN0VmF1bHRDaGVja3V0VXJsKFwicmVkaXJlY3QtZnJhbWVcIiksXG4gICAgICAgICAgY2FuY2VsVXJsOiBzZWxmLl9jb25zdHJ1Y3RWYXVsdENoZWNrdXRVcmwoXCJjYW5jZWwtZnJhbWVcIiksXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHZhciByZWRpcmVjdFVybCA9IHJlc3BvbnNlLnBheW1lbnRSZXNvdXJjZS5yZWRpcmVjdFVybDtcblxuICAgICAgICAgIHNlbGYuX2ZyYW1lU2VydmljZS5yZWRpcmVjdChyZWRpcmVjdFVybCk7XG5cbiAgICAgICAgICByZXR1cm4gZnJhbWVDb21tdW5pY2F0aW9uUHJvbWlzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX2ZyYW1lU2VydmljZS5vcGVuKFxuICAgICAgICB7fSxcbiAgICAgICAgc2VsZi5fY3JlYXRlRnJhbWVTZXJ2aWNlQ2FsbGJhY2soZnJhbWVDb21tdW5pY2F0aW9uUHJvbWlzZSlcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBzdGFydFZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRQcm9taXNlO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHNlbGYuX3ZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICBzZWxmLl9yZW1vdmVNb2RhbEJhY2tkcm9wKCk7XG5cbiAgICAgIGlmIChlcnIuY29kZSA9PT0gXCJGUkFNRV9TRVJWSUNFX0ZSQU1FX0NMT1NFRFwiKSB7XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY2xpZW50UHJvbWlzZSxcbiAgICAgICAgICBcInBheXBhbC1jaGVja291dC5zdGFydFZhdWx0SW5pdGlhdGVkQ2hlY2tvdXQuY2FuY2VsZWQuYnktY3VzdG9tZXJcIlxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3IoXG4gICAgICAgICAgICBlcnJvcnMuUEFZUEFMX1NUQVJUX1ZBVUxUX0lOSVRJQVRFRF9DSEVDS09VVF9DQU5DRUxFRFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNlbGYuX2ZyYW1lU2VydmljZSkge1xuICAgICAgICBzZWxmLl9mcmFtZVNlcnZpY2UuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBlcnIuY29kZSAmJlxuICAgICAgICBlcnIuY29kZS5pbmRleE9mKFwiRlJBTUVfU0VSVklDRV9GUkFNRV9PUEVOX0ZBSUxFRFwiKSA+IC0xXG4gICAgICApIHtcbiAgICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgICBzZWxmLl9jbGllbnRQcm9taXNlLFxuICAgICAgICAgIFwicGF5cGFsLWNoZWNrb3V0LnN0YXJ0VmF1bHRJbml0aWF0ZWRDaGVja291dC5mYWlsZWQucG9wdXAtbm90LW9wZW5lZFwiXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICAgICAgICBjb2RlOiBlcnJvcnMuUEFZUEFMX1NUQVJUX1ZBVUxUX0lOSVRJQVRFRF9DSEVDS09VVF9QT1BVUF9PUEVOX0ZBSUxFRFxuICAgICAgICAgICAgICAuY29kZSxcbiAgICAgICAgICAgIHR5cGU6IGVycm9ycy5QQVlQQUxfU1RBUlRfVkFVTFRfSU5JVElBVEVEX0NIRUNLT1VUX1BPUFVQX09QRU5fRkFJTEVEXG4gICAgICAgICAgICAgIC50eXBlLFxuICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgZXJyb3JzLlBBWVBBTF9TVEFSVF9WQVVMVF9JTklUSUFURURfQ0hFQ0tPVVRfUE9QVVBfT1BFTl9GQUlMRURcbiAgICAgICAgICAgICAgICAubWVzc2FnZSxcbiAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgc2VsZi5fZnJhbWVTZXJ2aWNlLmNsb3NlKCk7XG4gICAgICBzZWxmLl92YXVsdEluaXRpYXRlZENoZWNrb3V0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgc2VsZi5fcmVtb3ZlTW9kYWxCYWNrZHJvcCgpO1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY2xpZW50UHJvbWlzZSxcbiAgICAgICAgXCJwYXlwYWwtY2hlY2tvdXQuc3RhcnRWYXVsdEluaXRpYXRlZENoZWNrb3V0LnN1Y2NlZWRlZFwiXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICB9KTtcbn07XG5cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS5fYWRkTW9kYWxCYWNrZHJvcCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zLm9wdE91dE9mTW9kYWxCYWNrZHJvcCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghdGhpcy5fbW9kYWxCYWNrZHJvcCkge1xuICAgIHRoaXMuX21vZGFsQmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuX21vZGFsQmFja2Ryb3Auc2V0QXR0cmlidXRlKFxuICAgICAgXCJkYXRhLWJyYWludHJlZS1wYXlwYWwtdmF1bHQtaW5pdGlhdGVkLWNoZWNrb3V0LW1vZGFsXCIsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgICB0aGlzLl9tb2RhbEJhY2tkcm9wLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgIHRoaXMuX21vZGFsQmFja2Ryb3Auc3R5bGUudG9wID0gMDtcbiAgICB0aGlzLl9tb2RhbEJhY2tkcm9wLnN0eWxlLmJvdHRvbSA9IDA7XG4gICAgdGhpcy5fbW9kYWxCYWNrZHJvcC5zdHlsZS5sZWZ0ID0gMDtcbiAgICB0aGlzLl9tb2RhbEJhY2tkcm9wLnN0eWxlLnJpZ2h0ID0gMDtcbiAgICB0aGlzLl9tb2RhbEJhY2tkcm9wLnN0eWxlLnpJbmRleCA9IDk5OTk7XG4gICAgdGhpcy5fbW9kYWxCYWNrZHJvcC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJibGFja1wiO1xuICAgIHRoaXMuX21vZGFsQmFja2Ryb3Auc3R5bGUub3BhY2l0eSA9IFwiMC43XCI7XG4gICAgdGhpcy5fbW9kYWxCYWNrZHJvcC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbGlja1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvY3VzVmF1bHRJbml0aWF0ZWRDaGVja291dFdpbmRvdygpO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fbW9kYWxCYWNrZHJvcCk7XG59O1xuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX3JlbW92ZU1vZGFsQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghKHRoaXMuX21vZGFsQmFja2Ryb3AgJiYgdGhpcy5fbW9kYWxCYWNrZHJvcC5wYXJlbnROb2RlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX21vZGFsQmFja2Ryb3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9tb2RhbEJhY2tkcm9wKTtcbn07XG5cbi8qKlxuICogQ2xvc2VzIHRoZSBQYXlQYWwgd2luZG93IGlmIGl0IGlzIG9wZW5lZCB2aWEgYHN0YXJ0VmF1bHRJbml0aWF0ZWRDaGVja291dGAuXG4gKiBAcHVibGljXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIEdldHMgY2FsbGVkIHdoZW4gd2luZG93IGlzIGNsb3NlZC5cbiAqIEBleGFtcGxlXG4gKiBwYXlwYWxDaGVja291dEluc3RhbmNlLmNsb3NlVmF1bHRJbml0aWF0ZWRDaGVja291dFdpbmRvdygpO1xuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqL1xuUGF5UGFsQ2hlY2tvdXQucHJvdG90eXBlLmNsb3NlVmF1bHRJbml0aWF0ZWRDaGVja291dFdpbmRvdyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX3ZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRJblByb2dyZXNzKSB7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgIHRoaXMuX2NsaWVudFByb21pc2UsXG4gICAgICBcInBheXBhbC1jaGVja291dC5zdGFydFZhdWx0SW5pdGlhdGVkQ2hlY2tvdXQuY2FuY2VsZWQuYnktbWVyY2hhbnRcIlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fd2FpdEZvclZhdWx0SW5pdGlhdGVkQ2hlY2tvdXREZXBlbmRlbmNpZXMoKS50aGVuKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX2ZyYW1lU2VydmljZS5jbG9zZSgpO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xufTtcblxuLyoqXG4gKiBGb2N1c2VzIHRoZSBQYXlQYWwgd2luZG93IGlmIGl0IGlzIG9wZW5lZCB2aWEgYHN0YXJ0VmF1bHRJbml0aWF0ZWRDaGVja291dGAuXG4gKiBAcHVibGljXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIEdldHMgY2FsbGVkIHdoZW4gd2luZG93IGlzIGZvY3VzZWQuXG4gKiBAZXhhbXBsZVxuICogcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZS5mb2N1c1ZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRXaW5kb3coKTtcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS5mb2N1c1ZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl93YWl0Rm9yVmF1bHRJbml0aWF0ZWRDaGVja291dERlcGVuZGVuY2llcygpLnRoZW4oXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5fZnJhbWVTZXJ2aWNlLmZvY3VzKCk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX2NyZWF0ZUZyYW1lU2VydmljZUNhbGxiYWNrID0gZnVuY3Rpb24gKFxuICBmcmFtZUNvbW11bmljYXRpb25Qcm9taXNlXG4pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIFRPRE8gd2hlbiBhIG1lcmNoYW50IGludGVncmF0ZXMgYW4gaU9TIG9yIEFuZHJvaWQgaW50ZWdyYXRpb25cbiAgLy8gd2l0aCBhIHdlYnZpZXcgdXNpbmcgdGhlIHdlYiBTREssIHdlIHdpbGwgaGF2ZSB0byBhZGQgcG9wdXBicmlkZ2VcbiAgLy8gc3VwcG9ydFxuICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcGF5bG9hZCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZyYW1lQ29tbXVuaWNhdGlvblByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkKSB7XG4gICAgICBzZWxmLl9mcmFtZVNlcnZpY2UucmVkaXJlY3Qoc2VsZi5fbG9hZGluZ0ZyYW1lVXJsKTtcbiAgICAgIHNlbGZcbiAgICAgICAgLnRva2VuaXplUGF5bWVudCh7XG4gICAgICAgICAgcGF5bWVudFRva2VuOiBwYXlsb2FkLnRva2VuLFxuICAgICAgICAgIHBheWVySUQ6IHBheWxvYWQuUGF5ZXJJRCxcbiAgICAgICAgICBwYXltZW50SUQ6IHBheWxvYWQucGF5bWVudElkLFxuICAgICAgICAgIG9yZGVySUQ6IHBheWxvYWQub3JkZXJJZCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgIGZyYW1lQ29tbXVuaWNhdGlvblByb21pc2UucmVzb2x2ZShyZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHRva2VuaXphdGlvbkVycm9yKSB7XG4gICAgICAgICAgZnJhbWVDb21tdW5pY2F0aW9uUHJvbWlzZS5yZWplY3QodG9rZW5pemF0aW9uRXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX3dhaXRGb3JWYXVsdEluaXRpYXRlZENoZWNrb3V0RGVwZW5kZW5jaWVzID1cbiAgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jbGllbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNlbGYuX2ZyYW1lU2VydmljZVByb21pc2U7XG4gICAgfSk7XG4gIH07XG5cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS5fY29uc3RydWN0VmF1bHRDaGVja3V0VXJsID0gZnVuY3Rpb24gKGZyYW1lTmFtZSkge1xuICB2YXIgc2VydmljZUlkID0gdGhpcy5fZnJhbWVTZXJ2aWNlLl9zZXJ2aWNlSWQ7XG5cbiAgcmV0dXJuIChcbiAgICB0aGlzLl9hc3NldHNVcmwgK1xuICAgIFwiL2h0bWwvXCIgK1xuICAgIGZyYW1lTmFtZSArXG4gICAgdXNlTWluKHRoaXMuX2lzRGVidWcpICtcbiAgICBcIi5odG1sP2NoYW5uZWw9XCIgK1xuICAgIHNlcnZpY2VJZFxuICApO1xufTtcblxuLyoqXG4gKiBUb2tlbml6ZXMgdGhlIGF1dGhvcml6ZSBkYXRhIGZyb20gdGhlIFBheVBhbCBKUyBTREsgd2hlbiBjb21wbGV0aW5nIGEgYnV5ZXIgYXBwcm92YWwgZmxvdy5cbiAqIFdoZW4gYSB7QGxpbmsgY2FsbGJhY2t9IGlzIGRlZmluZWQsIGludm9rZXMgdGhlIGNhbGxiYWNrIHdpdGgge0BsaW5rIFBheVBhbENoZWNrb3V0fnRva2VuaXplUGF5bG9hZHx0b2tlbml6ZVBheWxvYWR9IGFuZCByZXR1cm5zIHVuZGVmaW5lZC4gT3RoZXJ3aXNlLCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSB7QGxpbmsgUGF5UGFsQ2hlY2tvdXR+dG9rZW5pemVQYXlsb2FkfHRva2VuaXplUGF5bG9hZH0uXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge29iamVjdH0gdG9rZW5pemVPcHRpb25zIFRva2VucyBhbmQgSURzIHJlcXVpcmVkIHRvIHRva2VuaXplIHRoZSBwYXltZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHRva2VuaXplT3B0aW9ucy5wYXllcklkIFBheWVyIElEIHJldHVybmVkIGJ5IFBheVBhbCBgb25BcHByb3ZlZGAgY2FsbGJhY2suXG4gKiBAcGFyYW0ge3N0cmluZ30gW3Rva2VuaXplT3B0aW9ucy5wYXltZW50SWRdIFBheW1lbnQgSUQgcmV0dXJuZWQgYnkgUGF5UGFsIGBvbkFwcHJvdmVkYCBjYWxsYmFjay5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdG9rZW5pemVPcHRpb25zLmJpbGxpbmdUb2tlbl0gQmlsbGluZyBUb2tlbiByZXR1cm5lZCBieSBQYXlQYWwgYG9uQXBwcm92ZWRgIGNhbGxiYWNrLlxuICogQHBhcmFtIHtib29sZWFufSBbdG9rZW5pemVPcHRpb25zLnZhdWx0PXRydWVdIFdoZXRoZXIgb3Igbm90IHRvIHZhdWx0IHRoZSByZXN1bHRpbmcgUGF5UGFsIGFjY291bnQgKGlmIHVzaW5nIGEgY2xpZW50IHRva2VuIGdlbmVyYXRlZCB3aXRoIGEgY3VzdG9tZXIgaWQgYW5kIHRoZSB2YXVsdCBmbG93KS5cbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gVGhlIHNlY29uZCBhcmd1bWVudCwgPGNvZGU+cGF5bG9hZDwvY29kZT4sIGlzIGEge0BsaW5rIFBheVBhbENoZWNrb3V0fnRva2VuaXplUGF5bG9hZHx0b2tlbml6ZVBheWxvYWR9LiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgcmVzb2x2ZXMgd2l0aCBhIHtAbGluayBQYXlQYWxDaGVja291dH50b2tlbml6ZVBheWxvYWR8dG9rZW5pemVQYXlsb2FkfS5cbiAqIEBleGFtcGxlIDxjYXB0aW9uPk9wdCBvdXQgb2YgYXV0by12YXVsdGluZyBiZWhhdmlvcjwvY2FwdGlvbj5cbiAqIC8vIGNyZWF0ZSB0aGUgcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZSB3aXRoIGEgY2xpZW50IHRva2VuIGdlbmVyYXRlZCB3aXRoIGEgY3VzdG9tZXIgaWRcbiAqIHBheXBhbC5CdXR0b25zKHtcbiAqICAgY3JlYXRlQmlsbGluZ0FncmVlbWVudDogZnVuY3Rpb24gKCkge1xuICogICAgIHJldHVybiBwYXlwYWxDaGVja291dEluc3RhbmNlLmNyZWF0ZVBheW1lbnQoe1xuICogICAgICAgZmxvdzogJ3ZhdWx0J1xuICogICAgICAgLy8geW91ciBvdGhlciBjcmVhdGVQYXltZW50IG9wdGlvbnMgaGVyZVxuICogICAgIH0pO1xuICogICB9LFxuICogICBvbkFwcHJvdmVkOiBmdW5jdGlvbiAoZGF0YSkge1xuICogICAgIGRhdGEudmF1bHQgPSBmYWxzZTtcbiAqXG4gKiAgICAgcmV0dXJuIHBheXBhbENoZWNrb3V0SW5zdGFuY2UudG9rZW5pemVQYXltZW50KGRhdGEpO1xuICogICB9LFxuICogICAvLyBBZGQgb3RoZXIgb3B0aW9ucywgZS5nLiBvbkNhbmNlbCwgb25FcnJvclxuICogfSkucmVuZGVyKCcjcGF5cGFsLWJ1dHRvbicpO1xuICpcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS50b2tlbml6ZVBheW1lbnQgPSBmdW5jdGlvbiAodG9rZW5pemVPcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHNob3VsZFZhdWx0ID0gdHJ1ZTtcbiAgdmFyIHBheWxvYWQ7XG4gIHZhciBvcHRpb25zID0ge1xuICAgIGZsb3c6XG4gICAgICB0b2tlbml6ZU9wdGlvbnMuYmlsbGluZ1Rva2VuICYmICF0b2tlbml6ZU9wdGlvbnMucGF5bWVudElEXG4gICAgICAgID8gXCJ2YXVsdFwiXG4gICAgICAgIDogXCJjaGVja291dFwiLFxuICAgIGludGVudDogdG9rZW5pemVPcHRpb25zLmludGVudCB8fCB0aGlzLmludGVudEZyb21DcmVhdGVQYXltZW50LFxuICB9O1xuICB2YXIgcGFyYW1zID0ge1xuICAgIC8vIFRoZSBwYXltZW50VG9rZW4gcHJvdmlkZWQgYnkgdGhlIFBheVBhbCBKUyBTREsgaXMgdGhlIEVDIFRva2VuXG4gICAgZWNUb2tlbjogdG9rZW5pemVPcHRpb25zLnBheW1lbnRUb2tlbixcbiAgICBiaWxsaW5nVG9rZW46IHRva2VuaXplT3B0aW9ucy5iaWxsaW5nVG9rZW4sXG4gICAgcGF5ZXJJZDogdG9rZW5pemVPcHRpb25zLnBheWVySUQsXG4gICAgcGF5bWVudElkOiB0b2tlbml6ZU9wdGlvbnMucGF5bWVudElELFxuICAgIG9yZGVySWQ6IHRva2VuaXplT3B0aW9ucy5vcmRlcklELFxuICAgIHNoaXBwaW5nT3B0aW9uc0lkOiB0b2tlbml6ZU9wdGlvbnMuc2hpcHBpbmdPcHRpb25zSWQsXG4gIH07XG5cbiAgaWYgKHRva2VuaXplT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcInZhdWx0XCIpKSB7XG4gICAgc2hvdWxkVmF1bHQgPSB0b2tlbml6ZU9wdGlvbnMudmF1bHQ7XG4gIH1cblxuICBvcHRpb25zLnZhdWx0ID0gc2hvdWxkVmF1bHQ7XG5cbiAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICB0aGlzLl9jbGllbnRQcm9taXNlLFxuICAgIFwicGF5cGFsLWNoZWNrb3V0LnRva2VuaXphdGlvbi5zdGFydGVkXCJcbiAgKTtcblxuICByZXR1cm4gdGhpcy5fY2xpZW50UHJvbWlzZVxuICAgIC50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHJldHVybiBjbGllbnQucmVxdWVzdCh7XG4gICAgICAgIGVuZHBvaW50OiBcInBheW1lbnRfbWV0aG9kcy9wYXlwYWxfYWNjb3VudHNcIixcbiAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcbiAgICAgICAgZGF0YTogc2VsZi5fZm9ybWF0VG9rZW5pemVEYXRhKG9wdGlvbnMsIHBhcmFtcyksXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcGF5bG9hZCA9IHNlbGYuX2Zvcm1hdFRva2VuaXplUGF5bG9hZChyZXNwb25zZSk7XG5cbiAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgIHNlbGYuX2NsaWVudFByb21pc2UsXG4gICAgICAgIFwicGF5cGFsLWNoZWNrb3V0LnRva2VuaXphdGlvbi5zdWNjZXNzXCJcbiAgICAgICk7XG4gICAgICBpZiAocGF5bG9hZC5jcmVkaXRGaW5hbmNpbmdPZmZlcmVkKSB7XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY2xpZW50UHJvbWlzZSxcbiAgICAgICAgICBcInBheXBhbC1jaGVja291dC5jcmVkaXQuYWNjZXB0ZWRcIlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoc2VsZi5fc2V0dXBFcnJvcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoc2VsZi5fc2V0dXBFcnJvcik7XG4gICAgICB9XG5cbiAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgIHNlbGYuX2NsaWVudFByb21pc2UsXG4gICAgICAgIFwicGF5cGFsLWNoZWNrb3V0LnRva2VuaXphdGlvbi5mYWlsZWRcIlxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBjb252ZXJ0VG9CcmFpbnRyZWVFcnJvcihlcnIsIHtcbiAgICAgICAgICB0eXBlOiBlcnJvcnMuUEFZUEFMX0FDQ09VTlRfVE9LRU5JWkFUSU9OX0ZBSUxFRC50eXBlLFxuICAgICAgICAgIGNvZGU6IGVycm9ycy5QQVlQQUxfQUNDT1VOVF9UT0tFTklaQVRJT05fRkFJTEVELmNvZGUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JzLlBBWVBBTF9BQ0NPVU5UX1RPS0VOSVpBVElPTl9GQUlMRUQubWVzc2FnZSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggdGhlIFBheVBhbCBjbGllbnQgaWQgdG8gYmUgdXNlZCB3aGVuIGxvYWRpbmcgdGhlIFBheVBhbCBTREsuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQsIDxjb2RlPmlkPC9jb2RlPiwgaXMgYSB0aGUgUGF5UGFsIGNsaWVudCBpZC4gSWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIHJlc29sdmVzIHdpdGggdGhlIFBheVBhbCBjbGllbnQgaWQuXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICogQGV4YW1wbGVcbiAqIHBheXBhbENoZWNrb3V0SW5zdGFuY2UuZ2V0Q2xpZW50SWQoKS50aGVuKGZ1bmN0aW9uIChpZCkge1xuICogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAqXG4gKiAgc2NyaXB0LnNyYyA9ICdodHRwczovL3d3dy5wYXlwYWwuY29tL3Nkay9qcz9jbGllbnQtaWQ9JyArIGlkO1xuICogIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gKiAgICAvLyBzZXR1cCB0aGUgUGF5UGFsIFNES1xuICogIH07XG4gKlxuICogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAqIH0pO1xuICovXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuZ2V0Q2xpZW50SWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9jbGllbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgIHJldHVybiBjbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpLmdhdGV3YXlDb25maWd1cmF0aW9uLnBheXBhbC5jbGllbnRJZDtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIHdoZW4gdGhlIFBheVBhbCBTREsgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGxvYWRlZCBvbnRvIHRoZSBwYWdlLlxuICogQHB1YmxpY1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIG1vZGlmeSB0aGUgcXVlcnkgcGFyYW1zIGFuZCBkYXRhLWF0dHJpYnV0ZXMgb24gdGhlIFBheVBhbCBTREsuIEEgc3Vic2V0IG9mIHRoZSBwYXJhbWV0ZXJzIGFyZSBsaXN0ZWQgYmVsb3cuIEZvciBhIGZ1bGwgbGlzdCBvZiBxdWVyeSBwYXJhbXMsIHNlZSB0aGUgW1BheVBhbCBkb2NzXShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvY2hlY2tvdXQvcmVmZXJlbmNlL2N1c3RvbWl6ZS1zZGsvP21hcms9cXVlcnkjcXVlcnktcGFyYW1ldGVycykuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY2xpZW50LWlkXSBCeSBkZWZhdWx0LCB0aGlzIHdpbGwgYmUgdGhlIGNsaWVudCBpZCBhc3NvY2lhdGVkIHdpdGggdGhlIGF1dGhvcml6YXRpb24gdXNlZCB0byBjcmVhdGUgdGhlIEJyYWludHJlZSBjb21wb25lbnQuIFdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHBhc3NpbmcgYGF1dGhvcml6YXRpb25gIHdoZW4gY3JlYXRpbmcgdGhlIFBheVBhbCBDaGVja291dCBjb21wb25lbnQsIHlvdSBjYW4gc3BlZWQgdXAgdGhlIGxvYWRpbmcgb2YgdGhlIFBheVBhbCBTREsuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaW50ZW50PVwiYXV0aG9yaXplXCJdIEJ5IGRlZmF1bHQsIHRoZSBQYXlQYWwgU0RLIGRlZmF1bHRzIHRvIGFuIGludGVudCBvZiBgY2FwdHVyZWAuIFNpbmNlIHRoZSBkZWZhdWx0IGludGVudCB3aGVuIGNhbGxpbmcge0BsaW5rIFBheVBhbENoZWNrb3V0I2NyZWF0ZVBheW1lbnR8YGNyZWF0ZVBheW1lbnRgfSBpcyBgYXV0aG9yaXplYCwgdGhlIFBheVBhbCBTREsgd2lsbCBiZSBsb2FkZWQgd2l0aCBgaW50ZW50PWF1dGhvcml6ZWAuIElmIHlvdSB3aXNoIHRvIHVzZSBhIGRpZmZlcmVudCBpbnRlbnQgd2hlbiBjYWxsaW5nIHtAbGluayBQYXlQYWxDaGVja291dCNjcmVhdGVQYXltZW50fGBjcmVhdGVQYXltZW50YH0sIG1ha2Ugc3VyZSBpdCBtYXRjaGVzIGhlcmUuIElmIGBzYWxlYCBpcyB1c2VkLCBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBgY2FwdHVyZWAgZm9yIHRoZSBQYXlQYWwgU0RLLiBJZiB0aGUgYHZhdWx0OiB0cnVlYCBwYXJhbSBpcyB1c2VkLCBgdG9rZW5pemVgIHdpbGwgYmUgcGFzc2VkIGFzIHRoZSBkZWZhdWx0IGludGVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGU9ZW5fVVNdIFVzZSB0aGlzIG9wdGlvbiB0byBjaGFuZ2UgdGhlIGxhbmd1YWdlLCBsaW5rcywgYW5kIHRlcm1pbm9sb2d5IHVzZWQgaW4gdGhlIFBheVBhbCBmbG93LiBUaGlzIGxvY2FsZSB3aWxsIGJlIHVzZWQgdW5sZXNzIHRoZSBidXllciBoYXMgc2V0IGEgcHJlZmVycmVkIGxvY2FsZSBmb3IgdGhlaXIgYWNjb3VudC4gSWYgYW4gdW5zdXBwb3J0ZWQgbG9jYWxlIGlzIHN1cHBsaWVkLCBhIGZhbGxiYWNrIGxvY2FsZSAoZGV0ZXJtaW5lZCBieSBidXllciBwcmVmZXJlbmNlIG9yIGJyb3dzZXIgZGF0YSkgd2lsbCBiZSB1c2VkIGFuZCBubyBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAqXG4gKiBTdXBwb3J0ZWQgbG9jYWxlcyBhcmU6XG4gKiBgZGFfREtgLFxuICogYGRlX0RFYCxcbiAqIGBlbl9BVWAsXG4gKiBgZW5fR0JgLFxuICogYGVuX1VTYCxcbiAqIGBlc19FU2AsXG4gKiBgZnJfQ0FgLFxuICogYGZyX0ZSYCxcbiAqIGBpZF9JRGAsXG4gKiBgaXRfSVRgLFxuICogYGphX0pQYCxcbiAqIGBrb19LUmAsXG4gKiBgbmxfTkxgLFxuICogYG5vX05PYCxcbiAqIGBwbF9QTGAsXG4gKiBgcHRfQlJgLFxuICogYHB0X1BUYCxcbiAqIGBydV9SVWAsXG4gKiBgc3ZfU0VgLFxuICogYHRoX1RIYCxcbiAqIGB6aF9DTmAsXG4gKiBgemhfSEtgLFxuICogYW5kIGB6aF9UV2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmN1cnJlbmN5PVwiVVNEXCJdIElmIGEgY3VycmVuY3kgaXMgcGFzc2VkIGluIHtAbGluayBQYXlQYWxDaGVja291dCNjcmVhdGVQYXltZW50fGBjcmVhdGVQYXltZW50YH0sIGl0IG11c3QgbWF0Y2ggdGhlIGN1cnJlbmN5IHBhc3NlZCBoZXJlLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy52YXVsdF0gTXVzdCBiZSBgdHJ1ZWAgd2hlbiB1c2luZyBgZmxvdzogdmF1bHRgIGluIHtAbGluayBQYXlQYWxDaGVja291dCNjcmVhdGVQYXltZW50fGBjcmVhdGVQYXltZW50YH0uXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY29tcG9uZW50cz1idXR0b25zXSBCeSBkZWZhdWx0LCB0aGUgQnJhaW50cmVlIFNESyB3aWxsIG9ubHkgbG9hZCB0aGUgUGF5UGFsIHNtYXJ0IGJ1dHRvbnMgY29tcG9uZW50LiBJZiB5b3Ugd291bGQgbGlrZSB0byBsb2FkIGp1c3QgdGhlIFttZXNzYWdlcyBjb21wb25lbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vZG9jcy9idXNpbmVzcy9jaGVja291dC9hZGQtY2FwYWJpbGl0aWVzL2NyZWRpdC1tZXNzYWdpbmcvKSwgcGFzcyBgbWVzc2FnZXNgLiBJZiB5b3Ugd291bGQgbGlrZSB0byBsb2FkIGJvdGgsIHBhc3MgYGJ1dHRvbnMsbWVzc2FnZXNgXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZGF0YUF0dHJpYnV0ZXNdIFRoZSBkYXRhIGF0dHJpYnV0ZXMgdG8gYXBwbHkgdG8gdGhlIHNjcmlwdC4gQW55IGRhdGEgYXR0cmlidXRlIGNhbiBiZSBwYXNzZWQuIEEgc3Vic2V0IG9mIHRoZSBwYXJhbWV0ZXJzIGFyZSBsaXN0ZWQgYmVsb3cuIEZvciBhIGZ1bGwgbGlzdCBvZiBkYXRhIGF0dHJpYnV0ZXMsIHNlZSB0aGUgW1BheVBhbCBkb2NzXShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvY2hlY2tvdXQvcmVmZXJlbmNlL2N1c3RvbWl6ZS1zZGsvI3NjcmlwdC1wYXJhbWV0ZXJzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5kYXRhQXR0cmlidXRlcy5jbGllbnQtdG9rZW5dIFRoZSBjbGllbnQgdG9rZW4gdG8gdXNlIGluIHRoZSBzY3JpcHQuICh1c3VhbGx5IG5vdCBuZWVkZWQpXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZGF0YUF0dHJpYnV0ZXMuY3NwLW5vbmNlXSBTZWUgdGhlIFtQYXlQYWwgZG9jcyBhYm91dCBjb250ZW50IHNlY3VyaXR5IG5vbmNlc10oaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS9kb2NzL2NoZWNrb3V0L3JlZmVyZW5jZS9jdXN0b21pemUtc2RrLyNjc3Atbm9uY2UpLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBDYWxsZWQgd2hlbiB0aGUgUGF5UGFsIFNESyBoYXMgYmVlbiBsb2FkZWQgb250byB0aGUgcGFnZS4gVGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgUGF5UGFsIENoZWNrb3V0IGluc3RhbmNlLiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgcmVzb2x2ZXMgd2l0aCB0aGUgUGF5UGFsIENoZWNrb3V0IGluc3RhbmNlIHdoZW4gdGhlIFBheVBhbCBTREsgaGFzIGJlZW4gbG9hZGVkIG9udG8gdGhlIHBhZ2UuXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICogQGV4YW1wbGUgPGNhcHRpb24+V2l0aG91dCBvcHRpb25zPC9jYXB0aW9uPlxuICogcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZS5sb2FkUGF5UGFsU0RLKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gKiAgIC8vIHdpbmRvdy5wYXlwYWwuQnV0dG9ucyBpcyBub3cgYXZhaWxhYmxlIHRvIHVzZVxuICogfSk7XG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5XaXRoIG9wdGlvbnM8L2NhcHRpb24+XG4gKiBwYXlwYWxDaGVja291dEluc3RhbmNlLmxvYWRQYXlQYWxTREsoe1xuICogICAnY2xpZW50LWlkJzogJ1BheVBhbCBDbGllbnQgSWQnLCAvLyBDYW4gc3BlZWQgdXAgcmVuZGVyaW5nIHRpbWUgdG8gaGFyZGNvZGUgdGhpcyB2YWx1ZVxuICpcbiAqICAgaW50ZW50OiAnY2FwdHVyZScsIC8vIE1ha2Ugc3VyZSB0aGlzIHZhbHVlIG1hdGNoZXMgdGhlIHZhbHVlIGluIGNyZWF0ZVBheW1lbnRcbiAqICAgY3VycmVuY3k6ICdVU0QnLCAvLyBNYWtlIHN1cmUgdGhpcyB2YWx1ZSBtYXRjaGVzIHRoZSB2YWx1ZSBpbiBjcmVhdGVQYXltZW50XG4gKiB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAqICAgLy8gd2luZG93LnBheXBhbC5CdXR0b25zIGlzIG5vdyBhdmFpbGFibGUgdG8gdXNlXG4gKiB9KTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPldpdGggVmF1bHRpbmc8L2NhcHRpb24+XG4gKiBwYXlwYWxDaGVja291dEluc3RhbmNlLmxvYWRQYXlQYWxTREsoe1xuICogICB2YXVsdDogdHJ1ZVxuICogfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gKiAgIC8vIHdpbmRvdy5wYXlwYWwuQnV0dG9ucyBpcyBub3cgYXZhaWxhYmxlIHRvIHVzZVxuICogfSk7XG4gKi9cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS5sb2FkUGF5UGFsU0RLID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIGlkUHJvbWlzZSwgc3JjO1xuICB2YXIgbG9hZFByb21pc2UgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG4gIHZhciBkYXRhQXR0cmlidXRlcyA9IChvcHRpb25zICYmIG9wdGlvbnMuZGF0YUF0dHJpYnV0ZXMpIHx8IHt9O1xuICB2YXIgdXNlcklkVG9rZW4gPVxuICAgIGRhdGFBdHRyaWJ1dGVzW1widXNlci1pZC10b2tlblwiXSB8fCBkYXRhQXR0cmlidXRlc1tcImRhdGEtdXNlci1pZC10b2tlblwiXTtcblxuICBpZiAoIXVzZXJJZFRva2VuKSB7XG4gICAgdXNlcklkVG9rZW4gPVxuICAgICAgdGhpcy5fYXV0aG9yaXphdGlvbkluZm9ybWF0aW9uLmZpbmdlcnByaW50ICYmXG4gICAgICB0aGlzLl9hdXRob3JpemF0aW9uSW5mb3JtYXRpb24uZmluZ2VycHJpbnQuc3BsaXQoXCI/XCIpWzBdO1xuICB9XG5cbiAgdGhpcy5fcGF5cGFsU2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblxuICAvLyBORVhUX01BSk9SX1ZFUlNJT05cbiAgLy8gdGhpcyBvcHRpb25zIG9iamVjdCBzaG91bGQgaGF2ZSAyIHByb3BlcnRpZXM6XG4gIC8vICogcXVlcnlQYXJhbXNcbiAgLy8gKiBkYXRhQXR0cmlidXRlc1xuICAvLyBzaG91bGQgbWFrZSBvcmdhbml6aW5nIHRoaXMgYmV0dGVyIHRoYW4gc3F1YXNoaW5nXG4gIC8vIGFsbCB0aGUgcXVlcnkgcGFyYW1zIGF0IHRoZSB0b3AgbGV2ZWwgYW5kIGV4dHJhY3RpbmdcbiAgLy8gdGhlIGRhdGEgYXR0cmlidXRlc1xuICBvcHRpb25zID0gYXNzaWduKFxuICAgIHt9LFxuICAgIHtcbiAgICAgIGNvbXBvbmVudHM6IFwiYnV0dG9uc1wiLFxuICAgIH0sXG4gICAgb3B0aW9uc1xuICApO1xuICBkZWxldGUgb3B0aW9ucy5kYXRhQXR0cmlidXRlcztcblxuICAvLyBORVhUX01BSk9SX1ZFUlNJT04gaWYgbWVyY2hhbnQgcGFzc2VzIGFuIGV4cGxpY2l0IGludGVudCxcbiAgLy8gY3VycmVuY3ksIGFtb3VudCwgZXRjLCBzYXZlIHRob3NlIGZvciB1c2UgaW4gY3JlYXRlUGF5bWVudFxuICAvLyBpZiBubyBleHBsaWNpdCBwYXJhbSBvZiB0aGF0IHR5cGUgaXMgcGFzc2VkIGluIHdoZW4gY2FsbGluZ1xuICAvLyBjcmVhdGVQYXltZW50IHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgbmVlZCB0byBiZVxuICAvLyBkdXBsaWNhdGVkIGhlcmUgYW5kIGluIGNyZWF0ZVBheW1lbnRcbiAgaWYgKG9wdGlvbnMudmF1bHQpIHtcbiAgICBvcHRpb25zLmludGVudCA9IG9wdGlvbnMuaW50ZW50IHx8IFwidG9rZW5pemVcIjtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmludGVudCA9IG9wdGlvbnMuaW50ZW50IHx8IFwiYXV0aG9yaXplXCI7XG4gICAgb3B0aW9ucy5jdXJyZW5jeSA9IG9wdGlvbnMuY3VycmVuY3kgfHwgXCJVU0RcIjtcbiAgfVxuXG4gIHNyYyA9IFwiaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9zZGsvanM/XCI7XG4gIHRoaXMuX3BheXBhbFNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbG9hZFByb21pc2UucmVzb2x2ZSgpO1xuICB9O1xuXG4gIE9iamVjdC5rZXlzKGRhdGFBdHRyaWJ1dGVzKS5mb3JFYWNoKFxuICAgIGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICAgIHRoaXMuX3BheXBhbFNjcmlwdC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwiZGF0YS1cIiArIGF0dHJpYnV0ZS5yZXBsYWNlKC9eZGF0YVxcLS8sIFwiXCIpLFxuICAgICAgICBkYXRhQXR0cmlidXRlc1thdHRyaWJ1dGVdXG4gICAgICApO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xuXG4gIGlmIChvcHRpb25zW1wiY2xpZW50LWlkXCJdKSB7XG4gICAgaWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG9wdGlvbnNbXCJjbGllbnQtaWRcIl0pO1xuICB9IGVsc2Uge1xuICAgIGlkUHJvbWlzZSA9IHRoaXMuZ2V0Q2xpZW50SWQoKTtcbiAgfVxuXG4gIGlkUHJvbWlzZS50aGVuKFxuICAgIGZ1bmN0aW9uIChpZCkge1xuICAgICAgb3B0aW9uc1tcImNsaWVudC1pZFwiXSA9IGlkO1xuXG4gICAgICBpZiAodGhpcy5fYXV0b1NldERhdGFVc2VySWRUb2tlbiAmJiB1c2VySWRUb2tlbikge1xuICAgICAgICB0aGlzLl9wYXlwYWxTY3JpcHQuc2V0QXR0cmlidXRlKFwiZGF0YS11c2VyLWlkLXRva2VuXCIsIHVzZXJJZFRva2VuKTtcblxuICAgICAgICAvLyBwcmVsb2FkaW5nIGltcHJvdmVzIHRoZSByZW5kZXJpbmcgdGltZSBvZiB0aGUgUGF5UGFsIGJ1dHRvblxuICAgICAgICB0aGlzLl9hdHRhY2hQcmVsb2FkUGl4ZWwoe1xuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICB1c2VySWRUb2tlbjogdXNlcklkVG9rZW4sXG4gICAgICAgICAgYW1vdW50OiBkYXRhQXR0cmlidXRlcy5hbW91bnQsXG4gICAgICAgICAgY3VycmVuY3k6IG9wdGlvbnMuY3VycmVuY3ksXG4gICAgICAgICAgbWVyY2hhbnRJZDogb3B0aW9uc1tcIm1lcmNoYW50LWlkXCJdLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcGF5cGFsU2NyaXB0LnNyYyA9IHF1ZXJ5c3RyaW5nLnF1ZXJ5aWZ5KHNyYywgb3B0aW9ucyk7XG4gICAgICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShcbiAgICAgICAgdGhpcy5fcGF5cGFsU2NyaXB0LFxuICAgICAgICBkb2N1bWVudC5oZWFkLmZpcnN0RWxlbWVudENoaWxkXG4gICAgICApO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xuXG4gIHJldHVybiBsb2FkUHJvbWlzZS50aGVuKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xufTtcblxuUGF5UGFsQ2hlY2tvdXQucHJvdG90eXBlLl9hdHRhY2hQcmVsb2FkUGl4ZWwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgcmVxdWVzdDtcbiAgdmFyIGlkID0gb3B0aW9ucy5pZDtcbiAgdmFyIHVzZXJJZFRva2VuID0gb3B0aW9ucy51c2VySWRUb2tlbjtcbiAgdmFyIGVudiA9IHRoaXMuX2F1dGhvcml6YXRpb25JbmZvcm1hdGlvbi5lbnZpcm9ubWVudDtcbiAgdmFyIHN1YmRvbWFpbiA9IGVudiA9PT0gXCJwcm9kdWN0aW9uXCIgPyBcIlwiIDogXCJzYW5kYm94LlwiO1xuICB2YXIgdXJsID0gUEFZUEFMX1NES19QUkVMT0FEX1VSTC5yZXBsYWNlKFwie0VOVn1cIiwgc3ViZG9tYWluKTtcbiAgdmFyIHByZWxvYWRPcHRpb25zID0ge1xuICAgIFwiY2xpZW50LWlkXCI6IGlkLFxuICAgIFwidXNlci1pZC10b2tlblwiOiB1c2VySWRUb2tlbixcbiAgfTtcblxuICBpZiAob3B0aW9ucy5hbW91bnQpIHtcbiAgICBwcmVsb2FkT3B0aW9ucy5hbW91bnQgPSBvcHRpb25zLmFtb3VudDtcbiAgfVxuICBpZiAob3B0aW9ucy5jdXJyZW5jeSkge1xuICAgIHByZWxvYWRPcHRpb25zLmN1cnJlbmN5ID0gb3B0aW9ucy5jdXJyZW5jeTtcbiAgfVxuICBpZiAob3B0aW9ucy5tZXJjaGFudElkKSB7XG4gICAgcHJlbG9hZE9wdGlvbnNbXCJtZXJjaGFudC1pZFwiXSA9IG9wdGlvbnMubWVyY2hhbnRJZDtcbiAgfVxuXG4gIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgcmVxdWVzdC5vcGVuKFwiR0VUXCIsIHF1ZXJ5c3RyaW5nLnF1ZXJ5aWZ5KHVybCwgcHJlbG9hZE9wdGlvbnMpKTtcbiAgcmVxdWVzdC5zZW5kKCk7XG59O1xuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX2Zvcm1hdFBheW1lbnRSZXNvdXJjZURhdGEgPSBmdW5jdGlvbiAoXG4gIG9wdGlvbnMsXG4gIGNvbmZpZ1xuKSB7XG4gIHZhciBrZXk7XG4gIHZhciBnYXRld2F5Q29uZmlndXJhdGlvbiA9IHRoaXMuX2NvbmZpZ3VyYXRpb24uZ2F0ZXdheUNvbmZpZ3VyYXRpb247XG4gIC8vIE5FWFRfTUFKT1JfVkVSU0lPTiBkZWZhdWx0IHZhbHVlIGZvciBpbnRlbnQgaW4gUGF5UGFsIFNESyBpcyBjYXB0dXJlXG4gIC8vIGJ1dCBvdXIgaW50ZWdyYXRpb25zIGRlZmF1bHQgdmFsdWUgaXMgYXV0aG9yaXplLiBEZWZhdWx0IHRoaXMgdG8gY2FwdHVyZVxuICAvLyBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLlxuICB2YXIgaW50ZW50ID0gb3B0aW9ucy5pbnRlbnQ7XG4gIHZhciBwYXltZW50UmVzb3VyY2UgPSB7XG4gICAgLy8gcmV0dXJuVXJsIGFuZCBjYW5jZWxVcmwgYXJlIHJlcXVpcmVkIGluIGhlcm1lcyBjcmVhdGVfcGF5bWVudF9yZXNvdXJjZSByb3V0ZVxuICAgIC8vIGJ1dCBhcmUgbm90IHVzZWQgYnkgdGhlIFBheVBhbCBzZGssIGV4Y2VwdCB0byByZWRpcmVjdCB0byBhbiBlcnJvciBwYWdlXG4gICAgcmV0dXJuVXJsOiBjb25maWcucmV0dXJuVXJsIHx8IFwiaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9jaGVja291dG5vdy9lcnJvclwiLFxuICAgIGNhbmNlbFVybDogY29uZmlnLmNhbmNlbFVybCB8fCBcImh0dHBzOi8vd3d3LnBheXBhbC5jb20vY2hlY2tvdXRub3cvZXJyb3JcIixcbiAgICBvZmZlclBheXBhbENyZWRpdDogb3B0aW9ucy5vZmZlckNyZWRpdCA9PT0gdHJ1ZSxcbiAgICBtZXJjaGFudEFjY291bnRJZDogdGhpcy5fbWVyY2hhbnRBY2NvdW50SWQsXG4gICAgZXhwZXJpZW5jZVByb2ZpbGU6IHtcbiAgICAgIGJyYW5kTmFtZTogb3B0aW9ucy5kaXNwbGF5TmFtZSB8fCBnYXRld2F5Q29uZmlndXJhdGlvbi5wYXlwYWwuZGlzcGxheU5hbWUsXG4gICAgICBsb2NhbGVDb2RlOiBvcHRpb25zLmxvY2FsZSxcbiAgICAgIG5vU2hpcHBpbmc6ICghb3B0aW9ucy5lbmFibGVTaGlwcGluZ0FkZHJlc3MpLnRvU3RyaW5nKCksXG4gICAgICBhZGRyZXNzT3ZlcnJpZGU6IG9wdGlvbnMuc2hpcHBpbmdBZGRyZXNzRWRpdGFibGUgPT09IGZhbHNlLFxuICAgICAgbGFuZGluZ1BhZ2VUeXBlOiBvcHRpb25zLmxhbmRpbmdQYWdlVHlwZSxcbiAgICB9LFxuICAgIHNoaXBwaW5nT3B0aW9uczogb3B0aW9ucy5zaGlwcGluZ09wdGlvbnMsXG4gIH07XG5cbiAgaWYgKG9wdGlvbnMuZmxvdyA9PT0gXCJjaGVja291dFwiKSB7XG4gICAgcGF5bWVudFJlc291cmNlLmFtb3VudCA9IG9wdGlvbnMuYW1vdW50O1xuICAgIHBheW1lbnRSZXNvdXJjZS5jdXJyZW5jeUlzb0NvZGUgPSBvcHRpb25zLmN1cnJlbmN5O1xuICAgIHBheW1lbnRSZXNvdXJjZS5yZXF1ZXN0QmlsbGluZ0FncmVlbWVudCA9IG9wdGlvbnMucmVxdWVzdEJpbGxpbmdBZ3JlZW1lbnQ7XG5cbiAgICBpZiAoaW50ZW50KSB7XG4gICAgICAvLyAnc2FsZScgaGFzIGJlZW4gY2hhbmdlZCB0byAnY2FwdHVyZScgaW4gUGF5UGFsJ3MgYmFja2VuZCwgYnV0XG4gICAgICAvLyB3ZSB1c2UgYW4gb2xkIHZlcnNpb24gd2l0aCAnc2FsZScuIFdlIHByb3ZpZGUgY2FwdHVyZSBhcyBhbiBhbGlhc1xuICAgICAgLy8gdG8gbWF0Y2ggdGhlIFBheVBhbCBTREtcbiAgICAgIGlmIChpbnRlbnQgPT09IFwiY2FwdHVyZVwiKSB7XG4gICAgICAgIGludGVudCA9IFwic2FsZVwiO1xuICAgICAgfVxuICAgICAgcGF5bWVudFJlc291cmNlLmludGVudCA9IGludGVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcImxpbmVJdGVtc1wiKSkge1xuICAgICAgcGF5bWVudFJlc291cmNlLmxpbmVJdGVtcyA9IG9wdGlvbnMubGluZUl0ZW1zO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwidmF1bHRJbml0aWF0ZWRDaGVja291dFBheW1lbnRNZXRob2RUb2tlblwiKSkge1xuICAgICAgcGF5bWVudFJlc291cmNlLnZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRQYXltZW50TWV0aG9kVG9rZW4gPVxuICAgICAgICBvcHRpb25zLnZhdWx0SW5pdGlhdGVkQ2hlY2tvdXRQYXltZW50TWV0aG9kVG9rZW47XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJzaGlwcGluZ09wdGlvbnNcIikpIHtcbiAgICAgIHBheW1lbnRSZXNvdXJjZS5zaGlwcGluZ09wdGlvbnMgPSBvcHRpb25zLnNoaXBwaW5nT3B0aW9ucztcbiAgICB9XG5cbiAgICBmb3IgKGtleSBpbiBvcHRpb25zLnNoaXBwaW5nQWRkcmVzc092ZXJyaWRlKSB7XG4gICAgICBpZiAob3B0aW9ucy5zaGlwcGluZ0FkZHJlc3NPdmVycmlkZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHBheW1lbnRSZXNvdXJjZVtrZXldID0gb3B0aW9ucy5zaGlwcGluZ0FkZHJlc3NPdmVycmlkZVtrZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwiYmlsbGluZ0FncmVlbWVudERldGFpbHNcIikpIHtcbiAgICAgIHBheW1lbnRSZXNvdXJjZS5iaWxsaW5nQWdyZWVtZW50RGV0YWlscyA9IG9wdGlvbnMuYmlsbGluZ0FncmVlbWVudERldGFpbHM7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBheW1lbnRSZXNvdXJjZS5zaGlwcGluZ0FkZHJlc3MgPSBvcHRpb25zLnNoaXBwaW5nQWRkcmVzc092ZXJyaWRlO1xuXG4gICAgaWYgKG9wdGlvbnMuYmlsbGluZ0FncmVlbWVudERlc2NyaXB0aW9uKSB7XG4gICAgICBwYXltZW50UmVzb3VyY2UuZGVzY3JpcHRpb24gPSBvcHRpb25zLmJpbGxpbmdBZ3JlZW1lbnREZXNjcmlwdGlvbjtcbiAgICB9XG4gIH1cblxuICAvLyB0aGlzIG5lZWRzIHRvIGJlIHNldCBvdXRzaWRlIG9mIHRoZSBibG9jayB3aGVyZSBhZGQgaXQgdG8gdGhlXG4gIC8vIHBheW1lbnQgcmVxdWVzdCBzbyB0aGF0IGEgZm9sbG93IHVwIHRva2VuaXphdGlvbiBjYWxsIGNhbiB1c2UgaXQsXG4gIC8vIGJ1dCBpZiBhIHNlY29uZCBjcmVhdGUgcGF5bWVudCByZXNvdXJjZSBjYWxsIGlzIG1hZGUgd2l0aG91dFxuICAvLyB0aGUgY29ycmVsYXRpb24gaWQsIHdlIHdhbnQgdG8gcmVzZXQgaXQgdG8gdW5kZWZpbmVkIHNvIHRoYXQgdGhlXG4gIC8vIHRva2VuaXphdGlvbiBjYWxsIGRvZXMgbm90IHVzZSBhIHN0YWxlIGNvcnJlbGF0aW9uIGlkXG4gIHRoaXMuX3Jpc2tDb3JyZWxhdGlvbklkID0gb3B0aW9ucy5yaXNrQ29ycmVsYXRpb25JZDtcbiAgaWYgKG9wdGlvbnMucmlza0NvcnJlbGF0aW9uSWQpIHtcbiAgICBwYXltZW50UmVzb3VyY2UuY29ycmVsYXRpb25JZCA9IHRoaXMuX3Jpc2tDb3JyZWxhdGlvbklkO1xuICB9XG5cbiAgcmV0dXJuIHBheW1lbnRSZXNvdXJjZTtcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIF92ZXJpZnlDb25zaXN0ZW50Q3VycmVuY3lcbiAqIFZlcmlmaWVzIHRoYXQgYG9wdGlvbnMuY3VycmVuY3lgIGFuZCB0aGUgY3VycmVuY2llcyBmb3IgZWFjaCBgc2hpcHBpbmdPcHRpb25gIHRoZSBzYW1lLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgYG9wdGlvbnNgIHByb3ZpZGVkIGZvciBgdXBkYXRlUGF5bWVudGAuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBjdXJyZW5jaWVzIG1hdGNoIChvciBubyBzaGlwcGluZyBvcHRpb25zKTsgZmFsc2UgaWYgY3VycmVuY2llcyBkbyBub3QgbWF0Y2guXG4gKi9cblxuUGF5UGFsQ2hlY2tvdXQucHJvdG90eXBlLl92ZXJpZnlDb25zaXN0ZW50Q3VycmVuY3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAoXG4gICAgb3B0aW9ucy5jdXJyZW5jeSAmJlxuICAgIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJzaGlwcGluZ09wdGlvbnNcIikgJiZcbiAgICBBcnJheS5pc0FycmF5KG9wdGlvbnMuc2hpcHBpbmdPcHRpb25zKVxuICApIHtcbiAgICByZXR1cm4gb3B0aW9ucy5zaGlwcGluZ09wdGlvbnMuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGl0ZW0uYW1vdW50ICYmXG4gICAgICAgIGl0ZW0uYW1vdW50LmN1cnJlbmN5ICYmXG4gICAgICAgIG9wdGlvbnMuY3VycmVuY3kudG9Mb3dlckNhc2UoKSA9PT0gaXRlbS5hbW91bnQuY3VycmVuY3kudG9Mb3dlckNhc2UoKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBAaWdub3JlXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gX2hhc01pc3NpbmdPcHRpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEFsbCBvcHRpb25zIHByb3ZpZGVkIGZvciBpbnRpYXRpbmcgdGhlIFBheVBhbCBmbG93LlxuICogQHBhcmFtIHthcnJheX0gcmVxdWlyZWQgQSBsaXN0IG9mIHJlcXVpcmVkIGlucHV0cyB0aGF0IG11c3QgYmUgaW5jbHVkZSBhcyBwYXJ0IG9mIHRoZSBvcHRpb25zLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSBib29sZWFuLlxuICovXG5cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS5faGFzTWlzc2luZ09wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zLCByZXF1aXJlZCkge1xuICB2YXIgaSwgb3B0aW9uO1xuXG4gIHJlcXVpcmVkID0gcmVxdWlyZWQgfHwgW107XG5cbiAgaWYgKFxuICAgICFvcHRpb25zLmhhc093blByb3BlcnR5KFwiYW1vdW50XCIpICYmXG4gICAgIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJsaW5lSXRlbXNcIilcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgcmVxdWlyZWQubGVuZ3RoOyBpKyspIHtcbiAgICBvcHRpb24gPSByZXF1aXJlZFtpXTtcblxuICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5QYXlQYWxDaGVja291dC5wcm90b3R5cGUuX2Zvcm1hdFVwZGF0ZVBheW1lbnREYXRhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcGF5bWVudFJlc291cmNlID0ge1xuICAgIG1lcmNoYW50QWNjb3VudElkOiB0aGlzLl9tZXJjaGFudEFjY291bnRJZCxcbiAgICBwYXltZW50SWQ6IG9wdGlvbnMucGF5bWVudElkIHx8IG9wdGlvbnMub3JkZXJJZCxcbiAgICBjdXJyZW5jeUlzb0NvZGU6IG9wdGlvbnMuY3VycmVuY3ksXG4gIH07XG5cbiAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJhbW91bnRcIikpIHtcbiAgICBwYXltZW50UmVzb3VyY2UuYW1vdW50ID0gb3B0aW9ucy5hbW91bnQ7XG4gIH1cblxuICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcImxpbmVJdGVtc1wiKSkge1xuICAgIHBheW1lbnRSZXNvdXJjZS5saW5lSXRlbXMgPSBvcHRpb25zLmxpbmVJdGVtcztcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwic2hpcHBpbmdPcHRpb25zXCIpKSB7XG4gICAgcGF5bWVudFJlc291cmNlLnNoaXBwaW5nT3B0aW9ucyA9IG9wdGlvbnMuc2hpcHBpbmdPcHRpb25zO1xuICB9XG5cbiAgLyogc2hpcHBpbmdBZGRyZXNzIG5vdCBzdXBwb3J0ZWQgeWV0ICovXG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwic2hpcHBpbmdBZGRyZXNzXCIpKSB7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgIHNlbGYuX2NsaWVudFByb21pc2UsXG4gICAgICBcInBheXBhbC1jaGVja291dC51cGRhdGVQYXltZW50LnNoaXBwaW5nQWRkcmVzcy5wcm92aWRlZC5ieS10aGUtbWVyY2hhbnRcIlxuICAgICk7XG5cbiAgICBwYXltZW50UmVzb3VyY2UubGluZTEgPSBvcHRpb25zLnNoaXBwaW5nQWRkcmVzcy5saW5lMTtcblxuICAgIGlmIChvcHRpb25zLnNoaXBwaW5nQWRkcmVzcy5oYXNPd25Qcm9wZXJ0eShcImxpbmUyXCIpKSB7XG4gICAgICBwYXltZW50UmVzb3VyY2UubGluZTIgPSBvcHRpb25zLnNoaXBwaW5nQWRkcmVzcy5saW5lMjtcbiAgICB9XG5cbiAgICBwYXltZW50UmVzb3VyY2UuY2l0eSA9IG9wdGlvbnMuc2hpcHBpbmdBZGRyZXNzLmNpdHk7XG4gICAgcGF5bWVudFJlc291cmNlLnN0YXRlID0gb3B0aW9ucy5zaGlwcGluZ0FkZHJlc3Muc3RhdGU7XG4gICAgcGF5bWVudFJlc291cmNlLnBvc3RhbENvZGUgPSBvcHRpb25zLnNoaXBwaW5nQWRkcmVzcy5wb3N0YWxDb2RlO1xuICAgIHBheW1lbnRSZXNvdXJjZS5jb3VudHJ5Q29kZSA9IG9wdGlvbnMuc2hpcHBpbmdBZGRyZXNzLmNvdW50cnlDb2RlO1xuXG4gICAgaWYgKG9wdGlvbnMuc2hpcHBpbmdBZGRyZXNzLmhhc093blByb3BlcnR5KFwicGhvbmVcIikpIHtcbiAgICAgIHBheW1lbnRSZXNvdXJjZS5waG9uZSA9IG9wdGlvbnMuc2hpcHBpbmdBZGRyZXNzLnBob25lO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNoaXBwaW5nQWRkcmVzcy5oYXNPd25Qcm9wZXJ0eShcInJlY2lwaWVudE5hbWVcIikpIHtcbiAgICAgIHBheW1lbnRSZXNvdXJjZS5yZWNpcGllbnROYW1lID0gb3B0aW9ucy5zaGlwcGluZ0FkZHJlc3MucmVjaXBpZW50TmFtZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGF5bWVudFJlc291cmNlO1xufTtcblxuUGF5UGFsQ2hlY2tvdXQucHJvdG90eXBlLl9mb3JtYXRUb2tlbml6ZURhdGEgPSBmdW5jdGlvbiAob3B0aW9ucywgcGFyYW1zKSB7XG4gIHZhciBjbGllbnRDb25maWd1cmF0aW9uID0gdGhpcy5fY29uZmlndXJhdGlvbjtcbiAgdmFyIGdhdGV3YXlDb25maWd1cmF0aW9uID0gY2xpZW50Q29uZmlndXJhdGlvbi5nYXRld2F5Q29uZmlndXJhdGlvbjtcbiAgdmFyIGlzVG9rZW5pemF0aW9uS2V5ID1cbiAgICBjbGllbnRDb25maWd1cmF0aW9uLmF1dGhvcml6YXRpb25UeXBlID09PSBcIlRPS0VOSVpBVElPTl9LRVlcIjtcbiAgdmFyIGlzVmF1bHRGbG93ID0gb3B0aW9ucy5mbG93ID09PSBcInZhdWx0XCI7XG4gIHZhciBjb3JyZWxhdGlvbklkID1cbiAgICB0aGlzLl9yaXNrQ29ycmVsYXRpb25JZCB8fCBwYXJhbXMuYmlsbGluZ1Rva2VuIHx8IHBhcmFtcy5lY1Rva2VuO1xuICB2YXIgZGF0YSA9IHtcbiAgICBwYXlwYWxBY2NvdW50OiB7XG4gICAgICBjb3JyZWxhdGlvbklkOiBjb3JyZWxhdGlvbklkLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICB2YWxpZGF0ZTogaXNWYXVsdEZsb3cgJiYgIWlzVG9rZW5pemF0aW9uS2V5ICYmIG9wdGlvbnMudmF1bHQsXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG5cbiAgaWYgKGlzVmF1bHRGbG93KSB7XG4gICAgZGF0YS5wYXlwYWxBY2NvdW50LmJpbGxpbmdBZ3JlZW1lbnRUb2tlbiA9IHBhcmFtcy5iaWxsaW5nVG9rZW47XG4gIH0gZWxzZSB7XG4gICAgZGF0YS5wYXlwYWxBY2NvdW50LnBheW1lbnRUb2tlbiA9IHBhcmFtcy5wYXltZW50SWQgfHwgcGFyYW1zLm9yZGVySWQ7XG4gICAgZGF0YS5wYXlwYWxBY2NvdW50LnBheWVySWQgPSBwYXJhbXMucGF5ZXJJZDtcbiAgICBkYXRhLnBheXBhbEFjY291bnQudW5pbGF0ZXJhbCA9XG4gICAgICBnYXRld2F5Q29uZmlndXJhdGlvbi5wYXlwYWwudW52ZXR0ZWRNZXJjaGFudDtcblxuICAgIGlmIChvcHRpb25zLmludGVudCkge1xuICAgICAgZGF0YS5wYXlwYWxBY2NvdW50LmludGVudCA9IG9wdGlvbnMuaW50ZW50O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLl9tZXJjaGFudEFjY291bnRJZCkge1xuICAgIGRhdGEubWVyY2hhbnRBY2NvdW50SWQgPSB0aGlzLl9tZXJjaGFudEFjY291bnRJZDtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufTtcblxuUGF5UGFsQ2hlY2tvdXQucHJvdG90eXBlLl9mb3JtYXRUb2tlbml6ZVBheWxvYWQgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgdmFyIHBheWxvYWQ7XG4gIHZhciBhY2NvdW50ID0ge307XG5cbiAgaWYgKHJlc3BvbnNlLnBheXBhbEFjY291bnRzKSB7XG4gICAgYWNjb3VudCA9IHJlc3BvbnNlLnBheXBhbEFjY291bnRzWzBdO1xuICB9XG5cbiAgcGF5bG9hZCA9IHtcbiAgICBub25jZTogYWNjb3VudC5ub25jZSxcbiAgICBkZXRhaWxzOiB7fSxcbiAgICB0eXBlOiBhY2NvdW50LnR5cGUsXG4gIH07XG5cbiAgaWYgKGFjY291bnQuZGV0YWlscyAmJiBhY2NvdW50LmRldGFpbHMucGF5ZXJJbmZvKSB7XG4gICAgcGF5bG9hZC5kZXRhaWxzID0gYWNjb3VudC5kZXRhaWxzLnBheWVySW5mbztcbiAgfVxuXG4gIGlmIChhY2NvdW50LmRldGFpbHMgJiYgYWNjb3VudC5kZXRhaWxzLmNyZWRpdEZpbmFuY2luZ09mZmVyZWQpIHtcbiAgICBwYXlsb2FkLmNyZWRpdEZpbmFuY2luZ09mZmVyZWQgPSBhY2NvdW50LmRldGFpbHMuY3JlZGl0RmluYW5jaW5nT2ZmZXJlZDtcbiAgfVxuXG4gIGlmIChhY2NvdW50LmRldGFpbHMgJiYgYWNjb3VudC5kZXRhaWxzLnNoaXBwaW5nT3B0aW9uSWQpIHtcbiAgICBwYXlsb2FkLnNoaXBwaW5nT3B0aW9uSWQgPSBhY2NvdW50LmRldGFpbHMuc2hpcHBpbmdPcHRpb25JZDtcbiAgfVxuXG4gIGlmIChhY2NvdW50LmRldGFpbHMgJiYgYWNjb3VudC5kZXRhaWxzLmNvYnJhbmRlZENhcmRMYWJlbCkge1xuICAgIHBheWxvYWQuY29icmFuZGVkQ2FyZExhYmVsID0gYWNjb3VudC5kZXRhaWxzLmNvYnJhbmRlZENhcmRMYWJlbDtcbiAgfVxuXG4gIHJldHVybiBwYXlsb2FkO1xufTtcblxuLyoqXG4gKiBDbGVhbmx5IHRlYXIgZG93biBhbnl0aGluZyBzZXQgdXAgYnkge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL3BheXBhbC1jaGVja291dC5jcmVhdGV8Y3JlYXRlfS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uY2UgdGVhcmRvd24gaXMgY29tcGxldGUuIE5vIGRhdGEgaXMgcmV0dXJuZWQgaWYgdGVhcmRvd24gY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAqIEBleGFtcGxlXG4gKiBwYXlwYWxDaGVja291dEluc3RhbmNlLnRlYXJkb3duKCk7XG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5XaXRoIGNhbGxiYWNrPC9jYXB0aW9uPlxuICogcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZS50ZWFyZG93bihmdW5jdGlvbiAoKSB7XG4gKiAgIC8vIHRlYXJkb3duIGlzIGNvbXBsZXRlXG4gKiB9KTtcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cblBheVBhbENoZWNrb3V0LnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGNvbnZlcnRNZXRob2RzVG9FcnJvcih0aGlzLCBtZXRob2RzKFBheVBhbENoZWNrb3V0LnByb3RvdHlwZSkpO1xuXG4gIGlmICh0aGlzLl9wYXlwYWxTY3JpcHQgJiYgdGhpcy5fcGF5cGFsU2NyaXB0LnBhcmVudE5vZGUpIHtcbiAgICB0aGlzLl9wYXlwYWxTY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9wYXlwYWxTY3JpcHQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2ZyYW1lU2VydmljZVByb21pc2VcbiAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbm8gbmVlZCB0byBlcnJvciBpbiB0ZWFyZG93biBmb3IgYW4gZXJyb3Igc2V0dGluZyB1cCB0aGUgZnJhbWUgc2VydmljZVxuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzZWxmLl9mcmFtZVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fZnJhbWVTZXJ2aWNlLnRlYXJkb3duKCk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHdyYXBQcm9taXNlLndyYXBQcm90b3R5cGUoUGF5UGFsQ2hlY2tvdXQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/paypal-checkout/paypal-checkout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/paypal/shared/constants.js":
/*!***************************************************************!*\
  !*** ./node_modules/braintree-web/paypal/shared/constants.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  LANDING_FRAME_NAME: \"braintreepaypallanding\",\n  FLOW_ENDPOINTS: {\n    checkout: \"create_payment_resource\",\n    vault: \"setup_billing_agreement\",\n  },\n  REQUIRED_OPTIONS: [\"paymentId\", \"currency\"],\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi9wYXlwYWwvc2hhcmVkL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvcGF5cGFsL3NoYXJlZC9jb25zdGFudHMuanM/ZDY1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIExBTkRJTkdfRlJBTUVfTkFNRTogXCJicmFpbnRyZWVwYXlwYWxsYW5kaW5nXCIsXG4gIEZMT1dfRU5EUE9JTlRTOiB7XG4gICAgY2hlY2tvdXQ6IFwiY3JlYXRlX3BheW1lbnRfcmVzb3VyY2VcIixcbiAgICB2YXVsdDogXCJzZXR1cF9iaWxsaW5nX2FncmVlbWVudFwiLFxuICB9LFxuICBSRVFVSVJFRF9PUFRJT05TOiBbXCJwYXltZW50SWRcIiwgXCJjdXJyZW5jeVwiXSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/paypal/shared/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/base.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/frameworks/base.js ***!
  \*******************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar assign = (__webpack_require__(/*! ../../../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar analytics = __webpack_require__(/*! ../../../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar BraintreeError = __webpack_require__(/*! ../../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar isVerifiedDomain = __webpack_require__(/*! ../../../lib/is-verified-domain */ \"(ssr)/./node_modules/braintree-web/lib/is-verified-domain.js\");\nvar ExtendedPromise = __webpack_require__(/*! @braintree/extended-promise */ \"(ssr)/./node_modules/@braintree/extended-promise/dist/index.js\");\nvar EventEmitter = __webpack_require__(/*! @braintree/event-emitter */ \"(ssr)/./node_modules/@braintree/event-emitter/dist/event-emitter.js\");\nvar errors = __webpack_require__(/*! ../../shared/errors */ \"(ssr)/./node_modules/braintree-web/three-d-secure/shared/errors.js\");\nvar iFramer = __webpack_require__(/*! @braintree/iframer */ \"(ssr)/./node_modules/@braintree/iframer/dist/index.js\");\nvar Bus = __webpack_require__(/*! framebus */ \"(ssr)/./node_modules/framebus/dist/index.js\");\nvar constants = __webpack_require__(/*! ../../shared/constants */ \"(ssr)/./node_modules/braintree-web/three-d-secure/shared/constants.js\");\nvar uuid = __webpack_require__(/*! @braintree/uuid */ \"(ssr)/./node_modules/@braintree/uuid/index.js\");\nvar events = __webpack_require__(/*! ../../shared/events */ \"(ssr)/./node_modules/braintree-web/three-d-secure/shared/events.js\");\nvar useMin = __webpack_require__(/*! ../../../lib/use-min */ \"(ssr)/./node_modules/braintree-web/lib/use-min.js\");\nvar BUS_CONFIGURATION_REQUEST_EVENT =\n  (__webpack_require__(/*! ../../../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").BUS_CONFIGURATION_REQUEST_EVENT);\n\nvar VERSION = \"3.99.0\";\nvar IFRAME_HEIGHT = 400;\nvar IFRAME_WIDTH = 400;\n\nExtendedPromise.suppressUnhandledPromiseMessage = true;\n\nfunction BaseFramework(options) {\n  EventEmitter.call(this);\n\n  this._client = options.client;\n  this._createPromise = options.createPromise;\n  this._createOptions = options;\n\n  if (this._client) {\n    this._isDebug = this._client.getConfiguration().isDebug;\n    this._assetsUrl =\n      this._client.getConfiguration().gatewayConfiguration.assetsUrl;\n  } else {\n    this._isDebug = Boolean(options.isDebug);\n    this._assetsUrl = options.assetsUrl;\n  }\n  this._assetsUrl = this._assetsUrl + \"/web/\" + VERSION;\n}\n\nEventEmitter.createChild(BaseFramework);\n\nBaseFramework.prototype._waitForClient = function () {\n  if (this._client) {\n    return Promise.resolve();\n  }\n\n  return this._createPromise.then(\n    function (client) {\n      this._client = client;\n    }.bind(this)\n  );\n};\n\nBaseFramework.prototype.setUpEventListeners = function () {\n  throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED);\n};\n\nBaseFramework.prototype.verifyCard = function (options, privateOptions) {\n  var formattedOptions, error;\n  var self = this;\n\n  privateOptions = privateOptions || {};\n\n  error = this._checkForVerifyCardError(options, privateOptions);\n\n  if (error) {\n    return Promise.reject(error);\n  }\n\n  this._verifyCardInProgress = true;\n\n  formattedOptions = this._formatVerifyCardOptions(options);\n\n  return this._formatLookupData(formattedOptions)\n    .then(function (data) {\n      analytics.sendEvent(\n        self._createPromise,\n        \"three-d-secure.verification-flow.started\"\n      );\n\n      return self._performLookup(formattedOptions.nonce, data);\n    })\n    .then(function (response) {\n      analytics.sendEvent(\n        self._createPromise,\n        \"three-d-secure.verification-flow.3ds-version.\" +\n          response.lookup.threeDSecureVersion\n      );\n\n      return self._onLookupComplete(response, formattedOptions);\n    })\n    .then(function (response) {\n      return self.initializeChallengeWithLookupResponse(\n        response,\n        formattedOptions\n      );\n    })\n    .then(function (payload) {\n      self._resetVerificationState();\n\n      analytics.sendEvent(\n        self._createPromise,\n        \"three-d-secure.verification-flow.completed\"\n      );\n\n      return payload;\n    })\n    .catch(function (err) {\n      self._resetVerificationState();\n\n      analytics.sendEvent(\n        self._createPromise,\n        \"three-d-secure.verification-flow.failed\"\n      );\n\n      return Promise.reject(err);\n    });\n};\n\nBaseFramework.prototype._checkForFrameworkSpecificVerifyCardErrors =\n  function () {\n    throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED);\n  };\n\nBaseFramework.prototype._presentChallenge = function () {\n  throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED);\n};\n\nBaseFramework.prototype.prepareLookup = function () {\n  throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED);\n};\n\nBaseFramework.prototype._resetVerificationState = function () {\n  this._verifyCardInProgress = false;\n  this._verifyCardPromisePlus = null;\n\n  if (typeof this._reloadThreeDSecure === \"function\") {\n    this._reloadThreeDSecure();\n  }\n};\n\nBaseFramework.prototype._performLookup = function (nonce, data) {\n  var self = this;\n  var url = \"payment_methods/\" + nonce + \"/three_d_secure/lookup\";\n\n  return this._waitForClient().then(function () {\n    return self._client\n      .request({\n        endpoint: url,\n        method: \"post\",\n        data: data,\n      })\n      .catch(function (err) {\n        var status = err && err.details && err.details.httpStatus;\n        var analyticsMessage = \"three-d-secure.verification-flow.lookup-failed\";\n        var lookupError;\n\n        if (status === 404) {\n          lookupError = errors.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR;\n          analyticsMessage += \".404\";\n        } else if (status === 422) {\n          lookupError = errors.THREEDS_LOOKUP_VALIDATION_ERROR;\n          analyticsMessage += \".422\";\n        } else {\n          lookupError = errors.THREEDS_LOOKUP_ERROR;\n        }\n\n        analytics.sendEvent(self._createPromise, analyticsMessage);\n\n        return Promise.reject(\n          new BraintreeError({\n            type: lookupError.type,\n            code: lookupError.code,\n            message: lookupError.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      });\n  });\n};\n\nBaseFramework.prototype._checkForVerifyCardError = function (\n  options,\n  privateOptions\n) {\n  var errorOption;\n\n  if (this._verifyCardInProgress === true) {\n    return new BraintreeError(errors.THREEDS_AUTHENTICATION_IN_PROGRESS);\n  } else if (!options.nonce) {\n    errorOption = \"a nonce\";\n  } else if (!options.amount) {\n    errorOption = \"an amount\";\n  }\n\n  if (!errorOption) {\n    errorOption = this._checkForFrameworkSpecificVerifyCardErrors(\n      options,\n      privateOptions\n    );\n  }\n\n  if (errorOption) {\n    return new BraintreeError({\n      type: errors.THREEDS_MISSING_VERIFY_CARD_OPTION.type,\n      code: errors.THREEDS_MISSING_VERIFY_CARD_OPTION.code,\n      message: \"verifyCard options must include \" + errorOption + \".\",\n    });\n  }\n\n  return null;\n};\n\nBaseFramework.prototype.initializeChallengeWithLookupResponse = function (\n  lookupResponse,\n  options\n) {\n  var self = this;\n\n  options = options || {};\n\n  this._lookupPaymentMethod = lookupResponse.paymentMethod;\n\n  // sets this in the case that initializeChallengeWithLookupResponse is\n  // called as a standalone method from a server side lookup. In a normal\n  // verifyCard flow, this promise will already exist\n  self._verifyCardPromisePlus =\n    self._verifyCardPromisePlus || new ExtendedPromise();\n  self._handleLookupResponse(lookupResponse, options);\n\n  return self._verifyCardPromisePlus.then(function (payload) {\n    analytics.sendEvent(\n      self._createPromise,\n      \"three-d-secure.verification-flow.liability-shifted.\" +\n        String(payload.liabilityShifted)\n    );\n    analytics.sendEvent(\n      self._createPromise,\n      \"three-d-secure.verification-flow.liability-shift-possible.\" +\n        String(payload.liabilityShiftPossible)\n    );\n\n    return payload;\n  });\n};\n\nBaseFramework.prototype._handleLookupResponse = function (\n  lookupResponse,\n  options\n) {\n  var challengeShouldBePresented = Boolean(\n    lookupResponse.lookup && lookupResponse.lookup.acsUrl\n  );\n  var details;\n\n  analytics.sendEvent(\n    this._createPromise,\n    \"three-d-secure.verification-flow.challenge-presented.\" +\n      String(challengeShouldBePresented)\n  );\n\n  if (challengeShouldBePresented) {\n    this._presentChallenge(lookupResponse, options);\n  } else {\n    details = this._formatAuthResponse(\n      lookupResponse.paymentMethod,\n      lookupResponse.threeDSecureInfo\n    );\n    details.verificationDetails = lookupResponse.threeDSecureInfo;\n\n    this._verifyCardPromisePlus.resolve(details);\n  }\n};\n\nBaseFramework.prototype._onLookupComplete = function (response) {\n  this._lookupPaymentMethod = response.paymentMethod;\n  this._verifyCardPromisePlus = new ExtendedPromise();\n\n  return Promise.resolve(response);\n};\n\nBaseFramework.prototype._formatAuthResponse = function (\n  paymentMethod,\n  threeDSecureInfo\n) {\n  return {\n    nonce: paymentMethod.nonce,\n    type: paymentMethod.type,\n    binData: paymentMethod.binData,\n    details: paymentMethod.details,\n    description:\n      paymentMethod.description &&\n      paymentMethod.description.replace(/\\+/g, \" \"),\n    liabilityShifted: threeDSecureInfo && threeDSecureInfo.liabilityShifted,\n    liabilityShiftPossible:\n      threeDSecureInfo && threeDSecureInfo.liabilityShiftPossible,\n    threeDSecureInfo: paymentMethod.threeDSecureInfo,\n  };\n};\n\nBaseFramework.prototype._formatVerifyCardOptions = function (options) {\n  return assign({}, options);\n};\n\nBaseFramework.prototype._formatLookupData = function (options) {\n  var data = {\n    amount: options.amount,\n  };\n\n  if (options.collectDeviceData === true) {\n    data.browserColorDepth = window.screen.colorDepth;\n    data.browserJavaEnabled = window.navigator.javaEnabled();\n    data.browserJavascriptEnabled = true;\n    data.browserLanguage = window.navigator.language;\n    data.browserScreenHeight = window.screen.height;\n    data.browserScreenWidth = window.screen.width;\n    data.browserTimeZone = new Date().getTimezoneOffset();\n    data.deviceChannel = \"Browser\";\n  }\n\n  return Promise.resolve(data);\n};\n\nBaseFramework.prototype._handleV1AuthResponse = function (data) {\n  var authResponse = JSON.parse(data.auth_response);\n\n  if (authResponse.success) {\n    this._verifyCardPromisePlus.resolve(\n      this._formatAuthResponse(\n        authResponse.paymentMethod,\n        authResponse.threeDSecureInfo\n      )\n    );\n  } else if (\n    authResponse.threeDSecureInfo &&\n    authResponse.threeDSecureInfo.liabilityShiftPossible\n  ) {\n    this._verifyCardPromisePlus.resolve(\n      this._formatAuthResponse(\n        this._lookupPaymentMethod,\n        authResponse.threeDSecureInfo\n      )\n    );\n  } else {\n    this._verifyCardPromisePlus.reject(\n      new BraintreeError({\n        type: BraintreeError.types.UNKNOWN,\n        code: \"UNKNOWN_AUTH_RESPONSE\",\n        message: authResponse.error.message,\n      })\n    );\n  }\n};\n\nBaseFramework.prototype.cancelVerifyCard = function () {\n  var response, threeDSecureInfo;\n\n  this._verifyCardInProgress = false;\n\n  if (!this._lookupPaymentMethod) {\n    return Promise.reject(\n      new BraintreeError(errors.THREEDS_NO_VERIFICATION_PAYLOAD)\n    );\n  }\n\n  threeDSecureInfo = this._lookupPaymentMethod.threeDSecureInfo;\n\n  response = assign({}, this._lookupPaymentMethod, {\n    liabilityShiftPossible:\n      threeDSecureInfo && threeDSecureInfo.liabilityShiftPossible,\n    liabilityShifted: threeDSecureInfo && threeDSecureInfo.liabilityShifted,\n    verificationDetails:\n      threeDSecureInfo && threeDSecureInfo.verificationDetails,\n  });\n\n  return Promise.resolve(response);\n};\n\nBaseFramework.prototype._setupV1Bus = function (options) {\n  var clientConfiguration = this._client.getConfiguration();\n  var parentURL = window.location.href.split(\"#\")[0];\n  var lookupResponse = options.lookupResponse;\n  var channel = uuid();\n  var bus = new Bus({\n    channel: channel,\n    verifyDomain: isVerifiedDomain,\n  });\n  var authenticationCompleteBaseUrl =\n    this._assetsUrl +\n    \"/html/three-d-secure-authentication-complete-frame.html?channel=\" +\n    encodeURIComponent(channel) +\n    \"&\";\n\n  bus.on(BUS_CONFIGURATION_REQUEST_EVENT, function (reply) {\n    reply({\n      clientConfiguration: clientConfiguration,\n      nonce: options.nonce,\n      acsUrl: lookupResponse.acsUrl,\n      pareq: lookupResponse.pareq,\n      termUrl:\n        lookupResponse.termUrl +\n        \"&three_d_secure_version=\" +\n        VERSION +\n        \"&authentication_complete_base_url=\" +\n        encodeURIComponent(authenticationCompleteBaseUrl),\n      md: lookupResponse.md,\n      parentUrl: parentURL,\n    });\n  });\n\n  bus.on(events.AUTHENTICATION_COMPLETE, options.handleAuthResponse);\n\n  return bus;\n};\n\nBaseFramework.prototype._setupV1Iframe = function (options) {\n  var url =\n    this._assetsUrl +\n    \"/html/three-d-secure-bank-frame\" +\n    useMin(this._isDebug) +\n    \".html?showLoader=\" +\n    options.showLoader;\n  var bankIframe = iFramer({\n    src: url,\n    height: IFRAME_HEIGHT,\n    width: IFRAME_WIDTH,\n    name: constants.LANDING_FRAME_NAME + \"_\" + this._v1Bus.channel,\n    title: \"3D Secure Authorization Frame\",\n  });\n\n  return bankIframe;\n};\n\nBaseFramework.prototype._setupV1Elements = function (options) {\n  this._v1Bus = this._setupV1Bus(options);\n  this._v1Iframe = this._setupV1Iframe(options);\n};\n\nBaseFramework.prototype._teardownV1Elements = function () {\n  if (this._v1Bus) {\n    this._v1Bus.teardown();\n    this._v1Bus = null;\n  }\n\n  if (this._v1Iframe && this._v1Iframe.parentNode) {\n    this._v1Iframe.parentNode.removeChild(this._v1Iframe);\n    this._v1Iframe = null;\n  }\n\n  if (this._onV1Keyup) {\n    document.removeEventListener(\"keyup\", this._onV1Keyup);\n    this._onV1Keyup = null;\n  }\n};\n\nBaseFramework.prototype.teardown = function () {\n  analytics.sendEvent(this._createPromise, \"three-d-secure.teardown-completed\");\n\n  this._teardownV1Elements();\n\n  return Promise.resolve();\n};\n\nmodule.exports = BaseFramework;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL2Jhc2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsYUFBYSwyR0FBcUM7QUFDbEQsZ0JBQWdCLG1CQUFPLENBQUMsbUZBQXdCO0FBQ2hELHFCQUFxQixtQkFBTyxDQUFDLCtGQUE4QjtBQUMzRCx1QkFBdUIsbUJBQU8sQ0FBQyxxR0FBaUM7QUFDaEUsc0JBQXNCLG1CQUFPLENBQUMsbUdBQTZCO0FBQzNELG1CQUFtQixtQkFBTyxDQUFDLHFHQUEwQjtBQUNyRCxhQUFhLG1CQUFPLENBQUMsK0ZBQXFCO0FBQzFDLGNBQWMsbUJBQU8sQ0FBQyxpRkFBb0I7QUFDMUMsVUFBVSxtQkFBTyxDQUFDLDZEQUFVO0FBQzVCLGdCQUFnQixtQkFBTyxDQUFDLHFHQUF3QjtBQUNoRCxXQUFXLG1CQUFPLENBQUMsc0VBQWlCO0FBQ3BDLGFBQWEsbUJBQU8sQ0FBQywrRkFBcUI7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLCtFQUFzQjtBQUMzQztBQUNBLEVBQUUsMElBQWlFOztBQUVuRTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1AsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvZXh0ZXJuYWwvZnJhbWV3b3Jrcy9iYXNlLmpzPzUzMmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2Fzc2lnblwiKS5hc3NpZ247XG52YXIgYW5hbHl0aWNzID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9hbmFseXRpY3NcIik7XG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcbnZhciBpc1ZlcmlmaWVkRG9tYWluID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9pcy12ZXJpZmllZC1kb21haW5cIik7XG52YXIgRXh0ZW5kZWRQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvZXh0ZW5kZWQtcHJvbWlzZVwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiQGJyYWludHJlZS9ldmVudC1lbWl0dGVyXCIpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuLi8uLi9zaGFyZWQvZXJyb3JzXCIpO1xudmFyIGlGcmFtZXIgPSByZXF1aXJlKFwiQGJyYWludHJlZS9pZnJhbWVyXCIpO1xudmFyIEJ1cyA9IHJlcXVpcmUoXCJmcmFtZWJ1c1wiKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vLi4vc2hhcmVkL2NvbnN0YW50c1wiKTtcbnZhciB1dWlkID0gcmVxdWlyZShcIkBicmFpbnRyZWUvdXVpZFwiKTtcbnZhciBldmVudHMgPSByZXF1aXJlKFwiLi4vLi4vc2hhcmVkL2V2ZW50c1wiKTtcbnZhciB1c2VNaW4gPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL3VzZS1taW5cIik7XG52YXIgQlVTX0NPTkZJR1VSQVRJT05fUkVRVUVTVF9FVkVOVCA9XG4gIHJlcXVpcmUoXCIuLi8uLi8uLi9saWIvY29uc3RhbnRzXCIpLkJVU19DT05GSUdVUkFUSU9OX1JFUVVFU1RfRVZFTlQ7XG5cbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcbnZhciBJRlJBTUVfSEVJR0hUID0gNDAwO1xudmFyIElGUkFNRV9XSURUSCA9IDQwMDtcblxuRXh0ZW5kZWRQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUHJvbWlzZU1lc3NhZ2UgPSB0cnVlO1xuXG5mdW5jdGlvbiBCYXNlRnJhbWV3b3JrKG9wdGlvbnMpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5fY2xpZW50ID0gb3B0aW9ucy5jbGllbnQ7XG4gIHRoaXMuX2NyZWF0ZVByb21pc2UgPSBvcHRpb25zLmNyZWF0ZVByb21pc2U7XG4gIHRoaXMuX2NyZWF0ZU9wdGlvbnMgPSBvcHRpb25zO1xuXG4gIGlmICh0aGlzLl9jbGllbnQpIHtcbiAgICB0aGlzLl9pc0RlYnVnID0gdGhpcy5fY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKS5pc0RlYnVnO1xuICAgIHRoaXMuX2Fzc2V0c1VybCA9XG4gICAgICB0aGlzLl9jbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpLmdhdGV3YXlDb25maWd1cmF0aW9uLmFzc2V0c1VybDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9pc0RlYnVnID0gQm9vbGVhbihvcHRpb25zLmlzRGVidWcpO1xuICAgIHRoaXMuX2Fzc2V0c1VybCA9IG9wdGlvbnMuYXNzZXRzVXJsO1xuICB9XG4gIHRoaXMuX2Fzc2V0c1VybCA9IHRoaXMuX2Fzc2V0c1VybCArIFwiL3dlYi9cIiArIFZFUlNJT047XG59XG5cbkV2ZW50RW1pdHRlci5jcmVhdGVDaGlsZChCYXNlRnJhbWV3b3JrKTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX3dhaXRGb3JDbGllbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9jbGllbnQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fY3JlYXRlUHJvbWlzZS50aGVuKFxuICAgIGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHRoaXMuX2NsaWVudCA9IGNsaWVudDtcbiAgICB9LmJpbmQodGhpcylcbiAgKTtcbn07XG5cbkJhc2VGcmFtZXdvcmsucHJvdG90eXBlLnNldFVwRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVEhSRUVEU19GUkFNRVdPUktfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCk7XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS52ZXJpZnlDYXJkID0gZnVuY3Rpb24gKG9wdGlvbnMsIHByaXZhdGVPcHRpb25zKSB7XG4gIHZhciBmb3JtYXR0ZWRPcHRpb25zLCBlcnJvcjtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHByaXZhdGVPcHRpb25zID0gcHJpdmF0ZU9wdGlvbnMgfHwge307XG5cbiAgZXJyb3IgPSB0aGlzLl9jaGVja0ZvclZlcmlmeUNhcmRFcnJvcihvcHRpb25zLCBwcml2YXRlT3B0aW9ucyk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuXG4gIHRoaXMuX3ZlcmlmeUNhcmRJblByb2dyZXNzID0gdHJ1ZTtcblxuICBmb3JtYXR0ZWRPcHRpb25zID0gdGhpcy5fZm9ybWF0VmVyaWZ5Q2FyZE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgcmV0dXJuIHRoaXMuX2Zvcm1hdExvb2t1cERhdGEoZm9ybWF0dGVkT3B0aW9ucylcbiAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgXCJ0aHJlZS1kLXNlY3VyZS52ZXJpZmljYXRpb24tZmxvdy5zdGFydGVkXCJcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBzZWxmLl9wZXJmb3JtTG9va3VwKGZvcm1hdHRlZE9wdGlvbnMubm9uY2UsIGRhdGEpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcInRocmVlLWQtc2VjdXJlLnZlcmlmaWNhdGlvbi1mbG93LjNkcy12ZXJzaW9uLlwiICtcbiAgICAgICAgICByZXNwb25zZS5sb29rdXAudGhyZWVEU2VjdXJlVmVyc2lvblxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHNlbGYuX29uTG9va3VwQ29tcGxldGUocmVzcG9uc2UsIGZvcm1hdHRlZE9wdGlvbnMpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gc2VsZi5pbml0aWFsaXplQ2hhbGxlbmdlV2l0aExvb2t1cFJlc3BvbnNlKFxuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgZm9ybWF0dGVkT3B0aW9uc1xuICAgICAgKTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICBzZWxmLl9yZXNldFZlcmlmaWNhdGlvblN0YXRlKCk7XG5cbiAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICAgIFwidGhyZWUtZC1zZWN1cmUudmVyaWZpY2F0aW9uLWZsb3cuY29tcGxldGVkXCJcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHNlbGYuX3Jlc2V0VmVyaWZpY2F0aW9uU3RhdGUoKTtcblxuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgXCJ0aHJlZS1kLXNlY3VyZS52ZXJpZmljYXRpb24tZmxvdy5mYWlsZWRcIlxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fY2hlY2tGb3JGcmFtZXdvcmtTcGVjaWZpY1ZlcmlmeUNhcmRFcnJvcnMgPVxuICBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5USFJFRURTX0ZSQU1FV09SS19NRVRIT0RfTk9UX0lNUExFTUVOVEVEKTtcbiAgfTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX3ByZXNlbnRDaGFsbGVuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVEhSRUVEU19GUkFNRVdPUktfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCk7XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5wcmVwYXJlTG9va3VwID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlRIUkVFRFNfRlJBTUVXT1JLX01FVEhPRF9OT1RfSU1QTEVNRU5URUQpO1xufTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX3Jlc2V0VmVyaWZpY2F0aW9uU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3ZlcmlmeUNhcmRJblByb2dyZXNzID0gZmFsc2U7XG4gIHRoaXMuX3ZlcmlmeUNhcmRQcm9taXNlUGx1cyA9IG51bGw7XG5cbiAgaWYgKHR5cGVvZiB0aGlzLl9yZWxvYWRUaHJlZURTZWN1cmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRoaXMuX3JlbG9hZFRocmVlRFNlY3VyZSgpO1xuICB9XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fcGVyZm9ybUxvb2t1cCA9IGZ1bmN0aW9uIChub25jZSwgZGF0YSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB1cmwgPSBcInBheW1lbnRfbWV0aG9kcy9cIiArIG5vbmNlICsgXCIvdGhyZWVfZF9zZWN1cmUvbG9va3VwXCI7XG5cbiAgcmV0dXJuIHRoaXMuX3dhaXRGb3JDbGllbnQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2VsZi5fY2xpZW50XG4gICAgICAucmVxdWVzdCh7XG4gICAgICAgIGVuZHBvaW50OiB1cmwsXG4gICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIHN0YXR1cyA9IGVyciAmJiBlcnIuZGV0YWlscyAmJiBlcnIuZGV0YWlscy5odHRwU3RhdHVzO1xuICAgICAgICB2YXIgYW5hbHl0aWNzTWVzc2FnZSA9IFwidGhyZWUtZC1zZWN1cmUudmVyaWZpY2F0aW9uLWZsb3cubG9va3VwLWZhaWxlZFwiO1xuICAgICAgICB2YXIgbG9va3VwRXJyb3I7XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgbG9va3VwRXJyb3IgPSBlcnJvcnMuVEhSRUVEU19MT09LVVBfVE9LRU5JWkVEX0NBUkRfTk9UX0ZPVU5EX0VSUk9SO1xuICAgICAgICAgIGFuYWx5dGljc01lc3NhZ2UgKz0gXCIuNDA0XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MjIpIHtcbiAgICAgICAgICBsb29rdXBFcnJvciA9IGVycm9ycy5USFJFRURTX0xPT0tVUF9WQUxJREFUSU9OX0VSUk9SO1xuICAgICAgICAgIGFuYWx5dGljc01lc3NhZ2UgKz0gXCIuNDIyXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9va3VwRXJyb3IgPSBlcnJvcnMuVEhSRUVEU19MT09LVVBfRVJST1I7XG4gICAgICAgIH1cblxuICAgICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KHNlbGYuX2NyZWF0ZVByb21pc2UsIGFuYWx5dGljc01lc3NhZ2UpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgICAgdHlwZTogbG9va3VwRXJyb3IudHlwZSxcbiAgICAgICAgICAgIGNvZGU6IGxvb2t1cEVycm9yLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBsb29rdXBFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgfSk7XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fY2hlY2tGb3JWZXJpZnlDYXJkRXJyb3IgPSBmdW5jdGlvbiAoXG4gIG9wdGlvbnMsXG4gIHByaXZhdGVPcHRpb25zXG4pIHtcbiAgdmFyIGVycm9yT3B0aW9uO1xuXG4gIGlmICh0aGlzLl92ZXJpZnlDYXJkSW5Qcm9ncmVzcyA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlRIUkVFRFNfQVVUSEVOVElDQVRJT05fSU5fUFJPR1JFU1MpO1xuICB9IGVsc2UgaWYgKCFvcHRpb25zLm5vbmNlKSB7XG4gICAgZXJyb3JPcHRpb24gPSBcImEgbm9uY2VcIjtcbiAgfSBlbHNlIGlmICghb3B0aW9ucy5hbW91bnQpIHtcbiAgICBlcnJvck9wdGlvbiA9IFwiYW4gYW1vdW50XCI7XG4gIH1cblxuICBpZiAoIWVycm9yT3B0aW9uKSB7XG4gICAgZXJyb3JPcHRpb24gPSB0aGlzLl9jaGVja0ZvckZyYW1ld29ya1NwZWNpZmljVmVyaWZ5Q2FyZEVycm9ycyhcbiAgICAgIG9wdGlvbnMsXG4gICAgICBwcml2YXRlT3B0aW9uc1xuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3JPcHRpb24pIHtcbiAgICByZXR1cm4gbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgIHR5cGU6IGVycm9ycy5USFJFRURTX01JU1NJTkdfVkVSSUZZX0NBUkRfT1BUSU9OLnR5cGUsXG4gICAgICBjb2RlOiBlcnJvcnMuVEhSRUVEU19NSVNTSU5HX1ZFUklGWV9DQVJEX09QVElPTi5jb2RlLFxuICAgICAgbWVzc2FnZTogXCJ2ZXJpZnlDYXJkIG9wdGlvbnMgbXVzdCBpbmNsdWRlIFwiICsgZXJyb3JPcHRpb24gKyBcIi5cIixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuaW5pdGlhbGl6ZUNoYWxsZW5nZVdpdGhMb29rdXBSZXNwb25zZSA9IGZ1bmN0aW9uIChcbiAgbG9va3VwUmVzcG9uc2UsXG4gIG9wdGlvbnNcbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdGhpcy5fbG9va3VwUGF5bWVudE1ldGhvZCA9IGxvb2t1cFJlc3BvbnNlLnBheW1lbnRNZXRob2Q7XG5cbiAgLy8gc2V0cyB0aGlzIGluIHRoZSBjYXNlIHRoYXQgaW5pdGlhbGl6ZUNoYWxsZW5nZVdpdGhMb29rdXBSZXNwb25zZSBpc1xuICAvLyBjYWxsZWQgYXMgYSBzdGFuZGFsb25lIG1ldGhvZCBmcm9tIGEgc2VydmVyIHNpZGUgbG9va3VwLiBJbiBhIG5vcm1hbFxuICAvLyB2ZXJpZnlDYXJkIGZsb3csIHRoaXMgcHJvbWlzZSB3aWxsIGFscmVhZHkgZXhpc3RcbiAgc2VsZi5fdmVyaWZ5Q2FyZFByb21pc2VQbHVzID1cbiAgICBzZWxmLl92ZXJpZnlDYXJkUHJvbWlzZVBsdXMgfHwgbmV3IEV4dGVuZGVkUHJvbWlzZSgpO1xuICBzZWxmLl9oYW5kbGVMb29rdXBSZXNwb25zZShsb29rdXBSZXNwb25zZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIHNlbGYuX3ZlcmlmeUNhcmRQcm9taXNlUGx1cy50aGVuKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICBcInRocmVlLWQtc2VjdXJlLnZlcmlmaWNhdGlvbi1mbG93LmxpYWJpbGl0eS1zaGlmdGVkLlwiICtcbiAgICAgICAgU3RyaW5nKHBheWxvYWQubGlhYmlsaXR5U2hpZnRlZClcbiAgICApO1xuICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgXCJ0aHJlZS1kLXNlY3VyZS52ZXJpZmljYXRpb24tZmxvdy5saWFiaWxpdHktc2hpZnQtcG9zc2libGUuXCIgK1xuICAgICAgICBTdHJpbmcocGF5bG9hZC5saWFiaWxpdHlTaGlmdFBvc3NpYmxlKVxuICAgICk7XG5cbiAgICByZXR1cm4gcGF5bG9hZDtcbiAgfSk7XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5faGFuZGxlTG9va3VwUmVzcG9uc2UgPSBmdW5jdGlvbiAoXG4gIGxvb2t1cFJlc3BvbnNlLFxuICBvcHRpb25zXG4pIHtcbiAgdmFyIGNoYWxsZW5nZVNob3VsZEJlUHJlc2VudGVkID0gQm9vbGVhbihcbiAgICBsb29rdXBSZXNwb25zZS5sb29rdXAgJiYgbG9va3VwUmVzcG9uc2UubG9va3VwLmFjc1VybFxuICApO1xuICB2YXIgZGV0YWlscztcblxuICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgIHRoaXMuX2NyZWF0ZVByb21pc2UsXG4gICAgXCJ0aHJlZS1kLXNlY3VyZS52ZXJpZmljYXRpb24tZmxvdy5jaGFsbGVuZ2UtcHJlc2VudGVkLlwiICtcbiAgICAgIFN0cmluZyhjaGFsbGVuZ2VTaG91bGRCZVByZXNlbnRlZClcbiAgKTtcblxuICBpZiAoY2hhbGxlbmdlU2hvdWxkQmVQcmVzZW50ZWQpIHtcbiAgICB0aGlzLl9wcmVzZW50Q2hhbGxlbmdlKGxvb2t1cFJlc3BvbnNlLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBkZXRhaWxzID0gdGhpcy5fZm9ybWF0QXV0aFJlc3BvbnNlKFxuICAgICAgbG9va3VwUmVzcG9uc2UucGF5bWVudE1ldGhvZCxcbiAgICAgIGxvb2t1cFJlc3BvbnNlLnRocmVlRFNlY3VyZUluZm9cbiAgICApO1xuICAgIGRldGFpbHMudmVyaWZpY2F0aW9uRGV0YWlscyA9IGxvb2t1cFJlc3BvbnNlLnRocmVlRFNlY3VyZUluZm87XG5cbiAgICB0aGlzLl92ZXJpZnlDYXJkUHJvbWlzZVBsdXMucmVzb2x2ZShkZXRhaWxzKTtcbiAgfVxufTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX29uTG9va3VwQ29tcGxldGUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgdGhpcy5fbG9va3VwUGF5bWVudE1ldGhvZCA9IHJlc3BvbnNlLnBheW1lbnRNZXRob2Q7XG4gIHRoaXMuX3ZlcmlmeUNhcmRQcm9taXNlUGx1cyA9IG5ldyBFeHRlbmRlZFByb21pc2UoKTtcblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbn07XG5cbkJhc2VGcmFtZXdvcmsucHJvdG90eXBlLl9mb3JtYXRBdXRoUmVzcG9uc2UgPSBmdW5jdGlvbiAoXG4gIHBheW1lbnRNZXRob2QsXG4gIHRocmVlRFNlY3VyZUluZm9cbikge1xuICByZXR1cm4ge1xuICAgIG5vbmNlOiBwYXltZW50TWV0aG9kLm5vbmNlLFxuICAgIHR5cGU6IHBheW1lbnRNZXRob2QudHlwZSxcbiAgICBiaW5EYXRhOiBwYXltZW50TWV0aG9kLmJpbkRhdGEsXG4gICAgZGV0YWlsczogcGF5bWVudE1ldGhvZC5kZXRhaWxzLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgcGF5bWVudE1ldGhvZC5kZXNjcmlwdGlvbiAmJlxuICAgICAgcGF5bWVudE1ldGhvZC5kZXNjcmlwdGlvbi5yZXBsYWNlKC9cXCsvZywgXCIgXCIpLFxuICAgIGxpYWJpbGl0eVNoaWZ0ZWQ6IHRocmVlRFNlY3VyZUluZm8gJiYgdGhyZWVEU2VjdXJlSW5mby5saWFiaWxpdHlTaGlmdGVkLFxuICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6XG4gICAgICB0aHJlZURTZWN1cmVJbmZvICYmIHRocmVlRFNlY3VyZUluZm8ubGlhYmlsaXR5U2hpZnRQb3NzaWJsZSxcbiAgICB0aHJlZURTZWN1cmVJbmZvOiBwYXltZW50TWV0aG9kLnRocmVlRFNlY3VyZUluZm8sXG4gIH07XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fZm9ybWF0VmVyaWZ5Q2FyZE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICByZXR1cm4gYXNzaWduKHt9LCBvcHRpb25zKTtcbn07XG5cbkJhc2VGcmFtZXdvcmsucHJvdG90eXBlLl9mb3JtYXRMb29rdXBEYXRhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIGRhdGEgPSB7XG4gICAgYW1vdW50OiBvcHRpb25zLmFtb3VudCxcbiAgfTtcblxuICBpZiAob3B0aW9ucy5jb2xsZWN0RGV2aWNlRGF0YSA9PT0gdHJ1ZSkge1xuICAgIGRhdGEuYnJvd3NlckNvbG9yRGVwdGggPSB3aW5kb3cuc2NyZWVuLmNvbG9yRGVwdGg7XG4gICAgZGF0YS5icm93c2VySmF2YUVuYWJsZWQgPSB3aW5kb3cubmF2aWdhdG9yLmphdmFFbmFibGVkKCk7XG4gICAgZGF0YS5icm93c2VySmF2YXNjcmlwdEVuYWJsZWQgPSB0cnVlO1xuICAgIGRhdGEuYnJvd3Nlckxhbmd1YWdlID0gd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTtcbiAgICBkYXRhLmJyb3dzZXJTY3JlZW5IZWlnaHQgPSB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgICBkYXRhLmJyb3dzZXJTY3JlZW5XaWR0aCA9IHdpbmRvdy5zY3JlZW4ud2lkdGg7XG4gICAgZGF0YS5icm93c2VyVGltZVpvbmUgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgZGF0YS5kZXZpY2VDaGFubmVsID0gXCJCcm93c2VyXCI7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xufTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX2hhbmRsZVYxQXV0aFJlc3BvbnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIGF1dGhSZXNwb25zZSA9IEpTT04ucGFyc2UoZGF0YS5hdXRoX3Jlc3BvbnNlKTtcblxuICBpZiAoYXV0aFJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICB0aGlzLl92ZXJpZnlDYXJkUHJvbWlzZVBsdXMucmVzb2x2ZShcbiAgICAgIHRoaXMuX2Zvcm1hdEF1dGhSZXNwb25zZShcbiAgICAgICAgYXV0aFJlc3BvbnNlLnBheW1lbnRNZXRob2QsXG4gICAgICAgIGF1dGhSZXNwb25zZS50aHJlZURTZWN1cmVJbmZvXG4gICAgICApXG4gICAgKTtcbiAgfSBlbHNlIGlmIChcbiAgICBhdXRoUmVzcG9uc2UudGhyZWVEU2VjdXJlSW5mbyAmJlxuICAgIGF1dGhSZXNwb25zZS50aHJlZURTZWN1cmVJbmZvLmxpYWJpbGl0eVNoaWZ0UG9zc2libGVcbiAgKSB7XG4gICAgdGhpcy5fdmVyaWZ5Q2FyZFByb21pc2VQbHVzLnJlc29sdmUoXG4gICAgICB0aGlzLl9mb3JtYXRBdXRoUmVzcG9uc2UoXG4gICAgICAgIHRoaXMuX2xvb2t1cFBheW1lbnRNZXRob2QsXG4gICAgICAgIGF1dGhSZXNwb25zZS50aHJlZURTZWN1cmVJbmZvXG4gICAgICApXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl92ZXJpZnlDYXJkUHJvbWlzZVBsdXMucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuVU5LTk9XTixcbiAgICAgICAgY29kZTogXCJVTktOT1dOX0FVVEhfUkVTUE9OU0VcIixcbiAgICAgICAgbWVzc2FnZTogYXV0aFJlc3BvbnNlLmVycm9yLm1lc3NhZ2UsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn07XG5cbkJhc2VGcmFtZXdvcmsucHJvdG90eXBlLmNhbmNlbFZlcmlmeUNhcmQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZXNwb25zZSwgdGhyZWVEU2VjdXJlSW5mbztcblxuICB0aGlzLl92ZXJpZnlDYXJkSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gIGlmICghdGhpcy5fbG9va3VwUGF5bWVudE1ldGhvZCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVEhSRUVEU19OT19WRVJJRklDQVRJT05fUEFZTE9BRClcbiAgICApO1xuICB9XG5cbiAgdGhyZWVEU2VjdXJlSW5mbyA9IHRoaXMuX2xvb2t1cFBheW1lbnRNZXRob2QudGhyZWVEU2VjdXJlSW5mbztcblxuICByZXNwb25zZSA9IGFzc2lnbih7fSwgdGhpcy5fbG9va3VwUGF5bWVudE1ldGhvZCwge1xuICAgIGxpYWJpbGl0eVNoaWZ0UG9zc2libGU6XG4gICAgICB0aHJlZURTZWN1cmVJbmZvICYmIHRocmVlRFNlY3VyZUluZm8ubGlhYmlsaXR5U2hpZnRQb3NzaWJsZSxcbiAgICBsaWFiaWxpdHlTaGlmdGVkOiB0aHJlZURTZWN1cmVJbmZvICYmIHRocmVlRFNlY3VyZUluZm8ubGlhYmlsaXR5U2hpZnRlZCxcbiAgICB2ZXJpZmljYXRpb25EZXRhaWxzOlxuICAgICAgdGhyZWVEU2VjdXJlSW5mbyAmJiB0aHJlZURTZWN1cmVJbmZvLnZlcmlmaWNhdGlvbkRldGFpbHMsXG4gIH0pO1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xufTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX3NldHVwVjFCdXMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgY2xpZW50Q29uZmlndXJhdGlvbiA9IHRoaXMuX2NsaWVudC5nZXRDb25maWd1cmF0aW9uKCk7XG4gIHZhciBwYXJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdChcIiNcIilbMF07XG4gIHZhciBsb29rdXBSZXNwb25zZSA9IG9wdGlvbnMubG9va3VwUmVzcG9uc2U7XG4gIHZhciBjaGFubmVsID0gdXVpZCgpO1xuICB2YXIgYnVzID0gbmV3IEJ1cyh7XG4gICAgY2hhbm5lbDogY2hhbm5lbCxcbiAgICB2ZXJpZnlEb21haW46IGlzVmVyaWZpZWREb21haW4sXG4gIH0pO1xuICB2YXIgYXV0aGVudGljYXRpb25Db21wbGV0ZUJhc2VVcmwgPVxuICAgIHRoaXMuX2Fzc2V0c1VybCArXG4gICAgXCIvaHRtbC90aHJlZS1kLXNlY3VyZS1hdXRoZW50aWNhdGlvbi1jb21wbGV0ZS1mcmFtZS5odG1sP2NoYW5uZWw9XCIgK1xuICAgIGVuY29kZVVSSUNvbXBvbmVudChjaGFubmVsKSArXG4gICAgXCImXCI7XG5cbiAgYnVzLm9uKEJVU19DT05GSUdVUkFUSU9OX1JFUVVFU1RfRVZFTlQsIGZ1bmN0aW9uIChyZXBseSkge1xuICAgIHJlcGx5KHtcbiAgICAgIGNsaWVudENvbmZpZ3VyYXRpb246IGNsaWVudENvbmZpZ3VyYXRpb24sXG4gICAgICBub25jZTogb3B0aW9ucy5ub25jZSxcbiAgICAgIGFjc1VybDogbG9va3VwUmVzcG9uc2UuYWNzVXJsLFxuICAgICAgcGFyZXE6IGxvb2t1cFJlc3BvbnNlLnBhcmVxLFxuICAgICAgdGVybVVybDpcbiAgICAgICAgbG9va3VwUmVzcG9uc2UudGVybVVybCArXG4gICAgICAgIFwiJnRocmVlX2Rfc2VjdXJlX3ZlcnNpb249XCIgK1xuICAgICAgICBWRVJTSU9OICtcbiAgICAgICAgXCImYXV0aGVudGljYXRpb25fY29tcGxldGVfYmFzZV91cmw9XCIgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoYXV0aGVudGljYXRpb25Db21wbGV0ZUJhc2VVcmwpLFxuICAgICAgbWQ6IGxvb2t1cFJlc3BvbnNlLm1kLFxuICAgICAgcGFyZW50VXJsOiBwYXJlbnRVUkwsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGJ1cy5vbihldmVudHMuQVVUSEVOVElDQVRJT05fQ09NUExFVEUsIG9wdGlvbnMuaGFuZGxlQXV0aFJlc3BvbnNlKTtcblxuICByZXR1cm4gYnVzO1xufTtcblxuQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX3NldHVwVjFJZnJhbWUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgdXJsID1cbiAgICB0aGlzLl9hc3NldHNVcmwgK1xuICAgIFwiL2h0bWwvdGhyZWUtZC1zZWN1cmUtYmFuay1mcmFtZVwiICtcbiAgICB1c2VNaW4odGhpcy5faXNEZWJ1ZykgK1xuICAgIFwiLmh0bWw/c2hvd0xvYWRlcj1cIiArXG4gICAgb3B0aW9ucy5zaG93TG9hZGVyO1xuICB2YXIgYmFua0lmcmFtZSA9IGlGcmFtZXIoe1xuICAgIHNyYzogdXJsLFxuICAgIGhlaWdodDogSUZSQU1FX0hFSUdIVCxcbiAgICB3aWR0aDogSUZSQU1FX1dJRFRILFxuICAgIG5hbWU6IGNvbnN0YW50cy5MQU5ESU5HX0ZSQU1FX05BTUUgKyBcIl9cIiArIHRoaXMuX3YxQnVzLmNoYW5uZWwsXG4gICAgdGl0bGU6IFwiM0QgU2VjdXJlIEF1dGhvcml6YXRpb24gRnJhbWVcIixcbiAgfSk7XG5cbiAgcmV0dXJuIGJhbmtJZnJhbWU7XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fc2V0dXBWMUVsZW1lbnRzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdGhpcy5fdjFCdXMgPSB0aGlzLl9zZXR1cFYxQnVzKG9wdGlvbnMpO1xuICB0aGlzLl92MUlmcmFtZSA9IHRoaXMuX3NldHVwVjFJZnJhbWUob3B0aW9ucyk7XG59O1xuXG5CYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fdGVhcmRvd25WMUVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fdjFCdXMpIHtcbiAgICB0aGlzLl92MUJ1cy50ZWFyZG93bigpO1xuICAgIHRoaXMuX3YxQnVzID0gbnVsbDtcbiAgfVxuXG4gIGlmICh0aGlzLl92MUlmcmFtZSAmJiB0aGlzLl92MUlmcmFtZS5wYXJlbnROb2RlKSB7XG4gICAgdGhpcy5fdjFJZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl92MUlmcmFtZSk7XG4gICAgdGhpcy5fdjFJZnJhbWUgPSBudWxsO1xuICB9XG5cbiAgaWYgKHRoaXMuX29uVjFLZXl1cCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9vblYxS2V5dXApO1xuICAgIHRoaXMuX29uVjFLZXl1cCA9IG51bGw7XG4gIH1cbn07XG5cbkJhc2VGcmFtZXdvcmsucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xuICBhbmFseXRpY3Muc2VuZEV2ZW50KHRoaXMuX2NyZWF0ZVByb21pc2UsIFwidGhyZWUtZC1zZWN1cmUudGVhcmRvd24tY29tcGxldGVkXCIpO1xuXG4gIHRoaXMuX3RlYXJkb3duVjFFbGVtZW50cygpO1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQmFzZUZyYW1ld29yaztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/bootstrap3-modal.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/frameworks/bootstrap3-modal.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n// NEXT_MAJOR_VERSION drop support for Bootstrap framework,\n// recomend using inline frame version and putting it in\n// the merchant's own bootstrap modal\n\nvar SongbirdFramework = __webpack_require__(/*! ./songbird */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/songbird.js\");\n\nfunction Bootstrap3ModalFramework(options) {\n  SongbirdFramework.call(this, options);\n}\n\nBootstrap3ModalFramework.prototype = Object.create(\n  SongbirdFramework.prototype,\n  {\n    constructor: SongbirdFramework,\n  }\n);\n\nBootstrap3ModalFramework.prototype._createV1IframeModalElement = function (\n  iframe\n) {\n  var modal = document.createElement(\"div\");\n\n  modal.innerHTML =\n    '<div class=\"modal fade in\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"CCAFrameModal-label\" aria-hidden=\"true\" style=\"display: block;\">' +\n    '<div class=\"modal-dialog\" style=\"width:440px;z-index:999999;\">' +\n    '<div class=\"modal-content\">' +\n    '<div class=\"modal-body\" data-braintree-v1-fallback-iframe-container>' +\n    '<button type=\"button\" data-braintree-v1-fallback-close-button class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">×</button>' +\n    \"</div>\" +\n    \"</div>\" +\n    \"</div>\" +\n    '<div data-braintree-v1-fallback-backdrop style=\"' +\n    \"position: fixed;\" +\n    \"cursor: pointer;\" +\n    \"z-index: 999998;\" +\n    \"top: 0;\" +\n    \"left: 0;\" +\n    \"width: 100%;\" +\n    \"height: 100%;\" +\n    '\"></div>' +\n    \"</div>\";\n\n  modal\n    .querySelector(\"[data-braintree-v1-fallback-iframe-container]\")\n    .appendChild(iframe);\n\n  return modal;\n};\n\nBootstrap3ModalFramework.prototype._createCardinalConfigurationOptions =\n  function (setupOptions) {\n    var options =\n      SongbirdFramework.prototype._createCardinalConfigurationOptions.call(\n        this,\n        setupOptions\n      );\n\n    options.payment.framework = \"bootstrap3\";\n\n    return options;\n  };\n\nmodule.exports = Bootstrap3ModalFramework;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL2Jvb3RzdHJhcDMtbW9kYWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLG1CQUFPLENBQUMscUdBQVk7O0FBRTVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwySUFBMkk7QUFDM0ksa0RBQWtELGVBQWU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIscUJBQXFCO0FBQ3JCLHFCQUFxQjtBQUNyQixZQUFZO0FBQ1osYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL3RocmVlLWQtc2VjdXJlL2V4dGVybmFsL2ZyYW1ld29ya3MvYm9vdHN0cmFwMy1tb2RhbC5qcz80NjBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8gTkVYVF9NQUpPUl9WRVJTSU9OIGRyb3Agc3VwcG9ydCBmb3IgQm9vdHN0cmFwIGZyYW1ld29yayxcbi8vIHJlY29tZW5kIHVzaW5nIGlubGluZSBmcmFtZSB2ZXJzaW9uIGFuZCBwdXR0aW5nIGl0IGluXG4vLyB0aGUgbWVyY2hhbnQncyBvd24gYm9vdHN0cmFwIG1vZGFsXG5cbnZhciBTb25nYmlyZEZyYW1ld29yayA9IHJlcXVpcmUoXCIuL3NvbmdiaXJkXCIpO1xuXG5mdW5jdGlvbiBCb290c3RyYXAzTW9kYWxGcmFtZXdvcmsob3B0aW9ucykge1xuICBTb25nYmlyZEZyYW1ld29yay5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuXG5Cb290c3RyYXAzTW9kYWxGcmFtZXdvcmsucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShcbiAgU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLFxuICB7XG4gICAgY29uc3RydWN0b3I6IFNvbmdiaXJkRnJhbWV3b3JrLFxuICB9XG4pO1xuXG5Cb290c3RyYXAzTW9kYWxGcmFtZXdvcmsucHJvdG90eXBlLl9jcmVhdGVWMUlmcmFtZU1vZGFsRWxlbWVudCA9IGZ1bmN0aW9uIChcbiAgaWZyYW1lXG4pIHtcbiAgdmFyIG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICBtb2RhbC5pbm5lckhUTUwgPVxuICAgICc8ZGl2IGNsYXNzPVwibW9kYWwgZmFkZSBpblwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1sYWJlbGxlZGJ5PVwiQ0NBRnJhbWVNb2RhbC1sYWJlbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7XCI+JyArXG4gICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiBzdHlsZT1cIndpZHRoOjQ0MHB4O3otaW5kZXg6OTk5OTk5O1wiPicgK1xuICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPicgK1xuICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiIGRhdGEtYnJhaW50cmVlLXYxLWZhbGxiYWNrLWlmcmFtZS1jb250YWluZXI+JyArXG4gICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtYnJhaW50cmVlLXYxLWZhbGxiYWNrLWNsb3NlLWJ1dHRvbiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWhpZGRlbj1cInRydWVcIj7DlzwvYnV0dG9uPicgK1xuICAgIFwiPC9kaXY+XCIgK1xuICAgIFwiPC9kaXY+XCIgK1xuICAgIFwiPC9kaXY+XCIgK1xuICAgICc8ZGl2IGRhdGEtYnJhaW50cmVlLXYxLWZhbGxiYWNrLWJhY2tkcm9wIHN0eWxlPVwiJyArXG4gICAgXCJwb3NpdGlvbjogZml4ZWQ7XCIgK1xuICAgIFwiY3Vyc29yOiBwb2ludGVyO1wiICtcbiAgICBcInotaW5kZXg6IDk5OTk5ODtcIiArXG4gICAgXCJ0b3A6IDA7XCIgK1xuICAgIFwibGVmdDogMDtcIiArXG4gICAgXCJ3aWR0aDogMTAwJTtcIiArXG4gICAgXCJoZWlnaHQ6IDEwMCU7XCIgK1xuICAgICdcIj48L2Rpdj4nICtcbiAgICBcIjwvZGl2PlwiO1xuXG4gIG1vZGFsXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1icmFpbnRyZWUtdjEtZmFsbGJhY2staWZyYW1lLWNvbnRhaW5lcl1cIilcbiAgICAuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblxuICByZXR1cm4gbW9kYWw7XG59O1xuXG5Cb290c3RyYXAzTW9kYWxGcmFtZXdvcmsucHJvdG90eXBlLl9jcmVhdGVDYXJkaW5hbENvbmZpZ3VyYXRpb25PcHRpb25zID1cbiAgZnVuY3Rpb24gKHNldHVwT3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID1cbiAgICAgIFNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fY3JlYXRlQ2FyZGluYWxDb25maWd1cmF0aW9uT3B0aW9ucy5jYWxsKFxuICAgICAgICB0aGlzLFxuICAgICAgICBzZXR1cE9wdGlvbnNcbiAgICAgICk7XG5cbiAgICBvcHRpb25zLnBheW1lbnQuZnJhbWV3b3JrID0gXCJib290c3RyYXAzXCI7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBCb290c3RyYXAzTW9kYWxGcmFtZXdvcms7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/bootstrap3-modal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/cardinal-modal.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/frameworks/cardinal-modal.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar SongbirdFramework = __webpack_require__(/*! ./songbird */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/songbird.js\");\n\nfunction CardinalModalFramework(options) {\n  SongbirdFramework.call(this, options);\n}\n\nCardinalModalFramework.prototype = Object.create(SongbirdFramework.prototype, {\n  constructor: SongbirdFramework,\n});\n\nCardinalModalFramework.prototype._createV1IframeModalElement = function (\n  iframe\n) {\n  var modal = document.createElement(\"div\");\n  var addCloseButton = Boolean(\n    this._createOptions &&\n      this._createOptions.cardinalSDKConfig &&\n      this._createOptions.cardinalSDKConfig.payment &&\n      this._createOptions.cardinalSDKConfig.payment.displayExitButton\n  );\n\n  modal.innerHTML =\n    '<div style=\"' +\n    \"position: fixed;\" +\n    \"z-index: 999999;\" +\n    \"top: 50%;\" +\n    \"left: 50%;\" +\n    \"padding: 24px 20px;\" +\n    \"transform: translate(-50%,-50%);\" +\n    \"border-radius: 2px;\" +\n    \"background: #fff;\" +\n    \"max-width: 100%;\" +\n    \"overflow: auto;\" +\n    '\">' +\n    \"<div>\" +\n    \"<button data-braintree-v1-fallback-close-button \" +\n    'style=\"' +\n    \"font-family: Helvetica,Arial,sans-serif;\" +\n    \"font-size: 25px;\" +\n    \"line-height: 12px;\" +\n    \"position: absolute;\" +\n    \"top: 2px;\" +\n    \"right: 0px;\" +\n    \"cursor: pointer;\" +\n    \"color: #999;\" +\n    \"border: 0;\" +\n    \"outline: none;\" +\n    \"background: none;\" +\n    '\" ' +\n    \"onMouseOver=\\\"this.style.color='#000'\\\" \" +\n    \"onMouseOut=\\\"this.style.color='#999'\\\"\" +\n    \">×</button>\" +\n    \"</div>\" +\n    // iframe container\n    '<div data-braintree-v1-fallback-iframe-container style=\"' +\n    \"height: 400px;\" +\n    '\"></div>' +\n    \"</div>\" +\n    // modal backdrop\n    '<div data-braintree-v1-fallback-backdrop style=\"' +\n    \"position: fixed;\" +\n    \"z-index: 999998;\" +\n    \"cursor: pointer;\" +\n    \"top: 0;\" +\n    \"left: 0;\" +\n    \"width: 100%;\" +\n    \"height: 100%;\" +\n    \"transition: opacity 1ms ease;\" +\n    \"background: rgba(0,0,0,.6);\" +\n    '\"></div>';\n\n  if (!addCloseButton) {\n    modal.querySelector(\n      \"[data-braintree-v1-fallback-close-button]\"\n    ).style.display = \"none\";\n  }\n  modal\n    .querySelector(\"[data-braintree-v1-fallback-iframe-container]\")\n    .appendChild(iframe);\n\n  return modal;\n};\n\nmodule.exports = CardinalModalFramework;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL2NhcmRpbmFsLW1vZGFsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHdCQUF3QixtQkFBTyxDQUFDLHFHQUFZOztBQUU1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixxQkFBcUI7QUFDckIsY0FBYztBQUNkLGVBQWU7QUFDZix3QkFBd0I7QUFDeEIscUNBQXFDO0FBQ3JDLHdCQUF3QjtBQUN4QixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxxQkFBcUI7QUFDckIsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4QixjQUFjO0FBQ2QsZ0JBQWdCO0FBQ2hCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsZUFBZTtBQUNmLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIscUJBQXFCO0FBQ3JCLHFCQUFxQjtBQUNyQixZQUFZO0FBQ1osYUFBYTtBQUNiLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEIsa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvZXh0ZXJuYWwvZnJhbWV3b3Jrcy9jYXJkaW5hbC1tb2RhbC5qcz83YTk3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgU29uZ2JpcmRGcmFtZXdvcmsgPSByZXF1aXJlKFwiLi9zb25nYmlyZFwiKTtcblxuZnVuY3Rpb24gQ2FyZGluYWxNb2RhbEZyYW1ld29yayhvcHRpb25zKSB7XG4gIFNvbmdiaXJkRnJhbWV3b3JrLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cbkNhcmRpbmFsTW9kYWxGcmFtZXdvcmsucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUsIHtcbiAgY29uc3RydWN0b3I6IFNvbmdiaXJkRnJhbWV3b3JrLFxufSk7XG5cbkNhcmRpbmFsTW9kYWxGcmFtZXdvcmsucHJvdG90eXBlLl9jcmVhdGVWMUlmcmFtZU1vZGFsRWxlbWVudCA9IGZ1bmN0aW9uIChcbiAgaWZyYW1lXG4pIHtcbiAgdmFyIG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdmFyIGFkZENsb3NlQnV0dG9uID0gQm9vbGVhbihcbiAgICB0aGlzLl9jcmVhdGVPcHRpb25zICYmXG4gICAgICB0aGlzLl9jcmVhdGVPcHRpb25zLmNhcmRpbmFsU0RLQ29uZmlnICYmXG4gICAgICB0aGlzLl9jcmVhdGVPcHRpb25zLmNhcmRpbmFsU0RLQ29uZmlnLnBheW1lbnQgJiZcbiAgICAgIHRoaXMuX2NyZWF0ZU9wdGlvbnMuY2FyZGluYWxTREtDb25maWcucGF5bWVudC5kaXNwbGF5RXhpdEJ1dHRvblxuICApO1xuXG4gIG1vZGFsLmlubmVySFRNTCA9XG4gICAgJzxkaXYgc3R5bGU9XCInICtcbiAgICBcInBvc2l0aW9uOiBmaXhlZDtcIiArXG4gICAgXCJ6LWluZGV4OiA5OTk5OTk7XCIgK1xuICAgIFwidG9wOiA1MCU7XCIgK1xuICAgIFwibGVmdDogNTAlO1wiICtcbiAgICBcInBhZGRpbmc6IDI0cHggMjBweDtcIiArXG4gICAgXCJ0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1wiICtcbiAgICBcImJvcmRlci1yYWRpdXM6IDJweDtcIiArXG4gICAgXCJiYWNrZ3JvdW5kOiAjZmZmO1wiICtcbiAgICBcIm1heC13aWR0aDogMTAwJTtcIiArXG4gICAgXCJvdmVyZmxvdzogYXV0bztcIiArXG4gICAgJ1wiPicgK1xuICAgIFwiPGRpdj5cIiArXG4gICAgXCI8YnV0dG9uIGRhdGEtYnJhaW50cmVlLXYxLWZhbGxiYWNrLWNsb3NlLWJ1dHRvbiBcIiArXG4gICAgJ3N0eWxlPVwiJyArXG4gICAgXCJmb250LWZhbWlseTogSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7XCIgK1xuICAgIFwiZm9udC1zaXplOiAyNXB4O1wiICtcbiAgICBcImxpbmUtaGVpZ2h0OiAxMnB4O1wiICtcbiAgICBcInBvc2l0aW9uOiBhYnNvbHV0ZTtcIiArXG4gICAgXCJ0b3A6IDJweDtcIiArXG4gICAgXCJyaWdodDogMHB4O1wiICtcbiAgICBcImN1cnNvcjogcG9pbnRlcjtcIiArXG4gICAgXCJjb2xvcjogIzk5OTtcIiArXG4gICAgXCJib3JkZXI6IDA7XCIgK1xuICAgIFwib3V0bGluZTogbm9uZTtcIiArXG4gICAgXCJiYWNrZ3JvdW5kOiBub25lO1wiICtcbiAgICAnXCIgJyArXG4gICAgXCJvbk1vdXNlT3Zlcj1cXFwidGhpcy5zdHlsZS5jb2xvcj0nIzAwMCdcXFwiIFwiICtcbiAgICBcIm9uTW91c2VPdXQ9XFxcInRoaXMuc3R5bGUuY29sb3I9JyM5OTknXFxcIlwiICtcbiAgICBcIj7DlzwvYnV0dG9uPlwiICtcbiAgICBcIjwvZGl2PlwiICtcbiAgICAvLyBpZnJhbWUgY29udGFpbmVyXG4gICAgJzxkaXYgZGF0YS1icmFpbnRyZWUtdjEtZmFsbGJhY2staWZyYW1lLWNvbnRhaW5lciBzdHlsZT1cIicgK1xuICAgIFwiaGVpZ2h0OiA0MDBweDtcIiArXG4gICAgJ1wiPjwvZGl2PicgK1xuICAgIFwiPC9kaXY+XCIgK1xuICAgIC8vIG1vZGFsIGJhY2tkcm9wXG4gICAgJzxkaXYgZGF0YS1icmFpbnRyZWUtdjEtZmFsbGJhY2stYmFja2Ryb3Agc3R5bGU9XCInICtcbiAgICBcInBvc2l0aW9uOiBmaXhlZDtcIiArXG4gICAgXCJ6LWluZGV4OiA5OTk5OTg7XCIgK1xuICAgIFwiY3Vyc29yOiBwb2ludGVyO1wiICtcbiAgICBcInRvcDogMDtcIiArXG4gICAgXCJsZWZ0OiAwO1wiICtcbiAgICBcIndpZHRoOiAxMDAlO1wiICtcbiAgICBcImhlaWdodDogMTAwJTtcIiArXG4gICAgXCJ0cmFuc2l0aW9uOiBvcGFjaXR5IDFtcyBlYXNlO1wiICtcbiAgICBcImJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjYpO1wiICtcbiAgICAnXCI+PC9kaXY+JztcblxuICBpZiAoIWFkZENsb3NlQnV0dG9uKSB7XG4gICAgbW9kYWwucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiW2RhdGEtYnJhaW50cmVlLXYxLWZhbGxiYWNrLWNsb3NlLWJ1dHRvbl1cIlxuICAgICkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG4gIG1vZGFsXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1icmFpbnRyZWUtdjEtZmFsbGJhY2staWZyYW1lLWNvbnRhaW5lcl1cIilcbiAgICAuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblxuICByZXR1cm4gbW9kYWw7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhcmRpbmFsTW9kYWxGcmFtZXdvcms7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/cardinal-modal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/frameworks/index.js ***!
  \********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar LegacyFramework = __webpack_require__(/*! ./legacy */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/legacy.js\");\nvar CardinalModalFramework = __webpack_require__(/*! ./cardinal-modal */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/cardinal-modal.js\");\nvar Bootstrap3ModalFramework = __webpack_require__(/*! ./bootstrap3-modal */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/bootstrap3-modal.js\");\nvar InlineIframeFramework = __webpack_require__(/*! ./inline-iframe */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/inline-iframe.js\");\n\nmodule.exports = {\n  legacy: LegacyFramework,\n  \"cardinal-modal\": CardinalModalFramework,\n  \"bootstrap3-modal\": Bootstrap3ModalFramework,\n  \"inline-iframe\": InlineIframeFramework,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNCQUFzQixtQkFBTyxDQUFDLGlHQUFVO0FBQ3hDLDZCQUE2QixtQkFBTyxDQUFDLGlIQUFrQjtBQUN2RCwrQkFBK0IsbUJBQU8sQ0FBQyxxSEFBb0I7QUFDM0QsNEJBQTRCLG1CQUFPLENBQUMsK0dBQWlCOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvZXh0ZXJuYWwvZnJhbWV3b3Jrcy9pbmRleC5qcz81NTgzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgTGVnYWN5RnJhbWV3b3JrID0gcmVxdWlyZShcIi4vbGVnYWN5XCIpO1xudmFyIENhcmRpbmFsTW9kYWxGcmFtZXdvcmsgPSByZXF1aXJlKFwiLi9jYXJkaW5hbC1tb2RhbFwiKTtcbnZhciBCb290c3RyYXAzTW9kYWxGcmFtZXdvcmsgPSByZXF1aXJlKFwiLi9ib290c3RyYXAzLW1vZGFsXCIpO1xudmFyIElubGluZUlmcmFtZUZyYW1ld29yayA9IHJlcXVpcmUoXCIuL2lubGluZS1pZnJhbWVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBsZWdhY3k6IExlZ2FjeUZyYW1ld29yayxcbiAgXCJjYXJkaW5hbC1tb2RhbFwiOiBDYXJkaW5hbE1vZGFsRnJhbWV3b3JrLFxuICBcImJvb3RzdHJhcDMtbW9kYWxcIjogQm9vdHN0cmFwM01vZGFsRnJhbWV3b3JrLFxuICBcImlubGluZS1pZnJhbWVcIjogSW5saW5lSWZyYW1lRnJhbWV3b3JrLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/inline-iframe.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/frameworks/inline-iframe.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar SongbirdFramework = __webpack_require__(/*! ./songbird */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/songbird.js\");\nvar BraintreeError = __webpack_require__(/*! ../../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar errors = __webpack_require__(/*! ../../shared/errors */ \"(ssr)/./node_modules/braintree-web/three-d-secure/shared/errors.js\");\nvar enumerate = __webpack_require__(/*! ../../../lib/enumerate */ \"(ssr)/./node_modules/braintree-web/lib/enumerate.js\");\n\nfunction InlineIframeFramework(options) {\n  SongbirdFramework.call(this, options);\n}\n\nInlineIframeFramework.prototype = Object.create(SongbirdFramework.prototype, {\n  constructor: SongbirdFramework,\n});\n\nInlineIframeFramework.events = enumerate(\n  [\"AUTHENTICATION_IFRAME_AVAILABLE\"],\n  \"inline-iframe-framework:\"\n);\n\nInlineIframeFramework.prototype.setUpEventListeners = function (reply) {\n  SongbirdFramework.prototype.setUpEventListeners.call(this, reply);\n\n  this.on(\n    InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,\n    function (payload, next) {\n      reply(\"authentication-iframe-available\", payload, next);\n    }\n  );\n};\n\nInlineIframeFramework.prototype._createCardinalConfigurationOptions = function (\n  setupOptions\n) {\n  var options =\n    SongbirdFramework.prototype._createCardinalConfigurationOptions.call(\n      this,\n      setupOptions\n    );\n\n  options.payment.framework = \"inline\";\n\n  return options;\n};\n\nInlineIframeFramework.prototype._addV1IframeToPage = function () {\n  this._emit(\n    InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,\n    {\n      element: this._v1Modal,\n    },\n    function () {\n      // NOOP\n    }\n  );\n};\n\nInlineIframeFramework.prototype._setupFrameworkSpecificListeners = function () {\n  this.setCardinalListener(\"ui.inline.setup\", this._onInlineSetup.bind(this));\n};\n\nInlineIframeFramework.prototype._onInlineSetup = function (\n  htmlTemplate,\n  details,\n  resolve,\n  reject\n) {\n  var container, hasError;\n\n  if (!htmlTemplate || !details) {\n    hasError = true;\n  } else if (details.paymentType !== \"CCA\") {\n    hasError = true;\n  } else if (\n    !(details.data.mode === \"suppress\" || details.data.mode === \"static\")\n  ) {\n    hasError = true;\n  }\n\n  if (hasError) {\n    reject(new BraintreeError(errors.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT));\n\n    return;\n  }\n\n  container = document.createElement(\"div\");\n  container.innerHTML = htmlTemplate;\n\n  if (details.data.mode === \"suppress\") {\n    container.style.display = \"none\";\n    document.body.appendChild(container);\n    resolve();\n  } else if (details.data.mode === \"static\") {\n    this._emit(\n      InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,\n      {\n        element: container,\n      },\n      function () {\n        resolve();\n      }\n    );\n  }\n};\n\nmodule.exports = InlineIframeFramework;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL2lubGluZS1pZnJhbWUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsd0JBQXdCLG1CQUFPLENBQUMscUdBQVk7QUFDNUMscUJBQXFCLG1CQUFPLENBQUMsK0ZBQThCO0FBQzNELGFBQWEsbUJBQU8sQ0FBQywrRkFBcUI7QUFDMUMsZ0JBQWdCLG1CQUFPLENBQUMsbUZBQXdCOztBQUVoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL2lubGluZS1pZnJhbWUuanM/NWUzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIFNvbmdiaXJkRnJhbWV3b3JrID0gcmVxdWlyZShcIi4vc29uZ2JpcmRcIik7XG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi4vLi4vc2hhcmVkL2Vycm9yc1wiKTtcbnZhciBlbnVtZXJhdGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2VudW1lcmF0ZVwiKTtcblxuZnVuY3Rpb24gSW5saW5lSWZyYW1lRnJhbWV3b3JrKG9wdGlvbnMpIHtcbiAgU29uZ2JpcmRGcmFtZXdvcmsuY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblxuSW5saW5lSWZyYW1lRnJhbWV3b3JrLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLCB7XG4gIGNvbnN0cnVjdG9yOiBTb25nYmlyZEZyYW1ld29yayxcbn0pO1xuXG5JbmxpbmVJZnJhbWVGcmFtZXdvcmsuZXZlbnRzID0gZW51bWVyYXRlKFxuICBbXCJBVVRIRU5USUNBVElPTl9JRlJBTUVfQVZBSUxBQkxFXCJdLFxuICBcImlubGluZS1pZnJhbWUtZnJhbWV3b3JrOlwiXG4pO1xuXG5JbmxpbmVJZnJhbWVGcmFtZXdvcmsucHJvdG90eXBlLnNldFVwRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAocmVwbHkpIHtcbiAgU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLnNldFVwRXZlbnRMaXN0ZW5lcnMuY2FsbCh0aGlzLCByZXBseSk7XG5cbiAgdGhpcy5vbihcbiAgICBJbmxpbmVJZnJhbWVGcmFtZXdvcmsuZXZlbnRzLkFVVEhFTlRJQ0FUSU9OX0lGUkFNRV9BVkFJTEFCTEUsXG4gICAgZnVuY3Rpb24gKHBheWxvYWQsIG5leHQpIHtcbiAgICAgIHJlcGx5KFwiYXV0aGVudGljYXRpb24taWZyYW1lLWF2YWlsYWJsZVwiLCBwYXlsb2FkLCBuZXh0KTtcbiAgICB9XG4gICk7XG59O1xuXG5JbmxpbmVJZnJhbWVGcmFtZXdvcmsucHJvdG90eXBlLl9jcmVhdGVDYXJkaW5hbENvbmZpZ3VyYXRpb25PcHRpb25zID0gZnVuY3Rpb24gKFxuICBzZXR1cE9wdGlvbnNcbikge1xuICB2YXIgb3B0aW9ucyA9XG4gICAgU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9jcmVhdGVDYXJkaW5hbENvbmZpZ3VyYXRpb25PcHRpb25zLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgc2V0dXBPcHRpb25zXG4gICAgKTtcblxuICBvcHRpb25zLnBheW1lbnQuZnJhbWV3b3JrID0gXCJpbmxpbmVcIjtcblxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbklubGluZUlmcmFtZUZyYW1ld29yay5wcm90b3R5cGUuX2FkZFYxSWZyYW1lVG9QYWdlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9lbWl0KFxuICAgIElubGluZUlmcmFtZUZyYW1ld29yay5ldmVudHMuQVVUSEVOVElDQVRJT05fSUZSQU1FX0FWQUlMQUJMRSxcbiAgICB7XG4gICAgICBlbGVtZW50OiB0aGlzLl92MU1vZGFsLFxuICAgIH0sXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gTk9PUFxuICAgIH1cbiAgKTtcbn07XG5cbklubGluZUlmcmFtZUZyYW1ld29yay5wcm90b3R5cGUuX3NldHVwRnJhbWV3b3JrU3BlY2lmaWNMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2V0Q2FyZGluYWxMaXN0ZW5lcihcInVpLmlubGluZS5zZXR1cFwiLCB0aGlzLl9vbklubGluZVNldHVwLmJpbmQodGhpcykpO1xufTtcblxuSW5saW5lSWZyYW1lRnJhbWV3b3JrLnByb3RvdHlwZS5fb25JbmxpbmVTZXR1cCA9IGZ1bmN0aW9uIChcbiAgaHRtbFRlbXBsYXRlLFxuICBkZXRhaWxzLFxuICByZXNvbHZlLFxuICByZWplY3Rcbikge1xuICB2YXIgY29udGFpbmVyLCBoYXNFcnJvcjtcblxuICBpZiAoIWh0bWxUZW1wbGF0ZSB8fCAhZGV0YWlscykge1xuICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChkZXRhaWxzLnBheW1lbnRUeXBlICE9PSBcIkNDQVwiKSB7XG4gICAgaGFzRXJyb3IgPSB0cnVlO1xuICB9IGVsc2UgaWYgKFxuICAgICEoZGV0YWlscy5kYXRhLm1vZGUgPT09IFwic3VwcHJlc3NcIiB8fCBkZXRhaWxzLmRhdGEubW9kZSA9PT0gXCJzdGF0aWNcIilcbiAgKSB7XG4gICAgaGFzRXJyb3IgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGhhc0Vycm9yKSB7XG4gICAgcmVqZWN0KG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVEhSRUVEU19JTkxJTkVfSUZSQU1FX0RFVEFJTFNfSU5DT1JSRUNUKSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbFRlbXBsYXRlO1xuXG4gIGlmIChkZXRhaWxzLmRhdGEubW9kZSA9PT0gXCJzdXBwcmVzc1wiKSB7XG4gICAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgcmVzb2x2ZSgpO1xuICB9IGVsc2UgaWYgKGRldGFpbHMuZGF0YS5tb2RlID09PSBcInN0YXRpY1wiKSB7XG4gICAgdGhpcy5fZW1pdChcbiAgICAgIElubGluZUlmcmFtZUZyYW1ld29yay5ldmVudHMuQVVUSEVOVElDQVRJT05fSUZSQU1FX0FWQUlMQUJMRSxcbiAgICAgIHtcbiAgICAgICAgZWxlbWVudDogY29udGFpbmVyLFxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW5saW5lSWZyYW1lRnJhbWV3b3JrO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/inline-iframe.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/legacy.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/frameworks/legacy.js ***!
  \*********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BaseFramework = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/base.js\");\nvar deferred = __webpack_require__(/*! ../../../lib/deferred */ \"(ssr)/./node_modules/braintree-web/lib/deferred.js\");\n\nfunction LegacyFramework(options) {\n  BaseFramework.call(this, options);\n}\n\nLegacyFramework.prototype = Object.create(BaseFramework.prototype, {\n  constructor: LegacyFramework,\n});\n\nLegacyFramework.prototype.setUpEventListeners = function () {\n  // noop\n};\n\nLegacyFramework.prototype.transformV1CustomerBillingAddress = function (\n  customer\n) {\n  customer.billingAddress.line1 = customer.billingAddress.streetAddress;\n  customer.billingAddress.line2 = customer.billingAddress.extendedAddress;\n  customer.billingAddress.city = customer.billingAddress.locality;\n  customer.billingAddress.state = customer.billingAddress.region;\n  customer.billingAddress.countryCode =\n    customer.billingAddress.countryCodeAlpha2;\n  delete customer.billingAddress.streetAddress;\n  delete customer.billingAddress.extendedAddress;\n  delete customer.billingAddress.locality;\n  delete customer.billingAddress.region;\n  delete customer.billingAddress.countryCodeAlpha2;\n\n  return customer;\n};\n\nLegacyFramework.prototype._createIframe = function (options) {\n  var self = this;\n\n  this._setupV1Elements({\n    nonce: options.nonce,\n    lookupResponse: options.lookupResponse,\n    showLoader: options.showLoader,\n    handleAuthResponse: function (data) {\n      self._handleAuthResponse(data, options);\n    },\n  });\n\n  return this._v1Iframe;\n};\n\nLegacyFramework.prototype._handleAuthResponse = function (data, options) {\n  this._v1Bus.teardown();\n\n  options.removeFrame();\n\n  // This also has to be in a setTimeout so it executes after the `removeFrame`.\n  deferred(\n    function () {\n      this._handleV1AuthResponse(data);\n    }.bind(this)\n  )();\n};\n\nLegacyFramework.prototype._checkForFrameworkSpecificVerifyCardErrors =\n  function (options) {\n    var errorOption;\n\n    if (typeof options.addFrame !== \"function\") {\n      errorOption = \"an addFrame function\";\n    } else if (typeof options.removeFrame !== \"function\") {\n      errorOption = \"a removeFrame function\";\n    }\n\n    return errorOption;\n  };\n\nLegacyFramework.prototype._formatVerifyCardOptions = function (options) {\n  var modifiedOptions = BaseFramework.prototype._formatVerifyCardOptions.call(\n    this,\n    options\n  );\n\n  modifiedOptions.addFrame = deferred(options.addFrame);\n  modifiedOptions.removeFrame = deferred(options.removeFrame);\n  modifiedOptions.showLoader = options.showLoader !== false;\n\n  return modifiedOptions;\n};\n\nLegacyFramework.prototype._formatLookupData = function (options) {\n  var self = this;\n\n  return BaseFramework.prototype._formatLookupData\n    .call(this, options)\n    .then(function (data) {\n      if (options.customer && options.customer.billingAddress) {\n        data.customer = self.transformV1CustomerBillingAddress(\n          options.customer\n        );\n      }\n\n      return data;\n    });\n};\n\nLegacyFramework.prototype._presentChallenge = function (\n  lookupResponse,\n  options\n) {\n  options.addFrame(\n    null,\n    this._createIframe({\n      showLoader: options.showLoader,\n      lookupResponse: lookupResponse.lookup,\n      nonce: lookupResponse.paymentMethod.nonce,\n      removeFrame: options.removeFrame,\n    })\n  );\n};\n\nmodule.exports = LegacyFramework;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL2xlZ2FjeS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixvQkFBb0IsbUJBQU8sQ0FBQyw2RkFBUTtBQUNwQyxlQUFlLG1CQUFPLENBQUMsaUZBQXVCOztBQUU5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvZXh0ZXJuYWwvZnJhbWV3b3Jrcy9sZWdhY3kuanM/ZWNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIEJhc2VGcmFtZXdvcmsgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xudmFyIGRlZmVycmVkID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9kZWZlcnJlZFwiKTtcblxuZnVuY3Rpb24gTGVnYWN5RnJhbWV3b3JrKG9wdGlvbnMpIHtcbiAgQmFzZUZyYW1ld29yay5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuXG5MZWdhY3lGcmFtZXdvcmsucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlRnJhbWV3b3JrLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3RvcjogTGVnYWN5RnJhbWV3b3JrLFxufSk7XG5cbkxlZ2FjeUZyYW1ld29yay5wcm90b3R5cGUuc2V0VXBFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gbm9vcFxufTtcblxuTGVnYWN5RnJhbWV3b3JrLnByb3RvdHlwZS50cmFuc2Zvcm1WMUN1c3RvbWVyQmlsbGluZ0FkZHJlc3MgPSBmdW5jdGlvbiAoXG4gIGN1c3RvbWVyXG4pIHtcbiAgY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MubGluZTEgPSBjdXN0b21lci5iaWxsaW5nQWRkcmVzcy5zdHJlZXRBZGRyZXNzO1xuICBjdXN0b21lci5iaWxsaW5nQWRkcmVzcy5saW5lMiA9IGN1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLmV4dGVuZGVkQWRkcmVzcztcbiAgY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MuY2l0eSA9IGN1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLmxvY2FsaXR5O1xuICBjdXN0b21lci5iaWxsaW5nQWRkcmVzcy5zdGF0ZSA9IGN1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLnJlZ2lvbjtcbiAgY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MuY291bnRyeUNvZGUgPVxuICAgIGN1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLmNvdW50cnlDb2RlQWxwaGEyO1xuICBkZWxldGUgY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3Muc3RyZWV0QWRkcmVzcztcbiAgZGVsZXRlIGN1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLmV4dGVuZGVkQWRkcmVzcztcbiAgZGVsZXRlIGN1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLmxvY2FsaXR5O1xuICBkZWxldGUgY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MucmVnaW9uO1xuICBkZWxldGUgY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MuY291bnRyeUNvZGVBbHBoYTI7XG5cbiAgcmV0dXJuIGN1c3RvbWVyO1xufTtcblxuTGVnYWN5RnJhbWV3b3JrLnByb3RvdHlwZS5fY3JlYXRlSWZyYW1lID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX3NldHVwVjFFbGVtZW50cyh7XG4gICAgbm9uY2U6IG9wdGlvbnMubm9uY2UsXG4gICAgbG9va3VwUmVzcG9uc2U6IG9wdGlvbnMubG9va3VwUmVzcG9uc2UsXG4gICAgc2hvd0xvYWRlcjogb3B0aW9ucy5zaG93TG9hZGVyLFxuICAgIGhhbmRsZUF1dGhSZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHNlbGYuX2hhbmRsZUF1dGhSZXNwb25zZShkYXRhLCBvcHRpb25zKTtcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gdGhpcy5fdjFJZnJhbWU7XG59O1xuXG5MZWdhY3lGcmFtZXdvcmsucHJvdG90eXBlLl9oYW5kbGVBdXRoUmVzcG9uc2UgPSBmdW5jdGlvbiAoZGF0YSwgb3B0aW9ucykge1xuICB0aGlzLl92MUJ1cy50ZWFyZG93bigpO1xuXG4gIG9wdGlvbnMucmVtb3ZlRnJhbWUoKTtcblxuICAvLyBUaGlzIGFsc28gaGFzIHRvIGJlIGluIGEgc2V0VGltZW91dCBzbyBpdCBleGVjdXRlcyBhZnRlciB0aGUgYHJlbW92ZUZyYW1lYC5cbiAgZGVmZXJyZWQoXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5faGFuZGxlVjFBdXRoUmVzcG9uc2UoZGF0YSk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICkoKTtcbn07XG5cbkxlZ2FjeUZyYW1ld29yay5wcm90b3R5cGUuX2NoZWNrRm9yRnJhbWV3b3JrU3BlY2lmaWNWZXJpZnlDYXJkRXJyb3JzID1cbiAgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgZXJyb3JPcHRpb247XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuYWRkRnJhbWUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZXJyb3JPcHRpb24gPSBcImFuIGFkZEZyYW1lIGZ1bmN0aW9uXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5yZW1vdmVGcmFtZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBlcnJvck9wdGlvbiA9IFwiYSByZW1vdmVGcmFtZSBmdW5jdGlvblwiO1xuICAgIH1cblxuICAgIHJldHVybiBlcnJvck9wdGlvbjtcbiAgfTtcblxuTGVnYWN5RnJhbWV3b3JrLnByb3RvdHlwZS5fZm9ybWF0VmVyaWZ5Q2FyZE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgbW9kaWZpZWRPcHRpb25zID0gQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX2Zvcm1hdFZlcmlmeUNhcmRPcHRpb25zLmNhbGwoXG4gICAgdGhpcyxcbiAgICBvcHRpb25zXG4gICk7XG5cbiAgbW9kaWZpZWRPcHRpb25zLmFkZEZyYW1lID0gZGVmZXJyZWQob3B0aW9ucy5hZGRGcmFtZSk7XG4gIG1vZGlmaWVkT3B0aW9ucy5yZW1vdmVGcmFtZSA9IGRlZmVycmVkKG9wdGlvbnMucmVtb3ZlRnJhbWUpO1xuICBtb2RpZmllZE9wdGlvbnMuc2hvd0xvYWRlciA9IG9wdGlvbnMuc2hvd0xvYWRlciAhPT0gZmFsc2U7XG5cbiAgcmV0dXJuIG1vZGlmaWVkT3B0aW9ucztcbn07XG5cbkxlZ2FjeUZyYW1ld29yay5wcm90b3R5cGUuX2Zvcm1hdExvb2t1cERhdGEgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIEJhc2VGcmFtZXdvcmsucHJvdG90eXBlLl9mb3JtYXRMb29rdXBEYXRhXG4gICAgLmNhbGwodGhpcywgb3B0aW9ucylcbiAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYgKG9wdGlvbnMuY3VzdG9tZXIgJiYgb3B0aW9ucy5jdXN0b21lci5iaWxsaW5nQWRkcmVzcykge1xuICAgICAgICBkYXRhLmN1c3RvbWVyID0gc2VsZi50cmFuc2Zvcm1WMUN1c3RvbWVyQmlsbGluZ0FkZHJlc3MoXG4gICAgICAgICAgb3B0aW9ucy5jdXN0b21lclxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KTtcbn07XG5cbkxlZ2FjeUZyYW1ld29yay5wcm90b3R5cGUuX3ByZXNlbnRDaGFsbGVuZ2UgPSBmdW5jdGlvbiAoXG4gIGxvb2t1cFJlc3BvbnNlLFxuICBvcHRpb25zXG4pIHtcbiAgb3B0aW9ucy5hZGRGcmFtZShcbiAgICBudWxsLFxuICAgIHRoaXMuX2NyZWF0ZUlmcmFtZSh7XG4gICAgICBzaG93TG9hZGVyOiBvcHRpb25zLnNob3dMb2FkZXIsXG4gICAgICBsb29rdXBSZXNwb25zZTogbG9va3VwUmVzcG9uc2UubG9va3VwLFxuICAgICAgbm9uY2U6IGxvb2t1cFJlc3BvbnNlLnBheW1lbnRNZXRob2Qubm9uY2UsXG4gICAgICByZW1vdmVGcmFtZTogb3B0aW9ucy5yZW1vdmVGcmFtZSxcbiAgICB9KVxuICApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBMZWdhY3lGcmFtZXdvcms7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/legacy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/songbird.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/frameworks/songbird.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar BaseFramework = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/base.js\");\nvar assign = (__webpack_require__(/*! ../../../lib/assign */ \"(ssr)/./node_modules/braintree-web/lib/assign.js\").assign);\nvar deferred = __webpack_require__(/*! ../../../lib/deferred */ \"(ssr)/./node_modules/braintree-web/lib/deferred.js\");\nvar BraintreeError = __webpack_require__(/*! ../../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar convertToBraintreeError = __webpack_require__(/*! ../../../lib/convert-to-braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-to-braintree-error.js\");\nvar analytics = __webpack_require__(/*! ../../../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar assets = __webpack_require__(/*! ../../../lib/assets */ \"(ssr)/./node_modules/braintree-web/lib/assets.js\");\nvar errors = __webpack_require__(/*! ../../shared/errors */ \"(ssr)/./node_modules/braintree-web/three-d-secure/shared/errors.js\");\nvar enumerate = __webpack_require__(/*! ../../../lib/enumerate */ \"(ssr)/./node_modules/braintree-web/lib/enumerate.js\");\nvar constants = __webpack_require__(/*! ../../shared/constants */ \"(ssr)/./node_modules/braintree-web/three-d-secure/shared/constants.js\");\nvar ExtendedPromise = __webpack_require__(/*! @braintree/extended-promise */ \"(ssr)/./node_modules/@braintree/extended-promise/dist/index.js\");\n\nvar INTEGRATION_TIMEOUT_MS =\n  (__webpack_require__(/*! ../../../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").INTEGRATION_TIMEOUT_MS);\nvar PLATFORM = (__webpack_require__(/*! ../../../lib/constants */ \"(ssr)/./node_modules/braintree-web/lib/constants.js\").PLATFORM);\nvar VERSION = \"3.99.0\";\nvar CUSTOMER_CANCELED_SONGBIRD_MODAL = \"01\";\nvar SONGBIRD_UI_EVENTS = [\n  \"ui.close\",\n  \"ui.render\",\n\n  // TODO these events are not documented in the\n  // client reference because so far we have\n  // not been able to trigger them in our testing\n  \"ui.renderHidden\",\n  \"ui.loading.close\",\n  \"ui.loading.render\",\n];\n\nvar SCA_EXEMPTION_TYPES = [\"low_value\", \"transaction_risk_analysis\"];\n\nExtendedPromise.suppressUnhandledPromiseMessage = true;\n\nfunction SongbirdFramework(options) {\n  BaseFramework.call(this, options);\n\n  this._useV1Fallback = false;\n  this._clientMetadata = {\n    requestedThreeDSecureVersion: \"2\",\n    sdkVersion: PLATFORM + \"/\" + VERSION,\n  };\n  this.originalSetupOptions = options;\n  this._getDfReferenceIdPromisePlus = new ExtendedPromise();\n  this.setupSongbird(options);\n  this._cardinalEvents = [];\n}\n\nSongbirdFramework.prototype = Object.create(BaseFramework.prototype, {\n  constructor: SongbirdFramework,\n});\n\nSongbirdFramework.events = enumerate(\n  [\n    \"LOOKUP_COMPLETE\",\n    \"CUSTOMER_CANCELED\",\n    \"UI.CLOSE\",\n    \"UI.RENDER\",\n    \"UI.RENDERHIDDEN\",\n    \"UI.LOADING.CLOSE\",\n    \"UI.LOADING.RENDER\",\n  ],\n  \"songbird-framework:\"\n);\n\nSongbirdFramework.prototype.setUpEventListeners = function (reply) {\n  this.on(SongbirdFramework.events.LOOKUP_COMPLETE, function (data, next) {\n    reply(\"lookup-complete\", data, next);\n  });\n  this.on(SongbirdFramework.events.CUSTOMER_CANCELED, function () {\n    reply(\"customer-canceled\");\n  });\n  this.on(SongbirdFramework.events[\"UI.CLOSE\"], function () {\n    reply(\"authentication-modal-close\");\n  });\n  this.on(SongbirdFramework.events[\"UI.RENDER\"], function () {\n    reply(\"authentication-modal-render\");\n  });\n  this.on(SongbirdFramework.events[\"UI.RENDERHIDDEN\"], function () {\n    reply(\"authentication-modal-render-hidden\");\n  });\n  this.on(SongbirdFramework.events[\"UI.LOADING.CLOSE\"], function () {\n    reply(\"authentication-modal-loader-close\");\n  });\n  this.on(SongbirdFramework.events[\"UI.LOADING.RENDER\"], function () {\n    reply(\"authentication-modal-loader-render\");\n  });\n};\n\nSongbirdFramework.prototype.prepareLookup = function (options) {\n  var data = assign({}, options);\n  var self = this;\n\n  return this.getDfReferenceId()\n    .then(function (id) {\n      data.dfReferenceId = id;\n    })\n    .then(function () {\n      return self._triggerCardinalBinProcess(options.bin);\n    })\n    .catch(function () {\n      // catch and ignore errors from looking up\n      // df reference and Cardinal bin process\n    })\n    .then(function () {\n      return self._waitForClient();\n    })\n    .then(function () {\n      data.clientMetadata = self._clientMetadata;\n      data.authorizationFingerprint =\n        self._client.getConfiguration().authorizationFingerprint;\n      data.braintreeLibraryVersion = \"braintree/web/\" + VERSION;\n\n      return data;\n    });\n};\n\nSongbirdFramework.prototype.initializeChallengeWithLookupResponse = function (\n  lookupResponse,\n  options\n) {\n  return this.setupSongbird().then(\n    function () {\n      return BaseFramework.prototype.initializeChallengeWithLookupResponse.call(\n        this,\n        lookupResponse,\n        options\n      );\n    }.bind(this)\n  );\n};\n\nSongbirdFramework.prototype.initiateV1Fallback = function (errorType) {\n  this._useV1Fallback = true;\n  this._removeSongbirdListeners();\n  analytics.sendEvent(\n    this._createPromise,\n    \"three-d-secure.v1-fallback.\" + errorType\n  );\n\n  if (this._songbirdPromise) {\n    this._songbirdPromise.resolve();\n  }\n};\n\nSongbirdFramework.prototype._triggerCardinalBinProcess = function (bin) {\n  var self = this;\n  var issuerStartTime = Date.now();\n\n  return window.Cardinal.trigger(\"bin.process\", bin).then(function (\n    binResults\n  ) {\n    self._clientMetadata.issuerDeviceDataCollectionTimeElapsed =\n      Date.now() - issuerStartTime;\n    self._clientMetadata.issuerDeviceDataCollectionResult =\n      binResults && binResults.Status;\n  });\n};\n\nSongbirdFramework.prototype.transformBillingAddress = function (\n  additionalInformation,\n  billingAddress\n) {\n  if (billingAddress) {\n    // map from public API to the API that the Gateway expects\n    extractAddressData(billingAddress, additionalInformation, \"billing\");\n    additionalInformation.billingPhoneNumber = billingAddress.phoneNumber;\n    additionalInformation.billingGivenName = billingAddress.givenName;\n    additionalInformation.billingSurname = billingAddress.surname;\n  }\n\n  return additionalInformation;\n};\n\nSongbirdFramework.prototype.transformShippingAddress = function (\n  additionalInformation\n) {\n  var shippingAddress = additionalInformation.shippingAddress;\n\n  if (shippingAddress) {\n    // map from public API to the API that the Gateway expects\n    extractAddressData(shippingAddress, additionalInformation, \"shipping\");\n\n    delete additionalInformation.shippingAddress;\n  }\n\n  return additionalInformation;\n};\n\nSongbirdFramework.prototype._createV1IframeModalElement = function (iframe) {\n  var modal = document.createElement(\"div\");\n\n  modal.innerHTML =\n    '<div data-braintree-v1-fallback-iframe-container=\"true\" style=\"' +\n    \"height: 400px;\" +\n    '\"></div>';\n  modal\n    .querySelector('[data-braintree-v1-fallback-iframe-container=\"true\"]')\n    .appendChild(iframe);\n\n  return modal;\n};\n\nSongbirdFramework.prototype._createV1IframeModal = function (iframe) {\n  var modal = this._createV1IframeModalElement(iframe);\n  var btn = modal.querySelector(\"[data-braintree-v1-fallback-close-button]\");\n  var backdrop = modal.querySelector(\"[data-braintree-v1-fallback-backdrop]\");\n  var self = this;\n\n  function closeHandler() {\n    modal.parentNode.removeChild(modal);\n    self.cancelVerifyCard(errors.THREEDS_CARDINAL_SDK_CANCELED);\n    document.removeEventListener(\"keyup\", self._onV1Keyup);\n    self._onV1Keyup = null;\n  }\n\n  this._onV1Keyup = function (e) {\n    if (e.key !== \"Escape\") {\n      return;\n    }\n\n    if (!modal.parentNode) {\n      // modal not on page\n      return;\n    }\n\n    closeHandler();\n  };\n\n  if (btn) {\n    btn.addEventListener(\"click\", closeHandler);\n  }\n\n  if (backdrop) {\n    backdrop.addEventListener(\"click\", closeHandler);\n  }\n\n  document.addEventListener(\"keyup\", this._onV1Keyup);\n\n  return modal;\n};\n\nSongbirdFramework.prototype._addV1IframeToPage = function () {\n  document.body.appendChild(this._v1Modal);\n};\n\nSongbirdFramework.prototype._handleAuthResponseFromV1Fallback = function (\n  data\n) {\n  this._teardownV1Elements();\n  this._v1Modal.parentNode.removeChild(this._v1Modal);\n  this._handleV1AuthResponse(data);\n};\n\nSongbirdFramework.prototype._presentChallengeWithV1Fallback = function (\n  lookupResponse\n) {\n  var self = this;\n\n  this._setupV1Elements({\n    lookupResponse: lookupResponse,\n    showLoader: true,\n    handleAuthResponse: function (data) {\n      self._handleAuthResponseFromV1Fallback(data);\n    },\n  });\n  this._v1Modal = this._createV1IframeModal(this._v1Iframe);\n  this._addV1IframeToPage();\n};\n\nSongbirdFramework.prototype.setupSongbird = function (setupOptions) {\n  var self = this;\n  var startTime = Date.now();\n\n  if (this._songbirdPromise) {\n    return this._songbirdPromise;\n  }\n\n  setupOptions = setupOptions || {};\n\n  this._songbirdPromise = new ExtendedPromise();\n  this._v2SetupFailureReason = \"reason-unknown\";\n\n  self\n    ._loadCardinalScript(setupOptions)\n    .then(function () {\n      if (!window.Cardinal) {\n        self._v2SetupFailureReason = \"cardinal-global-unavailable\";\n\n        return Promise.reject(\n          new BraintreeError(errors.THREEDS_CARDINAL_SDK_SETUP_FAILED)\n        );\n      }\n\n      return self._configureCardinalSdk({\n        setupOptions: setupOptions,\n        setupStartTime: startTime,\n      });\n    })\n    .catch(function (err) {\n      var error = convertToBraintreeError(err, {\n        type: errors.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,\n        code: errors.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,\n        message: errors.THREEDS_CARDINAL_SDK_SETUP_FAILED.message,\n      });\n\n      self._getDfReferenceIdPromisePlus.reject(error);\n\n      window.clearTimeout(self._songbirdSetupTimeoutReference);\n      analytics.sendEvent(\n        self._client,\n        \"three-d-secure.cardinal-sdk.init.setup-failed\"\n      );\n      self.initiateV1Fallback(\n        \"cardinal-sdk-setup-failed.\" + self._v2SetupFailureReason\n      );\n    });\n\n  return this._songbirdPromise;\n};\n\nSongbirdFramework.prototype._configureCardinalSdk = function (config) {\n  var self = this;\n\n  return this._waitForClient()\n    .then(function () {\n      var threeDSConfig =\n        self._client.getConfiguration().gatewayConfiguration.threeDSecure;\n\n      return threeDSConfig;\n    })\n    .then(function (threeDSConfig) {\n      var jwt = threeDSConfig.cardinalAuthenticationJWT;\n      var setupOptions = config.setupOptions;\n      var setupStartTime = config.setupStartTime;\n      var cardinalConfiguration =\n        self._createCardinalConfigurationOptions(setupOptions);\n\n      SONGBIRD_UI_EVENTS.forEach(function (eventName) {\n        self.setCardinalListener(eventName, function () {\n          self._emit(SongbirdFramework.events[eventName.toUpperCase()]);\n        });\n      });\n      self.setCardinalListener(\n        \"payments.setupComplete\",\n        self._createPaymentsSetupCompleteCallback()\n      );\n\n      self._setupFrameworkSpecificListeners();\n\n      window.Cardinal.configure(cardinalConfiguration);\n\n      window.Cardinal.setup(\"init\", {\n        jwt: jwt,\n      });\n\n      self._clientMetadata.cardinalDeviceDataCollectionTimeElapsed =\n        Date.now() - setupStartTime;\n\n      self.setCardinalListener(\n        \"payments.validated\",\n        self._createPaymentsValidatedCallback()\n      );\n    })\n    .catch(function (err) {\n      self._v2SetupFailureReason = \"cardinal-configuration-threw-error\";\n\n      return Promise.reject(err);\n    });\n};\n\nSongbirdFramework.prototype.setCardinalListener = function (eventName, cb) {\n  this._cardinalEvents.push(eventName);\n  window.Cardinal.on(eventName, cb);\n};\n\nSongbirdFramework.prototype._setupFrameworkSpecificListeners = function () {\n  // noop\n};\n\nSongbirdFramework.prototype._createCardinalConfigurationOptions = function (\n  setupOptions\n) {\n  var cardinalConfiguration = setupOptions.cardinalSDKConfig || {};\n  var paymentSettings = cardinalConfiguration.payment || {};\n\n  if (!cardinalConfiguration.logging && setupOptions.loggingEnabled) {\n    cardinalConfiguration.logging = {\n      level: \"verbose\",\n    };\n  }\n\n  cardinalConfiguration.payment = {};\n\n  if (paymentSettings.hasOwnProperty(\"displayLoading\")) {\n    cardinalConfiguration.payment.displayLoading =\n      paymentSettings.displayLoading;\n  }\n  if (paymentSettings.hasOwnProperty(\"displayExitButton\")) {\n    cardinalConfiguration.payment.displayExitButton =\n      paymentSettings.displayExitButton;\n  }\n\n  return cardinalConfiguration;\n};\n\nSongbirdFramework.prototype._loadCardinalScript = function (setupOptions) {\n  var self = this;\n\n  return this._waitForClient()\n    .then(function () {\n      var scriptSource = self._getCardinalScriptSource();\n\n      self._songbirdSetupTimeoutReference = window.setTimeout(function () {\n        analytics.sendEvent(\n          self._client,\n          \"three-d-secure.cardinal-sdk.init.setup-timeout\"\n        );\n        self.initiateV1Fallback(\"cardinal-sdk-setup-timeout\");\n      }, setupOptions.timeout || INTEGRATION_TIMEOUT_MS);\n\n      return assets.loadScript({ src: scriptSource });\n    })\n    .catch(function (err) {\n      self._v2SetupFailureReason = \"songbird-js-failed-to-load\";\n\n      return Promise.reject(\n        convertToBraintreeError(\n          err,\n          errors.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED\n        )\n      );\n    });\n};\n\nSongbirdFramework.prototype._getCardinalScriptSource = function () {\n  var gatewayConfig = this._client.getConfiguration().gatewayConfiguration;\n\n  if (gatewayConfig && gatewayConfig.environment === \"production\") {\n    return constants.CARDINAL_SCRIPT_SOURCE.production;\n  }\n\n  return constants.CARDINAL_SCRIPT_SOURCE.sandbox;\n};\n\nSongbirdFramework.prototype._createPaymentsSetupCompleteCallback = function () {\n  var self = this;\n\n  return function (data) {\n    self._getDfReferenceIdPromisePlus.resolve(data.sessionId);\n\n    window.clearTimeout(self._songbirdSetupTimeoutReference);\n    analytics.sendEvent(\n      self._createPromise,\n      \"three-d-secure.cardinal-sdk.init.setup-completed\"\n    );\n\n    self._songbirdPromise.resolve();\n  };\n};\n\nSongbirdFramework.prototype.getDfReferenceId = function () {\n  return this._getDfReferenceIdPromisePlus;\n};\n\nSongbirdFramework.prototype._performJWTValidation = function (\n  rawCardinalSDKVerificationData,\n  jwt\n) {\n  var self = this;\n  var nonce = this._lookupPaymentMethod.nonce;\n  var url =\n    \"payment_methods/\" + nonce + \"/three_d_secure/authenticate_from_jwt\";\n  var cancelCode =\n    rawCardinalSDKVerificationData &&\n    rawCardinalSDKVerificationData.Payment &&\n    rawCardinalSDKVerificationData.Payment.ExtendedData &&\n    rawCardinalSDKVerificationData.Payment.ExtendedData.ChallengeCancel;\n\n  if (cancelCode) {\n    // see ChallengeCancel docs here for different values:\n    // https://cardinaldocs.atlassian.net/wiki/spaces/CC/pages/98315/Response+Objects\n    analytics.sendEvent(\n      this._createPromise,\n      \"three-d-secure.verification-flow.cardinal-sdk.cancel-code.\" + cancelCode\n    );\n\n    if (cancelCode === CUSTOMER_CANCELED_SONGBIRD_MODAL) {\n      this._emit(SongbirdFramework.events.CUSTOMER_CANCELED);\n    }\n  }\n\n  analytics.sendEvent(\n    this._createPromise,\n    \"three-d-secure.verification-flow.upgrade-payment-method.started\"\n  );\n\n  return this._waitForClient()\n    .then(function () {\n      return self._client.request({\n        method: \"post\",\n        endpoint: url,\n        data: {\n          jwt: jwt,\n          paymentMethodNonce: nonce,\n        },\n      });\n    })\n    .then(function (response) {\n      var paymentMethod = response.paymentMethod || self._lookupPaymentMethod;\n      var formattedResponse = self._formatAuthResponse(\n        paymentMethod,\n        response.threeDSecureInfo\n      );\n\n      formattedResponse.rawCardinalSDKVerificationData =\n        rawCardinalSDKVerificationData;\n      analytics.sendEvent(\n        self._client,\n        \"three-d-secure.verification-flow.upgrade-payment-method.succeeded\"\n      );\n\n      return Promise.resolve(formattedResponse);\n    })\n    .catch(function (err) {\n      var error = new BraintreeError({\n        type: errors.THREEDS_JWT_AUTHENTICATION_FAILED.type,\n        code: errors.THREEDS_JWT_AUTHENTICATION_FAILED.code,\n        message: errors.THREEDS_JWT_AUTHENTICATION_FAILED.message,\n        details: {\n          originalError: err,\n        },\n      });\n\n      analytics.sendEvent(\n        self._client,\n        \"three-d-secure.verification-flow.upgrade-payment-method.errored\"\n      );\n\n      return Promise.reject(error);\n    });\n};\n\nSongbirdFramework.prototype._createPaymentsValidatedCallback = function () {\n  var self = this;\n\n  /**\n   * @param {object} data Response Data\n   * @see {@link https://cardinaldocs.atlassian.net/wiki/spaces/CC/pages/98315/Response+Objects#ResponseObjects-ObjectDefinition}\n   * @param {string} data.ActionCode The resulting state of the transaction.\n   * @param {boolean} data.Validated Represents whether transaction was successfully or not.\n   * @param {object} data.Payment Represents additional information about the verification.\n   * @param {number} data.ErrorNumber A non-zero value represents the error encountered while attempting the process the message request.\n   * @param {string} data.ErrorDescription Application error description for the associated error number.\n   * @param {string} validatedJwt Response JWT\n   * @returns {void}\n   * */\n  return function (data, validatedJwt) {\n    var formattedError;\n\n    if (self._useV1Fallback) {\n      // TODO since we've removed the listeners for the payments validated callback when initiating the v1 fallback,\n      // we should never get to this point. Leave this analtyics event in for now and review if that is indeed the\n      // case before removing this block.\n      analytics.sendEvent(\n        self._createPromise,\n        \"three-d-secure.verification-flow.cardinal-sdk.payments-validated-callback-called-in-v1-fallback-flow\"\n      );\n\n      return;\n    }\n\n    analytics.sendEvent(\n      self._createPromise,\n      \"three-d-secure.verification-flow.cardinal-sdk.action-code.\" +\n        data.ActionCode.toLowerCase()\n    );\n\n    if (!self._verifyCardPromisePlus) {\n      self.initiateV1Fallback(\n        \"cardinal-sdk-setup-error.number-\" + data.ErrorNumber\n      );\n\n      return;\n    }\n\n    switch (data.ActionCode) {\n      // Handle these scenarios based on liability shift information in the response.\n      case \"SUCCESS\":\n      case \"NOACTION\":\n      case \"FAILURE\":\n        self\n          ._performJWTValidation(data, validatedJwt)\n          .then(function (result) {\n            self._verifyCardPromisePlus.resolve(result);\n          })\n          .catch(function (err) {\n            self._verifyCardPromisePlus.reject(err);\n          });\n        break;\n\n      case \"ERROR\":\n        analytics.sendEvent(\n          self._createPromise,\n          \"three-d-secure.verification-flow.cardinal-sdk-error.\" +\n            data.ErrorNumber\n        );\n\n        switch (data.ErrorNumber) {\n          case 10001: // Cardinal Docs: Timeout when sending an /Init message\n          case 10002: // Cardinal Docs: Timeout when sending an /Start message\n            formattedError = new BraintreeError(\n              errors.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT\n            );\n            break;\n          case 10003: // Cardinal Docs: Timeout when sending an /Validate message. Although this code exists we do not yet have a flow where a validate message is sent to Midas. This error should not yet be triggered\n          case 10007: // Cardinal Docs: Timeout when sending an /Confirm message\n          case 10009: // Cardinal Docs: Timeout when sending an /Continue message\n            formattedError = new BraintreeError(\n              errors.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT\n            );\n            break;\n          case 10005: // Cardinal Docs: Songbird was started without a request jwt.\n          case 10006: // Cardinal Docs: This is a general configuration error. The description is populated by the specific configuration error that caused the error.\n            formattedError = new BraintreeError(\n              errors.THREEDS_CARDINAL_SDK_BAD_CONFIG\n            );\n            break;\n          case 10008: // Cardinal Docs: Songbird was initialized without a merchant JWT.\n          case 10010: // Cardinal Docs: The response JWT was\n            formattedError = new BraintreeError(\n              errors.THREEDS_CARDINAL_SDK_BAD_JWT\n            );\n            break;\n          case 10011:\n            // This may never get called, according to the Cardinal docs:\n            // The user has canceled the transaction. This is generally found in alternative\n            // payments that supply a cancel button on the payment brand side.\n            analytics.sendEvent(\n              self._createPromise,\n              \"three-d-secure.verification-flow.canceled\"\n            );\n            formattedError = new BraintreeError(\n              errors.THREEDS_CARDINAL_SDK_CANCELED\n            );\n            break;\n          default:\n            formattedError = new BraintreeError(\n              errors.THREEDS_CARDINAL_SDK_ERROR\n            );\n        }\n\n        formattedError.details = {\n          originalError: {\n            code: data.ErrorNumber,\n            description: data.ErrorDescription,\n          },\n        };\n\n        self._verifyCardPromisePlus.reject(formattedError);\n        break;\n\n      default:\n    }\n  };\n};\n\nSongbirdFramework.prototype._checkForVerifyCardError = function (\n  options,\n  privateOptions\n) {\n  if (!options.bin) {\n    return new BraintreeError({\n      type: errors.THREEDS_MISSING_VERIFY_CARD_OPTION.type,\n      code: errors.THREEDS_MISSING_VERIFY_CARD_OPTION.code,\n      message: \"verifyCard options must include a BIN.\",\n    });\n  }\n\n  return BaseFramework.prototype._checkForVerifyCardError.call(\n    this,\n    options,\n    privateOptions\n  );\n};\n\nSongbirdFramework.prototype._checkForFrameworkSpecificVerifyCardErrors =\n  function (options, privateOptions) {\n    var errorOption;\n\n    if (\n      typeof options.onLookupComplete !== \"function\" &&\n      !privateOptions.ignoreOnLookupCompleteRequirement\n    ) {\n      errorOption = \"an onLookupComplete function\";\n    }\n\n    return errorOption;\n  };\n\nSongbirdFramework.prototype._formatVerifyCardOptions = function (options) {\n  var modifiedOptions = BaseFramework.prototype._formatVerifyCardOptions.call(\n    this,\n    options\n  );\n  var additionalInformation = modifiedOptions.additionalInformation || {};\n\n  additionalInformation = this.transformBillingAddress(\n    additionalInformation,\n    options.billingAddress\n  );\n  additionalInformation = this.transformShippingAddress(additionalInformation);\n\n  if (options.onLookupComplete) {\n    modifiedOptions.onLookupComplete = deferred(options.onLookupComplete);\n  }\n  if (options.email) {\n    additionalInformation.email = options.email;\n  }\n  if (options.mobilePhoneNumber) {\n    additionalInformation.mobilePhoneNumber = options.mobilePhoneNumber;\n  }\n\n  modifiedOptions.additionalInformation = additionalInformation;\n\n  return modifiedOptions;\n};\n\nSongbirdFramework.prototype._onLookupComplete = function (\n  lookupResponse,\n  options\n) {\n  var self = this;\n\n  return BaseFramework.prototype._onLookupComplete\n    .call(this, lookupResponse)\n    .then(function (response) {\n      return new Promise(function (resolve, reject) {\n        // NEXT_MAJOR_VERSION format this response object to look like the mobile sdk response\n        // which is basically the lookup param at the top level with some additional accessors\n        response.requiresUserAuthentication = Boolean(\n          response.lookup && response.lookup.acsUrl\n        );\n\n        function next() {\n          resolve(response);\n        }\n\n        self._verifyCardPromisePlus.catch(reject);\n\n        // If both event and callback are mistakenly used together,\n        // prefer the callback when it is passed into the verifyCard options\n        if (options.onLookupComplete) {\n          options.onLookupComplete(response, next);\n        } else {\n          self._emit(SongbirdFramework.events.LOOKUP_COMPLETE, response, next);\n        }\n      });\n    });\n};\n\nSongbirdFramework.prototype._presentChallenge = function (lookupResponse) {\n  // transactionId is required for the Songbird flow, so if it\n  // does not exist, we fallback to the 3ds v1 flow\n  if (this._useV1Fallback || !lookupResponse.lookup.transactionId) {\n    this._presentChallengeWithV1Fallback(lookupResponse.lookup);\n\n    return;\n  }\n\n  // set up listener for ref id to call out to bt before calling verify callback\n  window.Cardinal.continue(\n    \"cca\",\n    {\n      AcsUrl: lookupResponse.lookup.acsUrl,\n      Payload: lookupResponse.lookup.pareq,\n    },\n    {\n      OrderDetails: { TransactionId: lookupResponse.lookup.transactionId },\n    }\n  );\n};\n\nSongbirdFramework.prototype._formatLookupData = function (options) {\n  var self = this;\n\n  return BaseFramework.prototype._formatLookupData\n    .call(this, options)\n    .then(function (data) {\n      data.additionalInfo = options.additionalInformation;\n\n      if (options.accountType) {\n        data.accountType = options.accountType;\n      }\n      if (options.challengeRequested) {\n        data.challengeRequested = options.challengeRequested;\n      }\n      if (options.requestedExemptionType) {\n        if (!SCA_EXEMPTION_TYPES.includes(options.requestedExemptionType)) {\n          throw new BraintreeError({\n            code: errors.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.code,\n            type: errors.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.type,\n            message:\n              \"requestedExemptionType `\" +\n              options.requestedExemptionType +\n              \"` is not a valid exemption. The accepted values are: `\" +\n              SCA_EXEMPTION_TYPES.join(\"`, `\") +\n              \"`\",\n          });\n        }\n        data.requestedExemptionType = options.requestedExemptionType;\n      }\n      if (options.customFields) {\n        data.customFields = options.customFields;\n      }\n      if (options.dataOnlyRequested) {\n        data.dataOnlyRequested = options.dataOnlyRequested;\n      }\n      if (options.exemptionRequested) {\n        data.exemptionRequested = options.exemptionRequested;\n      }\n      if (options.requestVisaDAF) {\n        data.requestVisaDAF = options.requestVisaDAF;\n      }\n      if (options.bin) {\n        data.bin = options.bin;\n      }\n      // NEXT_MAJOR_VERSION remove cardAdd in favor of cardAddChallengeRequested\n      if (options.cardAdd != null) {\n        data.cardAdd = options.cardAdd;\n      }\n      if (options.cardAddChallengeRequested != null) {\n        data.cardAdd = options.cardAddChallengeRequested;\n      }\n      if (options.merchantName) {\n        data.merchantName = options.merchantName;\n      }\n\n      return self.prepareLookup(data);\n    });\n};\n\nSongbirdFramework.prototype.cancelVerifyCard = function (verifyCardError) {\n  var self = this;\n\n  return BaseFramework.prototype.cancelVerifyCard\n    .call(this)\n    .then(function (response) {\n      if (self._verifyCardPromisePlus) {\n        verifyCardError =\n          verifyCardError ||\n          new BraintreeError(errors.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT);\n\n        self._verifyCardPromisePlus.reject(verifyCardError);\n      }\n\n      return response;\n    });\n};\n\nSongbirdFramework.prototype._removeSongbirdListeners = function () {\n  this._cardinalEvents.forEach(function (eventName) {\n    window.Cardinal.off(eventName);\n  });\n\n  this._cardinalEvents = [];\n};\n\nSongbirdFramework.prototype.teardown = function () {\n  if (window.Cardinal) {\n    this._removeSongbirdListeners();\n  }\n\n  // we intentionally do not remove the Cardinal SDK\n  // from the page when tearing down. Subsequent\n  // component creations will be faster because\n  // the asset is already on the page\n\n  return BaseFramework.prototype.teardown.call(this);\n};\n\nSongbirdFramework.prototype._reloadThreeDSecure = function () {\n  var self = this;\n  var startTime = Date.now();\n\n  return self.teardown().then(function () {\n    self._configureCardinalSdk({\n      setupOptions: self.originalSetupOptions,\n      setupStartTime: startTime,\n    });\n  });\n};\n\nfunction extractAddressData(source, target, prefix) {\n  target[prefix + \"Line1\"] = source.streetAddress;\n  target[prefix + \"Line2\"] = source.extendedAddress;\n  target[prefix + \"Line3\"] = source.line3;\n  target[prefix + \"City\"] = source.locality;\n  target[prefix + \"State\"] = source.region;\n  target[prefix + \"PostalCode\"] = source.postalCode;\n  target[prefix + \"CountryCode\"] = source.countryCodeAlpha2;\n}\n\nmodule.exports = SongbirdFramework;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC9mcmFtZXdvcmtzL3NvbmdiaXJkLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLG9CQUFvQixtQkFBTyxDQUFDLDZGQUFRO0FBQ3BDLGFBQWEsMkdBQXFDO0FBQ2xELGVBQWUsbUJBQU8sQ0FBQyxpRkFBdUI7QUFDOUMscUJBQXFCLG1CQUFPLENBQUMsK0ZBQThCO0FBQzNELDhCQUE4QixtQkFBTyxDQUFDLHFIQUF5QztBQUMvRSxnQkFBZ0IsbUJBQU8sQ0FBQyxtRkFBd0I7QUFDaEQsYUFBYSxtQkFBTyxDQUFDLDZFQUFxQjtBQUMxQyxhQUFhLG1CQUFPLENBQUMsK0ZBQXFCO0FBQzFDLGdCQUFnQixtQkFBTyxDQUFDLG1GQUF3QjtBQUNoRCxnQkFBZ0IsbUJBQU8sQ0FBQyxxR0FBd0I7QUFDaEQsc0JBQXNCLG1CQUFPLENBQUMsbUdBQTZCOztBQUUzRDtBQUNBLEVBQUUsaUlBQXdEO0FBQzFELGVBQWUsbUhBQTBDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esc0JBQXNCO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQLGlDQUFpQyxtQkFBbUI7QUFDcEQsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckIsV0FBVztBQUNYLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNCQUFzQixvREFBb0Q7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvZXh0ZXJuYWwvZnJhbWV3b3Jrcy9zb25nYmlyZC5qcz80MjhiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQmFzZUZyYW1ld29yayA9IHJlcXVpcmUoXCIuL2Jhc2VcIik7XG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9hc3NpZ25cIikuYXNzaWduO1xudmFyIGRlZmVycmVkID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9kZWZlcnJlZFwiKTtcbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi8uLi8uLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGNvbnZlcnRUb0JyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uLy4uLy4uL2xpYi9jb252ZXJ0LXRvLWJyYWludHJlZS1lcnJvclwiKTtcbnZhciBhbmFseXRpY3MgPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2FuYWx5dGljc1wiKTtcbnZhciBhc3NldHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2Fzc2V0c1wiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi4vLi4vc2hhcmVkL2Vycm9yc1wiKTtcbnZhciBlbnVtZXJhdGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2VudW1lcmF0ZVwiKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vLi4vc2hhcmVkL2NvbnN0YW50c1wiKTtcbnZhciBFeHRlbmRlZFByb21pc2UgPSByZXF1aXJlKFwiQGJyYWludHJlZS9leHRlbmRlZC1wcm9taXNlXCIpO1xuXG52YXIgSU5URUdSQVRJT05fVElNRU9VVF9NUyA9XG4gIHJlcXVpcmUoXCIuLi8uLi8uLi9saWIvY29uc3RhbnRzXCIpLklOVEVHUkFUSU9OX1RJTUVPVVRfTVM7XG52YXIgUExBVEZPUk0gPSByZXF1aXJlKFwiLi4vLi4vLi4vbGliL2NvbnN0YW50c1wiKS5QTEFURk9STTtcbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcbnZhciBDVVNUT01FUl9DQU5DRUxFRF9TT05HQklSRF9NT0RBTCA9IFwiMDFcIjtcbnZhciBTT05HQklSRF9VSV9FVkVOVFMgPSBbXG4gIFwidWkuY2xvc2VcIixcbiAgXCJ1aS5yZW5kZXJcIixcblxuICAvLyBUT0RPIHRoZXNlIGV2ZW50cyBhcmUgbm90IGRvY3VtZW50ZWQgaW4gdGhlXG4gIC8vIGNsaWVudCByZWZlcmVuY2UgYmVjYXVzZSBzbyBmYXIgd2UgaGF2ZVxuICAvLyBub3QgYmVlbiBhYmxlIHRvIHRyaWdnZXIgdGhlbSBpbiBvdXIgdGVzdGluZ1xuICBcInVpLnJlbmRlckhpZGRlblwiLFxuICBcInVpLmxvYWRpbmcuY2xvc2VcIixcbiAgXCJ1aS5sb2FkaW5nLnJlbmRlclwiLFxuXTtcblxudmFyIFNDQV9FWEVNUFRJT05fVFlQRVMgPSBbXCJsb3dfdmFsdWVcIiwgXCJ0cmFuc2FjdGlvbl9yaXNrX2FuYWx5c2lzXCJdO1xuXG5FeHRlbmRlZFByb21pc2Uuc3VwcHJlc3NVbmhhbmRsZWRQcm9taXNlTWVzc2FnZSA9IHRydWU7XG5cbmZ1bmN0aW9uIFNvbmdiaXJkRnJhbWV3b3JrKG9wdGlvbnMpIHtcbiAgQmFzZUZyYW1ld29yay5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIHRoaXMuX3VzZVYxRmFsbGJhY2sgPSBmYWxzZTtcbiAgdGhpcy5fY2xpZW50TWV0YWRhdGEgPSB7XG4gICAgcmVxdWVzdGVkVGhyZWVEU2VjdXJlVmVyc2lvbjogXCIyXCIsXG4gICAgc2RrVmVyc2lvbjogUExBVEZPUk0gKyBcIi9cIiArIFZFUlNJT04sXG4gIH07XG4gIHRoaXMub3JpZ2luYWxTZXR1cE9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLl9nZXREZlJlZmVyZW5jZUlkUHJvbWlzZVBsdXMgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG4gIHRoaXMuc2V0dXBTb25nYmlyZChvcHRpb25zKTtcbiAgdGhpcy5fY2FyZGluYWxFdmVudHMgPSBbXTtcbn1cblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlRnJhbWV3b3JrLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3RvcjogU29uZ2JpcmRGcmFtZXdvcmssXG59KTtcblxuU29uZ2JpcmRGcmFtZXdvcmsuZXZlbnRzID0gZW51bWVyYXRlKFxuICBbXG4gICAgXCJMT09LVVBfQ09NUExFVEVcIixcbiAgICBcIkNVU1RPTUVSX0NBTkNFTEVEXCIsXG4gICAgXCJVSS5DTE9TRVwiLFxuICAgIFwiVUkuUkVOREVSXCIsXG4gICAgXCJVSS5SRU5ERVJISURERU5cIixcbiAgICBcIlVJLkxPQURJTkcuQ0xPU0VcIixcbiAgICBcIlVJLkxPQURJTkcuUkVOREVSXCIsXG4gIF0sXG4gIFwic29uZ2JpcmQtZnJhbWV3b3JrOlwiXG4pO1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuc2V0VXBFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIChyZXBseSkge1xuICB0aGlzLm9uKFNvbmdiaXJkRnJhbWV3b3JrLmV2ZW50cy5MT09LVVBfQ09NUExFVEUsIGZ1bmN0aW9uIChkYXRhLCBuZXh0KSB7XG4gICAgcmVwbHkoXCJsb29rdXAtY29tcGxldGVcIiwgZGF0YSwgbmV4dCk7XG4gIH0pO1xuICB0aGlzLm9uKFNvbmdiaXJkRnJhbWV3b3JrLmV2ZW50cy5DVVNUT01FUl9DQU5DRUxFRCwgZnVuY3Rpb24gKCkge1xuICAgIHJlcGx5KFwiY3VzdG9tZXItY2FuY2VsZWRcIik7XG4gIH0pO1xuICB0aGlzLm9uKFNvbmdiaXJkRnJhbWV3b3JrLmV2ZW50c1tcIlVJLkNMT1NFXCJdLCBmdW5jdGlvbiAoKSB7XG4gICAgcmVwbHkoXCJhdXRoZW50aWNhdGlvbi1tb2RhbC1jbG9zZVwiKTtcbiAgfSk7XG4gIHRoaXMub24oU29uZ2JpcmRGcmFtZXdvcmsuZXZlbnRzW1wiVUkuUkVOREVSXCJdLCBmdW5jdGlvbiAoKSB7XG4gICAgcmVwbHkoXCJhdXRoZW50aWNhdGlvbi1tb2RhbC1yZW5kZXJcIik7XG4gIH0pO1xuICB0aGlzLm9uKFNvbmdiaXJkRnJhbWV3b3JrLmV2ZW50c1tcIlVJLlJFTkRFUkhJRERFTlwiXSwgZnVuY3Rpb24gKCkge1xuICAgIHJlcGx5KFwiYXV0aGVudGljYXRpb24tbW9kYWwtcmVuZGVyLWhpZGRlblwiKTtcbiAgfSk7XG4gIHRoaXMub24oU29uZ2JpcmRGcmFtZXdvcmsuZXZlbnRzW1wiVUkuTE9BRElORy5DTE9TRVwiXSwgZnVuY3Rpb24gKCkge1xuICAgIHJlcGx5KFwiYXV0aGVudGljYXRpb24tbW9kYWwtbG9hZGVyLWNsb3NlXCIpO1xuICB9KTtcbiAgdGhpcy5vbihTb25nYmlyZEZyYW1ld29yay5ldmVudHNbXCJVSS5MT0FESU5HLlJFTkRFUlwiXSwgZnVuY3Rpb24gKCkge1xuICAgIHJlcGx5KFwiYXV0aGVudGljYXRpb24tbW9kYWwtbG9hZGVyLXJlbmRlclwiKTtcbiAgfSk7XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUucHJlcGFyZUxvb2t1cCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciBkYXRhID0gYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJldHVybiB0aGlzLmdldERmUmVmZXJlbmNlSWQoKVxuICAgIC50aGVuKGZ1bmN0aW9uIChpZCkge1xuICAgICAgZGF0YS5kZlJlZmVyZW5jZUlkID0gaWQ7XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2VsZi5fdHJpZ2dlckNhcmRpbmFsQmluUHJvY2VzcyhvcHRpb25zLmJpbik7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgLy8gY2F0Y2ggYW5kIGlnbm9yZSBlcnJvcnMgZnJvbSBsb29raW5nIHVwXG4gICAgICAvLyBkZiByZWZlcmVuY2UgYW5kIENhcmRpbmFsIGJpbiBwcm9jZXNzXG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2VsZi5fd2FpdEZvckNsaWVudCgpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgZGF0YS5jbGllbnRNZXRhZGF0YSA9IHNlbGYuX2NsaWVudE1ldGFkYXRhO1xuICAgICAgZGF0YS5hdXRob3JpemF0aW9uRmluZ2VycHJpbnQgPVxuICAgICAgICBzZWxmLl9jbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpLmF1dGhvcml6YXRpb25GaW5nZXJwcmludDtcbiAgICAgIGRhdGEuYnJhaW50cmVlTGlicmFyeVZlcnNpb24gPSBcImJyYWludHJlZS93ZWIvXCIgKyBWRVJTSU9OO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KTtcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5pbml0aWFsaXplQ2hhbGxlbmdlV2l0aExvb2t1cFJlc3BvbnNlID0gZnVuY3Rpb24gKFxuICBsb29rdXBSZXNwb25zZSxcbiAgb3B0aW9uc1xuKSB7XG4gIHJldHVybiB0aGlzLnNldHVwU29uZ2JpcmQoKS50aGVuKFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBCYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5pbml0aWFsaXplQ2hhbGxlbmdlV2l0aExvb2t1cFJlc3BvbnNlLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGxvb2t1cFJlc3BvbnNlLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIH0uYmluZCh0aGlzKVxuICApO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLmluaXRpYXRlVjFGYWxsYmFjayA9IGZ1bmN0aW9uIChlcnJvclR5cGUpIHtcbiAgdGhpcy5fdXNlVjFGYWxsYmFjayA9IHRydWU7XG4gIHRoaXMuX3JlbW92ZVNvbmdiaXJkTGlzdGVuZXJzKCk7XG4gIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgdGhpcy5fY3JlYXRlUHJvbWlzZSxcbiAgICBcInRocmVlLWQtc2VjdXJlLnYxLWZhbGxiYWNrLlwiICsgZXJyb3JUeXBlXG4gICk7XG5cbiAgaWYgKHRoaXMuX3NvbmdiaXJkUHJvbWlzZSkge1xuICAgIHRoaXMuX3NvbmdiaXJkUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fdHJpZ2dlckNhcmRpbmFsQmluUHJvY2VzcyA9IGZ1bmN0aW9uIChiaW4pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgaXNzdWVyU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICByZXR1cm4gd2luZG93LkNhcmRpbmFsLnRyaWdnZXIoXCJiaW4ucHJvY2Vzc1wiLCBiaW4pLnRoZW4oZnVuY3Rpb24gKFxuICAgIGJpblJlc3VsdHNcbiAgKSB7XG4gICAgc2VsZi5fY2xpZW50TWV0YWRhdGEuaXNzdWVyRGV2aWNlRGF0YUNvbGxlY3Rpb25UaW1lRWxhcHNlZCA9XG4gICAgICBEYXRlLm5vdygpIC0gaXNzdWVyU3RhcnRUaW1lO1xuICAgIHNlbGYuX2NsaWVudE1ldGFkYXRhLmlzc3VlckRldmljZURhdGFDb2xsZWN0aW9uUmVzdWx0ID1cbiAgICAgIGJpblJlc3VsdHMgJiYgYmluUmVzdWx0cy5TdGF0dXM7XG4gIH0pO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLnRyYW5zZm9ybUJpbGxpbmdBZGRyZXNzID0gZnVuY3Rpb24gKFxuICBhZGRpdGlvbmFsSW5mb3JtYXRpb24sXG4gIGJpbGxpbmdBZGRyZXNzXG4pIHtcbiAgaWYgKGJpbGxpbmdBZGRyZXNzKSB7XG4gICAgLy8gbWFwIGZyb20gcHVibGljIEFQSSB0byB0aGUgQVBJIHRoYXQgdGhlIEdhdGV3YXkgZXhwZWN0c1xuICAgIGV4dHJhY3RBZGRyZXNzRGF0YShiaWxsaW5nQWRkcmVzcywgYWRkaXRpb25hbEluZm9ybWF0aW9uLCBcImJpbGxpbmdcIik7XG4gICAgYWRkaXRpb25hbEluZm9ybWF0aW9uLmJpbGxpbmdQaG9uZU51bWJlciA9IGJpbGxpbmdBZGRyZXNzLnBob25lTnVtYmVyO1xuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbi5iaWxsaW5nR2l2ZW5OYW1lID0gYmlsbGluZ0FkZHJlc3MuZ2l2ZW5OYW1lO1xuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbi5iaWxsaW5nU3VybmFtZSA9IGJpbGxpbmdBZGRyZXNzLnN1cm5hbWU7XG4gIH1cblxuICByZXR1cm4gYWRkaXRpb25hbEluZm9ybWF0aW9uO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLnRyYW5zZm9ybVNoaXBwaW5nQWRkcmVzcyA9IGZ1bmN0aW9uIChcbiAgYWRkaXRpb25hbEluZm9ybWF0aW9uXG4pIHtcbiAgdmFyIHNoaXBwaW5nQWRkcmVzcyA9IGFkZGl0aW9uYWxJbmZvcm1hdGlvbi5zaGlwcGluZ0FkZHJlc3M7XG5cbiAgaWYgKHNoaXBwaW5nQWRkcmVzcykge1xuICAgIC8vIG1hcCBmcm9tIHB1YmxpYyBBUEkgdG8gdGhlIEFQSSB0aGF0IHRoZSBHYXRld2F5IGV4cGVjdHNcbiAgICBleHRyYWN0QWRkcmVzc0RhdGEoc2hpcHBpbmdBZGRyZXNzLCBhZGRpdGlvbmFsSW5mb3JtYXRpb24sIFwic2hpcHBpbmdcIik7XG5cbiAgICBkZWxldGUgYWRkaXRpb25hbEluZm9ybWF0aW9uLnNoaXBwaW5nQWRkcmVzcztcbiAgfVxuXG4gIHJldHVybiBhZGRpdGlvbmFsSW5mb3JtYXRpb247XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuX2NyZWF0ZVYxSWZyYW1lTW9kYWxFbGVtZW50ID0gZnVuY3Rpb24gKGlmcmFtZSkge1xuICB2YXIgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gIG1vZGFsLmlubmVySFRNTCA9XG4gICAgJzxkaXYgZGF0YS1icmFpbnRyZWUtdjEtZmFsbGJhY2staWZyYW1lLWNvbnRhaW5lcj1cInRydWVcIiBzdHlsZT1cIicgK1xuICAgIFwiaGVpZ2h0OiA0MDBweDtcIiArXG4gICAgJ1wiPjwvZGl2Pic7XG4gIG1vZGFsXG4gICAgLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJyYWludHJlZS12MS1mYWxsYmFjay1pZnJhbWUtY29udGFpbmVyPVwidHJ1ZVwiXScpXG4gICAgLmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cbiAgcmV0dXJuIG1vZGFsO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9jcmVhdGVWMUlmcmFtZU1vZGFsID0gZnVuY3Rpb24gKGlmcmFtZSkge1xuICB2YXIgbW9kYWwgPSB0aGlzLl9jcmVhdGVWMUlmcmFtZU1vZGFsRWxlbWVudChpZnJhbWUpO1xuICB2YXIgYnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcihcIltkYXRhLWJyYWludHJlZS12MS1mYWxsYmFjay1jbG9zZS1idXR0b25dXCIpO1xuICB2YXIgYmFja2Ryb3AgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtYnJhaW50cmVlLXYxLWZhbGxiYWNrLWJhY2tkcm9wXVwiKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGNsb3NlSGFuZGxlcigpIHtcbiAgICBtb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1vZGFsKTtcbiAgICBzZWxmLmNhbmNlbFZlcmlmeUNhcmQoZXJyb3JzLlRIUkVFRFNfQ0FSRElOQUxfU0RLX0NBTkNFTEVEKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgc2VsZi5fb25WMUtleXVwKTtcbiAgICBzZWxmLl9vblYxS2V5dXAgPSBudWxsO1xuICB9XG5cbiAgdGhpcy5fb25WMUtleXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS5rZXkgIT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIW1vZGFsLnBhcmVudE5vZGUpIHtcbiAgICAgIC8vIG1vZGFsIG5vdCBvbiBwYWdlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2xvc2VIYW5kbGVyKCk7XG4gIH07XG5cbiAgaWYgKGJ0bikge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VIYW5kbGVyKTtcbiAgfVxuXG4gIGlmIChiYWNrZHJvcCkge1xuICAgIGJhY2tkcm9wLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUhhbmRsZXIpO1xuICB9XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX29uVjFLZXl1cCk7XG5cbiAgcmV0dXJuIG1vZGFsO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9hZGRWMUlmcmFtZVRvUGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl92MU1vZGFsKTtcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5faGFuZGxlQXV0aFJlc3BvbnNlRnJvbVYxRmFsbGJhY2sgPSBmdW5jdGlvbiAoXG4gIGRhdGFcbikge1xuICB0aGlzLl90ZWFyZG93blYxRWxlbWVudHMoKTtcbiAgdGhpcy5fdjFNb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX3YxTW9kYWwpO1xuICB0aGlzLl9oYW5kbGVWMUF1dGhSZXNwb25zZShkYXRhKTtcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fcHJlc2VudENoYWxsZW5nZVdpdGhWMUZhbGxiYWNrID0gZnVuY3Rpb24gKFxuICBsb29rdXBSZXNwb25zZVxuKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLl9zZXR1cFYxRWxlbWVudHMoe1xuICAgIGxvb2t1cFJlc3BvbnNlOiBsb29rdXBSZXNwb25zZSxcbiAgICBzaG93TG9hZGVyOiB0cnVlLFxuICAgIGhhbmRsZUF1dGhSZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHNlbGYuX2hhbmRsZUF1dGhSZXNwb25zZUZyb21WMUZhbGxiYWNrKGRhdGEpO1xuICAgIH0sXG4gIH0pO1xuICB0aGlzLl92MU1vZGFsID0gdGhpcy5fY3JlYXRlVjFJZnJhbWVNb2RhbCh0aGlzLl92MUlmcmFtZSk7XG4gIHRoaXMuX2FkZFYxSWZyYW1lVG9QYWdlKCk7XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuc2V0dXBTb25nYmlyZCA9IGZ1bmN0aW9uIChzZXR1cE9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICBpZiAodGhpcy5fc29uZ2JpcmRQcm9taXNlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvbmdiaXJkUHJvbWlzZTtcbiAgfVxuXG4gIHNldHVwT3B0aW9ucyA9IHNldHVwT3B0aW9ucyB8fCB7fTtcblxuICB0aGlzLl9zb25nYmlyZFByb21pc2UgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG4gIHRoaXMuX3YyU2V0dXBGYWlsdXJlUmVhc29uID0gXCJyZWFzb24tdW5rbm93blwiO1xuXG4gIHNlbGZcbiAgICAuX2xvYWRDYXJkaW5hbFNjcmlwdChzZXR1cE9wdGlvbnMpXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF3aW5kb3cuQ2FyZGluYWwpIHtcbiAgICAgICAgc2VsZi5fdjJTZXR1cEZhaWx1cmVSZWFzb24gPSBcImNhcmRpbmFsLWdsb2JhbC11bmF2YWlsYWJsZVwiO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlRIUkVFRFNfQ0FSRElOQUxfU0RLX1NFVFVQX0ZBSUxFRClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGYuX2NvbmZpZ3VyZUNhcmRpbmFsU2RrKHtcbiAgICAgICAgc2V0dXBPcHRpb25zOiBzZXR1cE9wdGlvbnMsXG4gICAgICAgIHNldHVwU3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICB2YXIgZXJyb3IgPSBjb252ZXJ0VG9CcmFpbnRyZWVFcnJvcihlcnIsIHtcbiAgICAgICAgdHlwZTogZXJyb3JzLlRIUkVFRFNfQ0FSRElOQUxfU0RLX1NFVFVQX0ZBSUxFRC50eXBlLFxuICAgICAgICBjb2RlOiBlcnJvcnMuVEhSRUVEU19DQVJESU5BTF9TREtfU0VUVVBfRkFJTEVELmNvZGUsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9ycy5USFJFRURTX0NBUkRJTkFMX1NES19TRVRVUF9GQUlMRUQubWVzc2FnZSxcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLl9nZXREZlJlZmVyZW5jZUlkUHJvbWlzZVBsdXMucmVqZWN0KGVycm9yKTtcblxuICAgICAgd2luZG93LmNsZWFyVGltZW91dChzZWxmLl9zb25nYmlyZFNldHVwVGltZW91dFJlZmVyZW5jZSk7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jbGllbnQsXG4gICAgICAgIFwidGhyZWUtZC1zZWN1cmUuY2FyZGluYWwtc2RrLmluaXQuc2V0dXAtZmFpbGVkXCJcbiAgICAgICk7XG4gICAgICBzZWxmLmluaXRpYXRlVjFGYWxsYmFjayhcbiAgICAgICAgXCJjYXJkaW5hbC1zZGstc2V0dXAtZmFpbGVkLlwiICsgc2VsZi5fdjJTZXR1cEZhaWx1cmVSZWFzb25cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuX3NvbmdiaXJkUHJvbWlzZTtcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fY29uZmlndXJlQ2FyZGluYWxTZGsgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gdGhpcy5fd2FpdEZvckNsaWVudCgpXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRocmVlRFNDb25maWcgPVxuICAgICAgICBzZWxmLl9jbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpLmdhdGV3YXlDb25maWd1cmF0aW9uLnRocmVlRFNlY3VyZTtcblxuICAgICAgcmV0dXJuIHRocmVlRFNDb25maWc7XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAodGhyZWVEU0NvbmZpZykge1xuICAgICAgdmFyIGp3dCA9IHRocmVlRFNDb25maWcuY2FyZGluYWxBdXRoZW50aWNhdGlvbkpXVDtcbiAgICAgIHZhciBzZXR1cE9wdGlvbnMgPSBjb25maWcuc2V0dXBPcHRpb25zO1xuICAgICAgdmFyIHNldHVwU3RhcnRUaW1lID0gY29uZmlnLnNldHVwU3RhcnRUaW1lO1xuICAgICAgdmFyIGNhcmRpbmFsQ29uZmlndXJhdGlvbiA9XG4gICAgICAgIHNlbGYuX2NyZWF0ZUNhcmRpbmFsQ29uZmlndXJhdGlvbk9wdGlvbnMoc2V0dXBPcHRpb25zKTtcblxuICAgICAgU09OR0JJUkRfVUlfRVZFTlRTLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICBzZWxmLnNldENhcmRpbmFsTGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5fZW1pdChTb25nYmlyZEZyYW1ld29yay5ldmVudHNbZXZlbnROYW1lLnRvVXBwZXJDYXNlKCldKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHNlbGYuc2V0Q2FyZGluYWxMaXN0ZW5lcihcbiAgICAgICAgXCJwYXltZW50cy5zZXR1cENvbXBsZXRlXCIsXG4gICAgICAgIHNlbGYuX2NyZWF0ZVBheW1lbnRzU2V0dXBDb21wbGV0ZUNhbGxiYWNrKClcbiAgICAgICk7XG5cbiAgICAgIHNlbGYuX3NldHVwRnJhbWV3b3JrU3BlY2lmaWNMaXN0ZW5lcnMoKTtcblxuICAgICAgd2luZG93LkNhcmRpbmFsLmNvbmZpZ3VyZShjYXJkaW5hbENvbmZpZ3VyYXRpb24pO1xuXG4gICAgICB3aW5kb3cuQ2FyZGluYWwuc2V0dXAoXCJpbml0XCIsIHtcbiAgICAgICAgand0OiBqd3QsXG4gICAgICB9KTtcblxuICAgICAgc2VsZi5fY2xpZW50TWV0YWRhdGEuY2FyZGluYWxEZXZpY2VEYXRhQ29sbGVjdGlvblRpbWVFbGFwc2VkID1cbiAgICAgICAgRGF0ZS5ub3coKSAtIHNldHVwU3RhcnRUaW1lO1xuXG4gICAgICBzZWxmLnNldENhcmRpbmFsTGlzdGVuZXIoXG4gICAgICAgIFwicGF5bWVudHMudmFsaWRhdGVkXCIsXG4gICAgICAgIHNlbGYuX2NyZWF0ZVBheW1lbnRzVmFsaWRhdGVkQ2FsbGJhY2soKVxuICAgICAgKTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBzZWxmLl92MlNldHVwRmFpbHVyZVJlYXNvbiA9IFwiY2FyZGluYWwtY29uZmlndXJhdGlvbi10aHJldy1lcnJvclwiO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTtcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5zZXRDYXJkaW5hbExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2IpIHtcbiAgdGhpcy5fY2FyZGluYWxFdmVudHMucHVzaChldmVudE5hbWUpO1xuICB3aW5kb3cuQ2FyZGluYWwub24oZXZlbnROYW1lLCBjYik7XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuX3NldHVwRnJhbWV3b3JrU3BlY2lmaWNMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIG5vb3Bcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fY3JlYXRlQ2FyZGluYWxDb25maWd1cmF0aW9uT3B0aW9ucyA9IGZ1bmN0aW9uIChcbiAgc2V0dXBPcHRpb25zXG4pIHtcbiAgdmFyIGNhcmRpbmFsQ29uZmlndXJhdGlvbiA9IHNldHVwT3B0aW9ucy5jYXJkaW5hbFNES0NvbmZpZyB8fCB7fTtcbiAgdmFyIHBheW1lbnRTZXR0aW5ncyA9IGNhcmRpbmFsQ29uZmlndXJhdGlvbi5wYXltZW50IHx8IHt9O1xuXG4gIGlmICghY2FyZGluYWxDb25maWd1cmF0aW9uLmxvZ2dpbmcgJiYgc2V0dXBPcHRpb25zLmxvZ2dpbmdFbmFibGVkKSB7XG4gICAgY2FyZGluYWxDb25maWd1cmF0aW9uLmxvZ2dpbmcgPSB7XG4gICAgICBsZXZlbDogXCJ2ZXJib3NlXCIsXG4gICAgfTtcbiAgfVxuXG4gIGNhcmRpbmFsQ29uZmlndXJhdGlvbi5wYXltZW50ID0ge307XG5cbiAgaWYgKHBheW1lbnRTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShcImRpc3BsYXlMb2FkaW5nXCIpKSB7XG4gICAgY2FyZGluYWxDb25maWd1cmF0aW9uLnBheW1lbnQuZGlzcGxheUxvYWRpbmcgPVxuICAgICAgcGF5bWVudFNldHRpbmdzLmRpc3BsYXlMb2FkaW5nO1xuICB9XG4gIGlmIChwYXltZW50U2V0dGluZ3MuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5RXhpdEJ1dHRvblwiKSkge1xuICAgIGNhcmRpbmFsQ29uZmlndXJhdGlvbi5wYXltZW50LmRpc3BsYXlFeGl0QnV0dG9uID1cbiAgICAgIHBheW1lbnRTZXR0aW5ncy5kaXNwbGF5RXhpdEJ1dHRvbjtcbiAgfVxuXG4gIHJldHVybiBjYXJkaW5hbENvbmZpZ3VyYXRpb247XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuX2xvYWRDYXJkaW5hbFNjcmlwdCA9IGZ1bmN0aW9uIChzZXR1cE9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJldHVybiB0aGlzLl93YWl0Rm9yQ2xpZW50KClcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2NyaXB0U291cmNlID0gc2VsZi5fZ2V0Q2FyZGluYWxTY3JpcHRTb3VyY2UoKTtcblxuICAgICAgc2VsZi5fc29uZ2JpcmRTZXR1cFRpbWVvdXRSZWZlcmVuY2UgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY2xpZW50LFxuICAgICAgICAgIFwidGhyZWUtZC1zZWN1cmUuY2FyZGluYWwtc2RrLmluaXQuc2V0dXAtdGltZW91dFwiXG4gICAgICAgICk7XG4gICAgICAgIHNlbGYuaW5pdGlhdGVWMUZhbGxiYWNrKFwiY2FyZGluYWwtc2RrLXNldHVwLXRpbWVvdXRcIik7XG4gICAgICB9LCBzZXR1cE9wdGlvbnMudGltZW91dCB8fCBJTlRFR1JBVElPTl9USU1FT1VUX01TKTtcblxuICAgICAgcmV0dXJuIGFzc2V0cy5sb2FkU2NyaXB0KHsgc3JjOiBzY3JpcHRTb3VyY2UgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgc2VsZi5fdjJTZXR1cEZhaWx1cmVSZWFzb24gPSBcInNvbmdiaXJkLWpzLWZhaWxlZC10by1sb2FkXCI7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgY29udmVydFRvQnJhaW50cmVlRXJyb3IoXG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIGVycm9ycy5USFJFRURTX0NBUkRJTkFMX1NES19TQ1JJUFRfTE9BRF9GQUlMRURcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fZ2V0Q2FyZGluYWxTY3JpcHRTb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBnYXRld2F5Q29uZmlnID0gdGhpcy5fY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKS5nYXRld2F5Q29uZmlndXJhdGlvbjtcblxuICBpZiAoZ2F0ZXdheUNvbmZpZyAmJiBnYXRld2F5Q29uZmlnLmVudmlyb25tZW50ID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHJldHVybiBjb25zdGFudHMuQ0FSRElOQUxfU0NSSVBUX1NPVVJDRS5wcm9kdWN0aW9uO1xuICB9XG5cbiAgcmV0dXJuIGNvbnN0YW50cy5DQVJESU5BTF9TQ1JJUFRfU09VUkNFLnNhbmRib3g7XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuX2NyZWF0ZVBheW1lbnRzU2V0dXBDb21wbGV0ZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgc2VsZi5fZ2V0RGZSZWZlcmVuY2VJZFByb21pc2VQbHVzLnJlc29sdmUoZGF0YS5zZXNzaW9uSWQpO1xuXG4gICAgd2luZG93LmNsZWFyVGltZW91dChzZWxmLl9zb25nYmlyZFNldHVwVGltZW91dFJlZmVyZW5jZSk7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICBcInRocmVlLWQtc2VjdXJlLmNhcmRpbmFsLXNkay5pbml0LnNldHVwLWNvbXBsZXRlZFwiXG4gICAgKTtcblxuICAgIHNlbGYuX3NvbmdiaXJkUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH07XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuZ2V0RGZSZWZlcmVuY2VJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2dldERmUmVmZXJlbmNlSWRQcm9taXNlUGx1cztcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fcGVyZm9ybUpXVFZhbGlkYXRpb24gPSBmdW5jdGlvbiAoXG4gIHJhd0NhcmRpbmFsU0RLVmVyaWZpY2F0aW9uRGF0YSxcbiAgand0XG4pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgbm9uY2UgPSB0aGlzLl9sb29rdXBQYXltZW50TWV0aG9kLm5vbmNlO1xuICB2YXIgdXJsID1cbiAgICBcInBheW1lbnRfbWV0aG9kcy9cIiArIG5vbmNlICsgXCIvdGhyZWVfZF9zZWN1cmUvYXV0aGVudGljYXRlX2Zyb21fand0XCI7XG4gIHZhciBjYW5jZWxDb2RlID1cbiAgICByYXdDYXJkaW5hbFNES1ZlcmlmaWNhdGlvbkRhdGEgJiZcbiAgICByYXdDYXJkaW5hbFNES1ZlcmlmaWNhdGlvbkRhdGEuUGF5bWVudCAmJlxuICAgIHJhd0NhcmRpbmFsU0RLVmVyaWZpY2F0aW9uRGF0YS5QYXltZW50LkV4dGVuZGVkRGF0YSAmJlxuICAgIHJhd0NhcmRpbmFsU0RLVmVyaWZpY2F0aW9uRGF0YS5QYXltZW50LkV4dGVuZGVkRGF0YS5DaGFsbGVuZ2VDYW5jZWw7XG5cbiAgaWYgKGNhbmNlbENvZGUpIHtcbiAgICAvLyBzZWUgQ2hhbGxlbmdlQ2FuY2VsIGRvY3MgaGVyZSBmb3IgZGlmZmVyZW50IHZhbHVlczpcbiAgICAvLyBodHRwczovL2NhcmRpbmFsZG9jcy5hdGxhc3NpYW4ubmV0L3dpa2kvc3BhY2VzL0NDL3BhZ2VzLzk4MzE1L1Jlc3BvbnNlK09iamVjdHNcbiAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgdGhpcy5fY3JlYXRlUHJvbWlzZSxcbiAgICAgIFwidGhyZWUtZC1zZWN1cmUudmVyaWZpY2F0aW9uLWZsb3cuY2FyZGluYWwtc2RrLmNhbmNlbC1jb2RlLlwiICsgY2FuY2VsQ29kZVxuICAgICk7XG5cbiAgICBpZiAoY2FuY2VsQ29kZSA9PT0gQ1VTVE9NRVJfQ0FOQ0VMRURfU09OR0JJUkRfTU9EQUwpIHtcbiAgICAgIHRoaXMuX2VtaXQoU29uZ2JpcmRGcmFtZXdvcmsuZXZlbnRzLkNVU1RPTUVSX0NBTkNFTEVEKTtcbiAgICB9XG4gIH1cblxuICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgIHRoaXMuX2NyZWF0ZVByb21pc2UsXG4gICAgXCJ0aHJlZS1kLXNlY3VyZS52ZXJpZmljYXRpb24tZmxvdy51cGdyYWRlLXBheW1lbnQtbWV0aG9kLnN0YXJ0ZWRcIlxuICApO1xuXG4gIHJldHVybiB0aGlzLl93YWl0Rm9yQ2xpZW50KClcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2VsZi5fY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICBlbmRwb2ludDogdXJsLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgand0OiBqd3QsXG4gICAgICAgICAgcGF5bWVudE1ldGhvZE5vbmNlOiBub25jZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgcGF5bWVudE1ldGhvZCA9IHJlc3BvbnNlLnBheW1lbnRNZXRob2QgfHwgc2VsZi5fbG9va3VwUGF5bWVudE1ldGhvZDtcbiAgICAgIHZhciBmb3JtYXR0ZWRSZXNwb25zZSA9IHNlbGYuX2Zvcm1hdEF1dGhSZXNwb25zZShcbiAgICAgICAgcGF5bWVudE1ldGhvZCxcbiAgICAgICAgcmVzcG9uc2UudGhyZWVEU2VjdXJlSW5mb1xuICAgICAgKTtcblxuICAgICAgZm9ybWF0dGVkUmVzcG9uc2UucmF3Q2FyZGluYWxTREtWZXJpZmljYXRpb25EYXRhID1cbiAgICAgICAgcmF3Q2FyZGluYWxTREtWZXJpZmljYXRpb25EYXRhO1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY2xpZW50LFxuICAgICAgICBcInRocmVlLWQtc2VjdXJlLnZlcmlmaWNhdGlvbi1mbG93LnVwZ3JhZGUtcGF5bWVudC1tZXRob2Quc3VjY2VlZGVkXCJcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZm9ybWF0dGVkUmVzcG9uc2UpO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHZhciBlcnJvciA9IG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICAgIHR5cGU6IGVycm9ycy5USFJFRURTX0pXVF9BVVRIRU5USUNBVElPTl9GQUlMRUQudHlwZSxcbiAgICAgICAgY29kZTogZXJyb3JzLlRIUkVFRFNfSldUX0FVVEhFTlRJQ0FUSU9OX0ZBSUxFRC5jb2RlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvcnMuVEhSRUVEU19KV1RfQVVUSEVOVElDQVRJT05fRkFJTEVELm1lc3NhZ2UsXG4gICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnIsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY2xpZW50LFxuICAgICAgICBcInRocmVlLWQtc2VjdXJlLnZlcmlmaWNhdGlvbi1mbG93LnVwZ3JhZGUtcGF5bWVudC1tZXRob2QuZXJyb3JlZFwiXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9jcmVhdGVQYXltZW50c1ZhbGlkYXRlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFJlc3BvbnNlIERhdGFcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9jYXJkaW5hbGRvY3MuYXRsYXNzaWFuLm5ldC93aWtpL3NwYWNlcy9DQy9wYWdlcy85ODMxNS9SZXNwb25zZStPYmplY3RzI1Jlc3BvbnNlT2JqZWN0cy1PYmplY3REZWZpbml0aW9ufVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YS5BY3Rpb25Db2RlIFRoZSByZXN1bHRpbmcgc3RhdGUgb2YgdGhlIHRyYW5zYWN0aW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRhdGEuVmFsaWRhdGVkIFJlcHJlc2VudHMgd2hldGhlciB0cmFuc2FjdGlvbiB3YXMgc3VjY2Vzc2Z1bGx5IG9yIG5vdC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEuUGF5bWVudCBSZXByZXNlbnRzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHZlcmlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRhdGEuRXJyb3JOdW1iZXIgQSBub24temVybyB2YWx1ZSByZXByZXNlbnRzIHRoZSBlcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBhdHRlbXB0aW5nIHRoZSBwcm9jZXNzIHRoZSBtZXNzYWdlIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhLkVycm9yRGVzY3JpcHRpb24gQXBwbGljYXRpb24gZXJyb3IgZGVzY3JpcHRpb24gZm9yIHRoZSBhc3NvY2lhdGVkIGVycm9yIG51bWJlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbGlkYXRlZEp3dCBSZXNwb25zZSBKV1RcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqICovXG4gIHJldHVybiBmdW5jdGlvbiAoZGF0YSwgdmFsaWRhdGVkSnd0KSB7XG4gICAgdmFyIGZvcm1hdHRlZEVycm9yO1xuXG4gICAgaWYgKHNlbGYuX3VzZVYxRmFsbGJhY2spIHtcbiAgICAgIC8vIFRPRE8gc2luY2Ugd2UndmUgcmVtb3ZlZCB0aGUgbGlzdGVuZXJzIGZvciB0aGUgcGF5bWVudHMgdmFsaWRhdGVkIGNhbGxiYWNrIHdoZW4gaW5pdGlhdGluZyB0aGUgdjEgZmFsbGJhY2ssXG4gICAgICAvLyB3ZSBzaG91bGQgbmV2ZXIgZ2V0IHRvIHRoaXMgcG9pbnQuIExlYXZlIHRoaXMgYW5hbHR5aWNzIGV2ZW50IGluIGZvciBub3cgYW5kIHJldmlldyBpZiB0aGF0IGlzIGluZGVlZCB0aGVcbiAgICAgIC8vIGNhc2UgYmVmb3JlIHJlbW92aW5nIHRoaXMgYmxvY2suXG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcInRocmVlLWQtc2VjdXJlLnZlcmlmaWNhdGlvbi1mbG93LmNhcmRpbmFsLXNkay5wYXltZW50cy12YWxpZGF0ZWQtY2FsbGJhY2stY2FsbGVkLWluLXYxLWZhbGxiYWNrLWZsb3dcIlxuICAgICAgKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgXCJ0aHJlZS1kLXNlY3VyZS52ZXJpZmljYXRpb24tZmxvdy5jYXJkaW5hbC1zZGsuYWN0aW9uLWNvZGUuXCIgK1xuICAgICAgICBkYXRhLkFjdGlvbkNvZGUudG9Mb3dlckNhc2UoKVxuICAgICk7XG5cbiAgICBpZiAoIXNlbGYuX3ZlcmlmeUNhcmRQcm9taXNlUGx1cykge1xuICAgICAgc2VsZi5pbml0aWF0ZVYxRmFsbGJhY2soXG4gICAgICAgIFwiY2FyZGluYWwtc2RrLXNldHVwLWVycm9yLm51bWJlci1cIiArIGRhdGEuRXJyb3JOdW1iZXJcbiAgICAgICk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGRhdGEuQWN0aW9uQ29kZSkge1xuICAgICAgLy8gSGFuZGxlIHRoZXNlIHNjZW5hcmlvcyBiYXNlZCBvbiBsaWFiaWxpdHkgc2hpZnQgaW5mb3JtYXRpb24gaW4gdGhlIHJlc3BvbnNlLlxuICAgICAgY2FzZSBcIlNVQ0NFU1NcIjpcbiAgICAgIGNhc2UgXCJOT0FDVElPTlwiOlxuICAgICAgY2FzZSBcIkZBSUxVUkVcIjpcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5fcGVyZm9ybUpXVFZhbGlkYXRpb24oZGF0YSwgdmFsaWRhdGVkSnd0KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHNlbGYuX3ZlcmlmeUNhcmRQcm9taXNlUGx1cy5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc2VsZi5fdmVyaWZ5Q2FyZFByb21pc2VQbHVzLnJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkVSUk9SXCI6XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgICBcInRocmVlLWQtc2VjdXJlLnZlcmlmaWNhdGlvbi1mbG93LmNhcmRpbmFsLXNkay1lcnJvci5cIiArXG4gICAgICAgICAgICBkYXRhLkVycm9yTnVtYmVyXG4gICAgICAgICk7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLkVycm9yTnVtYmVyKSB7XG4gICAgICAgICAgY2FzZSAxMDAwMTogLy8gQ2FyZGluYWwgRG9jczogVGltZW91dCB3aGVuIHNlbmRpbmcgYW4gL0luaXQgbWVzc2FnZVxuICAgICAgICAgIGNhc2UgMTAwMDI6IC8vIENhcmRpbmFsIERvY3M6IFRpbWVvdXQgd2hlbiBzZW5kaW5nIGFuIC9TdGFydCBtZXNzYWdlXG4gICAgICAgICAgICBmb3JtYXR0ZWRFcnJvciA9IG5ldyBCcmFpbnRyZWVFcnJvcihcbiAgICAgICAgICAgICAgZXJyb3JzLlRIUkVFRFNfQ0FSRElOQUxfU0RLX1NFVFVQX1RJTUVET1VUXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMDAwMzogLy8gQ2FyZGluYWwgRG9jczogVGltZW91dCB3aGVuIHNlbmRpbmcgYW4gL1ZhbGlkYXRlIG1lc3NhZ2UuIEFsdGhvdWdoIHRoaXMgY29kZSBleGlzdHMgd2UgZG8gbm90IHlldCBoYXZlIGEgZmxvdyB3aGVyZSBhIHZhbGlkYXRlIG1lc3NhZ2UgaXMgc2VudCB0byBNaWRhcy4gVGhpcyBlcnJvciBzaG91bGQgbm90IHlldCBiZSB0cmlnZ2VyZWRcbiAgICAgICAgICBjYXNlIDEwMDA3OiAvLyBDYXJkaW5hbCBEb2NzOiBUaW1lb3V0IHdoZW4gc2VuZGluZyBhbiAvQ29uZmlybSBtZXNzYWdlXG4gICAgICAgICAgY2FzZSAxMDAwOTogLy8gQ2FyZGluYWwgRG9jczogVGltZW91dCB3aGVuIHNlbmRpbmcgYW4gL0NvbnRpbnVlIG1lc3NhZ2VcbiAgICAgICAgICAgIGZvcm1hdHRlZEVycm9yID0gbmV3IEJyYWludHJlZUVycm9yKFxuICAgICAgICAgICAgICBlcnJvcnMuVEhSRUVEU19DQVJESU5BTF9TREtfUkVTUE9OU0VfVElNRURPVVRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDEwMDA1OiAvLyBDYXJkaW5hbCBEb2NzOiBTb25nYmlyZCB3YXMgc3RhcnRlZCB3aXRob3V0IGEgcmVxdWVzdCBqd3QuXG4gICAgICAgICAgY2FzZSAxMDAwNjogLy8gQ2FyZGluYWwgRG9jczogVGhpcyBpcyBhIGdlbmVyYWwgY29uZmlndXJhdGlvbiBlcnJvci4gVGhlIGRlc2NyaXB0aW9uIGlzIHBvcHVsYXRlZCBieSB0aGUgc3BlY2lmaWMgY29uZmlndXJhdGlvbiBlcnJvciB0aGF0IGNhdXNlZCB0aGUgZXJyb3IuXG4gICAgICAgICAgICBmb3JtYXR0ZWRFcnJvciA9IG5ldyBCcmFpbnRyZWVFcnJvcihcbiAgICAgICAgICAgICAgZXJyb3JzLlRIUkVFRFNfQ0FSRElOQUxfU0RLX0JBRF9DT05GSUdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDEwMDA4OiAvLyBDYXJkaW5hbCBEb2NzOiBTb25nYmlyZCB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIG1lcmNoYW50IEpXVC5cbiAgICAgICAgICBjYXNlIDEwMDEwOiAvLyBDYXJkaW5hbCBEb2NzOiBUaGUgcmVzcG9uc2UgSldUIHdhc1xuICAgICAgICAgICAgZm9ybWF0dGVkRXJyb3IgPSBuZXcgQnJhaW50cmVlRXJyb3IoXG4gICAgICAgICAgICAgIGVycm9ycy5USFJFRURTX0NBUkRJTkFMX1NES19CQURfSldUXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMDAxMTpcbiAgICAgICAgICAgIC8vIFRoaXMgbWF5IG5ldmVyIGdldCBjYWxsZWQsIGFjY29yZGluZyB0byB0aGUgQ2FyZGluYWwgZG9jczpcbiAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyBjYW5jZWxlZCB0aGUgdHJhbnNhY3Rpb24uIFRoaXMgaXMgZ2VuZXJhbGx5IGZvdW5kIGluIGFsdGVybmF0aXZlXG4gICAgICAgICAgICAvLyBwYXltZW50cyB0aGF0IHN1cHBseSBhIGNhbmNlbCBidXR0b24gb24gdGhlIHBheW1lbnQgYnJhbmQgc2lkZS5cbiAgICAgICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICAgICAgICAgIFwidGhyZWUtZC1zZWN1cmUudmVyaWZpY2F0aW9uLWZsb3cuY2FuY2VsZWRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZvcm1hdHRlZEVycm9yID0gbmV3IEJyYWludHJlZUVycm9yKFxuICAgICAgICAgICAgICBlcnJvcnMuVEhSRUVEU19DQVJESU5BTF9TREtfQ0FOQ0VMRURcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZm9ybWF0dGVkRXJyb3IgPSBuZXcgQnJhaW50cmVlRXJyb3IoXG4gICAgICAgICAgICAgIGVycm9ycy5USFJFRURTX0NBUkRJTkFMX1NES19FUlJPUlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdHRlZEVycm9yLmRldGFpbHMgPSB7XG4gICAgICAgICAgb3JpZ2luYWxFcnJvcjoge1xuICAgICAgICAgICAgY29kZTogZGF0YS5FcnJvck51bWJlcixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLkVycm9yRGVzY3JpcHRpb24sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl92ZXJpZnlDYXJkUHJvbWlzZVBsdXMucmVqZWN0KGZvcm1hdHRlZEVycm9yKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9O1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9jaGVja0ZvclZlcmlmeUNhcmRFcnJvciA9IGZ1bmN0aW9uIChcbiAgb3B0aW9ucyxcbiAgcHJpdmF0ZU9wdGlvbnNcbikge1xuICBpZiAoIW9wdGlvbnMuYmluKSB7XG4gICAgcmV0dXJuIG5ldyBCcmFpbnRyZWVFcnJvcih7XG4gICAgICB0eXBlOiBlcnJvcnMuVEhSRUVEU19NSVNTSU5HX1ZFUklGWV9DQVJEX09QVElPTi50eXBlLFxuICAgICAgY29kZTogZXJyb3JzLlRIUkVFRFNfTUlTU0lOR19WRVJJRllfQ0FSRF9PUFRJT04uY29kZSxcbiAgICAgIG1lc3NhZ2U6IFwidmVyaWZ5Q2FyZCBvcHRpb25zIG11c3QgaW5jbHVkZSBhIEJJTi5cIixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBCYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fY2hlY2tGb3JWZXJpZnlDYXJkRXJyb3IuY2FsbChcbiAgICB0aGlzLFxuICAgIG9wdGlvbnMsXG4gICAgcHJpdmF0ZU9wdGlvbnNcbiAgKTtcbn07XG5cblNvbmdiaXJkRnJhbWV3b3JrLnByb3RvdHlwZS5fY2hlY2tGb3JGcmFtZXdvcmtTcGVjaWZpY1ZlcmlmeUNhcmRFcnJvcnMgPVxuICBmdW5jdGlvbiAob3B0aW9ucywgcHJpdmF0ZU9wdGlvbnMpIHtcbiAgICB2YXIgZXJyb3JPcHRpb247XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5vbkxvb2t1cENvbXBsZXRlICE9PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICFwcml2YXRlT3B0aW9ucy5pZ25vcmVPbkxvb2t1cENvbXBsZXRlUmVxdWlyZW1lbnRcbiAgICApIHtcbiAgICAgIGVycm9yT3B0aW9uID0gXCJhbiBvbkxvb2t1cENvbXBsZXRlIGZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yT3B0aW9uO1xuICB9O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuX2Zvcm1hdFZlcmlmeUNhcmRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIG1vZGlmaWVkT3B0aW9ucyA9IEJhc2VGcmFtZXdvcmsucHJvdG90eXBlLl9mb3JtYXRWZXJpZnlDYXJkT3B0aW9ucy5jYWxsKFxuICAgIHRoaXMsXG4gICAgb3B0aW9uc1xuICApO1xuICB2YXIgYWRkaXRpb25hbEluZm9ybWF0aW9uID0gbW9kaWZpZWRPcHRpb25zLmFkZGl0aW9uYWxJbmZvcm1hdGlvbiB8fCB7fTtcblxuICBhZGRpdGlvbmFsSW5mb3JtYXRpb24gPSB0aGlzLnRyYW5zZm9ybUJpbGxpbmdBZGRyZXNzKFxuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbixcbiAgICBvcHRpb25zLmJpbGxpbmdBZGRyZXNzXG4gICk7XG4gIGFkZGl0aW9uYWxJbmZvcm1hdGlvbiA9IHRoaXMudHJhbnNmb3JtU2hpcHBpbmdBZGRyZXNzKGFkZGl0aW9uYWxJbmZvcm1hdGlvbik7XG5cbiAgaWYgKG9wdGlvbnMub25Mb29rdXBDb21wbGV0ZSkge1xuICAgIG1vZGlmaWVkT3B0aW9ucy5vbkxvb2t1cENvbXBsZXRlID0gZGVmZXJyZWQob3B0aW9ucy5vbkxvb2t1cENvbXBsZXRlKTtcbiAgfVxuICBpZiAob3B0aW9ucy5lbWFpbCkge1xuICAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbi5lbWFpbCA9IG9wdGlvbnMuZW1haWw7XG4gIH1cbiAgaWYgKG9wdGlvbnMubW9iaWxlUGhvbmVOdW1iZXIpIHtcbiAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb24ubW9iaWxlUGhvbmVOdW1iZXIgPSBvcHRpb25zLm1vYmlsZVBob25lTnVtYmVyO1xuICB9XG5cbiAgbW9kaWZpZWRPcHRpb25zLmFkZGl0aW9uYWxJbmZvcm1hdGlvbiA9IGFkZGl0aW9uYWxJbmZvcm1hdGlvbjtcblxuICByZXR1cm4gbW9kaWZpZWRPcHRpb25zO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9vbkxvb2t1cENvbXBsZXRlID0gZnVuY3Rpb24gKFxuICBsb29rdXBSZXNwb25zZSxcbiAgb3B0aW9uc1xuKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gQmFzZUZyYW1ld29yay5wcm90b3R5cGUuX29uTG9va3VwQ29tcGxldGVcbiAgICAuY2FsbCh0aGlzLCBsb29rdXBSZXNwb25zZSlcbiAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIE5FWFRfTUFKT1JfVkVSU0lPTiBmb3JtYXQgdGhpcyByZXNwb25zZSBvYmplY3QgdG8gbG9vayBsaWtlIHRoZSBtb2JpbGUgc2RrIHJlc3BvbnNlXG4gICAgICAgIC8vIHdoaWNoIGlzIGJhc2ljYWxseSB0aGUgbG9va3VwIHBhcmFtIGF0IHRoZSB0b3AgbGV2ZWwgd2l0aCBzb21lIGFkZGl0aW9uYWwgYWNjZXNzb3JzXG4gICAgICAgIHJlc3BvbnNlLnJlcXVpcmVzVXNlckF1dGhlbnRpY2F0aW9uID0gQm9vbGVhbihcbiAgICAgICAgICByZXNwb25zZS5sb29rdXAgJiYgcmVzcG9uc2UubG9va3VwLmFjc1VybFxuICAgICAgICApO1xuXG4gICAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl92ZXJpZnlDYXJkUHJvbWlzZVBsdXMuY2F0Y2gocmVqZWN0KTtcblxuICAgICAgICAvLyBJZiBib3RoIGV2ZW50IGFuZCBjYWxsYmFjayBhcmUgbWlzdGFrZW5seSB1c2VkIHRvZ2V0aGVyLFxuICAgICAgICAvLyBwcmVmZXIgdGhlIGNhbGxiYWNrIHdoZW4gaXQgaXMgcGFzc2VkIGludG8gdGhlIHZlcmlmeUNhcmQgb3B0aW9uc1xuICAgICAgICBpZiAob3B0aW9ucy5vbkxvb2t1cENvbXBsZXRlKSB7XG4gICAgICAgICAgb3B0aW9ucy5vbkxvb2t1cENvbXBsZXRlKHJlc3BvbnNlLCBuZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9lbWl0KFNvbmdiaXJkRnJhbWV3b3JrLmV2ZW50cy5MT09LVVBfQ09NUExFVEUsIHJlc3BvbnNlLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuX3ByZXNlbnRDaGFsbGVuZ2UgPSBmdW5jdGlvbiAobG9va3VwUmVzcG9uc2UpIHtcbiAgLy8gdHJhbnNhY3Rpb25JZCBpcyByZXF1aXJlZCBmb3IgdGhlIFNvbmdiaXJkIGZsb3csIHNvIGlmIGl0XG4gIC8vIGRvZXMgbm90IGV4aXN0LCB3ZSBmYWxsYmFjayB0byB0aGUgM2RzIHYxIGZsb3dcbiAgaWYgKHRoaXMuX3VzZVYxRmFsbGJhY2sgfHwgIWxvb2t1cFJlc3BvbnNlLmxvb2t1cC50cmFuc2FjdGlvbklkKSB7XG4gICAgdGhpcy5fcHJlc2VudENoYWxsZW5nZVdpdGhWMUZhbGxiYWNrKGxvb2t1cFJlc3BvbnNlLmxvb2t1cCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzZXQgdXAgbGlzdGVuZXIgZm9yIHJlZiBpZCB0byBjYWxsIG91dCB0byBidCBiZWZvcmUgY2FsbGluZyB2ZXJpZnkgY2FsbGJhY2tcbiAgd2luZG93LkNhcmRpbmFsLmNvbnRpbnVlKFxuICAgIFwiY2NhXCIsXG4gICAge1xuICAgICAgQWNzVXJsOiBsb29rdXBSZXNwb25zZS5sb29rdXAuYWNzVXJsLFxuICAgICAgUGF5bG9hZDogbG9va3VwUmVzcG9uc2UubG9va3VwLnBhcmVxLFxuICAgIH0sXG4gICAge1xuICAgICAgT3JkZXJEZXRhaWxzOiB7IFRyYW5zYWN0aW9uSWQ6IGxvb2t1cFJlc3BvbnNlLmxvb2t1cC50cmFuc2FjdGlvbklkIH0sXG4gICAgfVxuICApO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9mb3JtYXRMb29rdXBEYXRhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJldHVybiBCYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5fZm9ybWF0TG9va3VwRGF0YVxuICAgIC5jYWxsKHRoaXMsIG9wdGlvbnMpXG4gICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRhdGEuYWRkaXRpb25hbEluZm8gPSBvcHRpb25zLmFkZGl0aW9uYWxJbmZvcm1hdGlvbjtcblxuICAgICAgaWYgKG9wdGlvbnMuYWNjb3VudFR5cGUpIHtcbiAgICAgICAgZGF0YS5hY2NvdW50VHlwZSA9IG9wdGlvbnMuYWNjb3VudFR5cGU7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5jaGFsbGVuZ2VSZXF1ZXN0ZWQpIHtcbiAgICAgICAgZGF0YS5jaGFsbGVuZ2VSZXF1ZXN0ZWQgPSBvcHRpb25zLmNoYWxsZW5nZVJlcXVlc3RlZDtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLnJlcXVlc3RlZEV4ZW1wdGlvblR5cGUpIHtcbiAgICAgICAgaWYgKCFTQ0FfRVhFTVBUSU9OX1RZUEVTLmluY2x1ZGVzKG9wdGlvbnMucmVxdWVzdGVkRXhlbXB0aW9uVHlwZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgICAgY29kZTogZXJyb3JzLlRIUkVFRFNfUkVRVUVTVEVEX0VYRU1QVElPTl9UWVBFX0lOVkFMSUQuY29kZSxcbiAgICAgICAgICAgIHR5cGU6IGVycm9ycy5USFJFRURTX1JFUVVFU1RFRF9FWEVNUFRJT05fVFlQRV9JTlZBTElELnR5cGUsXG4gICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICBcInJlcXVlc3RlZEV4ZW1wdGlvblR5cGUgYFwiICtcbiAgICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0ZWRFeGVtcHRpb25UeXBlICtcbiAgICAgICAgICAgICAgXCJgIGlzIG5vdCBhIHZhbGlkIGV4ZW1wdGlvbi4gVGhlIGFjY2VwdGVkIHZhbHVlcyBhcmU6IGBcIiArXG4gICAgICAgICAgICAgIFNDQV9FWEVNUFRJT05fVFlQRVMuam9pbihcImAsIGBcIikgK1xuICAgICAgICAgICAgICBcImBcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnJlcXVlc3RlZEV4ZW1wdGlvblR5cGUgPSBvcHRpb25zLnJlcXVlc3RlZEV4ZW1wdGlvblR5cGU7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5jdXN0b21GaWVsZHMpIHtcbiAgICAgICAgZGF0YS5jdXN0b21GaWVsZHMgPSBvcHRpb25zLmN1c3RvbUZpZWxkcztcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmRhdGFPbmx5UmVxdWVzdGVkKSB7XG4gICAgICAgIGRhdGEuZGF0YU9ubHlSZXF1ZXN0ZWQgPSBvcHRpb25zLmRhdGFPbmx5UmVxdWVzdGVkO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuZXhlbXB0aW9uUmVxdWVzdGVkKSB7XG4gICAgICAgIGRhdGEuZXhlbXB0aW9uUmVxdWVzdGVkID0gb3B0aW9ucy5leGVtcHRpb25SZXF1ZXN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5yZXF1ZXN0VmlzYURBRikge1xuICAgICAgICBkYXRhLnJlcXVlc3RWaXNhREFGID0gb3B0aW9ucy5yZXF1ZXN0VmlzYURBRjtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmJpbikge1xuICAgICAgICBkYXRhLmJpbiA9IG9wdGlvbnMuYmluO1xuICAgICAgfVxuICAgICAgLy8gTkVYVF9NQUpPUl9WRVJTSU9OIHJlbW92ZSBjYXJkQWRkIGluIGZhdm9yIG9mIGNhcmRBZGRDaGFsbGVuZ2VSZXF1ZXN0ZWRcbiAgICAgIGlmIChvcHRpb25zLmNhcmRBZGQgIT0gbnVsbCkge1xuICAgICAgICBkYXRhLmNhcmRBZGQgPSBvcHRpb25zLmNhcmRBZGQ7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5jYXJkQWRkQ2hhbGxlbmdlUmVxdWVzdGVkICE9IG51bGwpIHtcbiAgICAgICAgZGF0YS5jYXJkQWRkID0gb3B0aW9ucy5jYXJkQWRkQ2hhbGxlbmdlUmVxdWVzdGVkO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMubWVyY2hhbnROYW1lKSB7XG4gICAgICAgIGRhdGEubWVyY2hhbnROYW1lID0gb3B0aW9ucy5tZXJjaGFudE5hbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLnByZXBhcmVMb29rdXAoZGF0YSk7XG4gICAgfSk7XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuY2FuY2VsVmVyaWZ5Q2FyZCA9IGZ1bmN0aW9uICh2ZXJpZnlDYXJkRXJyb3IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHJldHVybiBCYXNlRnJhbWV3b3JrLnByb3RvdHlwZS5jYW5jZWxWZXJpZnlDYXJkXG4gICAgLmNhbGwodGhpcylcbiAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChzZWxmLl92ZXJpZnlDYXJkUHJvbWlzZVBsdXMpIHtcbiAgICAgICAgdmVyaWZ5Q2FyZEVycm9yID1cbiAgICAgICAgICB2ZXJpZnlDYXJkRXJyb3IgfHxcbiAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlRIUkVFRFNfVkVSSUZZX0NBUkRfQ0FOQ0VMRURfQllfTUVSQ0hBTlQpO1xuXG4gICAgICAgIHNlbGYuX3ZlcmlmeUNhcmRQcm9taXNlUGx1cy5yZWplY3QodmVyaWZ5Q2FyZEVycm9yKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLl9yZW1vdmVTb25nYmlyZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fY2FyZGluYWxFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgd2luZG93LkNhcmRpbmFsLm9mZihldmVudE5hbWUpO1xuICB9KTtcblxuICB0aGlzLl9jYXJkaW5hbEV2ZW50cyA9IFtdO1xufTtcblxuU29uZ2JpcmRGcmFtZXdvcmsucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xuICBpZiAod2luZG93LkNhcmRpbmFsKSB7XG4gICAgdGhpcy5fcmVtb3ZlU29uZ2JpcmRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vIHdlIGludGVudGlvbmFsbHkgZG8gbm90IHJlbW92ZSB0aGUgQ2FyZGluYWwgU0RLXG4gIC8vIGZyb20gdGhlIHBhZ2Ugd2hlbiB0ZWFyaW5nIGRvd24uIFN1YnNlcXVlbnRcbiAgLy8gY29tcG9uZW50IGNyZWF0aW9ucyB3aWxsIGJlIGZhc3RlciBiZWNhdXNlXG4gIC8vIHRoZSBhc3NldCBpcyBhbHJlYWR5IG9uIHRoZSBwYWdlXG5cbiAgcmV0dXJuIEJhc2VGcmFtZXdvcmsucHJvdG90eXBlLnRlYXJkb3duLmNhbGwodGhpcyk7XG59O1xuXG5Tb25nYmlyZEZyYW1ld29yay5wcm90b3R5cGUuX3JlbG9hZFRocmVlRFNlY3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICByZXR1cm4gc2VsZi50ZWFyZG93bigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX2NvbmZpZ3VyZUNhcmRpbmFsU2RrKHtcbiAgICAgIHNldHVwT3B0aW9uczogc2VsZi5vcmlnaW5hbFNldHVwT3B0aW9ucyxcbiAgICAgIHNldHVwU3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgfSk7XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gZXh0cmFjdEFkZHJlc3NEYXRhKHNvdXJjZSwgdGFyZ2V0LCBwcmVmaXgpIHtcbiAgdGFyZ2V0W3ByZWZpeCArIFwiTGluZTFcIl0gPSBzb3VyY2Uuc3RyZWV0QWRkcmVzcztcbiAgdGFyZ2V0W3ByZWZpeCArIFwiTGluZTJcIl0gPSBzb3VyY2UuZXh0ZW5kZWRBZGRyZXNzO1xuICB0YXJnZXRbcHJlZml4ICsgXCJMaW5lM1wiXSA9IHNvdXJjZS5saW5lMztcbiAgdGFyZ2V0W3ByZWZpeCArIFwiQ2l0eVwiXSA9IHNvdXJjZS5sb2NhbGl0eTtcbiAgdGFyZ2V0W3ByZWZpeCArIFwiU3RhdGVcIl0gPSBzb3VyY2UucmVnaW9uO1xuICB0YXJnZXRbcHJlZml4ICsgXCJQb3N0YWxDb2RlXCJdID0gc291cmNlLnBvc3RhbENvZGU7XG4gIHRhcmdldFtwcmVmaXggKyBcIkNvdW50cnlDb2RlXCJdID0gc291cmNlLmNvdW50cnlDb2RlQWxwaGEyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNvbmdiaXJkRnJhbWV3b3JrO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/songbird.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/external/three-d-secure.js":
/*!******************************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/external/three-d-secure.js ***!
  \******************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar methods = __webpack_require__(/*! ../../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar convertMethodsToError = __webpack_require__(/*! ../../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar EventEmitter = __webpack_require__(/*! @braintree/event-emitter */ \"(ssr)/./node_modules/@braintree/event-emitter/dist/event-emitter.js\");\nvar FRAMEWORKS = __webpack_require__(/*! ./frameworks */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/frameworks/index.js\");\n\n/**\n * @deprecated\n * @callback ThreeDSecure~addFrameCallback\n * @param {?BraintreeError} [err] `null` or `undefined` if there was no error.\n * @param {HTMLIFrameElement} iframe An iframe element containing the bank's authentication page that you must put on your page.\n * @description **Deprecated** The callback used for options.addFrame in 3DS 1.0's {@link ThreeDSecure#verifyCard|verifyCard}.\n * @returns {void}\n */\n\n/**\n * @deprecated\n * @callback ThreeDSecure~removeFrameCallback\n * @description **Deprecated** The callback used for options.removeFrame in 3DS 1.0's {@link ThreeDSecure#verifyCard|verifyCard}.\n * @returns {void}\n */\n\n/**\n * @deprecated\n * @typedef {object} ThreeDSecure~verifyCardCustomerObject\n * @property {string} [customer.mobilePhoneNumber] The mobile phone number used for verification. Only numbers; remove dashes, parenthesis and other characters.\n * @property {string} [customer.email] The email used for verification.\n * @property {string} [customer.shippingMethod] The 2-digit string indicating the shipping method chosen for the transaction.\n * @property {string} [customer.billingAddress.firstName] The first name associated with the address.\n * @property {string} [customer.billingAddress.lastName] The last name associated with the address.\n * @property {string} [customer.billingAddress.streetAddress] Line 1 of the Address (eg. number, street, etc).\n * @property {string} [customer.billingAddress.extendedAddress] Line 2 of the Address (eg. suite, apt #, etc.).\n * @property {string} [customer.billingAddress.locality] The locality (city) name associated with the address.\n * @property {string} [customer.billingAddress.region] The 2 letter code for US states or an ISO-3166-2 country subdivision code of up to three letters.\n * @property {string} [customer.billingAddress.postalCode] The zip code or equivalent for countries that have them.\n * @property {string} [customer.billingAddress.countryCodeAlpha2] The 2 character country code.\n * @property {string} [customer.billingAddress.phoneNumber] The phone number associated with the address. Only numbers; remove dashes, parenthesis and other characters.\n * @description **Deprecated** Optional customer information to be passed to 3DS 1.0 for verification.\n */\n\n/**\n * @typedef {object} ThreeDSecure~verifyPayload\n * @property {string} nonce The new payment method nonce produced by the 3D Secure lookup. The original nonce passed into {@link ThreeDSecure#verifyCard|verifyCard} was consumed. This new nonce should be used to transact on your server.\n * @property {string} type The payment method type.\n * @property {object} details Additional account details.\n * @property {string} details.cardType Type of card, ex: Visa, MasterCard.\n * @property {string} details.lastFour Last four digits of card number.\n * @property {string} details.lastTwo Last two digits of card number.\n * @property {string} description A human-readable description.\n * @property {object} binData Information about the card based on the bin.\n * @property {string} binData.commercial Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.countryOfIssuance The country of issuance.\n * @property {string} binData.debit Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.durbinRegulated Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.healthcare Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.issuingBank The issuing bank.\n * @property {string} binData.payroll Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.prepaid Possible values: 'Yes', 'No', 'Unknown'.\n * @property {string} binData.productId The product id.\n * @property {boolean} liabilityShiftPossible *Deprecated:* Use `threeDSecureInfo.liabilityShiftPossible` instead.\n * @property {boolean} liabilityShifted *Deprecated:* Use `threeDSecureInfo.liabilityShifted` instead.\n * @property {object} threeDSecureInfo 3DS information about the card. Note: This information should be verified on the server by using the [payment method nonce find method](https://developer.paypal.com/braintree/docs/reference/request/payment-method-nonce/find). The values provided here are merely for convenience. Only values looked up on the server should determine the logic about how to process a transaction.\n * @property {string} threeDSecureInfo.acsTransactionId The transaction identifier from the issuing bank.\n * @property {string} threeDSecureInfo.cavv Cardholder authentication verification value or CAVV. The main encrypted message issuers and card networks use to verify authentication has occurred. Mastercard uses an AVV message and American Express uses an AEVV message, each of which should also be passed in the cavv parameter.\n * @property {string} threeDSecureInfo.dsTransactionId Transaction identifier resulting from 3D Secure 2 authentication.\n * @property {string} threeDSecureInfo.eciFlag The value of the electronic commerce indicator (ECI) flag, which indicates the outcome of the 3DS authentication. This will be a two-digit value.\n * @property {boolean} threeDSecureInfo.enrolled Indicates the status of 3D Secure authentication eligibility with the card issuer.\n * @property {boolean} threeDSecureInfo.liabilityShifted Indicates whether the liability for fraud has been shifted away from the merchant.\n * @property {boolean} threeDSecureInfo.liabilityShiftPossible Indicates whether liability shift is still possible on a retry.\n * @property {string} threeDSecureInfo.paresStatus Transaction status result identifier.\n * @property {string} threeDSecureInfo.status Indicates the outcome of the 3D Secure event.\n * @property {string} threeDSecureInfo.threeDSecureAuthenticationId ID of the 3D Secure authentication performed for this transaction. Do not provide this field as a transaction sale parameter if you are using the returned payment method nonce from the payload.\n * @property {string} threeDSecureInfo.threeDSecureServerTransactionId Transaction identifier provided by the issuing bank who recieved the 3D Secure event.\n * @property {string} threeDSecureInfo.threeDSecureVersion The version of 3D Secure authentication used for the transaction.\n * @property {string} threeDSecureInfo.xid Transaction identifier resulting from 3D Secure authentication. Uniquely identifies the transaction and sometimes required in the authorization message. This is a base64-encoded value. This field will no longer be used in 3D Secure 2 authentications for Visa and Mastercard, however it will be supported by American Express.\n * @property {string} threeDSecureInfo.lookup.transStatus Error code returned from the 3D Secure MPI provider.\n * @property {string} threeDSecureInfo.lookup.transStatusReason Description correlating to the transStatus error code.\n * @property {string} threeDSecureInfo.authentication.transStatus Error code returned from the 3D Secure MPI provider.\n * @property {string} threeDSecureInfo.authentication.transStatusReason Description correlating to the transStatus error code.\n * @property {object} rawCardinalSDKVerificationData The response back from the Cardinal SDK after verification has completed. See [Cardinal's Documentation](https://cardinaldocs.atlassian.net/wiki/spaces/CC/pages/98315/Response+Objects) for more information. If the customer was not required to do a 3D Secure challenge, this object will not be available.\n */\n\n/**\n * @typedef {string} ThreeDSecure~prepareLookupPayload The client data to pass on when doing a server side lookup call.\n */\n\n/**\n * @typedef {object} ThreeDSecure~verificationData\n * @property {boolean} requiresUserAuthentication When `true`, the user will be presented with a 3D Secure challenge when calling `next` in the {@link ThreeDSecure#event:lookup-complete|`lookup-complete` event}.\n * @property {object} threeDSecureInfo Contains liability shift details.\n * @property {boolean} threeDSecureInfo.liabilityShiftPossible Indicates whether the card was eligible for 3D Secure.\n * @property {boolean} threeDSecureInfo.liabilityShifted Indicates whether the liability for fraud has been shifted away from the merchant.\n * @property {object} paymentMethod A {@link ThreeDSecure~verifyPayload|verifyPayload} object.\n * @property {object} lookup Details about the 3D Secure lookup.\n * @property {string} lookup.threeDSecureVersion The version of 3D Secure that will be used for the 3D Secure challenge.\n */\n\n/**\n * @typedef {object} ThreeDSecure~billingAddress\n * @property {string} [givenName] The first name associated with the billing address. (maximum length 50, ASCII characters)\n * @property {string} [surname] The last name associated with the billing address. (maximum length 50, ASCII characters)\n * @property {string} [phoneNumber] The phone number associated with the billing address. Only numbers; remove dashes, parenthesis and other characters.\n * @property {string} [streetAddress] Line 1 of the billing address (eg. number, street, etc). (maximum length 50)\n * @property {string} [extendedAddress] Line 2 of the billing address (eg. suite, apt #, etc.). (maximum length 50)\n * @property {string} [line3] Line 3 of the billing address if needed (eg. suite, apt #, etc). (maximum length 50)\n * @property {string} [locality] The locality (city) name associated with the billing address.\n * @property {string} [region] This field expects an ISO3166-2 subdivision code. The subdivision code is what follows the hyphen separator in the full ISO 3166-2 code. For example, the state of Ohio in the United States we expect \"OH\" as opposed to the full ISO 3166-2 code \"US-OH\".\n * @property {string} [postalCode] The zip code or equivalent for countries that have them.\n * @property {string} [countryCodeAlpha2] The 2 character country code.\n */\n\n/**\n * @typedef {object} ThreeDSecure~additionalInformation\n * @property {string} [workPhoneNumber] The work phone number used for verification. Only numbers; remove dashes, parenthesis and other characters. (maximum length 25)\n * @property {string} [shippingGivenName] The first name associated with the shipping address. (maximum length 50, ASCII characters)\n * @property {string} [shippingSurname] The last name associated with the shipping address. (maximum length 50, ASCII characters)\n * @property {object} [shippingAddress]\n * @property {string} [shippingAddress.streetAddress] Line 1 of the shipping address (eg. number, street, etc). (maximum length 50)\n * @property {string} [shippingAddress.extendedAddress] Line 2 of the shipping address (eg. suite, apt #, etc.). (maximum length 50)\n * @property {string} [shippingAddress.line3] Line 3 of the shipping address if needed (eg. suite, apt #, etc). (maximum length 50)\n * @property {string} [shippingAddress.locality] The locality (city) name associated with the shipping address. (maximum length 50)\n * @property {string} [shippingAddress.region] This field expects an ISO3166-2 subdivision code. The subdivision code is what follows the hyphen separator in the full ISO 3166-2 code. For example, the state of Ohio in the United States we expect \"OH\" as opposed to the full ISO 3166-2 code \"US-OH\".\n * @property {string} [shippingAddress.postalCode] The zip code or equivalent for countries that have them. (maximum length 10)\n * @property {string} [shippingAddress.countryCodeAlpha2] The 2 character country code. (maximum length 2)\n * @property {string} [shippingPhone] The phone number associated with the shipping address. Only numbers; remove dashes, parenthesis and other characters. (maximum length 20)\n * @property {string} [shippingMethod] The 2-digit string indicating the name of the shipping method chosen for the transaction. (maximum length 50) Possible values:\n * - `01` Same Day\n * - `02` Overnight / Expedited\n * - `03` Priority (2-3 Days)\n * - `04` Ground\n * - `05` Electronic Delivery\n * - `06` Ship to Store\n * @property {string} [shippingMethodIndicator] The 2-digit string indicating the shipping method chosen for the transaction Possible values.\n * - `01` Ship to cardholder billing address\n * - `02` Ship to another verified address on file with merchant\n * - `03` Ship to address that is different from billing address\n * - `04` Ship to store (store address should be populated on request)\n * - `05` Digital goods\n * - `06` Travel and event tickets, not shipped\n * - `07` Other\n * @property {string} [productCode] The 3-letter string representing the merchant product code. Possible values:\n * - `AIR` Airline\n * - `GEN` General Retail\n * - `DIG` Digital Goods\n * - `SVC` Services\n * - `RES` Restaurant\n * - `TRA` Travel\n * - `DSP` Cash Dispensing\n * - `REN` Car Rental\n * - `GAS` Fuel\n * - `LUX` Luxury Retail\n * - `ACC` Accommodation Retail\n * - `TBD` Other\n * @property {string} [deliveryTimeframe] The 2-digit number indicating the delivery time frame. Possible values:\n * - `01` Electronic delivery\n * - `02` Same day shipping\n * - `03` Overnight shipping\n * - `04` Two or more day shipping\n * @property {string} [deliveryEmail] For electronic delivery, email address to which the merchandise was delivered. (maximum length 254)\n * @property {string} [reorderindicator] The 2-digit number indicating whether the cardholder is reordering previously purchased merchandise. possible values:\n * - `01` First time ordered\n * - `02` Reordered\n * @property {string} [preorderIndicator] The 2-digit number indicating whether cardholder is placing an order with a future availability or release date. possible values:\n * - `01` Merchandise available\n * - `02` Future availability\n * @property {string} [preorderDate] The 8-digit number (format: YYYYMMDD) indicating expected date that a pre-ordered purchase will be available.\n * @property {string} [giftCardAmount] The purchase amount total for prepaid gift cards in major units. (maximum length 15)\n * @property {string} [giftCardCurrencyCode] ISO 4217 currency code for the gift card purchased. (maximum length 3)\n * @property {string} [giftCardCount] Total count of individual prepaid gift cards purchased. (maximum length 2)\n * @property {string} [accountAgeIndicator] The 2-digit value representing the length of time cardholder has had account. Possible values:\n * - `01` No Account\n * - `02` Created during transaction\n * - `03` Less than 30 days\n * - `04` 30-60 days\n * - `05` More than 60 days\n * @property {string} [accountCreateDate] The 8-digit number (format: YYYYMMDD) indicating the date the cardholder opened the account.\n * @property {string} [accountChangeIndicator] The 2-digit value representing the length of time since the last change to the cardholder account. This includes shipping address, new payment account or new user added. Possible values:\n * - `01` Changed during transaction\n * - `02` Less than 30 days\n * - `03` 30-60 days\n * - `04` More than 60 days\n * @property {string} [accountChangeDate] The 8-digit number (format: YYYYMMDD) indicating the date the cardholder's account was last changed. This includes changes to the billing or shipping address, new payment accounts or new users added.\n * @property {string} [accountPwdChangeIndicator] The 2-digit value representing the length of time since the cardholder changed or reset the password on the account. Possible values:\n * - `01` No change\n * - `02` Changed during transaction\n * - `03` Less than 30 days\n * - `04` 30-60 days\n * - `05` More than 60 days\n * @property {string} [accountPwdChangeDate] The 8-digit number (format: YYYYMMDD) indicating the date the cardholder last changed or reset password on account.\n * @property {string} [shippingAddressUsageIndicator] The 2-digit value indicating when the shipping address used for transaction was first used. Possible values:\n * - `01` This transaction\n * - `02` Less than 30 days\n * - `03` 30-60 days\n * - `04` More than 60 days\n * @property {string} [shippingAddressUsageDate] The 8-digit number (format: YYYYMMDD) indicating the date when the shipping address used for this transaction was first used.\n * @property {string} [transactionCountDay] Number of transactions (successful or abandoned) for this cardholder account within the last 24 hours. (maximum length 3)\n * @property {string} [transactionCountYear] Number of transactions (successful or abandoned) for this cardholder account within the last year. (maximum length 3)\n * @property {string} [addCardAttempts] Number of add card attempts in the last 24 hours. (maximum length 3)\n * @property {string} [accountPurchases] Number of purchases with this cardholder account during the previous six months.\n * @property {string} [fraudActivity] The 2-digit value indicating whether the merchant experienced suspicious activity (including previous fraud) on the account. Possible values:\n * - `01` No suspicious activity\n * - `02` Suspicious activity observed\n * @property {string} [shippingNameIndicator] The 2-digit value indicating if the cardholder name on the account is identical to the shipping name used for the transaction. Possible values:\n * - `01` Account and shipping name identical\n * - `02` Account and shipping name differ\n * @property {string} [paymentAccountIndicator] The 2-digit value indicating the length of time that the payment account was enrolled in the merchant account. Possible values:\n * - `01` No account (guest checkout)\n * - `02` During the transaction\n * - `03` Less than 30 days\n * - `04` 30-60 days\n * - `05` More than 60 days\n * @property {string} [paymentAccountAge] The 8-digit number (format: YYYYMMDD) indicating the date the payment account was added to the cardholder account.\n * @property {string} [acsWindowSize] The 2-digit number to set the challenge window size to display to the end cardholder.  The ACS will reply with content that is formatted appropriately to this window size to allow for the best user experience.  The sizes are width x height in pixels of the window displayed in the cardholder browser window. Possible values:\n * - `01` 250x400\n * - `02` 390x400\n * - `03` 500x600\n * - `04` 600x400\n * - `05` Full page\n * @property {string} [sdkMaxTimeout] The 2-digit number of minutes (minimum 05) to set the maximum amount of time for all 3DS 2.0 messages to be communicated between all components.\n * @property {string} [addressMatch] The 1-character value (Y/N) indicating whether cardholder billing and shipping addresses match.\n * @property {string} [accountId] Additional cardholder account information. (maximum length 64)\n * @property {string} [ipAddress] The IP address of the consumer. IPv4 and IPv6 are supported.\n * - only one IP address supported\n * - only numbers, letters, period '.' chars, or colons ':' are acceptable\n * @property {string} [orderDescription] Brief description of items purchased. (maximum length 256)\n * @property {string} [taxAmount] Unformatted tax amount without any decimalization (ie. $123.67 = 12367). (maximum length 20)\n * @property {string} [userAgent] The exact content of the HTTP user agent header. (maximum length 500)\n * @property {string} [authenticationIndicator] The 2-digit number indicating the type of authentication request. Possible values:\n *  - `01` Payment\n *  - `02` Recurring transaction\n *  - `03` Installment\n *  - `04` Add card\n *  - `05` Maintain card\n *  - `06` Cardholder verification as part of EMV token ID&V\n * @property {string} [installment] An integer value greater than 1 indicating the maximum number of permitted authorizations for installment payments. (maximum length 3)\n * @property {string} [purchaseDate] The 14-digit number (format: YYYYMMDDHHMMSS) indicating the date in UTC of original purchase.\n * @property {string} [recurringEnd] The 8-digit number (format: YYYYMMDD) indicating the date after which no further recurring authorizations should be performed.\n * @property {string} [recurringFrequency] Integer value indicating the minimum number of days between recurring authorizations. A frequency of monthly is indicated by the value 28. Multiple of 28 days will be used to indicate months (ex. 6 months = 168). (maximum length 3)\n */\n\n/**\n * @name ThreeDSecure#on\n * @function\n * @param {string} event The name of the event to which you are subscribing.\n * @param {function} handler A callback to handle the event.\n * @description Subscribes a handler function to a named event. The following events are available:\n *   * {@link ThreeDSecure#event:lookup-complete|lookup-complete}\n *   * {@link ThreeDSecure#event:customer-canceled|customer-canceled}\n *   * {@link ThreeDSecure#event:authentication-iframe-available|authentication-iframe-available}\n *   * {@link ThreeDSecure#event:authentication-modal-render|authentication-modal-render}\n *   * {@link ThreeDSecure#event:authentication-modal-close|authentication-modal-close}\n * @example\n * <caption>Listening to a 3D Secure event</caption>\n * braintree.threeDSecure.create({ ... }, function (createErr, threeDSecureInstance) {\n *   threeDSecureInstance.on('lookup-complete', function (data, next) {\n *     console.log('data from the lookup', data);\n *     next();\n *   });\n *   threeDSecureInstance.on('customer-canceled', function () {\n *     console.log('log that the customer canceled');\n *   });\n * });\n * @returns {void}\n */\n\n/**\n * @name ThreeDSecure#off\n * @function\n * @param {string} event The name of the event to which you are unsubscribing.\n * @param {function} handler The callback for the event you are unsubscribing from.\n * @description Unsubscribes the handler function to a named event.\n * @example\n * <caption>Subscribing and then unsubscribing from a 3D Secure eld event</caption>\n * braintree.threeDSecure.create({ ... }, function (createErr, threeDSecureInstance) {\n *   var lookupCallback = function (data, next) {\n *     console.log(data);\n *     next();\n *   };\n *   var cancelCallback = function () {\n *     // log the cancelation\n *     // or update UI\n *   };\n *\n *   threeDSecureInstance.on('lookup-complete', lookupCallback);\n *   threeDSecureInstance.on('customer-canceled', cancelCallback);\n *\n *   // later on\n *   threeDSecureInstance.off('lookup-complete', lookupCallback);\n *   threeDSecureInstance.off('customer-canceled', cancelCallback);\n * });\n * @returns {void}\n */\n\n/**\n * This event is emitted when the `2-inline-iframe` version is specified when creating the 3D Secure instance and the authentication iframe becomes available.\n * @event ThreeDSecure#authentication-iframe-available\n * @example\n * <caption>Listening for the authentication iframe to be available</caption>\n *   threeDSecureInstance.on('authentication-iframe-available', function (event, next) {\n *     document.body.appendChild(event.element); // add iframe element to page\n *\n *     next(); // let the SDK know the iframe is ready\n *   });\n * });\n */\n\n/**\n * This event is emitted when using the 3D Secure 2.0 flow and the initial lookup request completes. If this is not used, a `onLookupComplete` callback must be passed into the `verifyCard` method.\n * @event ThreeDSecure#lookup-complete\n * @example\n * <caption>Listening for when the lookup request is complete</caption>\n * braintree.threeDSecure.create({\n *   client: clientInstance,\n *   version: '2'\n * }, function (createErr, threeDSecureInstance) {\n *   threeDSecureInstance.on('lookup-complete', function (data, next) {\n *     // inspect the data\n *\n *     // call next when ready to proceed with the challenge\n *     next();\n *   });\n * });\n */\n\n/**\n * This event is emitted when using the 3D Secure 2.0 flow and the customer cancels the 3D Secure challenge.\n * @event ThreeDSecure#customer-canceled\n * @example\n * <caption>Listening for when the customer cancels the 3D Secure challenge</caption>\n * braintree.threeDSecure.create({\n *   client: clientInstance,\n *   version: '2'\n * }, function (createErr, threeDSecureInstance) {\n *   threeDSecureInstance.on('customer-canceled', function () {\n *     // the customer canceled the 3D Secure challenge\n *   });\n * });\n */\n\n/**\n * This event is emitted when using the 3D Secure 2.0 flow and the authentication modal closes, either because the authentication was completed or because the customer canceled the process.\n * @event ThreeDSecure#authentication-modal-close\n * @example\n * braintree.threeDSecure.create({\n *   client: clientInstance,\n *   version: '2'\n * }, function (createErr, threeDSecureInstance) {\n *   threeDSecureInstance.on('authentication-modal-close', function () {\n *     // the modal was closed\n *   });\n * });\n */\n\n/**\n * This event is emitted when using the 3D Secure 2.0 flow and the authentication modal is rendered.\n * @event ThreeDSecure#authentication-modal-render\n * @example\n * braintree.threeDSecure.create({\n *   client: clientInstance,\n *   version: '2'\n * }, function (createErr, threeDSecureInstance) {\n *   threeDSecureInstance.on('authentication-modal-render', function () {\n *     // the modal was rendered, presenting the authentication form to the customer\n *   });\n * });\n */\n\n/**\n * @class\n * @param {object} options 3D Secure {@link module:braintree-web/three-d-secure.create create} options\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/three-d-secure.create|braintree.threeDSecure.create} instead.</strong>\n * @classdesc This class represents a ThreeDSecure component produced by {@link module:braintree-web/three-d-secure.create|braintree.threeDSecure.create}. Instances of this class have a method for launching a 3D Secure authentication flow.\n *\n * If you use the Braintree SDK from within an iframe, you must not use the `sandbox` attribute on your iframe or the 3D Secure modal will not function correctly.\n *\n * **Note**: 3D Secure 2.0 is documented below and will become the default integration method in a future version of Braintree-web. Until then, version 1.0 will continue to be supported. To view 3D Secure 1.0 documentation, look at Braintree-web documentation from version [3.40.0](https://braintree.github.io/braintree-web/3.40.0/ThreeDSecure.html) and earlier, or upgrade your integration by referring to the [3D Secure 2.0 adoption guide](https://developer.paypal.com/braintree/docs/guides/3d-secure/migration/javascript/v3).\n */\nfunction ThreeDSecure(options) {\n  var self = this;\n  var Framework = FRAMEWORKS[options.framework];\n\n  EventEmitter.call(this);\n\n  this._framework = new Framework(options);\n  this._framework.setUpEventListeners(function () {\n    self._emit.apply(self, arguments);\n  });\n}\n\nEventEmitter.createChild(ThreeDSecure);\n// NEXT_MAJOR_VERSION remove exemptionRequested entirely in favor of `requestedExemptionType`\n/**\n * Launch the 3D Secure login flow, returning a nonce payload.\n *\n * @public\n * @param {object} options Options for card verification.\n * @param {string} options.nonce The nonce representing the card from a tokenization payload. For example, this can be a {@link HostedFields~tokenizePayload|tokenizePayload} returned by Hosted Fields under `payload.nonce`.\n * @param {string} options.bin The numeric Bank Identification Number (bin) of the card from a tokenization payload. For example, this can be a {@link HostedFields~tokenizePayload|tokenizePayload} returned by Hosted Fields under `payload.details.bin`.\n * @param {string} options.amount The amount of the transaction in the current merchant account's currency. This must be expressed in numbers with an optional decimal (using `.`) and precision up to the hundredths place. For example, if you're processing a transaction for 1.234,56 € then `amount` should be `1234.56`.\n * @param {string} [options.accountType] The account type for the card (if known). Accepted values: `credit` or `debit`.\n * @param {boolean} [options.cardAddChallengeRequested] If set to `true`, a card-add challenge will be requested from the issuer. If set to `false`, a card-add challenge will not be requested. If the param is missing, a card-add challenge will only be requested for $0 amount. An authentication created using this flag should only be used for vaulting operations (creation of customers' credit cards or payment methods) and not for creating transactions.\n * @param {boolean} [options.cardAdd] *Deprecated:* Use `cardAddChallengeRequested` instead.\n * @param {boolean} [options.challengeRequested] If set to true, an authentication challenge will be forced if possible.\n * @param {boolean} [options.dataOnlyRequested] Indicates whether to use the data only flow. In this flow, frictionless 3DS is ensured for Mastercard cardholders as the card scheme provides a risk score for the issuer to determine whether to approve. If data only is not supported by the processor, a validation error will be raised. Non-Mastercard cardholders will fallback to a normal 3DS flow.\n * @param {boolean} [options.exemptionRequested] *Deprecated:* Use `requestedExemptionType` instead.\n * @param {boolean} [options.requestVisaDAF] Request to use VISA Digital Authentication Framework. If set to true, a Visa DAF authenticated payment credential will be created and/or used for authentication if the merchant is eligible.\n * @param {string} [options.merchantName] Allows to override the merchant name that is shown in the challenge.\n * @param {string} [options.requestedExemptionType] If an exemption is requested and the exemption's conditions are satisfied, then it will be applied. The following supported exemptions are defined as per PSD2 regulation: `low_value`, `transaction_risk_analysis`\n * @param {object} [options.customFields] Object where each key is the name of a custom field which has been configured in the Control Panel. In the Control Panel you can configure 3D Secure Rules which trigger on certain values.\n * @param {function} [options.onLookupComplete] *Deprecated:* Use {@link ThreeDSecure#event:lookup-complete|`threeDSecureInstance.on('lookup-complete')`} instead. Function to execute when lookup completes. The first argument, `data`, is a {@link ThreeDSecure~verificationData|verificationData} object, and the second argument, `next`, is a callback. `next` must be called to continue.\n * @param {string} [options.email] The email used for verification. (maximum length 255)\n * @param {string} [options.mobilePhoneNumber] The mobile phone number used for verification. Only numbers; remove dashes, parenthesis and other characters. (maximum length 25)\n * @param {object} [options.billingAddress] An {@link ThreeDSecure~billingAddress|billingAddress} object for verification.\n * @param {object} [options.additionalInformation] An {@link ThreeDSecure~additionalInformation|additionalInformation} object for verification.\n * @param {object} [options.collectDeviceData] If set to `true`, device data such as browser screen dimensions, language and time zone is submitted with lookup data.\n * @param {object} [options.customer] **Deprecated** Customer information for use in 3DS 1.0 verifications. Can contain any subset of a {@link ThreeDSecure~verifyCardCustomerObject|verifyCardCustomerObject}. Only to be used for 3DS 1.0 integrations.\n * @param {callback} options.addFrame **Deprecated** This {@link ThreeDSecure~addFrameCallback|addFrameCallback} will be called when the bank frame needs to be added to your page. Only to be used for 3DS 1.0 integrations.\n * @param {callback} options.removeFrame **Deprecated** For use in 3DS 1.0 Flows. This {@link ThreeDSecure~removeFrameCallback|removeFrameCallback} will be called when the bank frame needs to be removed from your page. Only to be used in 3DS 1.0 integrations.\n * @param {callback} [callback] The second argument, <code>data</code>, is a {@link ThreeDSecure~verifyPayload|verifyPayload}. If no callback is provided, it will return a promise that resolves {@link ThreeDSecure~verifyPayload|verifyPayload}.\n\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * <caption>Verifying a payment method nonce with 3DS 2.0</caption>\n * var my3DSContainer;\n *\n * // set up listener after initialization\n * threeDSecure.on(('lookup-complete', function (data, next) {\n *   // use `data` here, then call `next()`\n *   next();\n * });\n *\n * // call verifyCard after tokenizing a card\n * threeDSecure.verifyCard({\n *   amount: '123.45',\n *   nonce: hostedFieldsTokenizationPayload.nonce,\n *   bin: hostedFieldsTokenizationPayload.details.bin,\n *   email: 'test@example.com'\n *   billingAddress: {\n *     givenName: 'Jill',\n *     surname: 'Doe',\n *     phoneNumber: '8101234567',\n *     streetAddress: '555 Smith St.',\n *     extendedAddress: '#5',\n *     locality: 'Oakland',\n *     region: 'CA',\n *     postalCode: '12345',\n *     countryCodeAlpha2: 'US'\n *   },\n *   additionalInformation: {\n *     workPhoneNumber: '5555555555',\n *     shippingGivenName: 'Jill',\n *     shippingSurname: 'Doe',\n *     shippingAddress: {\n *       streetAddress: '555 Smith st',\n *       extendedAddress: '#5',\n *       locality: 'Oakland',\n *       region: 'CA',\n *       postalCode: '12345',\n *       countryCodeAlpha2: 'US'\n *     }\n *     shippingPhone: '8101234567'\n *   }\n * }, function (err, payload) {\n *   if (err) {\n *     console.error(err);\n *     return;\n *   }\n *\n *   if (payload.liabilityShifted) {\n *     // Liability has shifted\n *     submitNonceToServer(payload.nonce);\n *   } else if (payload.liabilityShiftPossible) {\n *     // Liability may still be shifted\n *     // Decide if you want to submit the nonce\n *   } else {\n *     // Liability has not shifted and will not shift\n *     // Decide if you want to submit the nonce\n *   }\n * });\n * @example\n * <caption>Verifying a payment method nonce with 3DS 2.0 with onLookupComplete callback</caption>\n * var my3DSContainer;\n *\n * threeDSecure.verifyCard({\n *   amount: '123.45',\n *   nonce: hostedFieldsTokenizationPayload.nonce,\n *   bin: hostedFieldsTokenizationPayload.details.bin,\n *   email: 'test@example.com'\n *   billingAddress: {\n *     givenName: 'Jill',\n *     surname: 'Doe',\n *     phoneNumber: '8101234567',\n *     streetAddress: '555 Smith St.',\n *     extendedAddress: '#5',\n *     locality: 'Oakland',\n *     region: 'CA',\n *     postalCode: '12345',\n *     countryCodeAlpha2: 'US'\n *   },\n *   additionalInformation: {\n *     workPhoneNumber: '5555555555',\n *     shippingGivenName: 'Jill',\n *     shippingSurname: 'Doe',\n *     shippingAddress: {\n *       streetAddress: '555 Smith st',\n *       extendedAddress: '#5',\n *       locality: 'Oakland',\n *       region: 'CA',\n *       postalCode: '12345',\n *       countryCodeAlpha2: 'US'\n *     }\n *     shippingPhone: '8101234567'\n *   },\n *   onLookupComplete: function (data, next) {\n *     // use `data` here, then call `next()`\n *     next();\n *   }\n * }, function (err, payload) {\n *   if (err) {\n *     console.error(err);\n *     return;\n *   }\n *\n *   if (payload.liabilityShifted) {\n *     // Liability has shifted\n *     submitNonceToServer(payload.nonce);\n *   } else if (payload.liabilityShiftPossible) {\n *     // Liability may still be shifted\n *     // Decide if you want to submit the nonce\n *   } else {\n *     // Liability has not shifted and will not shift\n *     // Decide if you want to submit the nonce\n *   }\n * });\n * @example\n * <caption>Handling 3DS lookup errors</caption>\n * var my3DSContainer;\n *\n * // set up listener after initialization\n * threeDSecure.on(('lookup-complete', function (data, next) {\n *   // use `data` here, then call `next()`\n *   next();\n * });\n *\n * // call verifyCard after tokenizing a card\n * threeDSecure.verifyCard({\n *   amount: '123.45',\n *   nonce: hostedFieldsTokenizationPayload.nonce,\n *   bin: hostedFieldsTokenizationPayload.details.bin,\n *   email: 'test@example.com',\n *   billingAddress: billingAddressFromCustomer,\n *   additionalInformation: additionalInfoFromCustomer\n * }, function (err, payload) {\n *   if (err) {\n *     if (err.code.indexOf('THREEDS_LOOKUP') === 0) {\n *       // an error occurred during the initial lookup request\n *\n *       if (err.code === 'THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR') {\n *         // either the passed payment method nonce does not exist\n *         // or it was already consumed before the lookup call was made\n *       } else if (err.code.indexOf('THREEDS_LOOKUP_VALIDATION') === 0) {\n *         // a validation error occurred\n *         // likely some non-ascii characters were included in the billing\n *         // address given name or surname fields, or the cardholdername field\n *\n *         // Instruct your user to check their data and try again\n *       } else {\n *         // an unknown lookup error occurred\n *       }\n *     } else {\n *       // some other kind of error\n *     }\n *     return;\n *   }\n *\n *   // handle success\n * });\n */\nThreeDSecure.prototype.verifyCard = function (options) {\n  var privateOptions;\n\n  if (this.hasListener(\"lookup-complete\")) {\n    privateOptions = {\n      ignoreOnLookupCompleteRequirement: true,\n    };\n  }\n\n  return this._framework.verifyCard(options, privateOptions);\n};\n\n/* eslint-disable-next-line valid-jsdoc */\n/**\n * Launch the iframe challenge using a 3D Secure lookup response from a server side lookup.\n *\n * @public\n * @param {(object|string)} lookupResponse The lookup response from the server side call to lookup the 3D Secure information. The raw string or a parsed object can be passed.\n * @returns {Promise} Returns a promise.\n * @example\n * var my3DSContainer;\n *\n * threeDSecure.initializeChallengeWithLookupResponse(lookupResponseFromServer).then(function (payload) {\n *   if (payload.liabilityShifted) {\n *     // Liability has shifted\n *     submitNonceToServer(payload.nonce);\n *   } else if (payload.liabilityShiftPossible) {\n *     // Liability may still be shifted\n *     // Decide if you want to submit the nonce\n *   } else {\n *     // Liability has not shifted and will not shift\n *     // Decide if you want to submit the nonce\n *   }\n * });\n */\nThreeDSecure.prototype.initializeChallengeWithLookupResponse = function (\n  lookupResponse\n) {\n  if (typeof lookupResponse === \"string\") {\n    lookupResponse = JSON.parse(lookupResponse);\n  }\n\n  return this._framework.initializeChallengeWithLookupResponse(lookupResponse);\n};\n\n/**\n * Gather the data needed for a 3D Secure lookup call.\n *\n * @public\n * @param {object} options Options for 3D Secure lookup.\n * @param {string} options.nonce The nonce representing the card from a tokenization payload. For example, this can be a {@link HostedFields~tokenizePayload|tokenizePayload} returned by Hosted Fields under `payload.nonce`.\n * @param {string} options.bin The numeric Bank Identification Number (bin) of the card from a tokenization payload. For example, this can be a {@link HostedFields~tokenizePayload|tokenizePayload} returned by Hosted Fields under `payload.details.bin`.\n * @param {callback} [callback] The second argument, <code>data</code>, is a {@link ThreeDSecure~prepareLookupPayload|prepareLookupPayload}. If no callback is provided, it will return a promise that resolves {@link ThreeDSecure~prepareLookupPayload|prepareLookupPayload}.\n\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * <caption>Preparing data for a 3D Secure lookup</caption>\n * threeDSecure.prepareLookup({\n *   nonce: hostedFieldsTokenizationPayload.nonce,\n *   bin: hostedFieldsTokenizationPayload.details.bin\n * }, function (err, payload) {\n *   if (err) {\n *     console.error(err);\n *     return;\n *   }\n *\n *   // send payload to server to do server side lookup\n * });\n */\nThreeDSecure.prototype.prepareLookup = function (options) {\n  return this._framework.prepareLookup(options).then(function (data) {\n    return JSON.stringify(data);\n  });\n};\n\n/**\n * Cancel the 3DS flow and return the verification payload if available. If using 3D Secure version 2, this will not close the UI of the authentication modal. It is recommended that this method only be used in the {@link ThreeDSecure#event:lookup-complete|`lookup-complete`} event or the `onLookupComplete` callback.\n * @public\n * @param {callback} [callback] The second argument is a {@link ThreeDSecure~verifyPayload|verifyPayload}. If there is no verifyPayload (the initial lookup did not complete), an error will be returned. If no callback is passed, `cancelVerifyCard` will return a promise.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example <caption>Cancel the verification in `lookup-complete` event</caption>\n * // set up listener after instantiation\n * threeDSecure.on('lookup-complete', function (data, next) {\n *   // determine if you want to call next to start the challenge,\n *   // if not, call cancelVerifyCard\n *   threeDSecure.cancelVerifyCard(function (err, verifyPayload) {\n *     if (err) {\n *       // Handle error\n *       console.log(err.message); // No verification payload available\n *       return;\n *     }\n *\n *     verifyPayload.nonce; // The nonce returned from the 3ds lookup call\n *     verifyPayload.liabilityShifted; // boolean\n *     verifyPayload.liabilityShiftPossible; // boolean\n *   });\n * });\n *\n * // after tokenizing a credit card\n * threeDSecure.verifyCard({\n *   amount: '100.00',\n *   nonce: nonceFromTokenizationPayload,\n *   bin: binFromTokenizationPayload\n *   // other fields such as billing address\n * }, function (verifyError, payload) {\n *   if (verifyError) {\n *     if (verifyError.code === 'THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT ') {\n *       // flow was canceled by merchant, 3ds info can be found in the payload\n *       // for cancelVerifyCard\n *     }\n *   }\n * });\n * @example <caption>Cancel the verification in onLookupComplete callback</caption>\n * threeDSecure.verifyCard({\n *   amount: '100.00',\n *   nonce: nonceFromTokenizationPayload,\n *   bin: binFromTokenizationPayload,\n *   // other fields such as billing address\n *   onLookupComplete: function (data, next) {\n *     // determine if you want to call next to start the challenge,\n *     // if not, call cancelVerifyCard\n *     threeDSecure.cancelVerifyCard(function (err, verifyPayload) {\n *       if (err) {\n *         // Handle error\n *         console.log(err.message); // No verification payload available\n *         return;\n *       }\n *\n *       verifyPayload.nonce; // The nonce returned from the 3ds lookup call\n *       verifyPayload.liabilityShifted; // boolean\n *       verifyPayload.liabilityShiftPossible; // boolean\n *     });\n *   }\n * }, function (verifyError, payload) {\n *   if (verifyError) {\n *     if (verifyError.code === 'THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT ') {\n *       // flow was canceled by merchant, 3ds info can be found in the payload\n *       // for cancelVerifyCard\n *     }\n *   }\n * });\n * @example <caption>Cancel the verification in 3D Secure version 1</caption>\n * // unlike with v2, this will not cause `verifyCard` to error, it will simply\n * // never call the callback\n * threeDSecure.cancelVerifyCard(function (err, verifyPayload) {\n *   if (err) {\n *     // Handle error\n *     console.log(err.message); // No verification payload available\n *     return;\n *   }\n *\n *   verifyPayload.nonce; // The nonce returned from the 3ds lookup call\n *   verifyPayload.liabilityShifted; // boolean\n *   verifyPayload.liabilityShiftPossible; // boolean\n * });\n */\nThreeDSecure.prototype.cancelVerifyCard = function () {\n  return this._framework.cancelVerifyCard();\n};\n\n/**\n * Cleanly remove anything set up by {@link module:braintree-web/three-d-secure.create|create}, with the exception that the Cardinal SDK, on window.Cardinal, will remain.\n * @public\n * @param {callback} [callback] Called on completion. If no callback is passed, `teardown` will return a promise.\n * @example\n * threeDSecure.teardown();\n * @example <caption>With callback</caption>\n * threeDSecure.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nThreeDSecure.prototype.teardown = function () {\n  var methodNames = methods(ThreeDSecure.prototype).concat(\n    methods(EventEmitter.prototype)\n  );\n\n  convertMethodsToError(this, methodNames);\n\n  return this._framework.teardown();\n};\n\nmodule.exports = wrapPromise.wrapPrototype(ThreeDSecure);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9leHRlcm5hbC90aHJlZS1kLXNlY3VyZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBeUI7QUFDbkQsY0FBYyxtQkFBTyxDQUFDLDRFQUFtQjtBQUN6Qyw0QkFBNEIsbUJBQU8sQ0FBQyw4R0FBb0M7QUFDeEUsbUJBQW1CLG1CQUFPLENBQUMscUdBQTBCO0FBQ3JELGlCQUFpQixtQkFBTyxDQUFDLG9HQUFjOztBQUV2QztBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLG1CQUFtQjtBQUM5QixvRkFBb0YseUNBQXlDO0FBQzdILGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYseUNBQXlDO0FBQ2hJLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsUUFBUSwwRkFBMEY7QUFDaEgsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUSxrR0FBa0c7QUFDeEg7QUFDQTs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLFFBQVEscUdBQXFHLDBDQUEwQztBQUNySyxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckI7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxTQUFTLDBIQUEwSCxpRUFBaUU7QUFDbE4sY0FBYyxRQUFRO0FBQ3RCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxRQUFRLGlCQUFpQixnREFBZ0Q7QUFDdkYsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUSxrRkFBa0Y7QUFDeEcsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsUUFBUSw2RUFBNkU7QUFDbkcsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUSxxRkFBcUY7QUFDM0csY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBLFFBQVE7QUFDUixRQUFRO0FBQ1IsUUFBUTtBQUNSLFFBQVE7QUFDUixRQUFRO0FBQ1I7QUFDQTtBQUNBLG1DQUFtQyxLQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsS0FBSztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBLGVBQWU7QUFDZixNQUFNO0FBQ04sSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRLG1CQUFtQix5REFBeUQ7QUFDL0YsbUVBQW1FLGdGQUFnRjtBQUNuSiwwRUFBMEUsK0VBQStFO0FBQ3pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVEsdUdBQXVHLG9EQUFvRDtBQUM5SyxXQUFXLFFBQVEsOEhBQThILG9EQUFvRDtBQUNyTSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVSw4Q0FBOEMsdUZBQXVGLHNGQUFzRixzREFBc0Q7QUFDdFMsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSx5RkFBeUY7QUFDNUcsV0FBVyxRQUFRLDZCQUE2QixrREFBa0Q7QUFDbEcsV0FBVyxRQUFRLG9DQUFvQyxnRUFBZ0U7QUFDdkgsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxzSEFBc0gscUVBQXFFO0FBQzlNLFdBQVcsVUFBVSxzQ0FBc0Msc0RBQXNEO0FBQ2pILFdBQVcsVUFBVSxtRUFBbUUsNERBQTREO0FBQ3BKLFdBQVcsVUFBVSx5REFBeUQsK0NBQStDLHNFQUFzRSwrQ0FBK0M7O0FBRWxQLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSx1R0FBdUcsb0RBQW9EO0FBQzlLLFdBQVcsUUFBUSw4SEFBOEgsb0RBQW9EO0FBQ3JNLFdBQVcsVUFBVSx5REFBeUQsNkRBQTZELHNFQUFzRSw2REFBNkQ7O0FBRTlRLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsdU5BQXVOLDREQUE0RDtBQUNuUjtBQUNBLFdBQVcsVUFBVSxxQ0FBcUMsK0NBQStDO0FBQ3pHLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLHVDQUF1QztBQUN2Qyw2Q0FBNkM7QUFDN0MsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qix5Q0FBeUM7QUFDekMsK0NBQStDO0FBQy9DLFFBQVE7QUFDUjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixxQ0FBcUM7QUFDckMsMkNBQTJDO0FBQzNDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQyx3REFBd0Q7QUFDOUY7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvZXh0ZXJuYWwvdGhyZWUtZC1zZWN1cmUuanM/NTAwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xudmFyIG1ldGhvZHMgPSByZXF1aXJlKFwiLi4vLi4vbGliL21ldGhvZHNcIik7XG52YXIgY29udmVydE1ldGhvZHNUb0Vycm9yID0gcmVxdWlyZShcIi4uLy4uL2xpYi9jb252ZXJ0LW1ldGhvZHMtdG8tZXJyb3JcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIkBicmFpbnRyZWUvZXZlbnQtZW1pdHRlclwiKTtcbnZhciBGUkFNRVdPUktTID0gcmVxdWlyZShcIi4vZnJhbWV3b3Jrc1wiKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogQGNhbGxiYWNrIFRocmVlRFNlY3VyZX5hZGRGcmFtZUNhbGxiYWNrXG4gKiBAcGFyYW0gez9CcmFpbnRyZWVFcnJvcn0gW2Vycl0gYG51bGxgIG9yIGB1bmRlZmluZWRgIGlmIHRoZXJlIHdhcyBubyBlcnJvci5cbiAqIEBwYXJhbSB7SFRNTElGcmFtZUVsZW1lbnR9IGlmcmFtZSBBbiBpZnJhbWUgZWxlbWVudCBjb250YWluaW5nIHRoZSBiYW5rJ3MgYXV0aGVudGljYXRpb24gcGFnZSB0aGF0IHlvdSBtdXN0IHB1dCBvbiB5b3VyIHBhZ2UuXG4gKiBAZGVzY3JpcHRpb24gKipEZXByZWNhdGVkKiogVGhlIGNhbGxiYWNrIHVzZWQgZm9yIG9wdGlvbnMuYWRkRnJhbWUgaW4gM0RTIDEuMCdzIHtAbGluayBUaHJlZURTZWN1cmUjdmVyaWZ5Q2FyZHx2ZXJpZnlDYXJkfS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIEBjYWxsYmFjayBUaHJlZURTZWN1cmV+cmVtb3ZlRnJhbWVDYWxsYmFja1xuICogQGRlc2NyaXB0aW9uICoqRGVwcmVjYXRlZCoqIFRoZSBjYWxsYmFjayB1c2VkIGZvciBvcHRpb25zLnJlbW92ZUZyYW1lIGluIDNEUyAxLjAncyB7QGxpbmsgVGhyZWVEU2VjdXJlI3ZlcmlmeUNhcmR8dmVyaWZ5Q2FyZH0uXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBUaHJlZURTZWN1cmV+dmVyaWZ5Q2FyZEN1c3RvbWVyT2JqZWN0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1c3RvbWVyLm1vYmlsZVBob25lTnVtYmVyXSBUaGUgbW9iaWxlIHBob25lIG51bWJlciB1c2VkIGZvciB2ZXJpZmljYXRpb24uIE9ubHkgbnVtYmVyczsgcmVtb3ZlIGRhc2hlcywgcGFyZW50aGVzaXMgYW5kIG90aGVyIGNoYXJhY3RlcnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1c3RvbWVyLmVtYWlsXSBUaGUgZW1haWwgdXNlZCBmb3IgdmVyaWZpY2F0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjdXN0b21lci5zaGlwcGluZ01ldGhvZF0gVGhlIDItZGlnaXQgc3RyaW5nIGluZGljYXRpbmcgdGhlIHNoaXBwaW5nIG1ldGhvZCBjaG9zZW4gZm9yIHRoZSB0cmFuc2FjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MuZmlyc3ROYW1lXSBUaGUgZmlyc3QgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIGFkZHJlc3MuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLmxhc3ROYW1lXSBUaGUgbGFzdCBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgYWRkcmVzcy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3Muc3RyZWV0QWRkcmVzc10gTGluZSAxIG9mIHRoZSBBZGRyZXNzIChlZy4gbnVtYmVyLCBzdHJlZXQsIGV0YykuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLmV4dGVuZGVkQWRkcmVzc10gTGluZSAyIG9mIHRoZSBBZGRyZXNzIChlZy4gc3VpdGUsIGFwdCAjLCBldGMuKS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MubG9jYWxpdHldIFRoZSBsb2NhbGl0eSAoY2l0eSkgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIGFkZHJlc3MuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2N1c3RvbWVyLmJpbGxpbmdBZGRyZXNzLnJlZ2lvbl0gVGhlIDIgbGV0dGVyIGNvZGUgZm9yIFVTIHN0YXRlcyBvciBhbiBJU08tMzE2Ni0yIGNvdW50cnkgc3ViZGl2aXNpb24gY29kZSBvZiB1cCB0byB0aHJlZSBsZXR0ZXJzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjdXN0b21lci5iaWxsaW5nQWRkcmVzcy5wb3N0YWxDb2RlXSBUaGUgemlwIGNvZGUgb3IgZXF1aXZhbGVudCBmb3IgY291bnRyaWVzIHRoYXQgaGF2ZSB0aGVtLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjdXN0b21lci5iaWxsaW5nQWRkcmVzcy5jb3VudHJ5Q29kZUFscGhhMl0gVGhlIDIgY2hhcmFjdGVyIGNvdW50cnkgY29kZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY3VzdG9tZXIuYmlsbGluZ0FkZHJlc3MucGhvbmVOdW1iZXJdIFRoZSBwaG9uZSBudW1iZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBhZGRyZXNzLiBPbmx5IG51bWJlcnM7IHJlbW92ZSBkYXNoZXMsIHBhcmVudGhlc2lzIGFuZCBvdGhlciBjaGFyYWN0ZXJzLlxuICogQGRlc2NyaXB0aW9uICoqRGVwcmVjYXRlZCoqIE9wdGlvbmFsIGN1c3RvbWVyIGluZm9ybWF0aW9uIHRvIGJlIHBhc3NlZCB0byAzRFMgMS4wIGZvciB2ZXJpZmljYXRpb24uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBUaHJlZURTZWN1cmV+dmVyaWZ5UGF5bG9hZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5vbmNlIFRoZSBuZXcgcGF5bWVudCBtZXRob2Qgbm9uY2UgcHJvZHVjZWQgYnkgdGhlIDNEIFNlY3VyZSBsb29rdXAuIFRoZSBvcmlnaW5hbCBub25jZSBwYXNzZWQgaW50byB7QGxpbmsgVGhyZWVEU2VjdXJlI3ZlcmlmeUNhcmR8dmVyaWZ5Q2FyZH0gd2FzIGNvbnN1bWVkLiBUaGlzIG5ldyBub25jZSBzaG91bGQgYmUgdXNlZCB0byB0cmFuc2FjdCBvbiB5b3VyIHNlcnZlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSBwYXltZW50IG1ldGhvZCB0eXBlLlxuICogQHByb3BlcnR5IHtvYmplY3R9IGRldGFpbHMgQWRkaXRpb25hbCBhY2NvdW50IGRldGFpbHMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGV0YWlscy5jYXJkVHlwZSBUeXBlIG9mIGNhcmQsIGV4OiBWaXNhLCBNYXN0ZXJDYXJkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRldGFpbHMubGFzdEZvdXIgTGFzdCBmb3VyIGRpZ2l0cyBvZiBjYXJkIG51bWJlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLmxhc3RUd28gTGFzdCB0d28gZGlnaXRzIG9mIGNhcmQgbnVtYmVyLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRlc2NyaXB0aW9uIEEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24uXG4gKiBAcHJvcGVydHkge29iamVjdH0gYmluRGF0YSBJbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FyZCBiYXNlZCBvbiB0aGUgYmluLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEuY29tbWVyY2lhbCBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5jb3VudHJ5T2ZJc3N1YW5jZSBUaGUgY291bnRyeSBvZiBpc3N1YW5jZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmRlYml0IFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmR1cmJpblJlZ3VsYXRlZCBQb3NzaWJsZSB2YWx1ZXM6ICdZZXMnLCAnTm8nLCAnVW5rbm93bicuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5oZWFsdGhjYXJlIFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLmlzc3VpbmdCYW5rIFRoZSBpc3N1aW5nIGJhbmsuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmluRGF0YS5wYXlyb2xsIFBvc3NpYmxlIHZhbHVlczogJ1llcycsICdObycsICdVbmtub3duJy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiaW5EYXRhLnByZXBhaWQgUG9zc2libGUgdmFsdWVzOiAnWWVzJywgJ05vJywgJ1Vua25vd24nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJpbkRhdGEucHJvZHVjdElkIFRoZSBwcm9kdWN0IGlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBsaWFiaWxpdHlTaGlmdFBvc3NpYmxlICpEZXByZWNhdGVkOiogVXNlIGB0aHJlZURTZWN1cmVJbmZvLmxpYWJpbGl0eVNoaWZ0UG9zc2libGVgIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGxpYWJpbGl0eVNoaWZ0ZWQgKkRlcHJlY2F0ZWQ6KiBVc2UgYHRocmVlRFNlY3VyZUluZm8ubGlhYmlsaXR5U2hpZnRlZGAgaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSB0aHJlZURTZWN1cmVJbmZvIDNEUyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FyZC4gTm90ZTogVGhpcyBpbmZvcm1hdGlvbiBzaG91bGQgYmUgdmVyaWZpZWQgb24gdGhlIHNlcnZlciBieSB1c2luZyB0aGUgW3BheW1lbnQgbWV0aG9kIG5vbmNlIGZpbmQgbWV0aG9kXShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2JyYWludHJlZS9kb2NzL3JlZmVyZW5jZS9yZXF1ZXN0L3BheW1lbnQtbWV0aG9kLW5vbmNlL2ZpbmQpLiBUaGUgdmFsdWVzIHByb3ZpZGVkIGhlcmUgYXJlIG1lcmVseSBmb3IgY29udmVuaWVuY2UuIE9ubHkgdmFsdWVzIGxvb2tlZCB1cCBvbiB0aGUgc2VydmVyIHNob3VsZCBkZXRlcm1pbmUgdGhlIGxvZ2ljIGFib3V0IGhvdyB0byBwcm9jZXNzIGEgdHJhbnNhY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGhyZWVEU2VjdXJlSW5mby5hY3NUcmFuc2FjdGlvbklkIFRoZSB0cmFuc2FjdGlvbiBpZGVudGlmaWVyIGZyb20gdGhlIGlzc3VpbmcgYmFuay5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aHJlZURTZWN1cmVJbmZvLmNhdnYgQ2FyZGhvbGRlciBhdXRoZW50aWNhdGlvbiB2ZXJpZmljYXRpb24gdmFsdWUgb3IgQ0FWVi4gVGhlIG1haW4gZW5jcnlwdGVkIG1lc3NhZ2UgaXNzdWVycyBhbmQgY2FyZCBuZXR3b3JrcyB1c2UgdG8gdmVyaWZ5IGF1dGhlbnRpY2F0aW9uIGhhcyBvY2N1cnJlZC4gTWFzdGVyY2FyZCB1c2VzIGFuIEFWViBtZXNzYWdlIGFuZCBBbWVyaWNhbiBFeHByZXNzIHVzZXMgYW4gQUVWViBtZXNzYWdlLCBlYWNoIG9mIHdoaWNoIHNob3VsZCBhbHNvIGJlIHBhc3NlZCBpbiB0aGUgY2F2diBwYXJhbWV0ZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGhyZWVEU2VjdXJlSW5mby5kc1RyYW5zYWN0aW9uSWQgVHJhbnNhY3Rpb24gaWRlbnRpZmllciByZXN1bHRpbmcgZnJvbSAzRCBTZWN1cmUgMiBhdXRoZW50aWNhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aHJlZURTZWN1cmVJbmZvLmVjaUZsYWcgVGhlIHZhbHVlIG9mIHRoZSBlbGVjdHJvbmljIGNvbW1lcmNlIGluZGljYXRvciAoRUNJKSBmbGFnLCB3aGljaCBpbmRpY2F0ZXMgdGhlIG91dGNvbWUgb2YgdGhlIDNEUyBhdXRoZW50aWNhdGlvbi4gVGhpcyB3aWxsIGJlIGEgdHdvLWRpZ2l0IHZhbHVlLlxuICogQHByb3BlcnR5IHtib29sZWFufSB0aHJlZURTZWN1cmVJbmZvLmVucm9sbGVkIEluZGljYXRlcyB0aGUgc3RhdHVzIG9mIDNEIFNlY3VyZSBhdXRoZW50aWNhdGlvbiBlbGlnaWJpbGl0eSB3aXRoIHRoZSBjYXJkIGlzc3Vlci5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdGhyZWVEU2VjdXJlSW5mby5saWFiaWxpdHlTaGlmdGVkIEluZGljYXRlcyB3aGV0aGVyIHRoZSBsaWFiaWxpdHkgZm9yIGZyYXVkIGhhcyBiZWVuIHNoaWZ0ZWQgYXdheSBmcm9tIHRoZSBtZXJjaGFudC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdGhyZWVEU2VjdXJlSW5mby5saWFiaWxpdHlTaGlmdFBvc3NpYmxlIEluZGljYXRlcyB3aGV0aGVyIGxpYWJpbGl0eSBzaGlmdCBpcyBzdGlsbCBwb3NzaWJsZSBvbiBhIHJldHJ5LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRocmVlRFNlY3VyZUluZm8ucGFyZXNTdGF0dXMgVHJhbnNhY3Rpb24gc3RhdHVzIHJlc3VsdCBpZGVudGlmaWVyLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRocmVlRFNlY3VyZUluZm8uc3RhdHVzIEluZGljYXRlcyB0aGUgb3V0Y29tZSBvZiB0aGUgM0QgU2VjdXJlIGV2ZW50LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRocmVlRFNlY3VyZUluZm8udGhyZWVEU2VjdXJlQXV0aGVudGljYXRpb25JZCBJRCBvZiB0aGUgM0QgU2VjdXJlIGF1dGhlbnRpY2F0aW9uIHBlcmZvcm1lZCBmb3IgdGhpcyB0cmFuc2FjdGlvbi4gRG8gbm90IHByb3ZpZGUgdGhpcyBmaWVsZCBhcyBhIHRyYW5zYWN0aW9uIHNhbGUgcGFyYW1ldGVyIGlmIHlvdSBhcmUgdXNpbmcgdGhlIHJldHVybmVkIHBheW1lbnQgbWV0aG9kIG5vbmNlIGZyb20gdGhlIHBheWxvYWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGhyZWVEU2VjdXJlSW5mby50aHJlZURTZWN1cmVTZXJ2ZXJUcmFuc2FjdGlvbklkIFRyYW5zYWN0aW9uIGlkZW50aWZpZXIgcHJvdmlkZWQgYnkgdGhlIGlzc3VpbmcgYmFuayB3aG8gcmVjaWV2ZWQgdGhlIDNEIFNlY3VyZSBldmVudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aHJlZURTZWN1cmVJbmZvLnRocmVlRFNlY3VyZVZlcnNpb24gVGhlIHZlcnNpb24gb2YgM0QgU2VjdXJlIGF1dGhlbnRpY2F0aW9uIHVzZWQgZm9yIHRoZSB0cmFuc2FjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aHJlZURTZWN1cmVJbmZvLnhpZCBUcmFuc2FjdGlvbiBpZGVudGlmaWVyIHJlc3VsdGluZyBmcm9tIDNEIFNlY3VyZSBhdXRoZW50aWNhdGlvbi4gVW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgdHJhbnNhY3Rpb24gYW5kIHNvbWV0aW1lcyByZXF1aXJlZCBpbiB0aGUgYXV0aG9yaXphdGlvbiBtZXNzYWdlLiBUaGlzIGlzIGEgYmFzZTY0LWVuY29kZWQgdmFsdWUuIFRoaXMgZmllbGQgd2lsbCBubyBsb25nZXIgYmUgdXNlZCBpbiAzRCBTZWN1cmUgMiBhdXRoZW50aWNhdGlvbnMgZm9yIFZpc2EgYW5kIE1hc3RlcmNhcmQsIGhvd2V2ZXIgaXQgd2lsbCBiZSBzdXBwb3J0ZWQgYnkgQW1lcmljYW4gRXhwcmVzcy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aHJlZURTZWN1cmVJbmZvLmxvb2t1cC50cmFuc1N0YXR1cyBFcnJvciBjb2RlIHJldHVybmVkIGZyb20gdGhlIDNEIFNlY3VyZSBNUEkgcHJvdmlkZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGhyZWVEU2VjdXJlSW5mby5sb29rdXAudHJhbnNTdGF0dXNSZWFzb24gRGVzY3JpcHRpb24gY29ycmVsYXRpbmcgdG8gdGhlIHRyYW5zU3RhdHVzIGVycm9yIGNvZGUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGhyZWVEU2VjdXJlSW5mby5hdXRoZW50aWNhdGlvbi50cmFuc1N0YXR1cyBFcnJvciBjb2RlIHJldHVybmVkIGZyb20gdGhlIDNEIFNlY3VyZSBNUEkgcHJvdmlkZXIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdGhyZWVEU2VjdXJlSW5mby5hdXRoZW50aWNhdGlvbi50cmFuc1N0YXR1c1JlYXNvbiBEZXNjcmlwdGlvbiBjb3JyZWxhdGluZyB0byB0aGUgdHJhbnNTdGF0dXMgZXJyb3IgY29kZS5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByYXdDYXJkaW5hbFNES1ZlcmlmaWNhdGlvbkRhdGEgVGhlIHJlc3BvbnNlIGJhY2sgZnJvbSB0aGUgQ2FyZGluYWwgU0RLIGFmdGVyIHZlcmlmaWNhdGlvbiBoYXMgY29tcGxldGVkLiBTZWUgW0NhcmRpbmFsJ3MgRG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9jYXJkaW5hbGRvY3MuYXRsYXNzaWFuLm5ldC93aWtpL3NwYWNlcy9DQy9wYWdlcy85ODMxNS9SZXNwb25zZStPYmplY3RzKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gSWYgdGhlIGN1c3RvbWVyIHdhcyBub3QgcmVxdWlyZWQgdG8gZG8gYSAzRCBTZWN1cmUgY2hhbGxlbmdlLCB0aGlzIG9iamVjdCB3aWxsIG5vdCBiZSBhdmFpbGFibGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBUaHJlZURTZWN1cmV+cHJlcGFyZUxvb2t1cFBheWxvYWQgVGhlIGNsaWVudCBkYXRhIHRvIHBhc3Mgb24gd2hlbiBkb2luZyBhIHNlcnZlciBzaWRlIGxvb2t1cCBjYWxsLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gVGhyZWVEU2VjdXJlfnZlcmlmaWNhdGlvbkRhdGFcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcmVxdWlyZXNVc2VyQXV0aGVudGljYXRpb24gV2hlbiBgdHJ1ZWAsIHRoZSB1c2VyIHdpbGwgYmUgcHJlc2VudGVkIHdpdGggYSAzRCBTZWN1cmUgY2hhbGxlbmdlIHdoZW4gY2FsbGluZyBgbmV4dGAgaW4gdGhlIHtAbGluayBUaHJlZURTZWN1cmUjZXZlbnQ6bG9va3VwLWNvbXBsZXRlfGBsb29rdXAtY29tcGxldGVgIGV2ZW50fS5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSB0aHJlZURTZWN1cmVJbmZvIENvbnRhaW5zIGxpYWJpbGl0eSBzaGlmdCBkZXRhaWxzLlxuICogQHByb3BlcnR5IHtib29sZWFufSB0aHJlZURTZWN1cmVJbmZvLmxpYWJpbGl0eVNoaWZ0UG9zc2libGUgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNhcmQgd2FzIGVsaWdpYmxlIGZvciAzRCBTZWN1cmUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHRocmVlRFNlY3VyZUluZm8ubGlhYmlsaXR5U2hpZnRlZCBJbmRpY2F0ZXMgd2hldGhlciB0aGUgbGlhYmlsaXR5IGZvciBmcmF1ZCBoYXMgYmVlbiBzaGlmdGVkIGF3YXkgZnJvbSB0aGUgbWVyY2hhbnQuXG4gKiBAcHJvcGVydHkge29iamVjdH0gcGF5bWVudE1ldGhvZCBBIHtAbGluayBUaHJlZURTZWN1cmV+dmVyaWZ5UGF5bG9hZHx2ZXJpZnlQYXlsb2FkfSBvYmplY3QuXG4gKiBAcHJvcGVydHkge29iamVjdH0gbG9va3VwIERldGFpbHMgYWJvdXQgdGhlIDNEIFNlY3VyZSBsb29rdXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbG9va3VwLnRocmVlRFNlY3VyZVZlcnNpb24gVGhlIHZlcnNpb24gb2YgM0QgU2VjdXJlIHRoYXQgd2lsbCBiZSB1c2VkIGZvciB0aGUgM0QgU2VjdXJlIGNoYWxsZW5nZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFRocmVlRFNlY3VyZX5iaWxsaW5nQWRkcmVzc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtnaXZlbk5hbWVdIFRoZSBmaXJzdCBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgYmlsbGluZyBhZGRyZXNzLiAobWF4aW11bSBsZW5ndGggNTAsIEFTQ0lJIGNoYXJhY3RlcnMpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3N1cm5hbWVdIFRoZSBsYXN0IG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBiaWxsaW5nIGFkZHJlc3MuIChtYXhpbXVtIGxlbmd0aCA1MCwgQVNDSUkgY2hhcmFjdGVycylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcGhvbmVOdW1iZXJdIFRoZSBwaG9uZSBudW1iZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBiaWxsaW5nIGFkZHJlc3MuIE9ubHkgbnVtYmVyczsgcmVtb3ZlIGRhc2hlcywgcGFyZW50aGVzaXMgYW5kIG90aGVyIGNoYXJhY3RlcnMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3N0cmVldEFkZHJlc3NdIExpbmUgMSBvZiB0aGUgYmlsbGluZyBhZGRyZXNzIChlZy4gbnVtYmVyLCBzdHJlZXQsIGV0YykuIChtYXhpbXVtIGxlbmd0aCA1MClcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZXh0ZW5kZWRBZGRyZXNzXSBMaW5lIDIgb2YgdGhlIGJpbGxpbmcgYWRkcmVzcyAoZWcuIHN1aXRlLCBhcHQgIywgZXRjLikuIChtYXhpbXVtIGxlbmd0aCA1MClcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGluZTNdIExpbmUgMyBvZiB0aGUgYmlsbGluZyBhZGRyZXNzIGlmIG5lZWRlZCAoZWcuIHN1aXRlLCBhcHQgIywgZXRjKS4gKG1heGltdW0gbGVuZ3RoIDUwKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsb2NhbGl0eV0gVGhlIGxvY2FsaXR5IChjaXR5KSBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgYmlsbGluZyBhZGRyZXNzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtyZWdpb25dIFRoaXMgZmllbGQgZXhwZWN0cyBhbiBJU08zMTY2LTIgc3ViZGl2aXNpb24gY29kZS4gVGhlIHN1YmRpdmlzaW9uIGNvZGUgaXMgd2hhdCBmb2xsb3dzIHRoZSBoeXBoZW4gc2VwYXJhdG9yIGluIHRoZSBmdWxsIElTTyAzMTY2LTIgY29kZS4gRm9yIGV4YW1wbGUsIHRoZSBzdGF0ZSBvZiBPaGlvIGluIHRoZSBVbml0ZWQgU3RhdGVzIHdlIGV4cGVjdCBcIk9IXCIgYXMgb3Bwb3NlZCB0byB0aGUgZnVsbCBJU08gMzE2Ni0yIGNvZGUgXCJVUy1PSFwiLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtwb3N0YWxDb2RlXSBUaGUgemlwIGNvZGUgb3IgZXF1aXZhbGVudCBmb3IgY291bnRyaWVzIHRoYXQgaGF2ZSB0aGVtLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb3VudHJ5Q29kZUFscGhhMl0gVGhlIDIgY2hhcmFjdGVyIGNvdW50cnkgY29kZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFRocmVlRFNlY3VyZX5hZGRpdGlvbmFsSW5mb3JtYXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbd29ya1Bob25lTnVtYmVyXSBUaGUgd29yayBwaG9uZSBudW1iZXIgdXNlZCBmb3IgdmVyaWZpY2F0aW9uLiBPbmx5IG51bWJlcnM7IHJlbW92ZSBkYXNoZXMsIHBhcmVudGhlc2lzIGFuZCBvdGhlciBjaGFyYWN0ZXJzLiAobWF4aW11bSBsZW5ndGggMjUpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nR2l2ZW5OYW1lXSBUaGUgZmlyc3QgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIHNoaXBwaW5nIGFkZHJlc3MuIChtYXhpbXVtIGxlbmd0aCA1MCwgQVNDSUkgY2hhcmFjdGVycylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2hpcHBpbmdTdXJuYW1lXSBUaGUgbGFzdCBuYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgc2hpcHBpbmcgYWRkcmVzcy4gKG1heGltdW0gbGVuZ3RoIDUwLCBBU0NJSSBjaGFyYWN0ZXJzKVxuICogQHByb3BlcnR5IHtvYmplY3R9IFtzaGlwcGluZ0FkZHJlc3NdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nQWRkcmVzcy5zdHJlZXRBZGRyZXNzXSBMaW5lIDEgb2YgdGhlIHNoaXBwaW5nIGFkZHJlc3MgKGVnLiBudW1iZXIsIHN0cmVldCwgZXRjKS4gKG1heGltdW0gbGVuZ3RoIDUwKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzaGlwcGluZ0FkZHJlc3MuZXh0ZW5kZWRBZGRyZXNzXSBMaW5lIDIgb2YgdGhlIHNoaXBwaW5nIGFkZHJlc3MgKGVnLiBzdWl0ZSwgYXB0ICMsIGV0Yy4pLiAobWF4aW11bSBsZW5ndGggNTApXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nQWRkcmVzcy5saW5lM10gTGluZSAzIG9mIHRoZSBzaGlwcGluZyBhZGRyZXNzIGlmIG5lZWRlZCAoZWcuIHN1aXRlLCBhcHQgIywgZXRjKS4gKG1heGltdW0gbGVuZ3RoIDUwKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzaGlwcGluZ0FkZHJlc3MubG9jYWxpdHldIFRoZSBsb2NhbGl0eSAoY2l0eSkgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIHNoaXBwaW5nIGFkZHJlc3MuIChtYXhpbXVtIGxlbmd0aCA1MClcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2hpcHBpbmdBZGRyZXNzLnJlZ2lvbl0gVGhpcyBmaWVsZCBleHBlY3RzIGFuIElTTzMxNjYtMiBzdWJkaXZpc2lvbiBjb2RlLiBUaGUgc3ViZGl2aXNpb24gY29kZSBpcyB3aGF0IGZvbGxvd3MgdGhlIGh5cGhlbiBzZXBhcmF0b3IgaW4gdGhlIGZ1bGwgSVNPIDMxNjYtMiBjb2RlLiBGb3IgZXhhbXBsZSwgdGhlIHN0YXRlIG9mIE9oaW8gaW4gdGhlIFVuaXRlZCBTdGF0ZXMgd2UgZXhwZWN0IFwiT0hcIiBhcyBvcHBvc2VkIHRvIHRoZSBmdWxsIElTTyAzMTY2LTIgY29kZSBcIlVTLU9IXCIuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nQWRkcmVzcy5wb3N0YWxDb2RlXSBUaGUgemlwIGNvZGUgb3IgZXF1aXZhbGVudCBmb3IgY291bnRyaWVzIHRoYXQgaGF2ZSB0aGVtLiAobWF4aW11bSBsZW5ndGggMTApXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5Q29kZUFscGhhMl0gVGhlIDIgY2hhcmFjdGVyIGNvdW50cnkgY29kZS4gKG1heGltdW0gbGVuZ3RoIDIpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nUGhvbmVdIFRoZSBwaG9uZSBudW1iZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBzaGlwcGluZyBhZGRyZXNzLiBPbmx5IG51bWJlcnM7IHJlbW92ZSBkYXNoZXMsIHBhcmVudGhlc2lzIGFuZCBvdGhlciBjaGFyYWN0ZXJzLiAobWF4aW11bSBsZW5ndGggMjApXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nTWV0aG9kXSBUaGUgMi1kaWdpdCBzdHJpbmcgaW5kaWNhdGluZyB0aGUgbmFtZSBvZiB0aGUgc2hpcHBpbmcgbWV0aG9kIGNob3NlbiBmb3IgdGhlIHRyYW5zYWN0aW9uLiAobWF4aW11bSBsZW5ndGggNTApIFBvc3NpYmxlIHZhbHVlczpcbiAqIC0gYDAxYCBTYW1lIERheVxuICogLSBgMDJgIE92ZXJuaWdodCAvIEV4cGVkaXRlZFxuICogLSBgMDNgIFByaW9yaXR5ICgyLTMgRGF5cylcbiAqIC0gYDA0YCBHcm91bmRcbiAqIC0gYDA1YCBFbGVjdHJvbmljIERlbGl2ZXJ5XG4gKiAtIGAwNmAgU2hpcCB0byBTdG9yZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzaGlwcGluZ01ldGhvZEluZGljYXRvcl0gVGhlIDItZGlnaXQgc3RyaW5nIGluZGljYXRpbmcgdGhlIHNoaXBwaW5nIG1ldGhvZCBjaG9zZW4gZm9yIHRoZSB0cmFuc2FjdGlvbiBQb3NzaWJsZSB2YWx1ZXMuXG4gKiAtIGAwMWAgU2hpcCB0byBjYXJkaG9sZGVyIGJpbGxpbmcgYWRkcmVzc1xuICogLSBgMDJgIFNoaXAgdG8gYW5vdGhlciB2ZXJpZmllZCBhZGRyZXNzIG9uIGZpbGUgd2l0aCBtZXJjaGFudFxuICogLSBgMDNgIFNoaXAgdG8gYWRkcmVzcyB0aGF0IGlzIGRpZmZlcmVudCBmcm9tIGJpbGxpbmcgYWRkcmVzc1xuICogLSBgMDRgIFNoaXAgdG8gc3RvcmUgKHN0b3JlIGFkZHJlc3Mgc2hvdWxkIGJlIHBvcHVsYXRlZCBvbiByZXF1ZXN0KVxuICogLSBgMDVgIERpZ2l0YWwgZ29vZHNcbiAqIC0gYDA2YCBUcmF2ZWwgYW5kIGV2ZW50IHRpY2tldHMsIG5vdCBzaGlwcGVkXG4gKiAtIGAwN2AgT3RoZXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcHJvZHVjdENvZGVdIFRoZSAzLWxldHRlciBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBtZXJjaGFudCBwcm9kdWN0IGNvZGUuIFBvc3NpYmxlIHZhbHVlczpcbiAqIC0gYEFJUmAgQWlybGluZVxuICogLSBgR0VOYCBHZW5lcmFsIFJldGFpbFxuICogLSBgRElHYCBEaWdpdGFsIEdvb2RzXG4gKiAtIGBTVkNgIFNlcnZpY2VzXG4gKiAtIGBSRVNgIFJlc3RhdXJhbnRcbiAqIC0gYFRSQWAgVHJhdmVsXG4gKiAtIGBEU1BgIENhc2ggRGlzcGVuc2luZ1xuICogLSBgUkVOYCBDYXIgUmVudGFsXG4gKiAtIGBHQVNgIEZ1ZWxcbiAqIC0gYExVWGAgTHV4dXJ5IFJldGFpbFxuICogLSBgQUNDYCBBY2NvbW1vZGF0aW9uIFJldGFpbFxuICogLSBgVEJEYCBPdGhlclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtkZWxpdmVyeVRpbWVmcmFtZV0gVGhlIDItZGlnaXQgbnVtYmVyIGluZGljYXRpbmcgdGhlIGRlbGl2ZXJ5IHRpbWUgZnJhbWUuIFBvc3NpYmxlIHZhbHVlczpcbiAqIC0gYDAxYCBFbGVjdHJvbmljIGRlbGl2ZXJ5XG4gKiAtIGAwMmAgU2FtZSBkYXkgc2hpcHBpbmdcbiAqIC0gYDAzYCBPdmVybmlnaHQgc2hpcHBpbmdcbiAqIC0gYDA0YCBUd28gb3IgbW9yZSBkYXkgc2hpcHBpbmdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZGVsaXZlcnlFbWFpbF0gRm9yIGVsZWN0cm9uaWMgZGVsaXZlcnksIGVtYWlsIGFkZHJlc3MgdG8gd2hpY2ggdGhlIG1lcmNoYW5kaXNlIHdhcyBkZWxpdmVyZWQuIChtYXhpbXVtIGxlbmd0aCAyNTQpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3Jlb3JkZXJpbmRpY2F0b3JdIFRoZSAyLWRpZ2l0IG51bWJlciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNhcmRob2xkZXIgaXMgcmVvcmRlcmluZyBwcmV2aW91c2x5IHB1cmNoYXNlZCBtZXJjaGFuZGlzZS4gcG9zc2libGUgdmFsdWVzOlxuICogLSBgMDFgIEZpcnN0IHRpbWUgb3JkZXJlZFxuICogLSBgMDJgIFJlb3JkZXJlZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtwcmVvcmRlckluZGljYXRvcl0gVGhlIDItZGlnaXQgbnVtYmVyIGluZGljYXRpbmcgd2hldGhlciBjYXJkaG9sZGVyIGlzIHBsYWNpbmcgYW4gb3JkZXIgd2l0aCBhIGZ1dHVyZSBhdmFpbGFiaWxpdHkgb3IgcmVsZWFzZSBkYXRlLiBwb3NzaWJsZSB2YWx1ZXM6XG4gKiAtIGAwMWAgTWVyY2hhbmRpc2UgYXZhaWxhYmxlXG4gKiAtIGAwMmAgRnV0dXJlIGF2YWlsYWJpbGl0eVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtwcmVvcmRlckRhdGVdIFRoZSA4LWRpZ2l0IG51bWJlciAoZm9ybWF0OiBZWVlZTU1ERCkgaW5kaWNhdGluZyBleHBlY3RlZCBkYXRlIHRoYXQgYSBwcmUtb3JkZXJlZCBwdXJjaGFzZSB3aWxsIGJlIGF2YWlsYWJsZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZ2lmdENhcmRBbW91bnRdIFRoZSBwdXJjaGFzZSBhbW91bnQgdG90YWwgZm9yIHByZXBhaWQgZ2lmdCBjYXJkcyBpbiBtYWpvciB1bml0cy4gKG1heGltdW0gbGVuZ3RoIDE1KVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtnaWZ0Q2FyZEN1cnJlbmN5Q29kZV0gSVNPIDQyMTcgY3VycmVuY3kgY29kZSBmb3IgdGhlIGdpZnQgY2FyZCBwdXJjaGFzZWQuIChtYXhpbXVtIGxlbmd0aCAzKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtnaWZ0Q2FyZENvdW50XSBUb3RhbCBjb3VudCBvZiBpbmRpdmlkdWFsIHByZXBhaWQgZ2lmdCBjYXJkcyBwdXJjaGFzZWQuIChtYXhpbXVtIGxlbmd0aCAyKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthY2NvdW50QWdlSW5kaWNhdG9yXSBUaGUgMi1kaWdpdCB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIGxlbmd0aCBvZiB0aW1lIGNhcmRob2xkZXIgaGFzIGhhZCBhY2NvdW50LiBQb3NzaWJsZSB2YWx1ZXM6XG4gKiAtIGAwMWAgTm8gQWNjb3VudFxuICogLSBgMDJgIENyZWF0ZWQgZHVyaW5nIHRyYW5zYWN0aW9uXG4gKiAtIGAwM2AgTGVzcyB0aGFuIDMwIGRheXNcbiAqIC0gYDA0YCAzMC02MCBkYXlzXG4gKiAtIGAwNWAgTW9yZSB0aGFuIDYwIGRheXNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWNjb3VudENyZWF0ZURhdGVdIFRoZSA4LWRpZ2l0IG51bWJlciAoZm9ybWF0OiBZWVlZTU1ERCkgaW5kaWNhdGluZyB0aGUgZGF0ZSB0aGUgY2FyZGhvbGRlciBvcGVuZWQgdGhlIGFjY291bnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2FjY291bnRDaGFuZ2VJbmRpY2F0b3JdIFRoZSAyLWRpZ2l0IHZhbHVlIHJlcHJlc2VudGluZyB0aGUgbGVuZ3RoIG9mIHRpbWUgc2luY2UgdGhlIGxhc3QgY2hhbmdlIHRvIHRoZSBjYXJkaG9sZGVyIGFjY291bnQuIFRoaXMgaW5jbHVkZXMgc2hpcHBpbmcgYWRkcmVzcywgbmV3IHBheW1lbnQgYWNjb3VudCBvciBuZXcgdXNlciBhZGRlZC4gUG9zc2libGUgdmFsdWVzOlxuICogLSBgMDFgIENoYW5nZWQgZHVyaW5nIHRyYW5zYWN0aW9uXG4gKiAtIGAwMmAgTGVzcyB0aGFuIDMwIGRheXNcbiAqIC0gYDAzYCAzMC02MCBkYXlzXG4gKiAtIGAwNGAgTW9yZSB0aGFuIDYwIGRheXNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWNjb3VudENoYW5nZURhdGVdIFRoZSA4LWRpZ2l0IG51bWJlciAoZm9ybWF0OiBZWVlZTU1ERCkgaW5kaWNhdGluZyB0aGUgZGF0ZSB0aGUgY2FyZGhvbGRlcidzIGFjY291bnQgd2FzIGxhc3QgY2hhbmdlZC4gVGhpcyBpbmNsdWRlcyBjaGFuZ2VzIHRvIHRoZSBiaWxsaW5nIG9yIHNoaXBwaW5nIGFkZHJlc3MsIG5ldyBwYXltZW50IGFjY291bnRzIG9yIG5ldyB1c2VycyBhZGRlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWNjb3VudFB3ZENoYW5nZUluZGljYXRvcl0gVGhlIDItZGlnaXQgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBsZW5ndGggb2YgdGltZSBzaW5jZSB0aGUgY2FyZGhvbGRlciBjaGFuZ2VkIG9yIHJlc2V0IHRoZSBwYXNzd29yZCBvbiB0aGUgYWNjb3VudC4gUG9zc2libGUgdmFsdWVzOlxuICogLSBgMDFgIE5vIGNoYW5nZVxuICogLSBgMDJgIENoYW5nZWQgZHVyaW5nIHRyYW5zYWN0aW9uXG4gKiAtIGAwM2AgTGVzcyB0aGFuIDMwIGRheXNcbiAqIC0gYDA0YCAzMC02MCBkYXlzXG4gKiAtIGAwNWAgTW9yZSB0aGFuIDYwIGRheXNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWNjb3VudFB3ZENoYW5nZURhdGVdIFRoZSA4LWRpZ2l0IG51bWJlciAoZm9ybWF0OiBZWVlZTU1ERCkgaW5kaWNhdGluZyB0aGUgZGF0ZSB0aGUgY2FyZGhvbGRlciBsYXN0IGNoYW5nZWQgb3IgcmVzZXQgcGFzc3dvcmQgb24gYWNjb3VudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2hpcHBpbmdBZGRyZXNzVXNhZ2VJbmRpY2F0b3JdIFRoZSAyLWRpZ2l0IHZhbHVlIGluZGljYXRpbmcgd2hlbiB0aGUgc2hpcHBpbmcgYWRkcmVzcyB1c2VkIGZvciB0cmFuc2FjdGlvbiB3YXMgZmlyc3QgdXNlZC4gUG9zc2libGUgdmFsdWVzOlxuICogLSBgMDFgIFRoaXMgdHJhbnNhY3Rpb25cbiAqIC0gYDAyYCBMZXNzIHRoYW4gMzAgZGF5c1xuICogLSBgMDNgIDMwLTYwIGRheXNcbiAqIC0gYDA0YCBNb3JlIHRoYW4gNjAgZGF5c1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzaGlwcGluZ0FkZHJlc3NVc2FnZURhdGVdIFRoZSA4LWRpZ2l0IG51bWJlciAoZm9ybWF0OiBZWVlZTU1ERCkgaW5kaWNhdGluZyB0aGUgZGF0ZSB3aGVuIHRoZSBzaGlwcGluZyBhZGRyZXNzIHVzZWQgZm9yIHRoaXMgdHJhbnNhY3Rpb24gd2FzIGZpcnN0IHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RyYW5zYWN0aW9uQ291bnREYXldIE51bWJlciBvZiB0cmFuc2FjdGlvbnMgKHN1Y2Nlc3NmdWwgb3IgYWJhbmRvbmVkKSBmb3IgdGhpcyBjYXJkaG9sZGVyIGFjY291bnQgd2l0aGluIHRoZSBsYXN0IDI0IGhvdXJzLiAobWF4aW11bSBsZW5ndGggMylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdHJhbnNhY3Rpb25Db3VudFllYXJdIE51bWJlciBvZiB0cmFuc2FjdGlvbnMgKHN1Y2Nlc3NmdWwgb3IgYWJhbmRvbmVkKSBmb3IgdGhpcyBjYXJkaG9sZGVyIGFjY291bnQgd2l0aGluIHRoZSBsYXN0IHllYXIuIChtYXhpbXVtIGxlbmd0aCAzKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthZGRDYXJkQXR0ZW1wdHNdIE51bWJlciBvZiBhZGQgY2FyZCBhdHRlbXB0cyBpbiB0aGUgbGFzdCAyNCBob3Vycy4gKG1heGltdW0gbGVuZ3RoIDMpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2FjY291bnRQdXJjaGFzZXNdIE51bWJlciBvZiBwdXJjaGFzZXMgd2l0aCB0aGlzIGNhcmRob2xkZXIgYWNjb3VudCBkdXJpbmcgdGhlIHByZXZpb3VzIHNpeCBtb250aHMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2ZyYXVkQWN0aXZpdHldIFRoZSAyLWRpZ2l0IHZhbHVlIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWVyY2hhbnQgZXhwZXJpZW5jZWQgc3VzcGljaW91cyBhY3Rpdml0eSAoaW5jbHVkaW5nIHByZXZpb3VzIGZyYXVkKSBvbiB0aGUgYWNjb3VudC4gUG9zc2libGUgdmFsdWVzOlxuICogLSBgMDFgIE5vIHN1c3BpY2lvdXMgYWN0aXZpdHlcbiAqIC0gYDAyYCBTdXNwaWNpb3VzIGFjdGl2aXR5IG9ic2VydmVkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NoaXBwaW5nTmFtZUluZGljYXRvcl0gVGhlIDItZGlnaXQgdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgY2FyZGhvbGRlciBuYW1lIG9uIHRoZSBhY2NvdW50IGlzIGlkZW50aWNhbCB0byB0aGUgc2hpcHBpbmcgbmFtZSB1c2VkIGZvciB0aGUgdHJhbnNhY3Rpb24uIFBvc3NpYmxlIHZhbHVlczpcbiAqIC0gYDAxYCBBY2NvdW50IGFuZCBzaGlwcGluZyBuYW1lIGlkZW50aWNhbFxuICogLSBgMDJgIEFjY291bnQgYW5kIHNoaXBwaW5nIG5hbWUgZGlmZmVyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BheW1lbnRBY2NvdW50SW5kaWNhdG9yXSBUaGUgMi1kaWdpdCB2YWx1ZSBpbmRpY2F0aW5nIHRoZSBsZW5ndGggb2YgdGltZSB0aGF0IHRoZSBwYXltZW50IGFjY291bnQgd2FzIGVucm9sbGVkIGluIHRoZSBtZXJjaGFudCBhY2NvdW50LiBQb3NzaWJsZSB2YWx1ZXM6XG4gKiAtIGAwMWAgTm8gYWNjb3VudCAoZ3Vlc3QgY2hlY2tvdXQpXG4gKiAtIGAwMmAgRHVyaW5nIHRoZSB0cmFuc2FjdGlvblxuICogLSBgMDNgIExlc3MgdGhhbiAzMCBkYXlzXG4gKiAtIGAwNGAgMzAtNjAgZGF5c1xuICogLSBgMDVgIE1vcmUgdGhhbiA2MCBkYXlzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BheW1lbnRBY2NvdW50QWdlXSBUaGUgOC1kaWdpdCBudW1iZXIgKGZvcm1hdDogWVlZWU1NREQpIGluZGljYXRpbmcgdGhlIGRhdGUgdGhlIHBheW1lbnQgYWNjb3VudCB3YXMgYWRkZWQgdG8gdGhlIGNhcmRob2xkZXIgYWNjb3VudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWNzV2luZG93U2l6ZV0gVGhlIDItZGlnaXQgbnVtYmVyIHRvIHNldCB0aGUgY2hhbGxlbmdlIHdpbmRvdyBzaXplIHRvIGRpc3BsYXkgdG8gdGhlIGVuZCBjYXJkaG9sZGVyLiAgVGhlIEFDUyB3aWxsIHJlcGx5IHdpdGggY29udGVudCB0aGF0IGlzIGZvcm1hdHRlZCBhcHByb3ByaWF0ZWx5IHRvIHRoaXMgd2luZG93IHNpemUgdG8gYWxsb3cgZm9yIHRoZSBiZXN0IHVzZXIgZXhwZXJpZW5jZS4gIFRoZSBzaXplcyBhcmUgd2lkdGggeCBoZWlnaHQgaW4gcGl4ZWxzIG9mIHRoZSB3aW5kb3cgZGlzcGxheWVkIGluIHRoZSBjYXJkaG9sZGVyIGJyb3dzZXIgd2luZG93LiBQb3NzaWJsZSB2YWx1ZXM6XG4gKiAtIGAwMWAgMjUweDQwMFxuICogLSBgMDJgIDM5MHg0MDBcbiAqIC0gYDAzYCA1MDB4NjAwXG4gKiAtIGAwNGAgNjAweDQwMFxuICogLSBgMDVgIEZ1bGwgcGFnZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzZGtNYXhUaW1lb3V0XSBUaGUgMi1kaWdpdCBudW1iZXIgb2YgbWludXRlcyAobWluaW11bSAwNSkgdG8gc2V0IHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIGZvciBhbGwgM0RTIDIuMCBtZXNzYWdlcyB0byBiZSBjb21tdW5pY2F0ZWQgYmV0d2VlbiBhbGwgY29tcG9uZW50cy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYWRkcmVzc01hdGNoXSBUaGUgMS1jaGFyYWN0ZXIgdmFsdWUgKFkvTikgaW5kaWNhdGluZyB3aGV0aGVyIGNhcmRob2xkZXIgYmlsbGluZyBhbmQgc2hpcHBpbmcgYWRkcmVzc2VzIG1hdGNoLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthY2NvdW50SWRdIEFkZGl0aW9uYWwgY2FyZGhvbGRlciBhY2NvdW50IGluZm9ybWF0aW9uLiAobWF4aW11bSBsZW5ndGggNjQpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2lwQWRkcmVzc10gVGhlIElQIGFkZHJlc3Mgb2YgdGhlIGNvbnN1bWVyLiBJUHY0IGFuZCBJUHY2IGFyZSBzdXBwb3J0ZWQuXG4gKiAtIG9ubHkgb25lIElQIGFkZHJlc3Mgc3VwcG9ydGVkXG4gKiAtIG9ubHkgbnVtYmVycywgbGV0dGVycywgcGVyaW9kICcuJyBjaGFycywgb3IgY29sb25zICc6JyBhcmUgYWNjZXB0YWJsZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtvcmRlckRlc2NyaXB0aW9uXSBCcmllZiBkZXNjcmlwdGlvbiBvZiBpdGVtcyBwdXJjaGFzZWQuIChtYXhpbXVtIGxlbmd0aCAyNTYpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RheEFtb3VudF0gVW5mb3JtYXR0ZWQgdGF4IGFtb3VudCB3aXRob3V0IGFueSBkZWNpbWFsaXphdGlvbiAoaWUuICQxMjMuNjcgPSAxMjM2NykuIChtYXhpbXVtIGxlbmd0aCAyMClcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXNlckFnZW50XSBUaGUgZXhhY3QgY29udGVudCBvZiB0aGUgSFRUUCB1c2VyIGFnZW50IGhlYWRlci4gKG1heGltdW0gbGVuZ3RoIDUwMClcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXV0aGVudGljYXRpb25JbmRpY2F0b3JdIFRoZSAyLWRpZ2l0IG51bWJlciBpbmRpY2F0aW5nIHRoZSB0eXBlIG9mIGF1dGhlbnRpY2F0aW9uIHJlcXVlc3QuIFBvc3NpYmxlIHZhbHVlczpcbiAqICAtIGAwMWAgUGF5bWVudFxuICogIC0gYDAyYCBSZWN1cnJpbmcgdHJhbnNhY3Rpb25cbiAqICAtIGAwM2AgSW5zdGFsbG1lbnRcbiAqICAtIGAwNGAgQWRkIGNhcmRcbiAqICAtIGAwNWAgTWFpbnRhaW4gY2FyZFxuICogIC0gYDA2YCBDYXJkaG9sZGVyIHZlcmlmaWNhdGlvbiBhcyBwYXJ0IG9mIEVNViB0b2tlbiBJRCZWXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2luc3RhbGxtZW50XSBBbiBpbnRlZ2VyIHZhbHVlIGdyZWF0ZXIgdGhhbiAxIGluZGljYXRpbmcgdGhlIG1heGltdW0gbnVtYmVyIG9mIHBlcm1pdHRlZCBhdXRob3JpemF0aW9ucyBmb3IgaW5zdGFsbG1lbnQgcGF5bWVudHMuIChtYXhpbXVtIGxlbmd0aCAzKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtwdXJjaGFzZURhdGVdIFRoZSAxNC1kaWdpdCBudW1iZXIgKGZvcm1hdDogWVlZWU1NRERISE1NU1MpIGluZGljYXRpbmcgdGhlIGRhdGUgaW4gVVRDIG9mIG9yaWdpbmFsIHB1cmNoYXNlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtyZWN1cnJpbmdFbmRdIFRoZSA4LWRpZ2l0IG51bWJlciAoZm9ybWF0OiBZWVlZTU1ERCkgaW5kaWNhdGluZyB0aGUgZGF0ZSBhZnRlciB3aGljaCBubyBmdXJ0aGVyIHJlY3VycmluZyBhdXRob3JpemF0aW9ucyBzaG91bGQgYmUgcGVyZm9ybWVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtyZWN1cnJpbmdGcmVxdWVuY3ldIEludGVnZXIgdmFsdWUgaW5kaWNhdGluZyB0aGUgbWluaW11bSBudW1iZXIgb2YgZGF5cyBiZXR3ZWVuIHJlY3VycmluZyBhdXRob3JpemF0aW9ucy4gQSBmcmVxdWVuY3kgb2YgbW9udGhseSBpcyBpbmRpY2F0ZWQgYnkgdGhlIHZhbHVlIDI4LiBNdWx0aXBsZSBvZiAyOCBkYXlzIHdpbGwgYmUgdXNlZCB0byBpbmRpY2F0ZSBtb250aHMgKGV4LiA2IG1vbnRocyA9IDE2OCkuIChtYXhpbXVtIGxlbmd0aCAzKVxuICovXG5cbi8qKlxuICogQG5hbWUgVGhyZWVEU2VjdXJlI29uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gd2hpY2ggeW91IGFyZSBzdWJzY3JpYmluZy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgQSBjYWxsYmFjayB0byBoYW5kbGUgdGhlIGV2ZW50LlxuICogQGRlc2NyaXB0aW9uIFN1YnNjcmliZXMgYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGEgbmFtZWQgZXZlbnQuIFRoZSBmb2xsb3dpbmcgZXZlbnRzIGFyZSBhdmFpbGFibGU6XG4gKiAgICoge0BsaW5rIFRocmVlRFNlY3VyZSNldmVudDpsb29rdXAtY29tcGxldGV8bG9va3VwLWNvbXBsZXRlfVxuICogICAqIHtAbGluayBUaHJlZURTZWN1cmUjZXZlbnQ6Y3VzdG9tZXItY2FuY2VsZWR8Y3VzdG9tZXItY2FuY2VsZWR9XG4gKiAgICoge0BsaW5rIFRocmVlRFNlY3VyZSNldmVudDphdXRoZW50aWNhdGlvbi1pZnJhbWUtYXZhaWxhYmxlfGF1dGhlbnRpY2F0aW9uLWlmcmFtZS1hdmFpbGFibGV9XG4gKiAgICoge0BsaW5rIFRocmVlRFNlY3VyZSNldmVudDphdXRoZW50aWNhdGlvbi1tb2RhbC1yZW5kZXJ8YXV0aGVudGljYXRpb24tbW9kYWwtcmVuZGVyfVxuICogICAqIHtAbGluayBUaHJlZURTZWN1cmUjZXZlbnQ6YXV0aGVudGljYXRpb24tbW9kYWwtY2xvc2V8YXV0aGVudGljYXRpb24tbW9kYWwtY2xvc2V9XG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+TGlzdGVuaW5nIHRvIGEgM0QgU2VjdXJlIGV2ZW50PC9jYXB0aW9uPlxuICogYnJhaW50cmVlLnRocmVlRFNlY3VyZS5jcmVhdGUoeyAuLi4gfSwgZnVuY3Rpb24gKGNyZWF0ZUVyciwgdGhyZWVEU2VjdXJlSW5zdGFuY2UpIHtcbiAqICAgdGhyZWVEU2VjdXJlSW5zdGFuY2Uub24oJ2xvb2t1cC1jb21wbGV0ZScsIGZ1bmN0aW9uIChkYXRhLCBuZXh0KSB7XG4gKiAgICAgY29uc29sZS5sb2coJ2RhdGEgZnJvbSB0aGUgbG9va3VwJywgZGF0YSk7XG4gKiAgICAgbmV4dCgpO1xuICogICB9KTtcbiAqICAgdGhyZWVEU2VjdXJlSW5zdGFuY2Uub24oJ2N1c3RvbWVyLWNhbmNlbGVkJywgZnVuY3Rpb24gKCkge1xuICogICAgIGNvbnNvbGUubG9nKCdsb2cgdGhhdCB0aGUgY3VzdG9tZXIgY2FuY2VsZWQnKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cbi8qKlxuICogQG5hbWUgVGhyZWVEU2VjdXJlI29mZlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHdoaWNoIHlvdSBhcmUgdW5zdWJzY3JpYmluZy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgVGhlIGNhbGxiYWNrIGZvciB0aGUgZXZlbnQgeW91IGFyZSB1bnN1YnNjcmliaW5nIGZyb20uXG4gKiBAZGVzY3JpcHRpb24gVW5zdWJzY3JpYmVzIHRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGEgbmFtZWQgZXZlbnQuXG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+U3Vic2NyaWJpbmcgYW5kIHRoZW4gdW5zdWJzY3JpYmluZyBmcm9tIGEgM0QgU2VjdXJlIGVsZCBldmVudDwvY2FwdGlvbj5cbiAqIGJyYWludHJlZS50aHJlZURTZWN1cmUuY3JlYXRlKHsgLi4uIH0sIGZ1bmN0aW9uIChjcmVhdGVFcnIsIHRocmVlRFNlY3VyZUluc3RhbmNlKSB7XG4gKiAgIHZhciBsb29rdXBDYWxsYmFjayA9IGZ1bmN0aW9uIChkYXRhLCBuZXh0KSB7XG4gKiAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gKiAgICAgbmV4dCgpO1xuICogICB9O1xuICogICB2YXIgY2FuY2VsQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gKiAgICAgLy8gbG9nIHRoZSBjYW5jZWxhdGlvblxuICogICAgIC8vIG9yIHVwZGF0ZSBVSVxuICogICB9O1xuICpcbiAqICAgdGhyZWVEU2VjdXJlSW5zdGFuY2Uub24oJ2xvb2t1cC1jb21wbGV0ZScsIGxvb2t1cENhbGxiYWNrKTtcbiAqICAgdGhyZWVEU2VjdXJlSW5zdGFuY2Uub24oJ2N1c3RvbWVyLWNhbmNlbGVkJywgY2FuY2VsQ2FsbGJhY2spO1xuICpcbiAqICAgLy8gbGF0ZXIgb25cbiAqICAgdGhyZWVEU2VjdXJlSW5zdGFuY2Uub2ZmKCdsb29rdXAtY29tcGxldGUnLCBsb29rdXBDYWxsYmFjayk7XG4gKiAgIHRocmVlRFNlY3VyZUluc3RhbmNlLm9mZignY3VzdG9tZXItY2FuY2VsZWQnLCBjYW5jZWxDYWxsYmFjayk7XG4gKiB9KTtcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cbi8qKlxuICogVGhpcyBldmVudCBpcyBlbWl0dGVkIHdoZW4gdGhlIGAyLWlubGluZS1pZnJhbWVgIHZlcnNpb24gaXMgc3BlY2lmaWVkIHdoZW4gY3JlYXRpbmcgdGhlIDNEIFNlY3VyZSBpbnN0YW5jZSBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIGlmcmFtZSBiZWNvbWVzIGF2YWlsYWJsZS5cbiAqIEBldmVudCBUaHJlZURTZWN1cmUjYXV0aGVudGljYXRpb24taWZyYW1lLWF2YWlsYWJsZVxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkxpc3RlbmluZyBmb3IgdGhlIGF1dGhlbnRpY2F0aW9uIGlmcmFtZSB0byBiZSBhdmFpbGFibGU8L2NhcHRpb24+XG4gKiAgIHRocmVlRFNlY3VyZUluc3RhbmNlLm9uKCdhdXRoZW50aWNhdGlvbi1pZnJhbWUtYXZhaWxhYmxlJywgZnVuY3Rpb24gKGV2ZW50LCBuZXh0KSB7XG4gKiAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChldmVudC5lbGVtZW50KTsgLy8gYWRkIGlmcmFtZSBlbGVtZW50IHRvIHBhZ2VcbiAqXG4gKiAgICAgbmV4dCgpOyAvLyBsZXQgdGhlIFNESyBrbm93IHRoZSBpZnJhbWUgaXMgcmVhZHlcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuIHVzaW5nIHRoZSAzRCBTZWN1cmUgMi4wIGZsb3cgYW5kIHRoZSBpbml0aWFsIGxvb2t1cCByZXF1ZXN0IGNvbXBsZXRlcy4gSWYgdGhpcyBpcyBub3QgdXNlZCwgYSBgb25Mb29rdXBDb21wbGV0ZWAgY2FsbGJhY2sgbXVzdCBiZSBwYXNzZWQgaW50byB0aGUgYHZlcmlmeUNhcmRgIG1ldGhvZC5cbiAqIEBldmVudCBUaHJlZURTZWN1cmUjbG9va3VwLWNvbXBsZXRlXG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+TGlzdGVuaW5nIGZvciB3aGVuIHRoZSBsb29rdXAgcmVxdWVzdCBpcyBjb21wbGV0ZTwvY2FwdGlvbj5cbiAqIGJyYWludHJlZS50aHJlZURTZWN1cmUuY3JlYXRlKHtcbiAqICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZSxcbiAqICAgdmVyc2lvbjogJzInXG4gKiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyLCB0aHJlZURTZWN1cmVJbnN0YW5jZSkge1xuICogICB0aHJlZURTZWN1cmVJbnN0YW5jZS5vbignbG9va3VwLWNvbXBsZXRlJywgZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgICAvLyBpbnNwZWN0IHRoZSBkYXRhXG4gKlxuICogICAgIC8vIGNhbGwgbmV4dCB3aGVuIHJlYWR5IHRvIHByb2NlZWQgd2l0aCB0aGUgY2hhbGxlbmdlXG4gKiAgICAgbmV4dCgpO1xuICogICB9KTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogVGhpcyBldmVudCBpcyBlbWl0dGVkIHdoZW4gdXNpbmcgdGhlIDNEIFNlY3VyZSAyLjAgZmxvdyBhbmQgdGhlIGN1c3RvbWVyIGNhbmNlbHMgdGhlIDNEIFNlY3VyZSBjaGFsbGVuZ2UuXG4gKiBAZXZlbnQgVGhyZWVEU2VjdXJlI2N1c3RvbWVyLWNhbmNlbGVkXG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+TGlzdGVuaW5nIGZvciB3aGVuIHRoZSBjdXN0b21lciBjYW5jZWxzIHRoZSAzRCBTZWN1cmUgY2hhbGxlbmdlPC9jYXB0aW9uPlxuICogYnJhaW50cmVlLnRocmVlRFNlY3VyZS5jcmVhdGUoe1xuICogICBjbGllbnQ6IGNsaWVudEluc3RhbmNlLFxuICogICB2ZXJzaW9uOiAnMidcbiAqIH0sIGZ1bmN0aW9uIChjcmVhdGVFcnIsIHRocmVlRFNlY3VyZUluc3RhbmNlKSB7XG4gKiAgIHRocmVlRFNlY3VyZUluc3RhbmNlLm9uKCdjdXN0b21lci1jYW5jZWxlZCcsIGZ1bmN0aW9uICgpIHtcbiAqICAgICAvLyB0aGUgY3VzdG9tZXIgY2FuY2VsZWQgdGhlIDNEIFNlY3VyZSBjaGFsbGVuZ2VcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuIHVzaW5nIHRoZSAzRCBTZWN1cmUgMi4wIGZsb3cgYW5kIHRoZSBhdXRoZW50aWNhdGlvbiBtb2RhbCBjbG9zZXMsIGVpdGhlciBiZWNhdXNlIHRoZSBhdXRoZW50aWNhdGlvbiB3YXMgY29tcGxldGVkIG9yIGJlY2F1c2UgdGhlIGN1c3RvbWVyIGNhbmNlbGVkIHRoZSBwcm9jZXNzLlxuICogQGV2ZW50IFRocmVlRFNlY3VyZSNhdXRoZW50aWNhdGlvbi1tb2RhbC1jbG9zZVxuICogQGV4YW1wbGVcbiAqIGJyYWludHJlZS50aHJlZURTZWN1cmUuY3JlYXRlKHtcbiAqICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZSxcbiAqICAgdmVyc2lvbjogJzInXG4gKiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyLCB0aHJlZURTZWN1cmVJbnN0YW5jZSkge1xuICogICB0aHJlZURTZWN1cmVJbnN0YW5jZS5vbignYXV0aGVudGljYXRpb24tbW9kYWwtY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgLy8gdGhlIG1vZGFsIHdhcyBjbG9zZWRcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuIHVzaW5nIHRoZSAzRCBTZWN1cmUgMi4wIGZsb3cgYW5kIHRoZSBhdXRoZW50aWNhdGlvbiBtb2RhbCBpcyByZW5kZXJlZC5cbiAqIEBldmVudCBUaHJlZURTZWN1cmUjYXV0aGVudGljYXRpb24tbW9kYWwtcmVuZGVyXG4gKiBAZXhhbXBsZVxuICogYnJhaW50cmVlLnRocmVlRFNlY3VyZS5jcmVhdGUoe1xuICogICBjbGllbnQ6IGNsaWVudEluc3RhbmNlLFxuICogICB2ZXJzaW9uOiAnMidcbiAqIH0sIGZ1bmN0aW9uIChjcmVhdGVFcnIsIHRocmVlRFNlY3VyZUluc3RhbmNlKSB7XG4gKiAgIHRocmVlRFNlY3VyZUluc3RhbmNlLm9uKCdhdXRoZW50aWNhdGlvbi1tb2RhbC1yZW5kZXInLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgLy8gdGhlIG1vZGFsIHdhcyByZW5kZXJlZCwgcHJlc2VudGluZyB0aGUgYXV0aGVudGljYXRpb24gZm9ybSB0byB0aGUgY3VzdG9tZXJcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgM0QgU2VjdXJlIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS5jcmVhdGUgY3JlYXRlfSBvcHRpb25zXG4gKiBAZGVzY3JpcHRpb24gPHN0cm9uZz5EbyBub3QgdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIFVzZSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUuY3JlYXRlfGJyYWludHJlZS50aHJlZURTZWN1cmUuY3JlYXRlfSBpbnN0ZWFkLjwvc3Ryb25nPlxuICogQGNsYXNzZGVzYyBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBUaHJlZURTZWN1cmUgY29tcG9uZW50IHByb2R1Y2VkIGJ5IHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS5jcmVhdGV8YnJhaW50cmVlLnRocmVlRFNlY3VyZS5jcmVhdGV9LiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBoYXZlIGEgbWV0aG9kIGZvciBsYXVuY2hpbmcgYSAzRCBTZWN1cmUgYXV0aGVudGljYXRpb24gZmxvdy5cbiAqXG4gKiBJZiB5b3UgdXNlIHRoZSBCcmFpbnRyZWUgU0RLIGZyb20gd2l0aGluIGFuIGlmcmFtZSwgeW91IG11c3Qgbm90IHVzZSB0aGUgYHNhbmRib3hgIGF0dHJpYnV0ZSBvbiB5b3VyIGlmcmFtZSBvciB0aGUgM0QgU2VjdXJlIG1vZGFsIHdpbGwgbm90IGZ1bmN0aW9uIGNvcnJlY3RseS5cbiAqXG4gKiAqKk5vdGUqKjogM0QgU2VjdXJlIDIuMCBpcyBkb2N1bWVudGVkIGJlbG93IGFuZCB3aWxsIGJlY29tZSB0aGUgZGVmYXVsdCBpbnRlZ3JhdGlvbiBtZXRob2QgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBCcmFpbnRyZWUtd2ViLiBVbnRpbCB0aGVuLCB2ZXJzaW9uIDEuMCB3aWxsIGNvbnRpbnVlIHRvIGJlIHN1cHBvcnRlZC4gVG8gdmlldyAzRCBTZWN1cmUgMS4wIGRvY3VtZW50YXRpb24sIGxvb2sgYXQgQnJhaW50cmVlLXdlYiBkb2N1bWVudGF0aW9uIGZyb20gdmVyc2lvbiBbMy40MC4wXShodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi8zLjQwLjAvVGhyZWVEU2VjdXJlLmh0bWwpIGFuZCBlYXJsaWVyLCBvciB1cGdyYWRlIHlvdXIgaW50ZWdyYXRpb24gYnkgcmVmZXJyaW5nIHRvIHRoZSBbM0QgU2VjdXJlIDIuMCBhZG9wdGlvbiBndWlkZV0oaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS9icmFpbnRyZWUvZG9jcy9ndWlkZXMvM2Qtc2VjdXJlL21pZ3JhdGlvbi9qYXZhc2NyaXB0L3YzKS5cbiAqL1xuZnVuY3Rpb24gVGhyZWVEU2VjdXJlKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgRnJhbWV3b3JrID0gRlJBTUVXT1JLU1tvcHRpb25zLmZyYW1ld29ya107XG5cbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5fZnJhbWV3b3JrID0gbmV3IEZyYW1ld29yayhvcHRpb25zKTtcbiAgdGhpcy5fZnJhbWV3b3JrLnNldFVwRXZlbnRMaXN0ZW5lcnMoZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuX2VtaXQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgfSk7XG59XG5cbkV2ZW50RW1pdHRlci5jcmVhdGVDaGlsZChUaHJlZURTZWN1cmUpO1xuLy8gTkVYVF9NQUpPUl9WRVJTSU9OIHJlbW92ZSBleGVtcHRpb25SZXF1ZXN0ZWQgZW50aXJlbHkgaW4gZmF2b3Igb2YgYHJlcXVlc3RlZEV4ZW1wdGlvblR5cGVgXG4vKipcbiAqIExhdW5jaCB0aGUgM0QgU2VjdXJlIGxvZ2luIGZsb3csIHJldHVybmluZyBhIG5vbmNlIHBheWxvYWQuXG4gKlxuICogQHB1YmxpY1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBmb3IgY2FyZCB2ZXJpZmljYXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5ub25jZSBUaGUgbm9uY2UgcmVwcmVzZW50aW5nIHRoZSBjYXJkIGZyb20gYSB0b2tlbml6YXRpb24gcGF5bG9hZC4gRm9yIGV4YW1wbGUsIHRoaXMgY2FuIGJlIGEge0BsaW5rIEhvc3RlZEZpZWxkc350b2tlbml6ZVBheWxvYWR8dG9rZW5pemVQYXlsb2FkfSByZXR1cm5lZCBieSBIb3N0ZWQgRmllbGRzIHVuZGVyIGBwYXlsb2FkLm5vbmNlYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmJpbiBUaGUgbnVtZXJpYyBCYW5rIElkZW50aWZpY2F0aW9uIE51bWJlciAoYmluKSBvZiB0aGUgY2FyZCBmcm9tIGEgdG9rZW5pemF0aW9uIHBheWxvYWQuIEZvciBleGFtcGxlLCB0aGlzIGNhbiBiZSBhIHtAbGluayBIb3N0ZWRGaWVsZHN+dG9rZW5pemVQYXlsb2FkfHRva2VuaXplUGF5bG9hZH0gcmV0dXJuZWQgYnkgSG9zdGVkIEZpZWxkcyB1bmRlciBgcGF5bG9hZC5kZXRhaWxzLmJpbmAuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5hbW91bnQgVGhlIGFtb3VudCBvZiB0aGUgdHJhbnNhY3Rpb24gaW4gdGhlIGN1cnJlbnQgbWVyY2hhbnQgYWNjb3VudCdzIGN1cnJlbmN5LiBUaGlzIG11c3QgYmUgZXhwcmVzc2VkIGluIG51bWJlcnMgd2l0aCBhbiBvcHRpb25hbCBkZWNpbWFsICh1c2luZyBgLmApIGFuZCBwcmVjaXNpb24gdXAgdG8gdGhlIGh1bmRyZWR0aHMgcGxhY2UuIEZvciBleGFtcGxlLCBpZiB5b3UncmUgcHJvY2Vzc2luZyBhIHRyYW5zYWN0aW9uIGZvciAxLjIzNCw1NiDigqwgdGhlbiBgYW1vdW50YCBzaG91bGQgYmUgYDEyMzQuNTZgLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFjY291bnRUeXBlXSBUaGUgYWNjb3VudCB0eXBlIGZvciB0aGUgY2FyZCAoaWYga25vd24pLiBBY2NlcHRlZCB2YWx1ZXM6IGBjcmVkaXRgIG9yIGBkZWJpdGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNhcmRBZGRDaGFsbGVuZ2VSZXF1ZXN0ZWRdIElmIHNldCB0byBgdHJ1ZWAsIGEgY2FyZC1hZGQgY2hhbGxlbmdlIHdpbGwgYmUgcmVxdWVzdGVkIGZyb20gdGhlIGlzc3Vlci4gSWYgc2V0IHRvIGBmYWxzZWAsIGEgY2FyZC1hZGQgY2hhbGxlbmdlIHdpbGwgbm90IGJlIHJlcXVlc3RlZC4gSWYgdGhlIHBhcmFtIGlzIG1pc3NpbmcsIGEgY2FyZC1hZGQgY2hhbGxlbmdlIHdpbGwgb25seSBiZSByZXF1ZXN0ZWQgZm9yICQwIGFtb3VudC4gQW4gYXV0aGVudGljYXRpb24gY3JlYXRlZCB1c2luZyB0aGlzIGZsYWcgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgdmF1bHRpbmcgb3BlcmF0aW9ucyAoY3JlYXRpb24gb2YgY3VzdG9tZXJzJyBjcmVkaXQgY2FyZHMgb3IgcGF5bWVudCBtZXRob2RzKSBhbmQgbm90IGZvciBjcmVhdGluZyB0cmFuc2FjdGlvbnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNhcmRBZGRdICpEZXByZWNhdGVkOiogVXNlIGBjYXJkQWRkQ2hhbGxlbmdlUmVxdWVzdGVkYCBpbnN0ZWFkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFsbGVuZ2VSZXF1ZXN0ZWRdIElmIHNldCB0byB0cnVlLCBhbiBhdXRoZW50aWNhdGlvbiBjaGFsbGVuZ2Ugd2lsbCBiZSBmb3JjZWQgaWYgcG9zc2libGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRhdGFPbmx5UmVxdWVzdGVkXSBJbmRpY2F0ZXMgd2hldGhlciB0byB1c2UgdGhlIGRhdGEgb25seSBmbG93LiBJbiB0aGlzIGZsb3csIGZyaWN0aW9ubGVzcyAzRFMgaXMgZW5zdXJlZCBmb3IgTWFzdGVyY2FyZCBjYXJkaG9sZGVycyBhcyB0aGUgY2FyZCBzY2hlbWUgcHJvdmlkZXMgYSByaXNrIHNjb3JlIGZvciB0aGUgaXNzdWVyIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIGFwcHJvdmUuIElmIGRhdGEgb25seSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBwcm9jZXNzb3IsIGEgdmFsaWRhdGlvbiBlcnJvciB3aWxsIGJlIHJhaXNlZC4gTm9uLU1hc3RlcmNhcmQgY2FyZGhvbGRlcnMgd2lsbCBmYWxsYmFjayB0byBhIG5vcm1hbCAzRFMgZmxvdy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZXhlbXB0aW9uUmVxdWVzdGVkXSAqRGVwcmVjYXRlZDoqIFVzZSBgcmVxdWVzdGVkRXhlbXB0aW9uVHlwZWAgaW5zdGVhZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVxdWVzdFZpc2FEQUZdIFJlcXVlc3QgdG8gdXNlIFZJU0EgRGlnaXRhbCBBdXRoZW50aWNhdGlvbiBGcmFtZXdvcmsuIElmIHNldCB0byB0cnVlLCBhIFZpc2EgREFGIGF1dGhlbnRpY2F0ZWQgcGF5bWVudCBjcmVkZW50aWFsIHdpbGwgYmUgY3JlYXRlZCBhbmQvb3IgdXNlZCBmb3IgYXV0aGVudGljYXRpb24gaWYgdGhlIG1lcmNoYW50IGlzIGVsaWdpYmxlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm1lcmNoYW50TmFtZV0gQWxsb3dzIHRvIG92ZXJyaWRlIHRoZSBtZXJjaGFudCBuYW1lIHRoYXQgaXMgc2hvd24gaW4gdGhlIGNoYWxsZW5nZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5yZXF1ZXN0ZWRFeGVtcHRpb25UeXBlXSBJZiBhbiBleGVtcHRpb24gaXMgcmVxdWVzdGVkIGFuZCB0aGUgZXhlbXB0aW9uJ3MgY29uZGl0aW9ucyBhcmUgc2F0aXNmaWVkLCB0aGVuIGl0IHdpbGwgYmUgYXBwbGllZC4gVGhlIGZvbGxvd2luZyBzdXBwb3J0ZWQgZXhlbXB0aW9ucyBhcmUgZGVmaW5lZCBhcyBwZXIgUFNEMiByZWd1bGF0aW9uOiBgbG93X3ZhbHVlYCwgYHRyYW5zYWN0aW9uX3Jpc2tfYW5hbHlzaXNgXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuY3VzdG9tRmllbGRzXSBPYmplY3Qgd2hlcmUgZWFjaCBrZXkgaXMgdGhlIG5hbWUgb2YgYSBjdXN0b20gZmllbGQgd2hpY2ggaGFzIGJlZW4gY29uZmlndXJlZCBpbiB0aGUgQ29udHJvbCBQYW5lbC4gSW4gdGhlIENvbnRyb2wgUGFuZWwgeW91IGNhbiBjb25maWd1cmUgM0QgU2VjdXJlIFJ1bGVzIHdoaWNoIHRyaWdnZXIgb24gY2VydGFpbiB2YWx1ZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkxvb2t1cENvbXBsZXRlXSAqRGVwcmVjYXRlZDoqIFVzZSB7QGxpbmsgVGhyZWVEU2VjdXJlI2V2ZW50Omxvb2t1cC1jb21wbGV0ZXxgdGhyZWVEU2VjdXJlSW5zdGFuY2Uub24oJ2xvb2t1cC1jb21wbGV0ZScpYH0gaW5zdGVhZC4gRnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIGxvb2t1cCBjb21wbGV0ZXMuIFRoZSBmaXJzdCBhcmd1bWVudCwgYGRhdGFgLCBpcyBhIHtAbGluayBUaHJlZURTZWN1cmV+dmVyaWZpY2F0aW9uRGF0YXx2ZXJpZmljYXRpb25EYXRhfSBvYmplY3QsIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50LCBgbmV4dGAsIGlzIGEgY2FsbGJhY2suIGBuZXh0YCBtdXN0IGJlIGNhbGxlZCB0byBjb250aW51ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5lbWFpbF0gVGhlIGVtYWlsIHVzZWQgZm9yIHZlcmlmaWNhdGlvbi4gKG1heGltdW0gbGVuZ3RoIDI1NSlcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5tb2JpbGVQaG9uZU51bWJlcl0gVGhlIG1vYmlsZSBwaG9uZSBudW1iZXIgdXNlZCBmb3IgdmVyaWZpY2F0aW9uLiBPbmx5IG51bWJlcnM7IHJlbW92ZSBkYXNoZXMsIHBhcmVudGhlc2lzIGFuZCBvdGhlciBjaGFyYWN0ZXJzLiAobWF4aW11bSBsZW5ndGggMjUpXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuYmlsbGluZ0FkZHJlc3NdIEFuIHtAbGluayBUaHJlZURTZWN1cmV+YmlsbGluZ0FkZHJlc3N8YmlsbGluZ0FkZHJlc3N9IG9iamVjdCBmb3IgdmVyaWZpY2F0aW9uLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmFkZGl0aW9uYWxJbmZvcm1hdGlvbl0gQW4ge0BsaW5rIFRocmVlRFNlY3VyZX5hZGRpdGlvbmFsSW5mb3JtYXRpb258YWRkaXRpb25hbEluZm9ybWF0aW9ufSBvYmplY3QgZm9yIHZlcmlmaWNhdGlvbi5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jb2xsZWN0RGV2aWNlRGF0YV0gSWYgc2V0IHRvIGB0cnVlYCwgZGV2aWNlIGRhdGEgc3VjaCBhcyBicm93c2VyIHNjcmVlbiBkaW1lbnNpb25zLCBsYW5ndWFnZSBhbmQgdGltZSB6b25lIGlzIHN1Ym1pdHRlZCB3aXRoIGxvb2t1cCBkYXRhLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmN1c3RvbWVyXSAqKkRlcHJlY2F0ZWQqKiBDdXN0b21lciBpbmZvcm1hdGlvbiBmb3IgdXNlIGluIDNEUyAxLjAgdmVyaWZpY2F0aW9ucy4gQ2FuIGNvbnRhaW4gYW55IHN1YnNldCBvZiBhIHtAbGluayBUaHJlZURTZWN1cmV+dmVyaWZ5Q2FyZEN1c3RvbWVyT2JqZWN0fHZlcmlmeUNhcmRDdXN0b21lck9iamVjdH0uIE9ubHkgdG8gYmUgdXNlZCBmb3IgM0RTIDEuMCBpbnRlZ3JhdGlvbnMuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBvcHRpb25zLmFkZEZyYW1lICoqRGVwcmVjYXRlZCoqIFRoaXMge0BsaW5rIFRocmVlRFNlY3VyZX5hZGRGcmFtZUNhbGxiYWNrfGFkZEZyYW1lQ2FsbGJhY2t9IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGJhbmsgZnJhbWUgbmVlZHMgdG8gYmUgYWRkZWQgdG8geW91ciBwYWdlLiBPbmx5IHRvIGJlIHVzZWQgZm9yIDNEUyAxLjAgaW50ZWdyYXRpb25zLlxuICogQHBhcmFtIHtjYWxsYmFja30gb3B0aW9ucy5yZW1vdmVGcmFtZSAqKkRlcHJlY2F0ZWQqKiBGb3IgdXNlIGluIDNEUyAxLjAgRmxvd3MuIFRoaXMge0BsaW5rIFRocmVlRFNlY3VyZX5yZW1vdmVGcmFtZUNhbGxiYWNrfHJlbW92ZUZyYW1lQ2FsbGJhY2t9IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGJhbmsgZnJhbWUgbmVlZHMgdG8gYmUgcmVtb3ZlZCBmcm9tIHlvdXIgcGFnZS4gT25seSB0byBiZSB1c2VkIGluIDNEUyAxLjAgaW50ZWdyYXRpb25zLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCA8Y29kZT5kYXRhPC9jb2RlPiwgaXMgYSB7QGxpbmsgVGhyZWVEU2VjdXJlfnZlcmlmeVBheWxvYWR8dmVyaWZ5UGF5bG9hZH0uIElmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLCBpdCB3aWxsIHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB7QGxpbmsgVGhyZWVEU2VjdXJlfnZlcmlmeVBheWxvYWR8dmVyaWZ5UGF5bG9hZH0uXG5cbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+VmVyaWZ5aW5nIGEgcGF5bWVudCBtZXRob2Qgbm9uY2Ugd2l0aCAzRFMgMi4wPC9jYXB0aW9uPlxuICogdmFyIG15M0RTQ29udGFpbmVyO1xuICpcbiAqIC8vIHNldCB1cCBsaXN0ZW5lciBhZnRlciBpbml0aWFsaXphdGlvblxuICogdGhyZWVEU2VjdXJlLm9uKCgnbG9va3VwLWNvbXBsZXRlJywgZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgLy8gdXNlIGBkYXRhYCBoZXJlLCB0aGVuIGNhbGwgYG5leHQoKWBcbiAqICAgbmV4dCgpO1xuICogfSk7XG4gKlxuICogLy8gY2FsbCB2ZXJpZnlDYXJkIGFmdGVyIHRva2VuaXppbmcgYSBjYXJkXG4gKiB0aHJlZURTZWN1cmUudmVyaWZ5Q2FyZCh7XG4gKiAgIGFtb3VudDogJzEyMy40NScsXG4gKiAgIG5vbmNlOiBob3N0ZWRGaWVsZHNUb2tlbml6YXRpb25QYXlsb2FkLm5vbmNlLFxuICogICBiaW46IGhvc3RlZEZpZWxkc1Rva2VuaXphdGlvblBheWxvYWQuZGV0YWlscy5iaW4sXG4gKiAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbSdcbiAqICAgYmlsbGluZ0FkZHJlc3M6IHtcbiAqICAgICBnaXZlbk5hbWU6ICdKaWxsJyxcbiAqICAgICBzdXJuYW1lOiAnRG9lJyxcbiAqICAgICBwaG9uZU51bWJlcjogJzgxMDEyMzQ1NjcnLFxuICogICAgIHN0cmVldEFkZHJlc3M6ICc1NTUgU21pdGggU3QuJyxcbiAqICAgICBleHRlbmRlZEFkZHJlc3M6ICcjNScsXG4gKiAgICAgbG9jYWxpdHk6ICdPYWtsYW5kJyxcbiAqICAgICByZWdpb246ICdDQScsXG4gKiAgICAgcG9zdGFsQ29kZTogJzEyMzQ1JyxcbiAqICAgICBjb3VudHJ5Q29kZUFscGhhMjogJ1VTJ1xuICogICB9LFxuICogICBhZGRpdGlvbmFsSW5mb3JtYXRpb246IHtcbiAqICAgICB3b3JrUGhvbmVOdW1iZXI6ICc1NTU1NTU1NTU1JyxcbiAqICAgICBzaGlwcGluZ0dpdmVuTmFtZTogJ0ppbGwnLFxuICogICAgIHNoaXBwaW5nU3VybmFtZTogJ0RvZScsXG4gKiAgICAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gKiAgICAgICBzdHJlZXRBZGRyZXNzOiAnNTU1IFNtaXRoIHN0JyxcbiAqICAgICAgIGV4dGVuZGVkQWRkcmVzczogJyM1JyxcbiAqICAgICAgIGxvY2FsaXR5OiAnT2FrbGFuZCcsXG4gKiAgICAgICByZWdpb246ICdDQScsXG4gKiAgICAgICBwb3N0YWxDb2RlOiAnMTIzNDUnLFxuICogICAgICAgY291bnRyeUNvZGVBbHBoYTI6ICdVUydcbiAqICAgICB9XG4gKiAgICAgc2hpcHBpbmdQaG9uZTogJzgxMDEyMzQ1NjcnXG4gKiAgIH1cbiAqIH0sIGZ1bmN0aW9uIChlcnIsIHBheWxvYWQpIHtcbiAqICAgaWYgKGVycikge1xuICogICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAqICAgICByZXR1cm47XG4gKiAgIH1cbiAqXG4gKiAgIGlmIChwYXlsb2FkLmxpYWJpbGl0eVNoaWZ0ZWQpIHtcbiAqICAgICAvLyBMaWFiaWxpdHkgaGFzIHNoaWZ0ZWRcbiAqICAgICBzdWJtaXROb25jZVRvU2VydmVyKHBheWxvYWQubm9uY2UpO1xuICogICB9IGVsc2UgaWYgKHBheWxvYWQubGlhYmlsaXR5U2hpZnRQb3NzaWJsZSkge1xuICogICAgIC8vIExpYWJpbGl0eSBtYXkgc3RpbGwgYmUgc2hpZnRlZFxuICogICAgIC8vIERlY2lkZSBpZiB5b3Ugd2FudCB0byBzdWJtaXQgdGhlIG5vbmNlXG4gKiAgIH0gZWxzZSB7XG4gKiAgICAgLy8gTGlhYmlsaXR5IGhhcyBub3Qgc2hpZnRlZCBhbmQgd2lsbCBub3Qgc2hpZnRcbiAqICAgICAvLyBEZWNpZGUgaWYgeW91IHdhbnQgdG8gc3VibWl0IHRoZSBub25jZVxuICogICB9XG4gKiB9KTtcbiAqIEBleGFtcGxlXG4gKiA8Y2FwdGlvbj5WZXJpZnlpbmcgYSBwYXltZW50IG1ldGhvZCBub25jZSB3aXRoIDNEUyAyLjAgd2l0aCBvbkxvb2t1cENvbXBsZXRlIGNhbGxiYWNrPC9jYXB0aW9uPlxuICogdmFyIG15M0RTQ29udGFpbmVyO1xuICpcbiAqIHRocmVlRFNlY3VyZS52ZXJpZnlDYXJkKHtcbiAqICAgYW1vdW50OiAnMTIzLjQ1JyxcbiAqICAgbm9uY2U6IGhvc3RlZEZpZWxkc1Rva2VuaXphdGlvblBheWxvYWQubm9uY2UsXG4gKiAgIGJpbjogaG9zdGVkRmllbGRzVG9rZW5pemF0aW9uUGF5bG9hZC5kZXRhaWxzLmJpbixcbiAqICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJ1xuICogICBiaWxsaW5nQWRkcmVzczoge1xuICogICAgIGdpdmVuTmFtZTogJ0ppbGwnLFxuICogICAgIHN1cm5hbWU6ICdEb2UnLFxuICogICAgIHBob25lTnVtYmVyOiAnODEwMTIzNDU2NycsXG4gKiAgICAgc3RyZWV0QWRkcmVzczogJzU1NSBTbWl0aCBTdC4nLFxuICogICAgIGV4dGVuZGVkQWRkcmVzczogJyM1JyxcbiAqICAgICBsb2NhbGl0eTogJ09ha2xhbmQnLFxuICogICAgIHJlZ2lvbjogJ0NBJyxcbiAqICAgICBwb3N0YWxDb2RlOiAnMTIzNDUnLFxuICogICAgIGNvdW50cnlDb2RlQWxwaGEyOiAnVVMnXG4gKiAgIH0sXG4gKiAgIGFkZGl0aW9uYWxJbmZvcm1hdGlvbjoge1xuICogICAgIHdvcmtQaG9uZU51bWJlcjogJzU1NTU1NTU1NTUnLFxuICogICAgIHNoaXBwaW5nR2l2ZW5OYW1lOiAnSmlsbCcsXG4gKiAgICAgc2hpcHBpbmdTdXJuYW1lOiAnRG9lJyxcbiAqICAgICBzaGlwcGluZ0FkZHJlc3M6IHtcbiAqICAgICAgIHN0cmVldEFkZHJlc3M6ICc1NTUgU21pdGggc3QnLFxuICogICAgICAgZXh0ZW5kZWRBZGRyZXNzOiAnIzUnLFxuICogICAgICAgbG9jYWxpdHk6ICdPYWtsYW5kJyxcbiAqICAgICAgIHJlZ2lvbjogJ0NBJyxcbiAqICAgICAgIHBvc3RhbENvZGU6ICcxMjM0NScsXG4gKiAgICAgICBjb3VudHJ5Q29kZUFscGhhMjogJ1VTJ1xuICogICAgIH1cbiAqICAgICBzaGlwcGluZ1Bob25lOiAnODEwMTIzNDU2NydcbiAqICAgfSxcbiAqICAgb25Mb29rdXBDb21wbGV0ZTogZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgICAvLyB1c2UgYGRhdGFgIGhlcmUsIHRoZW4gY2FsbCBgbmV4dCgpYFxuICogICAgIG5leHQoKTtcbiAqICAgfVxuICogfSwgZnVuY3Rpb24gKGVyciwgcGF5bG9hZCkge1xuICogICBpZiAoZXJyKSB7XG4gKiAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICogICAgIHJldHVybjtcbiAqICAgfVxuICpcbiAqICAgaWYgKHBheWxvYWQubGlhYmlsaXR5U2hpZnRlZCkge1xuICogICAgIC8vIExpYWJpbGl0eSBoYXMgc2hpZnRlZFxuICogICAgIHN1Ym1pdE5vbmNlVG9TZXJ2ZXIocGF5bG9hZC5ub25jZSk7XG4gKiAgIH0gZWxzZSBpZiAocGF5bG9hZC5saWFiaWxpdHlTaGlmdFBvc3NpYmxlKSB7XG4gKiAgICAgLy8gTGlhYmlsaXR5IG1heSBzdGlsbCBiZSBzaGlmdGVkXG4gKiAgICAgLy8gRGVjaWRlIGlmIHlvdSB3YW50IHRvIHN1Ym1pdCB0aGUgbm9uY2VcbiAqICAgfSBlbHNlIHtcbiAqICAgICAvLyBMaWFiaWxpdHkgaGFzIG5vdCBzaGlmdGVkIGFuZCB3aWxsIG5vdCBzaGlmdFxuICogICAgIC8vIERlY2lkZSBpZiB5b3Ugd2FudCB0byBzdWJtaXQgdGhlIG5vbmNlXG4gKiAgIH1cbiAqIH0pO1xuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkhhbmRsaW5nIDNEUyBsb29rdXAgZXJyb3JzPC9jYXB0aW9uPlxuICogdmFyIG15M0RTQ29udGFpbmVyO1xuICpcbiAqIC8vIHNldCB1cCBsaXN0ZW5lciBhZnRlciBpbml0aWFsaXphdGlvblxuICogdGhyZWVEU2VjdXJlLm9uKCgnbG9va3VwLWNvbXBsZXRlJywgZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgLy8gdXNlIGBkYXRhYCBoZXJlLCB0aGVuIGNhbGwgYG5leHQoKWBcbiAqICAgbmV4dCgpO1xuICogfSk7XG4gKlxuICogLy8gY2FsbCB2ZXJpZnlDYXJkIGFmdGVyIHRva2VuaXppbmcgYSBjYXJkXG4gKiB0aHJlZURTZWN1cmUudmVyaWZ5Q2FyZCh7XG4gKiAgIGFtb3VudDogJzEyMy40NScsXG4gKiAgIG5vbmNlOiBob3N0ZWRGaWVsZHNUb2tlbml6YXRpb25QYXlsb2FkLm5vbmNlLFxuICogICBiaW46IGhvc3RlZEZpZWxkc1Rva2VuaXphdGlvblBheWxvYWQuZGV0YWlscy5iaW4sXG4gKiAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gKiAgIGJpbGxpbmdBZGRyZXNzOiBiaWxsaW5nQWRkcmVzc0Zyb21DdXN0b21lcixcbiAqICAgYWRkaXRpb25hbEluZm9ybWF0aW9uOiBhZGRpdGlvbmFsSW5mb0Zyb21DdXN0b21lclxuICogfSwgZnVuY3Rpb24gKGVyciwgcGF5bG9hZCkge1xuICogICBpZiAoZXJyKSB7XG4gKiAgICAgaWYgKGVyci5jb2RlLmluZGV4T2YoJ1RIUkVFRFNfTE9PS1VQJykgPT09IDApIHtcbiAqICAgICAgIC8vIGFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgaW5pdGlhbCBsb29rdXAgcmVxdWVzdFxuICpcbiAqICAgICAgIGlmIChlcnIuY29kZSA9PT0gJ1RIUkVFRFNfTE9PS1VQX1RPS0VOSVpFRF9DQVJEX05PVF9GT1VORF9FUlJPUicpIHtcbiAqICAgICAgICAgLy8gZWl0aGVyIHRoZSBwYXNzZWQgcGF5bWVudCBtZXRob2Qgbm9uY2UgZG9lcyBub3QgZXhpc3RcbiAqICAgICAgICAgLy8gb3IgaXQgd2FzIGFscmVhZHkgY29uc3VtZWQgYmVmb3JlIHRoZSBsb29rdXAgY2FsbCB3YXMgbWFkZVxuICogICAgICAgfSBlbHNlIGlmIChlcnIuY29kZS5pbmRleE9mKCdUSFJFRURTX0xPT0tVUF9WQUxJREFUSU9OJykgPT09IDApIHtcbiAqICAgICAgICAgLy8gYSB2YWxpZGF0aW9uIGVycm9yIG9jY3VycmVkXG4gKiAgICAgICAgIC8vIGxpa2VseSBzb21lIG5vbi1hc2NpaSBjaGFyYWN0ZXJzIHdlcmUgaW5jbHVkZWQgaW4gdGhlIGJpbGxpbmdcbiAqICAgICAgICAgLy8gYWRkcmVzcyBnaXZlbiBuYW1lIG9yIHN1cm5hbWUgZmllbGRzLCBvciB0aGUgY2FyZGhvbGRlcm5hbWUgZmllbGRcbiAqXG4gKiAgICAgICAgIC8vIEluc3RydWN0IHlvdXIgdXNlciB0byBjaGVjayB0aGVpciBkYXRhIGFuZCB0cnkgYWdhaW5cbiAqICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgIC8vIGFuIHVua25vd24gbG9va3VwIGVycm9yIG9jY3VycmVkXG4gKiAgICAgICB9XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIC8vIHNvbWUgb3RoZXIga2luZCBvZiBlcnJvclxuICogICAgIH1cbiAqICAgICByZXR1cm47XG4gKiAgIH1cbiAqXG4gKiAgIC8vIGhhbmRsZSBzdWNjZXNzXG4gKiB9KTtcbiAqL1xuVGhyZWVEU2VjdXJlLnByb3RvdHlwZS52ZXJpZnlDYXJkID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHByaXZhdGVPcHRpb25zO1xuXG4gIGlmICh0aGlzLmhhc0xpc3RlbmVyKFwibG9va3VwLWNvbXBsZXRlXCIpKSB7XG4gICAgcHJpdmF0ZU9wdGlvbnMgPSB7XG4gICAgICBpZ25vcmVPbkxvb2t1cENvbXBsZXRlUmVxdWlyZW1lbnQ6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9mcmFtZXdvcmsudmVyaWZ5Q2FyZChvcHRpb25zLCBwcml2YXRlT3B0aW9ucyk7XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2MgKi9cbi8qKlxuICogTGF1bmNoIHRoZSBpZnJhbWUgY2hhbGxlbmdlIHVzaW5nIGEgM0QgU2VjdXJlIGxvb2t1cCByZXNwb25zZSBmcm9tIGEgc2VydmVyIHNpZGUgbG9va3VwLlxuICpcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7KG9iamVjdHxzdHJpbmcpfSBsb29rdXBSZXNwb25zZSBUaGUgbG9va3VwIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBzaWRlIGNhbGwgdG8gbG9va3VwIHRoZSAzRCBTZWN1cmUgaW5mb3JtYXRpb24uIFRoZSByYXcgc3RyaW5nIG9yIGEgcGFyc2VkIG9iamVjdCBjYW4gYmUgcGFzc2VkLlxuICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlLlxuICogQGV4YW1wbGVcbiAqIHZhciBteTNEU0NvbnRhaW5lcjtcbiAqXG4gKiB0aHJlZURTZWN1cmUuaW5pdGlhbGl6ZUNoYWxsZW5nZVdpdGhMb29rdXBSZXNwb25zZShsb29rdXBSZXNwb25zZUZyb21TZXJ2ZXIpLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAqICAgaWYgKHBheWxvYWQubGlhYmlsaXR5U2hpZnRlZCkge1xuICogICAgIC8vIExpYWJpbGl0eSBoYXMgc2hpZnRlZFxuICogICAgIHN1Ym1pdE5vbmNlVG9TZXJ2ZXIocGF5bG9hZC5ub25jZSk7XG4gKiAgIH0gZWxzZSBpZiAocGF5bG9hZC5saWFiaWxpdHlTaGlmdFBvc3NpYmxlKSB7XG4gKiAgICAgLy8gTGlhYmlsaXR5IG1heSBzdGlsbCBiZSBzaGlmdGVkXG4gKiAgICAgLy8gRGVjaWRlIGlmIHlvdSB3YW50IHRvIHN1Ym1pdCB0aGUgbm9uY2VcbiAqICAgfSBlbHNlIHtcbiAqICAgICAvLyBMaWFiaWxpdHkgaGFzIG5vdCBzaGlmdGVkIGFuZCB3aWxsIG5vdCBzaGlmdFxuICogICAgIC8vIERlY2lkZSBpZiB5b3Ugd2FudCB0byBzdWJtaXQgdGhlIG5vbmNlXG4gKiAgIH1cbiAqIH0pO1xuICovXG5UaHJlZURTZWN1cmUucHJvdG90eXBlLmluaXRpYWxpemVDaGFsbGVuZ2VXaXRoTG9va3VwUmVzcG9uc2UgPSBmdW5jdGlvbiAoXG4gIGxvb2t1cFJlc3BvbnNlXG4pIHtcbiAgaWYgKHR5cGVvZiBsb29rdXBSZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxvb2t1cFJlc3BvbnNlID0gSlNPTi5wYXJzZShsb29rdXBSZXNwb25zZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fZnJhbWV3b3JrLmluaXRpYWxpemVDaGFsbGVuZ2VXaXRoTG9va3VwUmVzcG9uc2UobG9va3VwUmVzcG9uc2UpO1xufTtcblxuLyoqXG4gKiBHYXRoZXIgdGhlIGRhdGEgbmVlZGVkIGZvciBhIDNEIFNlY3VyZSBsb29rdXAgY2FsbC5cbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zIGZvciAzRCBTZWN1cmUgbG9va3VwLlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubm9uY2UgVGhlIG5vbmNlIHJlcHJlc2VudGluZyB0aGUgY2FyZCBmcm9tIGEgdG9rZW5pemF0aW9uIHBheWxvYWQuIEZvciBleGFtcGxlLCB0aGlzIGNhbiBiZSBhIHtAbGluayBIb3N0ZWRGaWVsZHN+dG9rZW5pemVQYXlsb2FkfHRva2VuaXplUGF5bG9hZH0gcmV0dXJuZWQgYnkgSG9zdGVkIEZpZWxkcyB1bmRlciBgcGF5bG9hZC5ub25jZWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5iaW4gVGhlIG51bWVyaWMgQmFuayBJZGVudGlmaWNhdGlvbiBOdW1iZXIgKGJpbikgb2YgdGhlIGNhcmQgZnJvbSBhIHRva2VuaXphdGlvbiBwYXlsb2FkLiBGb3IgZXhhbXBsZSwgdGhpcyBjYW4gYmUgYSB7QGxpbmsgSG9zdGVkRmllbGRzfnRva2VuaXplUGF5bG9hZHx0b2tlbml6ZVBheWxvYWR9IHJldHVybmVkIGJ5IEhvc3RlZCBGaWVsZHMgdW5kZXIgYHBheWxvYWQuZGV0YWlscy5iaW5gLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCA8Y29kZT5kYXRhPC9jb2RlPiwgaXMgYSB7QGxpbmsgVGhyZWVEU2VjdXJlfnByZXBhcmVMb29rdXBQYXlsb2FkfHByZXBhcmVMb29rdXBQYXlsb2FkfS4gSWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQsIGl0IHdpbGwgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHtAbGluayBUaHJlZURTZWN1cmV+cHJlcGFyZUxvb2t1cFBheWxvYWR8cHJlcGFyZUxvb2t1cFBheWxvYWR9LlxuXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICogQGV4YW1wbGVcbiAqIDxjYXB0aW9uPlByZXBhcmluZyBkYXRhIGZvciBhIDNEIFNlY3VyZSBsb29rdXA8L2NhcHRpb24+XG4gKiB0aHJlZURTZWN1cmUucHJlcGFyZUxvb2t1cCh7XG4gKiAgIG5vbmNlOiBob3N0ZWRGaWVsZHNUb2tlbml6YXRpb25QYXlsb2FkLm5vbmNlLFxuICogICBiaW46IGhvc3RlZEZpZWxkc1Rva2VuaXphdGlvblBheWxvYWQuZGV0YWlscy5iaW5cbiAqIH0sIGZ1bmN0aW9uIChlcnIsIHBheWxvYWQpIHtcbiAqICAgaWYgKGVycikge1xuICogICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAqICAgICByZXR1cm47XG4gKiAgIH1cbiAqXG4gKiAgIC8vIHNlbmQgcGF5bG9hZCB0byBzZXJ2ZXIgdG8gZG8gc2VydmVyIHNpZGUgbG9va3VwXG4gKiB9KTtcbiAqL1xuVGhyZWVEU2VjdXJlLnByb3RvdHlwZS5wcmVwYXJlTG9va3VwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMuX2ZyYW1ld29yay5wcmVwYXJlTG9va3VwKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDYW5jZWwgdGhlIDNEUyBmbG93IGFuZCByZXR1cm4gdGhlIHZlcmlmaWNhdGlvbiBwYXlsb2FkIGlmIGF2YWlsYWJsZS4gSWYgdXNpbmcgM0QgU2VjdXJlIHZlcnNpb24gMiwgdGhpcyB3aWxsIG5vdCBjbG9zZSB0aGUgVUkgb2YgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZGFsLiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoaXMgbWV0aG9kIG9ubHkgYmUgdXNlZCBpbiB0aGUge0BsaW5rIFRocmVlRFNlY3VyZSNldmVudDpsb29rdXAtY29tcGxldGV8YGxvb2t1cC1jb21wbGV0ZWB9IGV2ZW50IG9yIHRoZSBgb25Mb29rdXBDb21wbGV0ZWAgY2FsbGJhY2suXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQgaXMgYSB7QGxpbmsgVGhyZWVEU2VjdXJlfnZlcmlmeVBheWxvYWR8dmVyaWZ5UGF5bG9hZH0uIElmIHRoZXJlIGlzIG5vIHZlcmlmeVBheWxvYWQgKHRoZSBpbml0aWFsIGxvb2t1cCBkaWQgbm90IGNvbXBsZXRlKSwgYW4gZXJyb3Igd2lsbCBiZSByZXR1cm5lZC4gSWYgbm8gY2FsbGJhY2sgaXMgcGFzc2VkLCBgY2FuY2VsVmVyaWZ5Q2FyZGAgd2lsbCByZXR1cm4gYSBwcm9taXNlLlxuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqIEBleGFtcGxlIDxjYXB0aW9uPkNhbmNlbCB0aGUgdmVyaWZpY2F0aW9uIGluIGBsb29rdXAtY29tcGxldGVgIGV2ZW50PC9jYXB0aW9uPlxuICogLy8gc2V0IHVwIGxpc3RlbmVyIGFmdGVyIGluc3RhbnRpYXRpb25cbiAqIHRocmVlRFNlY3VyZS5vbignbG9va3VwLWNvbXBsZXRlJywgZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgLy8gZGV0ZXJtaW5lIGlmIHlvdSB3YW50IHRvIGNhbGwgbmV4dCB0byBzdGFydCB0aGUgY2hhbGxlbmdlLFxuICogICAvLyBpZiBub3QsIGNhbGwgY2FuY2VsVmVyaWZ5Q2FyZFxuICogICB0aHJlZURTZWN1cmUuY2FuY2VsVmVyaWZ5Q2FyZChmdW5jdGlvbiAoZXJyLCB2ZXJpZnlQYXlsb2FkKSB7XG4gKiAgICAgaWYgKGVycikge1xuICogICAgICAgLy8gSGFuZGxlIGVycm9yXG4gKiAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7IC8vIE5vIHZlcmlmaWNhdGlvbiBwYXlsb2FkIGF2YWlsYWJsZVxuICogICAgICAgcmV0dXJuO1xuICogICAgIH1cbiAqXG4gKiAgICAgdmVyaWZ5UGF5bG9hZC5ub25jZTsgLy8gVGhlIG5vbmNlIHJldHVybmVkIGZyb20gdGhlIDNkcyBsb29rdXAgY2FsbFxuICogICAgIHZlcmlmeVBheWxvYWQubGlhYmlsaXR5U2hpZnRlZDsgLy8gYm9vbGVhblxuICogICAgIHZlcmlmeVBheWxvYWQubGlhYmlsaXR5U2hpZnRQb3NzaWJsZTsgLy8gYm9vbGVhblxuICogICB9KTtcbiAqIH0pO1xuICpcbiAqIC8vIGFmdGVyIHRva2VuaXppbmcgYSBjcmVkaXQgY2FyZFxuICogdGhyZWVEU2VjdXJlLnZlcmlmeUNhcmQoe1xuICogICBhbW91bnQ6ICcxMDAuMDAnLFxuICogICBub25jZTogbm9uY2VGcm9tVG9rZW5pemF0aW9uUGF5bG9hZCxcbiAqICAgYmluOiBiaW5Gcm9tVG9rZW5pemF0aW9uUGF5bG9hZFxuICogICAvLyBvdGhlciBmaWVsZHMgc3VjaCBhcyBiaWxsaW5nIGFkZHJlc3NcbiAqIH0sIGZ1bmN0aW9uICh2ZXJpZnlFcnJvciwgcGF5bG9hZCkge1xuICogICBpZiAodmVyaWZ5RXJyb3IpIHtcbiAqICAgICBpZiAodmVyaWZ5RXJyb3IuY29kZSA9PT0gJ1RIUkVFRFNfVkVSSUZZX0NBUkRfQ0FOQ0VMRURfQllfTUVSQ0hBTlQgJykge1xuICogICAgICAgLy8gZmxvdyB3YXMgY2FuY2VsZWQgYnkgbWVyY2hhbnQsIDNkcyBpbmZvIGNhbiBiZSBmb3VuZCBpbiB0aGUgcGF5bG9hZFxuICogICAgICAgLy8gZm9yIGNhbmNlbFZlcmlmeUNhcmRcbiAqICAgICB9XG4gKiAgIH1cbiAqIH0pO1xuICogQGV4YW1wbGUgPGNhcHRpb24+Q2FuY2VsIHRoZSB2ZXJpZmljYXRpb24gaW4gb25Mb29rdXBDb21wbGV0ZSBjYWxsYmFjazwvY2FwdGlvbj5cbiAqIHRocmVlRFNlY3VyZS52ZXJpZnlDYXJkKHtcbiAqICAgYW1vdW50OiAnMTAwLjAwJyxcbiAqICAgbm9uY2U6IG5vbmNlRnJvbVRva2VuaXphdGlvblBheWxvYWQsXG4gKiAgIGJpbjogYmluRnJvbVRva2VuaXphdGlvblBheWxvYWQsXG4gKiAgIC8vIG90aGVyIGZpZWxkcyBzdWNoIGFzIGJpbGxpbmcgYWRkcmVzc1xuICogICBvbkxvb2t1cENvbXBsZXRlOiBmdW5jdGlvbiAoZGF0YSwgbmV4dCkge1xuICogICAgIC8vIGRldGVybWluZSBpZiB5b3Ugd2FudCB0byBjYWxsIG5leHQgdG8gc3RhcnQgdGhlIGNoYWxsZW5nZSxcbiAqICAgICAvLyBpZiBub3QsIGNhbGwgY2FuY2VsVmVyaWZ5Q2FyZFxuICogICAgIHRocmVlRFNlY3VyZS5jYW5jZWxWZXJpZnlDYXJkKGZ1bmN0aW9uIChlcnIsIHZlcmlmeVBheWxvYWQpIHtcbiAqICAgICAgIGlmIChlcnIpIHtcbiAqICAgICAgICAgLy8gSGFuZGxlIGVycm9yXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTsgLy8gTm8gdmVyaWZpY2F0aW9uIHBheWxvYWQgYXZhaWxhYmxlXG4gKiAgICAgICAgIHJldHVybjtcbiAqICAgICAgIH1cbiAqXG4gKiAgICAgICB2ZXJpZnlQYXlsb2FkLm5vbmNlOyAvLyBUaGUgbm9uY2UgcmV0dXJuZWQgZnJvbSB0aGUgM2RzIGxvb2t1cCBjYWxsXG4gKiAgICAgICB2ZXJpZnlQYXlsb2FkLmxpYWJpbGl0eVNoaWZ0ZWQ7IC8vIGJvb2xlYW5cbiAqICAgICAgIHZlcmlmeVBheWxvYWQubGlhYmlsaXR5U2hpZnRQb3NzaWJsZTsgLy8gYm9vbGVhblxuICogICAgIH0pO1xuICogICB9XG4gKiB9LCBmdW5jdGlvbiAodmVyaWZ5RXJyb3IsIHBheWxvYWQpIHtcbiAqICAgaWYgKHZlcmlmeUVycm9yKSB7XG4gKiAgICAgaWYgKHZlcmlmeUVycm9yLmNvZGUgPT09ICdUSFJFRURTX1ZFUklGWV9DQVJEX0NBTkNFTEVEX0JZX01FUkNIQU5UICcpIHtcbiAqICAgICAgIC8vIGZsb3cgd2FzIGNhbmNlbGVkIGJ5IG1lcmNoYW50LCAzZHMgaW5mbyBjYW4gYmUgZm91bmQgaW4gdGhlIHBheWxvYWRcbiAqICAgICAgIC8vIGZvciBjYW5jZWxWZXJpZnlDYXJkXG4gKiAgICAgfVxuICogICB9XG4gKiB9KTtcbiAqIEBleGFtcGxlIDxjYXB0aW9uPkNhbmNlbCB0aGUgdmVyaWZpY2F0aW9uIGluIDNEIFNlY3VyZSB2ZXJzaW9uIDE8L2NhcHRpb24+XG4gKiAvLyB1bmxpa2Ugd2l0aCB2MiwgdGhpcyB3aWxsIG5vdCBjYXVzZSBgdmVyaWZ5Q2FyZGAgdG8gZXJyb3IsIGl0IHdpbGwgc2ltcGx5XG4gKiAvLyBuZXZlciBjYWxsIHRoZSBjYWxsYmFja1xuICogdGhyZWVEU2VjdXJlLmNhbmNlbFZlcmlmeUNhcmQoZnVuY3Rpb24gKGVyciwgdmVyaWZ5UGF5bG9hZCkge1xuICogICBpZiAoZXJyKSB7XG4gKiAgICAgLy8gSGFuZGxlIGVycm9yXG4gKiAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOyAvLyBObyB2ZXJpZmljYXRpb24gcGF5bG9hZCBhdmFpbGFibGVcbiAqICAgICByZXR1cm47XG4gKiAgIH1cbiAqXG4gKiAgIHZlcmlmeVBheWxvYWQubm9uY2U7IC8vIFRoZSBub25jZSByZXR1cm5lZCBmcm9tIHRoZSAzZHMgbG9va3VwIGNhbGxcbiAqICAgdmVyaWZ5UGF5bG9hZC5saWFiaWxpdHlTaGlmdGVkOyAvLyBib29sZWFuXG4gKiAgIHZlcmlmeVBheWxvYWQubGlhYmlsaXR5U2hpZnRQb3NzaWJsZTsgLy8gYm9vbGVhblxuICogfSk7XG4gKi9cblRocmVlRFNlY3VyZS5wcm90b3R5cGUuY2FuY2VsVmVyaWZ5Q2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2ZyYW1ld29yay5jYW5jZWxWZXJpZnlDYXJkKCk7XG59O1xuXG4vKipcbiAqIENsZWFubHkgcmVtb3ZlIGFueXRoaW5nIHNldCB1cCBieSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUuY3JlYXRlfGNyZWF0ZX0sIHdpdGggdGhlIGV4Y2VwdGlvbiB0aGF0IHRoZSBDYXJkaW5hbCBTREssIG9uIHdpbmRvdy5DYXJkaW5hbCwgd2lsbCByZW1haW4uXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIENhbGxlZCBvbiBjb21wbGV0aW9uLiBJZiBubyBjYWxsYmFjayBpcyBwYXNzZWQsIGB0ZWFyZG93bmAgd2lsbCByZXR1cm4gYSBwcm9taXNlLlxuICogQGV4YW1wbGVcbiAqIHRocmVlRFNlY3VyZS50ZWFyZG93bigpO1xuICogQGV4YW1wbGUgPGNhcHRpb24+V2l0aCBjYWxsYmFjazwvY2FwdGlvbj5cbiAqIHRocmVlRFNlY3VyZS50ZWFyZG93bihmdW5jdGlvbiAoKSB7XG4gKiAgIC8vIHRlYXJkb3duIGlzIGNvbXBsZXRlXG4gKiB9KTtcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cblRocmVlRFNlY3VyZS5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBtZXRob2ROYW1lcyA9IG1ldGhvZHMoVGhyZWVEU2VjdXJlLnByb3RvdHlwZSkuY29uY2F0KFxuICAgIG1ldGhvZHMoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSlcbiAgKTtcblxuICBjb252ZXJ0TWV0aG9kc1RvRXJyb3IodGhpcywgbWV0aG9kTmFtZXMpO1xuXG4gIHJldHVybiB0aGlzLl9mcmFtZXdvcmsudGVhcmRvd24oKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gd3JhcFByb21pc2Uud3JhcFByb3RvdHlwZShUaHJlZURTZWN1cmUpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/external/three-d-secure.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/index.js":
/*!************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/index.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/** @module braintree-web/three-d-secure */\n\nvar ThreeDSecure = __webpack_require__(/*! ./external/three-d-secure */ \"(ssr)/./node_modules/braintree-web/three-d-secure/external/three-d-secure.js\");\nvar isHTTPS = (__webpack_require__(/*! ../lib/is-https */ \"(ssr)/./node_modules/braintree-web/lib/is-https.js\").isHTTPS);\nvar basicComponentVerification = __webpack_require__(/*! ../lib/basic-component-verification */ \"(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\");\nvar createDeferredClient = __webpack_require__(/*! ../lib/create-deferred-client */ \"(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\");\nvar createAssetsUrl = __webpack_require__(/*! ../lib/create-assets-url */ \"(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar errors = __webpack_require__(/*! ./shared/errors */ \"(ssr)/./node_modules/braintree-web/three-d-secure/shared/errors.js\");\nvar VERSION = \"3.99.0\";\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\n\n/**\n * @static\n * @function create\n * @param {object} options Creation options:\n * @param {object} [options.cardinalSDKConfig] A config for the underlying Cardinal SDK.\n * @param {object} [options.cardinalSDKConfig.logging] The logging configuration for the Cardinal SDK. See [Cardinal's documentation for the logging object](https://cardinaldocs.atlassian.net/wiki/spaces/CC/pages/1409568/Configurations#Configurations-Logging) for more information.\n * @param {number} [options.cardinalSDKConfig.timeout] The time in milliseconds to wait before a request to Cardinal's API times out. See [Cardinal's documentation for root level configuration](https://cardinaldocs.atlassian.net/wiki/spaces/CC/pages/1409568/Configurations#Configurations-RootLevelConfiguration) for more information.\n * @param {number} [options.cardinalSDKConfig.maxRequestRetries] How many times a request should be re-attempted to Cardinal's API before giving up as a failure. See [Cardinal's documentation for root level configuration](https://cardinaldocs.atlassian.net/wiki/spaces/CC/pages/1409568/Configurations#Configurations-RootLevelConfiguration) for more information.\n * @param {object} [options.cardinalSDKConfig.payment] An object to describe how you want the user interactions to behave. Only a subset of the [Cardinal SDK payment configuration object](https://cardinaldocs.atlassian.net/wiki/spaces/CC/pages/1409568/Configurations#Configurations-Payment) are supported: `displayLoading` and `displayExitButton`.\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {(number|string)} [options.version=1] The version of 3D Secure to use. Possible options:\n * * 1 - The legacy 3D Secure v1.0 integration.\n * * 2 - A 3D Secure v2.0 integration that uses a modal to host the 3D Secure iframe.\n * * 2-bootstrap3-modal - A 3D Secure v2.0 integration that uses a modal styled with Bootstrap 3 styles to host the 3D Secure iframe. Requires having the Bootstrap 3 script files and stylesheets on your page.\n * * 2-inline-iframe - A 3D Secure v2.0 integration that provides the authentication iframe directly to the merchant.\n * @param {callback} [callback] The second argument, `data`, is the {@link ThreeDSecure} instance. If no callback is provided, it returns a promise that resolves the {@link ThreeDSecure} instance.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n@example\n * <caption>Creating a v2 3D Secure component using 2 version (Cardinal modal)</caption>\n * braintree.threeDSecure.create({\n *   client: clientInstance,\n *   version: '2'\n * }, function (createError, threeDSecure) {\n *   // set up lookup-complete listener\n *   threeDSecure.on('lookup-complete', function (data, next) {\n *     // check lookup data\n *\n *     next();\n *   });\n *\n *   // using Hosted Fields, use `tokenize` to get back a credit card nonce\n *\n *   threeDSecure.verifyCard({\n *     nonce: nonceFromTokenizationPayload,,\n *     bin: binFromTokenizationPayload,\n *     amount: '100.00'\n *   }, function (verifyError, payload) {\n *     // inspect payload\n *     // send payload.nonce to your server\n *   });\n * });\n * @example\n * <caption>Creating a v2 3D Secure component using 2-bootstrap3-modal version</caption>\n * // must have the boostrap js, css and jquery files on your page\n * braintree.threeDSecure.create({\n *   client: clientInstance,\n *   version: '2-bootstrap3-modal'\n * }, function (createError, threeDSecure) {\n *   // set up lookup-complete listener\n *   threeDSecure.on('lookup-complete', function (data, next) {\n *     // check lookup data\n *\n *     next();\n *   });\n *\n *   // using Hosted Fields, use `tokenize` to get back a credit card nonce\n *\n *   // challenge will be presented in a bootstrap 3 modal\n *   threeDSecure.verifyCard({\n *     nonce: nonceFromTokenizationPayload,\n *     bin: binFromTokenizationPayload,\n *     amount: '100.00'\n *   }, function (verifyError, payload) {\n *     // inspect payload\n *     // send payload.nonce to your server\n *   });\n * });\n * @example\n * <caption>Creating a v2 3D Secure component using 2-inline-iframe version</caption>\n * braintree.threeDSecure.create({\n *   client: clientInstance,\n *   version: '2-inline-iframe'\n * }, function (createError, threeDSecure) {\n *   // set up lookup-complete listener\n *   threeDSecure.on('lookup-complete', function (data, next) {\n *     // check lookup data\n *\n *     next();\n *   });\n *   // set up iframe listener\n *   threeDSecure.on('authentication-iframe-available', function (event, next) {\n *     var element = event.element; // an html element that contains the iframe\n *\n *     document.body.appendChild(element); // put it on your page\n *\n *     next(); // let the sdk know the element has been added to the page\n *   });\n *\n *   // using Hosted Fields, use `tokenize` to get back a credit card nonce\n *\n *   threeDSecure.verifyCard({\n *     nonce: nonceFromTokenizationPayload,,\n *     bin: binFromTokenizationPayload,\n *     amount: '100.00'\n *   }, function (verifyError, payload) {\n *     // inspect payload\n *     // send payload.nonce to your server\n *   });\n * });\n */\nfunction create(options) {\n  var name = \"3D Secure\";\n  var framework = getFramework(options);\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      var assetsUrl = createAssetsUrl.create(options.authorization);\n      var createPromise = createDeferredClient\n        .create({\n          authorization: options.authorization,\n          client: options.client,\n          debug: options.debug,\n          assetsUrl: assetsUrl,\n          name: name,\n        })\n        .then(function (client) {\n          var error, isProduction;\n          var config = client.getConfiguration();\n          var gwConfig = config.gatewayConfiguration;\n\n          options.client = client;\n\n          if (!gwConfig.threeDSecureEnabled) {\n            error = errors.THREEDS_NOT_ENABLED;\n          }\n\n          if (config.authorizationType === \"TOKENIZATION_KEY\") {\n            error = errors.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY;\n          }\n\n          isProduction = gwConfig.environment === \"production\";\n\n          if (isProduction && !isHTTPS()) {\n            error = errors.THREEDS_HTTPS_REQUIRED;\n          }\n\n          if (\n            framework !== \"legacy\" &&\n            !(\n              gwConfig.threeDSecure &&\n              gwConfig.threeDSecure.cardinalAuthenticationJWT\n            )\n          ) {\n            analytics.sendEvent(\n              options.client,\n              \"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT\"\n            );\n            error = errors.THREEDS_NOT_ENABLED_FOR_V2;\n          }\n\n          if (error) {\n            return Promise.reject(new BraintreeError(error));\n          }\n\n          analytics.sendEvent(options.client, \"three-d-secure.initialized\");\n\n          return client;\n        });\n      var instance = new ThreeDSecure({\n        client: options.client,\n        assetsUrl: assetsUrl,\n        createPromise: createPromise,\n        loggingEnabled: options.loggingEnabled,\n        cardinalSDKConfig: options.cardinalSDKConfig,\n        framework: framework,\n      });\n\n      if (options.client) {\n        return createPromise.then(function () {\n          return instance;\n        });\n      }\n\n      return instance;\n    });\n}\n\nfunction getFramework(options) {\n  var version = String(options.version || \"\");\n\n  if (!version || version === \"1\") {\n    throw new BraintreeError({\n      code: errors.THREEDS_UNSUPPORTED_VERSION.code,\n      type: errors.THREEDS_UNSUPPORTED_VERSION.type,\n      message: errors.THREEDS_UNSUPPORTED_VERSION.message,\n    });\n  }\n\n  switch (version) {\n    case \"2\":\n    case \"2-cardinal-modal\":\n      return \"cardinal-modal\";\n    case \"2-bootstrap3-modal\":\n      return \"bootstrap3-modal\";\n    case \"2-inline-iframe\":\n      return \"inline-iframe\";\n    default:\n      throw new BraintreeError({\n        code: errors.THREEDS_UNRECOGNIZED_VERSION.code,\n        type: errors.THREEDS_UNRECOGNIZED_VERSION.type,\n        message:\n          \"Version `\" +\n          options.version +\n          \"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version.\",\n      });\n  }\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiOztBQUVBLG1CQUFtQixtQkFBTyxDQUFDLCtHQUEyQjtBQUN0RCxjQUFjLDBHQUFrQztBQUNoRCxpQ0FBaUMsbUJBQU8sQ0FBQyxtSEFBcUM7QUFDOUUsMkJBQTJCLG1CQUFPLENBQUMsdUdBQStCO0FBQ2xFLHNCQUFzQixtQkFBTyxDQUFDLDZGQUEwQjtBQUN4RCxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7QUFDckQsZ0JBQWdCLG1CQUFPLENBQUMsNkVBQWtCO0FBQzFDLGFBQWEsbUJBQU8sQ0FBQywyRkFBaUI7QUFDdEM7QUFDQSxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBeUI7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxvQkFBb0IsY0FBYztBQUNyRCxXQUFXLFFBQVE7QUFDbkIsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVUsZ0RBQWdELG9CQUFvQiw4RUFBOEUsb0JBQW9CO0FBQzNMLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0EsZUFBZTtBQUNmLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsYUFBYTtBQUN0RSxZQUFZO0FBQ1o7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL3RocmVlLWQtc2VjdXJlL2luZGV4LmpzPzAxY2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiogQG1vZHVsZSBicmFpbnRyZWUtd2ViL3RocmVlLWQtc2VjdXJlICovXG5cbnZhciBUaHJlZURTZWN1cmUgPSByZXF1aXJlKFwiLi9leHRlcm5hbC90aHJlZS1kLXNlY3VyZVwiKTtcbnZhciBpc0hUVFBTID0gcmVxdWlyZShcIi4uL2xpYi9pcy1odHRwc1wiKS5pc0hUVFBTO1xudmFyIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uID0gcmVxdWlyZShcIi4uL2xpYi9iYXNpYy1jb21wb25lbnQtdmVyaWZpY2F0aW9uXCIpO1xudmFyIGNyZWF0ZURlZmVycmVkQ2xpZW50ID0gcmVxdWlyZShcIi4uL2xpYi9jcmVhdGUtZGVmZXJyZWQtY2xpZW50XCIpO1xudmFyIGNyZWF0ZUFzc2V0c1VybCA9IHJlcXVpcmUoXCIuLi9saWIvY3JlYXRlLWFzc2V0cy11cmxcIik7XG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcbnZhciBhbmFseXRpY3MgPSByZXF1aXJlKFwiLi4vbGliL2FuYWx5dGljc1wiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi9zaGFyZWQvZXJyb3JzXCIpO1xudmFyIFZFUlNJT04gPSBcIjMuOTkuMFwiO1xudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBjcmVhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENyZWF0aW9uIG9wdGlvbnM6XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuY2FyZGluYWxTREtDb25maWddIEEgY29uZmlnIGZvciB0aGUgdW5kZXJseWluZyBDYXJkaW5hbCBTREsuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuY2FyZGluYWxTREtDb25maWcubG9nZ2luZ10gVGhlIGxvZ2dpbmcgY29uZmlndXJhdGlvbiBmb3IgdGhlIENhcmRpbmFsIFNESy4gU2VlIFtDYXJkaW5hbCdzIGRvY3VtZW50YXRpb24gZm9yIHRoZSBsb2dnaW5nIG9iamVjdF0oaHR0cHM6Ly9jYXJkaW5hbGRvY3MuYXRsYXNzaWFuLm5ldC93aWtpL3NwYWNlcy9DQy9wYWdlcy8xNDA5NTY4L0NvbmZpZ3VyYXRpb25zI0NvbmZpZ3VyYXRpb25zLUxvZ2dpbmcpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNhcmRpbmFsU0RLQ29uZmlnLnRpbWVvdXRdIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBhIHJlcXVlc3QgdG8gQ2FyZGluYWwncyBBUEkgdGltZXMgb3V0LiBTZWUgW0NhcmRpbmFsJ3MgZG9jdW1lbnRhdGlvbiBmb3Igcm9vdCBsZXZlbCBjb25maWd1cmF0aW9uXShodHRwczovL2NhcmRpbmFsZG9jcy5hdGxhc3NpYW4ubmV0L3dpa2kvc3BhY2VzL0NDL3BhZ2VzLzE0MDk1NjgvQ29uZmlndXJhdGlvbnMjQ29uZmlndXJhdGlvbnMtUm9vdExldmVsQ29uZmlndXJhdGlvbikgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2FyZGluYWxTREtDb25maWcubWF4UmVxdWVzdFJldHJpZXNdIEhvdyBtYW55IHRpbWVzIGEgcmVxdWVzdCBzaG91bGQgYmUgcmUtYXR0ZW1wdGVkIHRvIENhcmRpbmFsJ3MgQVBJIGJlZm9yZSBnaXZpbmcgdXAgYXMgYSBmYWlsdXJlLiBTZWUgW0NhcmRpbmFsJ3MgZG9jdW1lbnRhdGlvbiBmb3Igcm9vdCBsZXZlbCBjb25maWd1cmF0aW9uXShodHRwczovL2NhcmRpbmFsZG9jcy5hdGxhc3NpYW4ubmV0L3dpa2kvc3BhY2VzL0NDL3BhZ2VzLzE0MDk1NjgvQ29uZmlndXJhdGlvbnMjQ29uZmlndXJhdGlvbnMtUm9vdExldmVsQ29uZmlndXJhdGlvbikgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuY2FyZGluYWxTREtDb25maWcucGF5bWVudF0gQW4gb2JqZWN0IHRvIGRlc2NyaWJlIGhvdyB5b3Ugd2FudCB0aGUgdXNlciBpbnRlcmFjdGlvbnMgdG8gYmVoYXZlLiBPbmx5IGEgc3Vic2V0IG9mIHRoZSBbQ2FyZGluYWwgU0RLIHBheW1lbnQgY29uZmlndXJhdGlvbiBvYmplY3RdKGh0dHBzOi8vY2FyZGluYWxkb2NzLmF0bGFzc2lhbi5uZXQvd2lraS9zcGFjZXMvQ0MvcGFnZXMvMTQwOTU2OC9Db25maWd1cmF0aW9ucyNDb25maWd1cmF0aW9ucy1QYXltZW50KSBhcmUgc3VwcG9ydGVkOiBgZGlzcGxheUxvYWRpbmdgIGFuZCBgZGlzcGxheUV4aXRCdXR0b25gLlxuICogQHBhcmFtIHtDbGllbnR9IFtvcHRpb25zLmNsaWVudF0gQSB7QGxpbmsgQ2xpZW50fSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hdXRob3JpemF0aW9uXSBBIHRva2VuaXphdGlvbktleSBvciBjbGllbnRUb2tlbi4gQ2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYG9wdGlvbnMuY2xpZW50YC5cbiAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpfSBbb3B0aW9ucy52ZXJzaW9uPTFdIFRoZSB2ZXJzaW9uIG9mIDNEIFNlY3VyZSB0byB1c2UuIFBvc3NpYmxlIG9wdGlvbnM6XG4gKiAqIDEgLSBUaGUgbGVnYWN5IDNEIFNlY3VyZSB2MS4wIGludGVncmF0aW9uLlxuICogKiAyIC0gQSAzRCBTZWN1cmUgdjIuMCBpbnRlZ3JhdGlvbiB0aGF0IHVzZXMgYSBtb2RhbCB0byBob3N0IHRoZSAzRCBTZWN1cmUgaWZyYW1lLlxuICogKiAyLWJvb3RzdHJhcDMtbW9kYWwgLSBBIDNEIFNlY3VyZSB2Mi4wIGludGVncmF0aW9uIHRoYXQgdXNlcyBhIG1vZGFsIHN0eWxlZCB3aXRoIEJvb3RzdHJhcCAzIHN0eWxlcyB0byBob3N0IHRoZSAzRCBTZWN1cmUgaWZyYW1lLiBSZXF1aXJlcyBoYXZpbmcgdGhlIEJvb3RzdHJhcCAzIHNjcmlwdCBmaWxlcyBhbmQgc3R5bGVzaGVldHMgb24geW91ciBwYWdlLlxuICogKiAyLWlubGluZS1pZnJhbWUgLSBBIDNEIFNlY3VyZSB2Mi4wIGludGVncmF0aW9uIHRoYXQgcHJvdmlkZXMgdGhlIGF1dGhlbnRpY2F0aW9uIGlmcmFtZSBkaXJlY3RseSB0byB0aGUgbWVyY2hhbnQuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQsIGBkYXRhYCwgaXMgdGhlIHtAbGluayBUaHJlZURTZWN1cmV9IGluc3RhbmNlLiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgaXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0aGUge0BsaW5rIFRocmVlRFNlY3VyZX0gaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuQGV4YW1wbGVcbiAqIDxjYXB0aW9uPkNyZWF0aW5nIGEgdjIgM0QgU2VjdXJlIGNvbXBvbmVudCB1c2luZyAyIHZlcnNpb24gKENhcmRpbmFsIG1vZGFsKTwvY2FwdGlvbj5cbiAqIGJyYWludHJlZS50aHJlZURTZWN1cmUuY3JlYXRlKHtcbiAqICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZSxcbiAqICAgdmVyc2lvbjogJzInXG4gKiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyb3IsIHRocmVlRFNlY3VyZSkge1xuICogICAvLyBzZXQgdXAgbG9va3VwLWNvbXBsZXRlIGxpc3RlbmVyXG4gKiAgIHRocmVlRFNlY3VyZS5vbignbG9va3VwLWNvbXBsZXRlJywgZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgICAvLyBjaGVjayBsb29rdXAgZGF0YVxuICpcbiAqICAgICBuZXh0KCk7XG4gKiAgIH0pO1xuICpcbiAqICAgLy8gdXNpbmcgSG9zdGVkIEZpZWxkcywgdXNlIGB0b2tlbml6ZWAgdG8gZ2V0IGJhY2sgYSBjcmVkaXQgY2FyZCBub25jZVxuICpcbiAqICAgdGhyZWVEU2VjdXJlLnZlcmlmeUNhcmQoe1xuICogICAgIG5vbmNlOiBub25jZUZyb21Ub2tlbml6YXRpb25QYXlsb2FkLCxcbiAqICAgICBiaW46IGJpbkZyb21Ub2tlbml6YXRpb25QYXlsb2FkLFxuICogICAgIGFtb3VudDogJzEwMC4wMCdcbiAqICAgfSwgZnVuY3Rpb24gKHZlcmlmeUVycm9yLCBwYXlsb2FkKSB7XG4gKiAgICAgLy8gaW5zcGVjdCBwYXlsb2FkXG4gKiAgICAgLy8gc2VuZCBwYXlsb2FkLm5vbmNlIHRvIHlvdXIgc2VydmVyXG4gKiAgIH0pO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogPGNhcHRpb24+Q3JlYXRpbmcgYSB2MiAzRCBTZWN1cmUgY29tcG9uZW50IHVzaW5nIDItYm9vdHN0cmFwMy1tb2RhbCB2ZXJzaW9uPC9jYXB0aW9uPlxuICogLy8gbXVzdCBoYXZlIHRoZSBib29zdHJhcCBqcywgY3NzIGFuZCBqcXVlcnkgZmlsZXMgb24geW91ciBwYWdlXG4gKiBicmFpbnRyZWUudGhyZWVEU2VjdXJlLmNyZWF0ZSh7XG4gKiAgIGNsaWVudDogY2xpZW50SW5zdGFuY2UsXG4gKiAgIHZlcnNpb246ICcyLWJvb3RzdHJhcDMtbW9kYWwnXG4gKiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyb3IsIHRocmVlRFNlY3VyZSkge1xuICogICAvLyBzZXQgdXAgbG9va3VwLWNvbXBsZXRlIGxpc3RlbmVyXG4gKiAgIHRocmVlRFNlY3VyZS5vbignbG9va3VwLWNvbXBsZXRlJywgZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgICAvLyBjaGVjayBsb29rdXAgZGF0YVxuICpcbiAqICAgICBuZXh0KCk7XG4gKiAgIH0pO1xuICpcbiAqICAgLy8gdXNpbmcgSG9zdGVkIEZpZWxkcywgdXNlIGB0b2tlbml6ZWAgdG8gZ2V0IGJhY2sgYSBjcmVkaXQgY2FyZCBub25jZVxuICpcbiAqICAgLy8gY2hhbGxlbmdlIHdpbGwgYmUgcHJlc2VudGVkIGluIGEgYm9vdHN0cmFwIDMgbW9kYWxcbiAqICAgdGhyZWVEU2VjdXJlLnZlcmlmeUNhcmQoe1xuICogICAgIG5vbmNlOiBub25jZUZyb21Ub2tlbml6YXRpb25QYXlsb2FkLFxuICogICAgIGJpbjogYmluRnJvbVRva2VuaXphdGlvblBheWxvYWQsXG4gKiAgICAgYW1vdW50OiAnMTAwLjAwJ1xuICogICB9LCBmdW5jdGlvbiAodmVyaWZ5RXJyb3IsIHBheWxvYWQpIHtcbiAqICAgICAvLyBpbnNwZWN0IHBheWxvYWRcbiAqICAgICAvLyBzZW5kIHBheWxvYWQubm9uY2UgdG8geW91ciBzZXJ2ZXJcbiAqICAgfSk7XG4gKiB9KTtcbiAqIEBleGFtcGxlXG4gKiA8Y2FwdGlvbj5DcmVhdGluZyBhIHYyIDNEIFNlY3VyZSBjb21wb25lbnQgdXNpbmcgMi1pbmxpbmUtaWZyYW1lIHZlcnNpb248L2NhcHRpb24+XG4gKiBicmFpbnRyZWUudGhyZWVEU2VjdXJlLmNyZWF0ZSh7XG4gKiAgIGNsaWVudDogY2xpZW50SW5zdGFuY2UsXG4gKiAgIHZlcnNpb246ICcyLWlubGluZS1pZnJhbWUnXG4gKiB9LCBmdW5jdGlvbiAoY3JlYXRlRXJyb3IsIHRocmVlRFNlY3VyZSkge1xuICogICAvLyBzZXQgdXAgbG9va3VwLWNvbXBsZXRlIGxpc3RlbmVyXG4gKiAgIHRocmVlRFNlY3VyZS5vbignbG9va3VwLWNvbXBsZXRlJywgZnVuY3Rpb24gKGRhdGEsIG5leHQpIHtcbiAqICAgICAvLyBjaGVjayBsb29rdXAgZGF0YVxuICpcbiAqICAgICBuZXh0KCk7XG4gKiAgIH0pO1xuICogICAvLyBzZXQgdXAgaWZyYW1lIGxpc3RlbmVyXG4gKiAgIHRocmVlRFNlY3VyZS5vbignYXV0aGVudGljYXRpb24taWZyYW1lLWF2YWlsYWJsZScsIGZ1bmN0aW9uIChldmVudCwgbmV4dCkge1xuICogICAgIHZhciBlbGVtZW50ID0gZXZlbnQuZWxlbWVudDsgLy8gYW4gaHRtbCBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIGlmcmFtZVxuICpcbiAqICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpOyAvLyBwdXQgaXQgb24geW91ciBwYWdlXG4gKlxuICogICAgIG5leHQoKTsgLy8gbGV0IHRoZSBzZGsga25vdyB0aGUgZWxlbWVudCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgcGFnZVxuICogICB9KTtcbiAqXG4gKiAgIC8vIHVzaW5nIEhvc3RlZCBGaWVsZHMsIHVzZSBgdG9rZW5pemVgIHRvIGdldCBiYWNrIGEgY3JlZGl0IGNhcmQgbm9uY2VcbiAqXG4gKiAgIHRocmVlRFNlY3VyZS52ZXJpZnlDYXJkKHtcbiAqICAgICBub25jZTogbm9uY2VGcm9tVG9rZW5pemF0aW9uUGF5bG9hZCwsXG4gKiAgICAgYmluOiBiaW5Gcm9tVG9rZW5pemF0aW9uUGF5bG9hZCxcbiAqICAgICBhbW91bnQ6ICcxMDAuMDAnXG4gKiAgIH0sIGZ1bmN0aW9uICh2ZXJpZnlFcnJvciwgcGF5bG9hZCkge1xuICogICAgIC8vIGluc3BlY3QgcGF5bG9hZFxuICogICAgIC8vIHNlbmQgcGF5bG9hZC5ub25jZSB0byB5b3VyIHNlcnZlclxuICogICB9KTtcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICB2YXIgbmFtZSA9IFwiM0QgU2VjdXJlXCI7XG4gIHZhciBmcmFtZXdvcmsgPSBnZXRGcmFtZXdvcmsob3B0aW9ucyk7XG5cbiAgcmV0dXJuIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uXG4gICAgLnZlcmlmeSh7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgY2xpZW50OiBvcHRpb25zLmNsaWVudCxcbiAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhc3NldHNVcmwgPSBjcmVhdGVBc3NldHNVcmwuY3JlYXRlKG9wdGlvbnMuYXV0aG9yaXphdGlvbik7XG4gICAgICB2YXIgY3JlYXRlUHJvbWlzZSA9IGNyZWF0ZURlZmVycmVkQ2xpZW50XG4gICAgICAgIC5jcmVhdGUoe1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgICBjbGllbnQ6IG9wdGlvbnMuY2xpZW50LFxuICAgICAgICAgIGRlYnVnOiBvcHRpb25zLmRlYnVnLFxuICAgICAgICAgIGFzc2V0c1VybDogYXNzZXRzVXJsLFxuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgICAgICB2YXIgZXJyb3IsIGlzUHJvZHVjdGlvbjtcbiAgICAgICAgICB2YXIgY29uZmlnID0gY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKTtcbiAgICAgICAgICB2YXIgZ3dDb25maWcgPSBjb25maWcuZ2F0ZXdheUNvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgICBvcHRpb25zLmNsaWVudCA9IGNsaWVudDtcblxuICAgICAgICAgIGlmICghZ3dDb25maWcudGhyZWVEU2VjdXJlRW5hYmxlZCkge1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJvcnMuVEhSRUVEU19OT1RfRU5BQkxFRDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29uZmlnLmF1dGhvcml6YXRpb25UeXBlID09PSBcIlRPS0VOSVpBVElPTl9LRVlcIikge1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJvcnMuVEhSRUVEU19DQU5fTk9UX1VTRV9UT0tFTklaQVRJT05fS0VZO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlzUHJvZHVjdGlvbiA9IGd3Q29uZmlnLmVudmlyb25tZW50ID09PSBcInByb2R1Y3Rpb25cIjtcblxuICAgICAgICAgIGlmIChpc1Byb2R1Y3Rpb24gJiYgIWlzSFRUUFMoKSkge1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJvcnMuVEhSRUVEU19IVFRQU19SRVFVSVJFRDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmcmFtZXdvcmsgIT09IFwibGVnYWN5XCIgJiZcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgIGd3Q29uZmlnLnRocmVlRFNlY3VyZSAmJlxuICAgICAgICAgICAgICBnd0NvbmZpZy50aHJlZURTZWN1cmUuY2FyZGluYWxBdXRoZW50aWNhdGlvbkpXVFxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgICAgICAgb3B0aW9ucy5jbGllbnQsXG4gICAgICAgICAgICAgIFwidGhyZWUtZC1zZWN1cmUuaW5pdGlhbGl6YXRpb24uZmFpbGVkLm1pc3NpbmctY2FyZGluYWxBdXRoZW50aWNhdGlvbkpXVFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJvcnMuVEhSRUVEU19OT1RfRU5BQkxFRF9GT1JfVjI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEJyYWludHJlZUVycm9yKGVycm9yKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChvcHRpb25zLmNsaWVudCwgXCJ0aHJlZS1kLXNlY3VyZS5pbml0aWFsaXplZFwiKTtcblxuICAgICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICAgIH0pO1xuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IFRocmVlRFNlY3VyZSh7XG4gICAgICAgIGNsaWVudDogb3B0aW9ucy5jbGllbnQsXG4gICAgICAgIGFzc2V0c1VybDogYXNzZXRzVXJsLFxuICAgICAgICBjcmVhdGVQcm9taXNlOiBjcmVhdGVQcm9taXNlLFxuICAgICAgICBsb2dnaW5nRW5hYmxlZDogb3B0aW9ucy5sb2dnaW5nRW5hYmxlZCxcbiAgICAgICAgY2FyZGluYWxTREtDb25maWc6IG9wdGlvbnMuY2FyZGluYWxTREtDb25maWcsXG4gICAgICAgIGZyYW1ld29yazogZnJhbWV3b3JrLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChvcHRpb25zLmNsaWVudCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEZyYW1ld29yayhvcHRpb25zKSB7XG4gIHZhciB2ZXJzaW9uID0gU3RyaW5nKG9wdGlvbnMudmVyc2lvbiB8fCBcIlwiKTtcblxuICBpZiAoIXZlcnNpb24gfHwgdmVyc2lvbiA9PT0gXCIxXCIpIHtcbiAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgY29kZTogZXJyb3JzLlRIUkVFRFNfVU5TVVBQT1JURURfVkVSU0lPTi5jb2RlLFxuICAgICAgdHlwZTogZXJyb3JzLlRIUkVFRFNfVU5TVVBQT1JURURfVkVSU0lPTi50eXBlLFxuICAgICAgbWVzc2FnZTogZXJyb3JzLlRIUkVFRFNfVU5TVVBQT1JURURfVkVSU0lPTi5tZXNzYWdlLFxuICAgIH0pO1xuICB9XG5cbiAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgY2FzZSBcIjJcIjpcbiAgICBjYXNlIFwiMi1jYXJkaW5hbC1tb2RhbFwiOlxuICAgICAgcmV0dXJuIFwiY2FyZGluYWwtbW9kYWxcIjtcbiAgICBjYXNlIFwiMi1ib290c3RyYXAzLW1vZGFsXCI6XG4gICAgICByZXR1cm4gXCJib290c3RyYXAzLW1vZGFsXCI7XG4gICAgY2FzZSBcIjItaW5saW5lLWlmcmFtZVwiOlxuICAgICAgcmV0dXJuIFwiaW5saW5lLWlmcmFtZVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICBjb2RlOiBlcnJvcnMuVEhSRUVEU19VTlJFQ09HTklaRURfVkVSU0lPTi5jb2RlLFxuICAgICAgICB0eXBlOiBlcnJvcnMuVEhSRUVEU19VTlJFQ09HTklaRURfVkVSU0lPTi50eXBlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIFwiVmVyc2lvbiBgXCIgK1xuICAgICAgICAgIG9wdGlvbnMudmVyc2lvbiArXG4gICAgICAgICAgXCJgIGlzIG5vdCBhIHJlY29nbml6ZWQgdmVyc2lvbi4gWW91IG1heSBuZWVkIHRvIHVwZGF0ZSB0aGUgdmVyc2lvbiBvZiB5b3VyIEJyYWludHJlZSBTREsgdG8gc3VwcG9ydCB0aGlzIHZlcnNpb24uXCIsXG4gICAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiB3cmFwUHJvbWlzZShjcmVhdGUpLFxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIFNESywgaS5lLiBge0Bwa2cgdmVyc2lvbn1gLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgVkVSU0lPTjogVkVSU0lPTixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/shared/constants.js":
/*!***********************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/shared/constants.js ***!
  \***********************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  LANDING_FRAME_NAME: \"braintreethreedsecurelanding\",\n  CARDINAL_SCRIPT_SOURCE: {\n    production: \"https://songbird.cardinalcommerce.com/edge/v1/songbird.js\",\n    sandbox: \"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9zaGFyZWQvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvc2hhcmVkL2NvbnN0YW50cy5qcz9iODBkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgTEFORElOR19GUkFNRV9OQU1FOiBcImJyYWludHJlZXRocmVlZHNlY3VyZWxhbmRpbmdcIixcbiAgQ0FSRElOQUxfU0NSSVBUX1NPVVJDRToge1xuICAgIHByb2R1Y3Rpb246IFwiaHR0cHM6Ly9zb25nYmlyZC5jYXJkaW5hbGNvbW1lcmNlLmNvbS9lZGdlL3YxL3NvbmdiaXJkLmpzXCIsXG4gICAgc2FuZGJveDogXCJodHRwczovL3NvbmdiaXJkc3RhZy5jYXJkaW5hbGNvbW1lcmNlLmNvbS9lZGdlL3YxL3NvbmdiaXJkLmpzXCIsXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/shared/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/shared/errors.js":
/*!********************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/shared/errors.js ***!
  \********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.3D Secure - Creation Error Codes\n * @description Errors that occur when [creating the 3D Secure component](./module-braintree-web_three-d-secure.html#.create).\n * @property {MERCHANT} THREEDS_NOT_ENABLED Occurs when 3D Secure is not enabled in the Braintree control panel.\n * @property {MERCHANT} THREEDS_CAN_NOT_USE_TOKENIZATION_KEY Occurs when 3D Secure component is created without a Client Token.\n * @property {MERCHANT} THREEDS_HTTPS_REQUIRED Occurs when 3D Secure component is created in production over HTTPS.\n * @property {MERCHANT} THREEDS_NOT_ENABLED_FOR_V2 Occurs when 3D Secure component is created with version 2 parameter, but merchant is not enabled to use version 2.\n * @property {MERCHANT} THREEDS_UNRECOGNIZED_VERSION Occurs when unrecognized version enum is passed into the create call.\n * @property {UNKNOWN} THREEDS_CARDINAL_SDK_SETUP_FAILED Occurs when Cardinal's Songbird.js library fails to setup for an unknown reason.\n * @property {NETWORK} THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED Occurs when using version 2 and Cardinal's Songbird.js script could not be loaded.\n * @property {UNKNOWN} THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT Occurs when Cardinal's Songbird.js library takes longer than 60 seconds to set up.\n * @property {UNKNOWN} THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT Occurs when Cardinal sends a response indicating a timeout on /Validate, /Confirm, or /Continue.\n * @property {MERCHANT} THREEDS_CARDINAL_SDK_BAD_CONFIG Occurs when there is no JWT in the request. Also when there's some other malformed aspect of config.\n * @property {MERCHANT} THREEDS_CARDINAL_SDK_BAD_JWT Occurs when a malformed config causes a either a missing response JWT or a malformed Cardinal response.\n * @property {UNKNOWN} THREEDS_CARDINAL_SDK_ERROR Occurs when a \"general error\" or a Cardinal hosted fields error happens. Description contains more details.\n * @property {CUSTOMER} THREEDS_CARDINAL_SDK_CANCELED Occurs when customer cancels the transaction mid-flow, usually with alt-pays that have their own cancel buttons.\n * @property {MERCHANT} THREEDS_UNSUPPORTED_VERSION Occurs when 3D Secure component is created with version 1 (or default version) parameter.\n */\n\n/**\n * @name BraintreeError.3D Secure - verifyCard Error Codes\n * @description Errors that occur when using the [`verifyCard` method](./ThreeDSecure.html#verifyCard).\n * @property {MERCHANT} THREEDS_AUTHENTICATION_IN_PROGRESS Occurs when another verification is already in progress.\n * @property {MERCHANT} THREEDS_MISSING_VERIFY_CARD_OPTION Occurs when a required option is missing.\n * @property {UNKNOWN} THREEDS_JWT_AUTHENTICATION_FAILED Occurs when something went wrong authenticating the JWT from the Cardinal SDK.\n * @property {MERCHANT} THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR Occurs when the supplied payment method nonce does not exist or the payment method nonce has already been consumed.\n * @property {CUSTOMER} THREEDS_LOOKUP_VALIDATION_ERROR Occurs when a validation error occurs during the 3D Secure lookup.\n * @property {UNKNOWN} THREEDS_LOOKUP_ERROR An unknown error occurred while attempting the 3D Secure lookup.\n * @property {MERCHANT} THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT Occurs when the 3D Secure flow is canceled by the merchant using `cancelVerifyCard` (3D Secure v2 flows only).\n * @property {UNKNOWN} THREEDS_INLINE_IFRAME_DETAILS_INCORRECT An unknown error occurred while attempting to use the inline iframe framework.\n * @property {MERCHANT} THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID Occurs when unrecognized exemption enum value is passed into verifyCard.\n */\n\n/**\n * @name BraintreeError.3D Secure - cancelVerifyCard Error Codes\n * @description Errors that occur when using the [`cancelVerifyCard` method](./ThreeDSecure.html#cancelVerifyCard).\n * @property {MERCHANT} THREEDS_NO_VERIFICATION_PAYLOAD Occurs when the 3D Secure flow is canceled, but there is no 3D Secure information available.\n */\n\n/**\n * @name BraintreeError.3D Secure - Internal Error Codes\n * @ignore\n * @description Errors that occur internally\n * @property {INTERNAL} THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN Occurs when iframe is initialized on a non-verified domain.\n * @property {INTERNAL} THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED Occurs when a 3D Secure framework method is not implemented.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  THREEDS_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_NOT_ENABLED\",\n    message: \"3D Secure is not enabled for this merchant.\",\n  },\n  THREEDS_CAN_NOT_USE_TOKENIZATION_KEY: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY\",\n    message: \"3D Secure can not use a tokenization key for authorization.\",\n  },\n  THREEDS_HTTPS_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_HTTPS_REQUIRED\",\n    message: \"3D Secure requires HTTPS.\",\n  },\n  THREEDS_NOT_ENABLED_FOR_V2: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_NOT_ENABLED_FOR_V2\",\n    message:\n      \"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/\",\n  },\n  THREEDS_UNRECOGNIZED_VERSION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_UNRECOGNIZED_VERSION\",\n  },\n  THREEDS_CARDINAL_SDK_SETUP_FAILED: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"THREEDS_CARDINAL_SDK_SETUP_FAILED\",\n    message: \"Something went wrong setting up Cardinal's Songbird.js library.\",\n  },\n  THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED\",\n    message: \"Cardinal's Songbird.js library could not be loaded.\",\n  },\n  THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT\",\n    message: \"Cardinal's Songbird.js took too long to setup.\",\n  },\n  THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT\",\n    message: \"Cardinal's API took too long to respond.\",\n  },\n  THREEDS_CARDINAL_SDK_BAD_CONFIG: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_CARDINAL_SDK_BAD_CONFIG\",\n    message:\n      \"JWT or other required field missing. Please check your setup configuration.\",\n  },\n  THREEDS_CARDINAL_SDK_BAD_JWT: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_CARDINAL_SDK_BAD_JWT\",\n    message:\n      \"Cardinal JWT missing or malformed. Please check your setup configuration.\",\n  },\n  THREEDS_CARDINAL_SDK_ERROR: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"THREEDS_CARDINAL_SDK_ERROR\",\n    message:\n      \"A general error has occurred with Cardinal. See description for more information.\",\n  },\n  THREEDS_CARDINAL_SDK_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"THREEDS_CARDINAL_SDK_CANCELED\",\n    message: \"Canceled by user.\",\n  },\n  THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT\",\n    message: \"3D Secure verfication canceled by merchant.\",\n  },\n  THREEDS_AUTHENTICATION_IN_PROGRESS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_AUTHENTICATION_IN_PROGRESS\",\n    message:\n      \"Cannot call verifyCard while existing authentication is in progress.\",\n  },\n  THREEDS_MISSING_VERIFY_CARD_OPTION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_MISSING_VERIFY_CARD_OPTION\",\n  },\n  THREEDS_JWT_AUTHENTICATION_FAILED: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"THREEDS_JWT_AUTHENTICATION_FAILED\",\n    message: \"Something went wrong authenticating the JWT from Cardinal\",\n  },\n  THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR\",\n    message:\n      \"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed\",\n  },\n  THREEDS_LOOKUP_VALIDATION_ERROR: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"THREEDS_LOOKUP_VALIDATION_ERROR\",\n    message:\n      \"The data passed in `verifyCard` did not pass validation checks. See details for more info\",\n  },\n  THREEDS_LOOKUP_ERROR: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"THREEDS_LOOKUP_ERROR\",\n    message: \"Something went wrong during the 3D Secure lookup\",\n  },\n  THREEDS_INLINE_IFRAME_DETAILS_INCORRECT: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT\",\n    message:\n      \"Something went wrong when attempting to add the authentication iframe to the page.\",\n  },\n  THREEDS_NO_VERIFICATION_PAYLOAD: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_NO_VERIFICATION_PAYLOAD\",\n    message: \"No verification payload available.\",\n  },\n  THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN\",\n    message: \"Term Url must be on a Braintree domain.\",\n  },\n  THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED\",\n    message: \"Method not implemented for this framework.\",\n  },\n  THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID\",\n    message: \"Requested Exemption Type is invalid.\",\n  },\n  THREEDS_UNSUPPORTED_VERSION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"THREEDS_UNSUPPORTED_VERSION\",\n    message:\n      \"3D Secure `1` is deprecated and no longer supported. See available versions at https://braintree.github.io/braintree-web/current/module-braintree-web_three-d-secure.html#.create\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9zaGFyZWQvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsU0FBUztBQUN2QixjQUFjLFVBQVU7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyw0RkFBMkI7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9zaGFyZWQvZXJyb3JzLmpzP2JmZDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuM0QgU2VjdXJlIC0gQ3JlYXRpb24gRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIFtjcmVhdGluZyB0aGUgM0QgU2VjdXJlIGNvbXBvbmVudF0oLi9tb2R1bGUtYnJhaW50cmVlLXdlYl90aHJlZS1kLXNlY3VyZS5odG1sIy5jcmVhdGUpLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19OT1RfRU5BQkxFRCBPY2N1cnMgd2hlbiAzRCBTZWN1cmUgaXMgbm90IGVuYWJsZWQgaW4gdGhlIEJyYWludHJlZSBjb250cm9sIHBhbmVsLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19DQU5fTk9UX1VTRV9UT0tFTklaQVRJT05fS0VZIE9jY3VycyB3aGVuIDNEIFNlY3VyZSBjb21wb25lbnQgaXMgY3JlYXRlZCB3aXRob3V0IGEgQ2xpZW50IFRva2VuLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19IVFRQU19SRVFVSVJFRCBPY2N1cnMgd2hlbiAzRCBTZWN1cmUgY29tcG9uZW50IGlzIGNyZWF0ZWQgaW4gcHJvZHVjdGlvbiBvdmVyIEhUVFBTLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19OT1RfRU5BQkxFRF9GT1JfVjIgT2NjdXJzIHdoZW4gM0QgU2VjdXJlIGNvbXBvbmVudCBpcyBjcmVhdGVkIHdpdGggdmVyc2lvbiAyIHBhcmFtZXRlciwgYnV0IG1lcmNoYW50IGlzIG5vdCBlbmFibGVkIHRvIHVzZSB2ZXJzaW9uIDIuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBUSFJFRURTX1VOUkVDT0dOSVpFRF9WRVJTSU9OIE9jY3VycyB3aGVuIHVucmVjb2duaXplZCB2ZXJzaW9uIGVudW0gaXMgcGFzc2VkIGludG8gdGhlIGNyZWF0ZSBjYWxsLlxuICogQHByb3BlcnR5IHtVTktOT1dOfSBUSFJFRURTX0NBUkRJTkFMX1NES19TRVRVUF9GQUlMRUQgT2NjdXJzIHdoZW4gQ2FyZGluYWwncyBTb25nYmlyZC5qcyBsaWJyYXJ5IGZhaWxzIHRvIHNldHVwIGZvciBhbiB1bmtub3duIHJlYXNvbi5cbiAqIEBwcm9wZXJ0eSB7TkVUV09SS30gVEhSRUVEU19DQVJESU5BTF9TREtfU0NSSVBUX0xPQURfRkFJTEVEIE9jY3VycyB3aGVuIHVzaW5nIHZlcnNpb24gMiBhbmQgQ2FyZGluYWwncyBTb25nYmlyZC5qcyBzY3JpcHQgY291bGQgbm90IGJlIGxvYWRlZC5cbiAqIEBwcm9wZXJ0eSB7VU5LTk9XTn0gVEhSRUVEU19DQVJESU5BTF9TREtfU0VUVVBfVElNRURPVVQgT2NjdXJzIHdoZW4gQ2FyZGluYWwncyBTb25nYmlyZC5qcyBsaWJyYXJ5IHRha2VzIGxvbmdlciB0aGFuIDYwIHNlY29uZHMgdG8gc2V0IHVwLlxuICogQHByb3BlcnR5IHtVTktOT1dOfSBUSFJFRURTX0NBUkRJTkFMX1NES19SRVNQT05TRV9USU1FRE9VVCBPY2N1cnMgd2hlbiBDYXJkaW5hbCBzZW5kcyBhIHJlc3BvbnNlIGluZGljYXRpbmcgYSB0aW1lb3V0IG9uIC9WYWxpZGF0ZSwgL0NvbmZpcm0sIG9yIC9Db250aW51ZS5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFRIUkVFRFNfQ0FSRElOQUxfU0RLX0JBRF9DT05GSUcgT2NjdXJzIHdoZW4gdGhlcmUgaXMgbm8gSldUIGluIHRoZSByZXF1ZXN0LiBBbHNvIHdoZW4gdGhlcmUncyBzb21lIG90aGVyIG1hbGZvcm1lZCBhc3BlY3Qgb2YgY29uZmlnLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19DQVJESU5BTF9TREtfQkFEX0pXVCBPY2N1cnMgd2hlbiBhIG1hbGZvcm1lZCBjb25maWcgY2F1c2VzIGEgZWl0aGVyIGEgbWlzc2luZyByZXNwb25zZSBKV1Qgb3IgYSBtYWxmb3JtZWQgQ2FyZGluYWwgcmVzcG9uc2UuXG4gKiBAcHJvcGVydHkge1VOS05PV059IFRIUkVFRFNfQ0FSRElOQUxfU0RLX0VSUk9SIE9jY3VycyB3aGVuIGEgXCJnZW5lcmFsIGVycm9yXCIgb3IgYSBDYXJkaW5hbCBob3N0ZWQgZmllbGRzIGVycm9yIGhhcHBlbnMuIERlc2NyaXB0aW9uIGNvbnRhaW5zIG1vcmUgZGV0YWlscy5cbiAqIEBwcm9wZXJ0eSB7Q1VTVE9NRVJ9IFRIUkVFRFNfQ0FSRElOQUxfU0RLX0NBTkNFTEVEIE9jY3VycyB3aGVuIGN1c3RvbWVyIGNhbmNlbHMgdGhlIHRyYW5zYWN0aW9uIG1pZC1mbG93LCB1c3VhbGx5IHdpdGggYWx0LXBheXMgdGhhdCBoYXZlIHRoZWlyIG93biBjYW5jZWwgYnV0dG9ucy5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFRIUkVFRFNfVU5TVVBQT1JURURfVkVSU0lPTiBPY2N1cnMgd2hlbiAzRCBTZWN1cmUgY29tcG9uZW50IGlzIGNyZWF0ZWQgd2l0aCB2ZXJzaW9uIDEgKG9yIGRlZmF1bHQgdmVyc2lvbikgcGFyYW1ldGVyLlxuICovXG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuM0QgU2VjdXJlIC0gdmVyaWZ5Q2FyZCBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gdXNpbmcgdGhlIFtgdmVyaWZ5Q2FyZGAgbWV0aG9kXSguL1RocmVlRFNlY3VyZS5odG1sI3ZlcmlmeUNhcmQpLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19BVVRIRU5USUNBVElPTl9JTl9QUk9HUkVTUyBPY2N1cnMgd2hlbiBhbm90aGVyIHZlcmlmaWNhdGlvbiBpcyBhbHJlYWR5IGluIHByb2dyZXNzLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19NSVNTSU5HX1ZFUklGWV9DQVJEX09QVElPTiBPY2N1cnMgd2hlbiBhIHJlcXVpcmVkIG9wdGlvbiBpcyBtaXNzaW5nLlxuICogQHByb3BlcnR5IHtVTktOT1dOfSBUSFJFRURTX0pXVF9BVVRIRU5USUNBVElPTl9GQUlMRUQgT2NjdXJzIHdoZW4gc29tZXRoaW5nIHdlbnQgd3JvbmcgYXV0aGVudGljYXRpbmcgdGhlIEpXVCBmcm9tIHRoZSBDYXJkaW5hbCBTREsuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBUSFJFRURTX0xPT0tVUF9UT0tFTklaRURfQ0FSRF9OT1RfRk9VTkRfRVJST1IgT2NjdXJzIHdoZW4gdGhlIHN1cHBsaWVkIHBheW1lbnQgbWV0aG9kIG5vbmNlIGRvZXMgbm90IGV4aXN0IG9yIHRoZSBwYXltZW50IG1ldGhvZCBub25jZSBoYXMgYWxyZWFkeSBiZWVuIGNvbnN1bWVkLlxuICogQHByb3BlcnR5IHtDVVNUT01FUn0gVEhSRUVEU19MT09LVVBfVkFMSURBVElPTl9FUlJPUiBPY2N1cnMgd2hlbiBhIHZhbGlkYXRpb24gZXJyb3Igb2NjdXJzIGR1cmluZyB0aGUgM0QgU2VjdXJlIGxvb2t1cC5cbiAqIEBwcm9wZXJ0eSB7VU5LTk9XTn0gVEhSRUVEU19MT09LVVBfRVJST1IgQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCB3aGlsZSBhdHRlbXB0aW5nIHRoZSAzRCBTZWN1cmUgbG9va3VwLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19WRVJJRllfQ0FSRF9DQU5DRUxFRF9CWV9NRVJDSEFOVCBPY2N1cnMgd2hlbiB0aGUgM0QgU2VjdXJlIGZsb3cgaXMgY2FuY2VsZWQgYnkgdGhlIG1lcmNoYW50IHVzaW5nIGBjYW5jZWxWZXJpZnlDYXJkYCAoM0QgU2VjdXJlIHYyIGZsb3dzIG9ubHkpLlxuICogQHByb3BlcnR5IHtVTktOT1dOfSBUSFJFRURTX0lOTElORV9JRlJBTUVfREVUQUlMU19JTkNPUlJFQ1QgQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCB3aGlsZSBhdHRlbXB0aW5nIHRvIHVzZSB0aGUgaW5saW5lIGlmcmFtZSBmcmFtZXdvcmsuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBUSFJFRURTX1JFUVVFU1RFRF9FWEVNUFRJT05fVFlQRV9JTlZBTElEIE9jY3VycyB3aGVuIHVucmVjb2duaXplZCBleGVtcHRpb24gZW51bSB2YWx1ZSBpcyBwYXNzZWQgaW50byB2ZXJpZnlDYXJkLlxuICovXG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuM0QgU2VjdXJlIC0gY2FuY2VsVmVyaWZ5Q2FyZCBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gdXNpbmcgdGhlIFtgY2FuY2VsVmVyaWZ5Q2FyZGAgbWV0aG9kXSguL1RocmVlRFNlY3VyZS5odG1sI2NhbmNlbFZlcmlmeUNhcmQpLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVEhSRUVEU19OT19WRVJJRklDQVRJT05fUEFZTE9BRCBPY2N1cnMgd2hlbiB0aGUgM0QgU2VjdXJlIGZsb3cgaXMgY2FuY2VsZWQsIGJ1dCB0aGVyZSBpcyBubyAzRCBTZWN1cmUgaW5mb3JtYXRpb24gYXZhaWxhYmxlLlxuICovXG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuM0QgU2VjdXJlIC0gSW50ZXJuYWwgRXJyb3IgQ29kZXNcbiAqIEBpZ25vcmVcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciBpbnRlcm5hbGx5XG4gKiBAcHJvcGVydHkge0lOVEVSTkFMfSBUSFJFRURTX1RFUk1fVVJMX1JFUVVJUkVTX0JSQUlOVFJFRV9ET01BSU4gT2NjdXJzIHdoZW4gaWZyYW1lIGlzIGluaXRpYWxpemVkIG9uIGEgbm9uLXZlcmlmaWVkIGRvbWFpbi5cbiAqIEBwcm9wZXJ0eSB7SU5URVJOQUx9IFRIUkVFRFNfRlJBTUVXT1JLX01FVEhPRF9OT1RfSU1QTEVNRU5URUQgT2NjdXJzIHdoZW4gYSAzRCBTZWN1cmUgZnJhbWV3b3JrIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQuXG4gKi9cblxudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uLy4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUSFJFRURTX05PVF9FTkFCTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJUSFJFRURTX05PVF9FTkFCTEVEXCIsXG4gICAgbWVzc2FnZTogXCIzRCBTZWN1cmUgaXMgbm90IGVuYWJsZWQgZm9yIHRoaXMgbWVyY2hhbnQuXCIsXG4gIH0sXG4gIFRIUkVFRFNfQ0FOX05PVF9VU0VfVE9LRU5JWkFUSU9OX0tFWToge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVEhSRUVEU19DQU5fTk9UX1VTRV9UT0tFTklaQVRJT05fS0VZXCIsXG4gICAgbWVzc2FnZTogXCIzRCBTZWN1cmUgY2FuIG5vdCB1c2UgYSB0b2tlbml6YXRpb24ga2V5IGZvciBhdXRob3JpemF0aW9uLlwiLFxuICB9LFxuICBUSFJFRURTX0hUVFBTX1JFUVVJUkVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJUSFJFRURTX0hUVFBTX1JFUVVJUkVEXCIsXG4gICAgbWVzc2FnZTogXCIzRCBTZWN1cmUgcmVxdWlyZXMgSFRUUFMuXCIsXG4gIH0sXG4gIFRIUkVFRFNfTk9UX0VOQUJMRURfRk9SX1YyOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJUSFJFRURTX05PVF9FTkFCTEVEX0ZPUl9WMlwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIjNEIFNlY3VyZSB2ZXJzaW9uIDIgaXMgbm90IGVuYWJsZWQgZm9yIHRoaXMgbWVyY2hhbnQuIENvbnRhY3QgQnJhaW50cmVlIFN1cHBvcnQgZm9yIGFzc2lzdGFuY2UgYXQgaHR0cHM6Ly9oZWxwLmJyYWludHJlZXBheW1lbnRzLmNvbS9cIixcbiAgfSxcbiAgVEhSRUVEU19VTlJFQ09HTklaRURfVkVSU0lPTjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVEhSRUVEU19VTlJFQ09HTklaRURfVkVSU0lPTlwiLFxuICB9LFxuICBUSFJFRURTX0NBUkRJTkFMX1NES19TRVRVUF9GQUlMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5VTktOT1dOLFxuICAgIGNvZGU6IFwiVEhSRUVEU19DQVJESU5BTF9TREtfU0VUVVBfRkFJTEVEXCIsXG4gICAgbWVzc2FnZTogXCJTb21ldGhpbmcgd2VudCB3cm9uZyBzZXR0aW5nIHVwIENhcmRpbmFsJ3MgU29uZ2JpcmQuanMgbGlicmFyeS5cIixcbiAgfSxcbiAgVEhSRUVEU19DQVJESU5BTF9TREtfU0NSSVBUX0xPQURfRkFJTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTkVUV09SSyxcbiAgICBjb2RlOiBcIlRIUkVFRFNfQ0FSRElOQUxfU0RLX1NDUklQVF9MT0FEX0ZBSUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiQ2FyZGluYWwncyBTb25nYmlyZC5qcyBsaWJyYXJ5IGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIsXG4gIH0sXG4gIFRIUkVFRFNfQ0FSRElOQUxfU0RLX1NFVFVQX1RJTUVET1VUOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuVU5LTk9XTixcbiAgICBjb2RlOiBcIlRIUkVFRFNfQ0FSRElOQUxfU0RLX1NFVFVQX1RJTUVET1VUXCIsXG4gICAgbWVzc2FnZTogXCJDYXJkaW5hbCdzIFNvbmdiaXJkLmpzIHRvb2sgdG9vIGxvbmcgdG8gc2V0dXAuXCIsXG4gIH0sXG4gIFRIUkVFRFNfQ0FSRElOQUxfU0RLX1JFU1BPTlNFX1RJTUVET1VUOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuVU5LTk9XTixcbiAgICBjb2RlOiBcIlRIUkVFRFNfQ0FSRElOQUxfU0RLX1JFU1BPTlNFX1RJTUVET1VUXCIsXG4gICAgbWVzc2FnZTogXCJDYXJkaW5hbCdzIEFQSSB0b29rIHRvbyBsb25nIHRvIHJlc3BvbmQuXCIsXG4gIH0sXG4gIFRIUkVFRFNfQ0FSRElOQUxfU0RLX0JBRF9DT05GSUc6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIlRIUkVFRFNfQ0FSRElOQUxfU0RLX0JBRF9DT05GSUdcIixcbiAgICBtZXNzYWdlOlxuICAgICAgXCJKV1Qgb3Igb3RoZXIgcmVxdWlyZWQgZmllbGQgbWlzc2luZy4gUGxlYXNlIGNoZWNrIHlvdXIgc2V0dXAgY29uZmlndXJhdGlvbi5cIixcbiAgfSxcbiAgVEhSRUVEU19DQVJESU5BTF9TREtfQkFEX0pXVDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVEhSRUVEU19DQVJESU5BTF9TREtfQkFEX0pXVFwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIkNhcmRpbmFsIEpXVCBtaXNzaW5nIG9yIG1hbGZvcm1lZC4gUGxlYXNlIGNoZWNrIHlvdXIgc2V0dXAgY29uZmlndXJhdGlvbi5cIixcbiAgfSxcbiAgVEhSRUVEU19DQVJESU5BTF9TREtfRVJST1I6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5VTktOT1dOLFxuICAgIGNvZGU6IFwiVEhSRUVEU19DQVJESU5BTF9TREtfRVJST1JcIixcbiAgICBtZXNzYWdlOlxuICAgICAgXCJBIGdlbmVyYWwgZXJyb3IgaGFzIG9jY3VycmVkIHdpdGggQ2FyZGluYWwuIFNlZSBkZXNjcmlwdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIixcbiAgfSxcbiAgVEhSRUVEU19DQVJESU5BTF9TREtfQ0FOQ0VMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5DVVNUT01FUixcbiAgICBjb2RlOiBcIlRIUkVFRFNfQ0FSRElOQUxfU0RLX0NBTkNFTEVEXCIsXG4gICAgbWVzc2FnZTogXCJDYW5jZWxlZCBieSB1c2VyLlwiLFxuICB9LFxuICBUSFJFRURTX1ZFUklGWV9DQVJEX0NBTkNFTEVEX0JZX01FUkNIQU5UOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJUSFJFRURTX1ZFUklGWV9DQVJEX0NBTkNFTEVEX0JZX01FUkNIQU5UXCIsXG4gICAgbWVzc2FnZTogXCIzRCBTZWN1cmUgdmVyZmljYXRpb24gY2FuY2VsZWQgYnkgbWVyY2hhbnQuXCIsXG4gIH0sXG4gIFRIUkVFRFNfQVVUSEVOVElDQVRJT05fSU5fUFJPR1JFU1M6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIlRIUkVFRFNfQVVUSEVOVElDQVRJT05fSU5fUFJPR1JFU1NcIixcbiAgICBtZXNzYWdlOlxuICAgICAgXCJDYW5ub3QgY2FsbCB2ZXJpZnlDYXJkIHdoaWxlIGV4aXN0aW5nIGF1dGhlbnRpY2F0aW9uIGlzIGluIHByb2dyZXNzLlwiLFxuICB9LFxuICBUSFJFRURTX01JU1NJTkdfVkVSSUZZX0NBUkRfT1BUSU9OOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJUSFJFRURTX01JU1NJTkdfVkVSSUZZX0NBUkRfT1BUSU9OXCIsXG4gIH0sXG4gIFRIUkVFRFNfSldUX0FVVEhFTlRJQ0FUSU9OX0ZBSUxFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLlVOS05PV04sXG4gICAgY29kZTogXCJUSFJFRURTX0pXVF9BVVRIRU5USUNBVElPTl9GQUlMRURcIixcbiAgICBtZXNzYWdlOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nIGF1dGhlbnRpY2F0aW5nIHRoZSBKV1QgZnJvbSBDYXJkaW5hbFwiLFxuICB9LFxuICBUSFJFRURTX0xPT0tVUF9UT0tFTklaRURfQ0FSRF9OT1RfRk9VTkRfRVJST1I6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIlRIUkVFRFNfTE9PS1VQX1RPS0VOSVpFRF9DQVJEX05PVF9GT1VORF9FUlJPUlwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIkVpdGhlciB0aGUgcGF5bWVudCBtZXRob2Qgbm9uY2UgcGFzc2VkIHRvIGB2ZXJpZnlDYXJkYCBkb2VzIG5vdCBleGlzdCwgb3IgaXQgd2FzIGFscmVhZHkgY29uc3VtZWRcIixcbiAgfSxcbiAgVEhSRUVEU19MT09LVVBfVkFMSURBVElPTl9FUlJPUjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLkNVU1RPTUVSLFxuICAgIGNvZGU6IFwiVEhSRUVEU19MT09LVVBfVkFMSURBVElPTl9FUlJPUlwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIlRoZSBkYXRhIHBhc3NlZCBpbiBgdmVyaWZ5Q2FyZGAgZGlkIG5vdCBwYXNzIHZhbGlkYXRpb24gY2hlY2tzLiBTZWUgZGV0YWlscyBmb3IgbW9yZSBpbmZvXCIsXG4gIH0sXG4gIFRIUkVFRFNfTE9PS1VQX0VSUk9SOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuVU5LTk9XTixcbiAgICBjb2RlOiBcIlRIUkVFRFNfTE9PS1VQX0VSUk9SXCIsXG4gICAgbWVzc2FnZTogXCJTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgdGhlIDNEIFNlY3VyZSBsb29rdXBcIixcbiAgfSxcbiAgVEhSRUVEU19JTkxJTkVfSUZSQU1FX0RFVEFJTFNfSU5DT1JSRUNUOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuVU5LTk9XTixcbiAgICBjb2RlOiBcIlRIUkVFRFNfSU5MSU5FX0lGUkFNRV9ERVRBSUxTX0lOQ09SUkVDVFwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoZW4gYXR0ZW1wdGluZyB0byBhZGQgdGhlIGF1dGhlbnRpY2F0aW9uIGlmcmFtZSB0byB0aGUgcGFnZS5cIixcbiAgfSxcbiAgVEhSRUVEU19OT19WRVJJRklDQVRJT05fUEFZTE9BRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVEhSRUVEU19OT19WRVJJRklDQVRJT05fUEFZTE9BRFwiLFxuICAgIG1lc3NhZ2U6IFwiTm8gdmVyaWZpY2F0aW9uIHBheWxvYWQgYXZhaWxhYmxlLlwiLFxuICB9LFxuICBUSFJFRURTX1RFUk1fVVJMX1JFUVVJUkVTX0JSQUlOVFJFRV9ET01BSU46IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5JTlRFUk5BTCxcbiAgICBjb2RlOiBcIlRIUkVFRFNfVEVSTV9VUkxfUkVRVUlSRVNfQlJBSU5UUkVFX0RPTUFJTlwiLFxuICAgIG1lc3NhZ2U6IFwiVGVybSBVcmwgbXVzdCBiZSBvbiBhIEJyYWludHJlZSBkb21haW4uXCIsXG4gIH0sXG4gIFRIUkVFRFNfRlJBTUVXT1JLX01FVEhPRF9OT1RfSU1QTEVNRU5URUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5JTlRFUk5BTCxcbiAgICBjb2RlOiBcIlRIUkVFRFNfRlJBTUVXT1JLX01FVEhPRF9OT1RfSU1QTEVNRU5URURcIixcbiAgICBtZXNzYWdlOiBcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgZnJhbWV3b3JrLlwiLFxuICB9LFxuICBUSFJFRURTX1JFUVVFU1RFRF9FWEVNUFRJT05fVFlQRV9JTlZBTElEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJUSFJFRURTX1JFUVVFU1RFRF9FWEVNUFRJT05fVFlQRV9JTlZBTElEXCIsXG4gICAgbWVzc2FnZTogXCJSZXF1ZXN0ZWQgRXhlbXB0aW9uIFR5cGUgaXMgaW52YWxpZC5cIixcbiAgfSxcbiAgVEhSRUVEU19VTlNVUFBPUlRFRF9WRVJTSU9OOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJUSFJFRURTX1VOU1VQUE9SVEVEX1ZFUlNJT05cIixcbiAgICBtZXNzYWdlOlxuICAgICAgXCIzRCBTZWN1cmUgYDFgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFNlZSBhdmFpbGFibGUgdmVyc2lvbnMgYXQgaHR0cHM6Ly9icmFpbnRyZWUuZ2l0aHViLmlvL2JyYWludHJlZS13ZWIvY3VycmVudC9tb2R1bGUtYnJhaW50cmVlLXdlYl90aHJlZS1kLXNlY3VyZS5odG1sIy5jcmVhdGVcIixcbiAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/shared/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/three-d-secure/shared/events.js":
/*!********************************************************************!*\
  !*** ./node_modules/braintree-web/three-d-secure/shared/events.js ***!
  \********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar enumerate = __webpack_require__(/*! ../../lib/enumerate */ \"(ssr)/./node_modules/braintree-web/lib/enumerate.js\");\n\nmodule.exports = enumerate([\"AUTHENTICATION_COMPLETE\"], \"threedsecure:\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi90aHJlZS1kLXNlY3VyZS9zaGFyZWQvZXZlbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdCQUFnQixtQkFBTyxDQUFDLGdGQUFxQjs7QUFFN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdGhyZWUtZC1zZWN1cmUvc2hhcmVkL2V2ZW50cy5qcz8yYjg0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgZW51bWVyYXRlID0gcmVxdWlyZShcIi4uLy4uL2xpYi9lbnVtZXJhdGVcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZW51bWVyYXRlKFtcIkFVVEhFTlRJQ0FUSU9OX0NPTVBMRVRFXCJdLCBcInRocmVlZHNlY3VyZTpcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/three-d-secure/shared/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/vault-manager/errors.js":
/*!************************************************************!*\
  !*** ./node_modules/braintree-web/vault-manager/errors.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Vault Manager - deletePaymentMethod Error Codes\n * @description Errors that occur when using the [`deletePaymentMethod` method](./VaultManager.html#deletePaymentMethod).\n * @property {MERCHANT} VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN Occurs when vault manager is initialized with a tokenization key instead of a Client Token.\n * @property {MERCHANT} VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND Occurs when the specified payment method can not be found.\n * @property {UNKNOWN} VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR Occurs when there is an error attempting to delete the payment method.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN\",\n    message:\n      \"A client token with a customer id must be used to delete a payment method nonce.\",\n  },\n  VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND\",\n  },\n  VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92YXVsdC1tYW5hZ2VyL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsU0FBUztBQUN2Qjs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL3ZhdWx0LW1hbmFnZXIvZXJyb3JzLmpzP2M0OTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuVmF1bHQgTWFuYWdlciAtIGRlbGV0ZVBheW1lbnRNZXRob2QgRXJyb3IgQ29kZXNcbiAqIEBkZXNjcmlwdGlvbiBFcnJvcnMgdGhhdCBvY2N1ciB3aGVuIHVzaW5nIHRoZSBbYGRlbGV0ZVBheW1lbnRNZXRob2RgIG1ldGhvZF0oLi9WYXVsdE1hbmFnZXIuaHRtbCNkZWxldGVQYXltZW50TWV0aG9kKS5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFZBVUxUX01BTkFHRVJfREVMRVRFX1BBWU1FTlRfTUVUSE9EX05PTkNFX1JFUVVJUkVTX0NMSUVOVF9UT0tFTiBPY2N1cnMgd2hlbiB2YXVsdCBtYW5hZ2VyIGlzIGluaXRpYWxpemVkIHdpdGggYSB0b2tlbml6YXRpb24ga2V5IGluc3RlYWQgb2YgYSBDbGllbnQgVG9rZW4uXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBWQVVMVF9NQU5BR0VSX1BBWU1FTlRfTUVUSE9EX05PTkNFX05PVF9GT1VORCBPY2N1cnMgd2hlbiB0aGUgc3BlY2lmaWVkIHBheW1lbnQgbWV0aG9kIGNhbiBub3QgYmUgZm91bmQuXG4gKiBAcHJvcGVydHkge1VOS05PV059IFZBVUxUX01BTkFHRVJfREVMRVRFX1BBWU1FTlRfTUVUSE9EX1VOS05PV05fRVJST1IgT2NjdXJzIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3IgYXR0ZW1wdGluZyB0byBkZWxldGUgdGhlIHBheW1lbnQgbWV0aG9kLlxuICovXG5cbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVkFVTFRfTUFOQUdFUl9ERUxFVEVfUEFZTUVOVF9NRVRIT0RfTk9OQ0VfUkVRVUlSRVNfQ0xJRU5UX1RPS0VOOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJWQVVMVF9NQU5BR0VSX0RFTEVURV9QQVlNRU5UX01FVEhPRF9OT05DRV9SRVFVSVJFU19DTElFTlRfVE9LRU5cIixcbiAgICBtZXNzYWdlOlxuICAgICAgXCJBIGNsaWVudCB0b2tlbiB3aXRoIGEgY3VzdG9tZXIgaWQgbXVzdCBiZSB1c2VkIHRvIGRlbGV0ZSBhIHBheW1lbnQgbWV0aG9kIG5vbmNlLlwiLFxuICB9LFxuICBWQVVMVF9NQU5BR0VSX1BBWU1FTlRfTUVUSE9EX05PTkNFX05PVF9GT1VORDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVkFVTFRfTUFOQUdFUl9QQVlNRU5UX01FVEhPRF9OT05DRV9OT1RfRk9VTkRcIixcbiAgfSxcbiAgVkFVTFRfTUFOQUdFUl9ERUxFVEVfUEFZTUVOVF9NRVRIT0RfVU5LTk9XTl9FUlJPUjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLlVOS05PV04sXG4gICAgY29kZTogXCJWQVVMVF9NQU5BR0VSX0RFTEVURV9QQVlNRU5UX01FVEhPRF9VTktOT1dOX0VSUk9SXCIsXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/vault-manager/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/vault-manager/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/braintree-web/vault-manager/index.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/**\n * @module braintree-web/vault-manager\n * @description Manages customer's payment methods.\n */\n\nvar basicComponentVerification = __webpack_require__(/*! ../lib/basic-component-verification */ \"(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\");\nvar createDeferredClient = __webpack_require__(/*! ../lib/create-deferred-client */ \"(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\");\nvar createAssetsUrl = __webpack_require__(/*! ../lib/create-assets-url */ \"(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\");\nvar VaultManager = __webpack_require__(/*! ./vault-manager */ \"(ssr)/./node_modules/braintree-web/vault-manager/vault-manager.js\");\nvar VERSION = \"3.99.0\";\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\n\n/**\n * @static\n * @function create\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {callback} callback The second argument, `data`, is the {@link VaultManager} instance.\n * @returns {void}\n */\nfunction create(options) {\n  var name = \"Vault Manager\";\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      return new VaultManager({\n        createPromise: createDeferredClient.create({\n          authorization: options.authorization,\n          client: options.client,\n          debug: options.debug,\n          assetsUrl: createAssetsUrl.create(options.authorization),\n          name: name,\n        }),\n      });\n    });\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92YXVsdC1tYW5hZ2VyL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDLG1CQUFPLENBQUMsbUhBQXFDO0FBQzlFLDJCQUEyQixtQkFBTyxDQUFDLHVHQUErQjtBQUNsRSxzQkFBc0IsbUJBQU8sQ0FBQyw2RkFBMEI7QUFDeEQsbUJBQW1CLG1CQUFPLENBQUMsMEZBQWlCO0FBQzVDO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsa0dBQXlCOztBQUVuRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLG9CQUFvQixjQUFjO0FBQ3JELFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVUsOENBQThDLG9CQUFvQjtBQUN2RixhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxhQUFhO0FBQ3RFLFlBQVk7QUFDWjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdmF1bHQtbWFuYWdlci9pbmRleC5qcz9iY2ZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbW9kdWxlIGJyYWludHJlZS13ZWIvdmF1bHQtbWFuYWdlclxuICogQGRlc2NyaXB0aW9uIE1hbmFnZXMgY3VzdG9tZXIncyBwYXltZW50IG1ldGhvZHMuXG4gKi9cblxudmFyIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uID0gcmVxdWlyZShcIi4uL2xpYi9iYXNpYy1jb21wb25lbnQtdmVyaWZpY2F0aW9uXCIpO1xudmFyIGNyZWF0ZURlZmVycmVkQ2xpZW50ID0gcmVxdWlyZShcIi4uL2xpYi9jcmVhdGUtZGVmZXJyZWQtY2xpZW50XCIpO1xudmFyIGNyZWF0ZUFzc2V0c1VybCA9IHJlcXVpcmUoXCIuLi9saWIvY3JlYXRlLWFzc2V0cy11cmxcIik7XG52YXIgVmF1bHRNYW5hZ2VyID0gcmVxdWlyZShcIi4vdmF1bHQtbWFuYWdlclwiKTtcbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcbnZhciB3cmFwUHJvbWlzZSA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL3dyYXAtcHJvbWlzZVwiKTtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gY3JlYXRlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBDcmVhdGlvbiBvcHRpb25zOlxuICogQHBhcmFtIHtDbGllbnR9IFtvcHRpb25zLmNsaWVudF0gQSB7QGxpbmsgQ2xpZW50fSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hdXRob3JpemF0aW9uXSBBIHRva2VuaXphdGlvbktleSBvciBjbGllbnRUb2tlbi4gQ2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYG9wdGlvbnMuY2xpZW50YC5cbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IGNhbGxiYWNrIFRoZSBzZWNvbmQgYXJndW1lbnQsIGBkYXRhYCwgaXMgdGhlIHtAbGluayBWYXVsdE1hbmFnZXJ9IGluc3RhbmNlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zKSB7XG4gIHZhciBuYW1lID0gXCJWYXVsdCBNYW5hZ2VyXCI7XG5cbiAgcmV0dXJuIGJhc2ljQ29tcG9uZW50VmVyaWZpY2F0aW9uXG4gICAgLnZlcmlmeSh7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgY2xpZW50OiBvcHRpb25zLmNsaWVudCxcbiAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgVmF1bHRNYW5hZ2VyKHtcbiAgICAgICAgY3JlYXRlUHJvbWlzZTogY3JlYXRlRGVmZXJyZWRDbGllbnQuY3JlYXRlKHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLmF1dGhvcml6YXRpb24sXG4gICAgICAgICAgY2xpZW50OiBvcHRpb25zLmNsaWVudCxcbiAgICAgICAgICBkZWJ1Zzogb3B0aW9ucy5kZWJ1ZyxcbiAgICAgICAgICBhc3NldHNVcmw6IGNyZWF0ZUFzc2V0c1VybC5jcmVhdGUob3B0aW9ucy5hdXRob3JpemF0aW9uKSxcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiB3cmFwUHJvbWlzZShjcmVhdGUpLFxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIFNESywgaS5lLiBge0Bwa2cgdmVyc2lvbn1gLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgVkVSU0lPTjogVkVSU0lPTixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/vault-manager/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/vault-manager/vault-manager.js":
/*!*******************************************************************!*\
  !*** ./node_modules/braintree-web/vault-manager/vault-manager.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar errors = __webpack_require__(/*! ./errors */ \"(ssr)/./node_modules/braintree-web/vault-manager/errors.js\");\nvar convertMethodsToError = __webpack_require__(/*! ../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar methods = __webpack_require__(/*! ../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\n\nvar DELETE_PAYMENT_METHOD_MUTATION =\n  \"mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {\" +\n  \"  deletePaymentMethodFromSingleUseToken(input: $input) {\" +\n  \"    clientMutationId\" +\n  \"  }\" +\n  \"}\";\n\n/**\n * @typedef {array} VaultManager~fetchPaymentMethodsPayload The customer's payment methods.\n * @property {object} paymentMethod The payment method object.\n * @property {string} paymentMethod.nonce A nonce that can be sent to your server to transact on the payment method.\n * @property {boolean} paymentMethod.default Whether or not this is the default payment method for the customer.\n * @property {object} paymentMethod.details Any additional details about the payment method. Varies depending on the type of payment method.\n * @property {string} paymentMethod.type A constant indicating the type of payment method.\n * @property {?string} paymentMethod.description Additional description about the payment method.\n * @property {?object} paymentMethod.binData Bin data about the payment method.\n *\n */\n\n/**\n * @class\n * @param {object} options Options\n * @description <strong>You cannot use this constructor directly. Use {@link module:braintree-web/vault-manager.create|braintree.vault-manager.create} instead.</strong>\n * @classdesc This class allows you to manage a customer's payment methods on the client.\n */\nfunction VaultManager(options) {\n  this._createPromise = options.createPromise;\n}\n\n/**\n * Fetches payment methods owned by the customer whose id was used to generate the client token used to create the {@link module:braintree-web/client|client}.\n * @public\n * @param {object} [options] Options for fetching payment methods.\n * @param {boolean} [options.defaultFirst = false] If `true`, the payment methods will be returned with the default payment method for the customer first. Otherwise, order is not guaranteed.\n * @param {callback} [callback] The second argument is a {@link VaultManager~fetchPaymentMethodsPayload|fetchPaymentMethodsPayload}. This is also what is resolved by the promise if no callback is provided.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * vaultManagerInstance.fetchPaymentMethods(function (err, paymentMethods) {\n *   paymentMethods.forEach(function (paymentMethod) {\n *     // add payment method to UI\n *     // paymentMethod.nonce <- transactable nonce associated with payment method\n *     // paymentMethod.details <- object with additional information about payment method\n *     // paymentMethod.type <- a constant signifying the type\n *   });\n * });\n */\nVaultManager.prototype.fetchPaymentMethods = function (options) {\n  var defaultFirst;\n\n  options = options || {};\n\n  defaultFirst = options.defaultFirst === true ? 1 : 0;\n\n  return this._createPromise\n    .then(function (client) {\n      return client.request({\n        endpoint: \"payment_methods\",\n        method: \"get\",\n        data: {\n          defaultFirst: defaultFirst,\n        },\n      });\n    })\n    .then(\n      function (paymentMethodsPayload) {\n        analytics.sendEvent(\n          this._createPromise,\n          \"vault-manager.fetch-payment-methods.succeeded\"\n        );\n\n        return paymentMethodsPayload.paymentMethods.map(\n          formatPaymentMethodPayload\n        );\n      }.bind(this)\n    );\n};\n\n/**\n * Deletes a payment method owned by the customer whose id was used to generate the client token used to create the {@link module:braintree-web/client|client}.\n * @public\n * @param {string} paymentMethodNonce The payment method nonce that references a vaulted payment method.\n * @param {callback} [callback] No data is returned if the operation is successful.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * vaultManagerInstance.deletePaymentMethod('nonce-to-delete', function (err) {\n *   // handle err if it exists\n * });\n */\nVaultManager.prototype.deletePaymentMethod = function (paymentMethodNonce) {\n  return this._createPromise.then(function (client) {\n    var usesClientToken =\n      client.getConfiguration().authorizationType === \"CLIENT_TOKEN\";\n\n    if (!usesClientToken) {\n      return Promise.reject(\n        new BraintreeError(\n          errors.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN\n        )\n      );\n    }\n\n    return client\n      .request({\n        api: \"graphQLApi\",\n        data: {\n          query: DELETE_PAYMENT_METHOD_MUTATION,\n          variables: {\n            input: {\n              singleUseTokenId: paymentMethodNonce,\n            },\n          },\n          operationName: \"DeletePaymentMethodFromSingleUseToken\",\n        },\n      })\n      .then(function () {\n        analytics.sendEvent(\n          client,\n          \"vault-manager.delete-payment-method.succeeded\"\n        );\n\n        // noop to prevent sending back the raw graphql data\n      })\n      .catch(function (error) {\n        var originalError = error.details.originalError;\n        var formattedError;\n\n        analytics.sendEvent(\n          client,\n          \"vault-manager.delete-payment-method.failed\"\n        );\n\n        if (\n          originalError[0] &&\n          originalError[0].extensions.errorClass === \"NOT_FOUND\"\n        ) {\n          formattedError = new BraintreeError({\n            type: errors.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,\n            code: errors.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,\n            message:\n              \"A payment method for payment method nonce `\" +\n              paymentMethodNonce +\n              \"` could not be found.\",\n            details: {\n              originalError: originalError,\n            },\n          });\n        }\n\n        if (!formattedError) {\n          formattedError = new BraintreeError({\n            type: errors.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,\n            code: errors.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,\n            message:\n              \"An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `\" +\n              paymentMethodNonce +\n              \"`.\",\n            details: {\n              originalError: originalError,\n            },\n          });\n        }\n\n        return Promise.reject(formattedError);\n      });\n  });\n};\n\nfunction formatPaymentMethodPayload(paymentMethod) {\n  var formattedPaymentMethod = {\n    nonce: paymentMethod.nonce,\n    default: paymentMethod.default,\n    details: paymentMethod.details,\n    hasSubscription: paymentMethod.hasSubscription,\n    type: paymentMethod.type,\n  };\n\n  if (paymentMethod.description) {\n    formattedPaymentMethod.description = paymentMethod.description;\n  }\n\n  if (paymentMethod.binData) {\n    formattedPaymentMethod.binData = paymentMethod.binData;\n  }\n\n  return formattedPaymentMethod;\n}\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/vault-manager.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * vaultManagerInstance.teardown();\n * @example <caption>With callback</caption>\n * vaultManagerInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nVaultManager.prototype.teardown = function () {\n  convertMethodsToError(this, methods(VaultManager.prototype));\n\n  return Promise.resolve();\n};\n\nmodule.exports = wrapPromise.wrapPrototype(VaultManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92YXVsdC1tYW5hZ2VyL3ZhdWx0LW1hbmFnZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0JBQWdCLG1CQUFPLENBQUMsNkVBQWtCO0FBQzFDLHFCQUFxQixtQkFBTyxDQUFDLHlGQUF3QjtBQUNyRCxhQUFhLG1CQUFPLENBQUMsNEVBQVU7QUFDL0IsNEJBQTRCLG1CQUFPLENBQUMsMkdBQWlDO0FBQ3JFLGNBQWMsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDdEMsa0JBQWtCLG1CQUFPLENBQUMsa0dBQXlCOztBQUVuRDtBQUNBLHdHQUF3RztBQUN4RywyREFBMkQ7QUFDM0Q7QUFDQSxNQUFNO0FBQ04sSUFBSTs7QUFFSjtBQUNBLGFBQWEsT0FBTztBQUNwQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsU0FBUztBQUN2QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLHVFQUF1RSxnRkFBZ0Y7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9IQUFvSCx5Q0FBeUM7QUFDN0o7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsVUFBVSxxQ0FBcUMseUVBQXlFO0FBQ25JLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxxSEFBcUgseUNBQXlDO0FBQzlKO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDs7QUFFQTtBQUNBLE9BQU87QUFDUCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsdURBQXVEO0FBQ2hHO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdmF1bHQtbWFuYWdlci92YXVsdC1tYW5hZ2VyLmpzPzUzNWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhbmFseXRpY3MgPSByZXF1aXJlKFwiLi4vbGliL2FuYWx5dGljc1wiKTtcbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcbnZhciBjb252ZXJ0TWV0aG9kc1RvRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2NvbnZlcnQtbWV0aG9kcy10by1lcnJvclwiKTtcbnZhciBtZXRob2RzID0gcmVxdWlyZShcIi4uL2xpYi9tZXRob2RzXCIpO1xudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xuXG52YXIgREVMRVRFX1BBWU1FTlRfTUVUSE9EX01VVEFUSU9OID1cbiAgXCJtdXRhdGlvbiBEZWxldGVQYXltZW50TWV0aG9kRnJvbVNpbmdsZVVzZVRva2VuKCRpbnB1dDogRGVsZXRlUGF5bWVudE1ldGhvZEZyb21TaW5nbGVVc2VUb2tlbklucHV0ISkge1wiICtcbiAgXCIgIGRlbGV0ZVBheW1lbnRNZXRob2RGcm9tU2luZ2xlVXNlVG9rZW4oaW5wdXQ6ICRpbnB1dCkge1wiICtcbiAgXCIgICAgY2xpZW50TXV0YXRpb25JZFwiICtcbiAgXCIgIH1cIiArXG4gIFwifVwiO1xuXG4vKipcbiAqIEB0eXBlZGVmIHthcnJheX0gVmF1bHRNYW5hZ2VyfmZldGNoUGF5bWVudE1ldGhvZHNQYXlsb2FkIFRoZSBjdXN0b21lcidzIHBheW1lbnQgbWV0aG9kcy5cbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBwYXltZW50TWV0aG9kIFRoZSBwYXltZW50IG1ldGhvZCBvYmplY3QuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGF5bWVudE1ldGhvZC5ub25jZSBBIG5vbmNlIHRoYXQgY2FuIGJlIHNlbnQgdG8geW91ciBzZXJ2ZXIgdG8gdHJhbnNhY3Qgb24gdGhlIHBheW1lbnQgbWV0aG9kLlxuICogQHByb3BlcnR5IHtib29sZWFufSBwYXltZW50TWV0aG9kLmRlZmF1bHQgV2hldGhlciBvciBub3QgdGhpcyBpcyB0aGUgZGVmYXVsdCBwYXltZW50IG1ldGhvZCBmb3IgdGhlIGN1c3RvbWVyLlxuICogQHByb3BlcnR5IHtvYmplY3R9IHBheW1lbnRNZXRob2QuZGV0YWlscyBBbnkgYWRkaXRpb25hbCBkZXRhaWxzIGFib3V0IHRoZSBwYXltZW50IG1ldGhvZC4gVmFyaWVzIGRlcGVuZGluZyBvbiB0aGUgdHlwZSBvZiBwYXltZW50IG1ldGhvZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwYXltZW50TWV0aG9kLnR5cGUgQSBjb25zdGFudCBpbmRpY2F0aW5nIHRoZSB0eXBlIG9mIHBheW1lbnQgbWV0aG9kLlxuICogQHByb3BlcnR5IHs/c3RyaW5nfSBwYXltZW50TWV0aG9kLmRlc2NyaXB0aW9uIEFkZGl0aW9uYWwgZGVzY3JpcHRpb24gYWJvdXQgdGhlIHBheW1lbnQgbWV0aG9kLlxuICogQHByb3BlcnR5IHs/b2JqZWN0fSBwYXltZW50TWV0aG9kLmJpbkRhdGEgQmluIGRhdGEgYWJvdXQgdGhlIHBheW1lbnQgbWV0aG9kLlxuICpcbiAqL1xuXG4vKipcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9uc1xuICogQGRlc2NyaXB0aW9uIDxzdHJvbmc+WW91IGNhbm5vdCB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gVXNlIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi92YXVsdC1tYW5hZ2VyLmNyZWF0ZXxicmFpbnRyZWUudmF1bHQtbWFuYWdlci5jcmVhdGV9IGluc3RlYWQuPC9zdHJvbmc+XG4gKiBAY2xhc3NkZXNjIFRoaXMgY2xhc3MgYWxsb3dzIHlvdSB0byBtYW5hZ2UgYSBjdXN0b21lcidzIHBheW1lbnQgbWV0aG9kcyBvbiB0aGUgY2xpZW50LlxuICovXG5mdW5jdGlvbiBWYXVsdE1hbmFnZXIob3B0aW9ucykge1xuICB0aGlzLl9jcmVhdGVQcm9taXNlID0gb3B0aW9ucy5jcmVhdGVQcm9taXNlO1xufVxuXG4vKipcbiAqIEZldGNoZXMgcGF5bWVudCBtZXRob2RzIG93bmVkIGJ5IHRoZSBjdXN0b21lciB3aG9zZSBpZCB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgY2xpZW50IHRva2VuIHVzZWQgdG8gY3JlYXRlIHRoZSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvY2xpZW50fGNsaWVudH0uXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgZm9yIGZldGNoaW5nIHBheW1lbnQgbWV0aG9kcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGVmYXVsdEZpcnN0ID0gZmFsc2VdIElmIGB0cnVlYCwgdGhlIHBheW1lbnQgbWV0aG9kcyB3aWxsIGJlIHJldHVybmVkIHdpdGggdGhlIGRlZmF1bHQgcGF5bWVudCBtZXRob2QgZm9yIHRoZSBjdXN0b21lciBmaXJzdC4gT3RoZXJ3aXNlLCBvcmRlciBpcyBub3QgZ3VhcmFudGVlZC5cbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gVGhlIHNlY29uZCBhcmd1bWVudCBpcyBhIHtAbGluayBWYXVsdE1hbmFnZXJ+ZmV0Y2hQYXltZW50TWV0aG9kc1BheWxvYWR8ZmV0Y2hQYXltZW50TWV0aG9kc1BheWxvYWR9LiBUaGlzIGlzIGFsc28gd2hhdCBpcyByZXNvbHZlZCBieSB0aGUgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKiBAZXhhbXBsZVxuICogdmF1bHRNYW5hZ2VySW5zdGFuY2UuZmV0Y2hQYXltZW50TWV0aG9kcyhmdW5jdGlvbiAoZXJyLCBwYXltZW50TWV0aG9kcykge1xuICogICBwYXltZW50TWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXltZW50TWV0aG9kKSB7XG4gKiAgICAgLy8gYWRkIHBheW1lbnQgbWV0aG9kIHRvIFVJXG4gKiAgICAgLy8gcGF5bWVudE1ldGhvZC5ub25jZSA8LSB0cmFuc2FjdGFibGUgbm9uY2UgYXNzb2NpYXRlZCB3aXRoIHBheW1lbnQgbWV0aG9kXG4gKiAgICAgLy8gcGF5bWVudE1ldGhvZC5kZXRhaWxzIDwtIG9iamVjdCB3aXRoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgcGF5bWVudCBtZXRob2RcbiAqICAgICAvLyBwYXltZW50TWV0aG9kLnR5cGUgPC0gYSBjb25zdGFudCBzaWduaWZ5aW5nIHRoZSB0eXBlXG4gKiAgIH0pO1xuICogfSk7XG4gKi9cblZhdWx0TWFuYWdlci5wcm90b3R5cGUuZmV0Y2hQYXltZW50TWV0aG9kcyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciBkZWZhdWx0Rmlyc3Q7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgZGVmYXVsdEZpcnN0ID0gb3B0aW9ucy5kZWZhdWx0Rmlyc3QgPT09IHRydWUgPyAxIDogMDtcblxuICByZXR1cm4gdGhpcy5fY3JlYXRlUHJvbWlzZVxuICAgIC50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHJldHVybiBjbGllbnQucmVxdWVzdCh7XG4gICAgICAgIGVuZHBvaW50OiBcInBheW1lbnRfbWV0aG9kc1wiLFxuICAgICAgICBtZXRob2Q6IFwiZ2V0XCIsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkZWZhdWx0Rmlyc3Q6IGRlZmF1bHRGaXJzdCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLnRoZW4oXG4gICAgICBmdW5jdGlvbiAocGF5bWVudE1ldGhvZHNQYXlsb2FkKSB7XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgdGhpcy5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgICBcInZhdWx0LW1hbmFnZXIuZmV0Y2gtcGF5bWVudC1tZXRob2RzLnN1Y2NlZWRlZFwiXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHBheW1lbnRNZXRob2RzUGF5bG9hZC5wYXltZW50TWV0aG9kcy5tYXAoXG4gICAgICAgICAgZm9ybWF0UGF5bWVudE1ldGhvZFBheWxvYWRcbiAgICAgICAgKTtcbiAgICAgIH0uYmluZCh0aGlzKVxuICAgICk7XG59O1xuXG4vKipcbiAqIERlbGV0ZXMgYSBwYXltZW50IG1ldGhvZCBvd25lZCBieSB0aGUgY3VzdG9tZXIgd2hvc2UgaWQgd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGNsaWVudCB0b2tlbiB1c2VkIHRvIGNyZWF0ZSB0aGUge0BsaW5rIG1vZHVsZTpicmFpbnRyZWUtd2ViL2NsaWVudHxjbGllbnR9LlxuICogQHB1YmxpY1xuICogQHBhcmFtIHtzdHJpbmd9IHBheW1lbnRNZXRob2ROb25jZSBUaGUgcGF5bWVudCBtZXRob2Qgbm9uY2UgdGhhdCByZWZlcmVuY2VzIGEgdmF1bHRlZCBwYXltZW50IG1ldGhvZC5cbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gTm8gZGF0YSBpcyByZXR1cm5lZCBpZiB0aGUgb3BlcmF0aW9uIGlzIHN1Y2Nlc3NmdWwuXG4gKiBAcmV0dXJucyB7KFByb21pc2V8dm9pZCl9IFJldHVybnMgYSBwcm9taXNlIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkLlxuICogQGV4YW1wbGVcbiAqIHZhdWx0TWFuYWdlckluc3RhbmNlLmRlbGV0ZVBheW1lbnRNZXRob2QoJ25vbmNlLXRvLWRlbGV0ZScsIGZ1bmN0aW9uIChlcnIpIHtcbiAqICAgLy8gaGFuZGxlIGVyciBpZiBpdCBleGlzdHNcbiAqIH0pO1xuICovXG5WYXVsdE1hbmFnZXIucHJvdG90eXBlLmRlbGV0ZVBheW1lbnRNZXRob2QgPSBmdW5jdGlvbiAocGF5bWVudE1ldGhvZE5vbmNlKSB7XG4gIHJldHVybiB0aGlzLl9jcmVhdGVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgIHZhciB1c2VzQ2xpZW50VG9rZW4gPVxuICAgICAgY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKS5hdXRob3JpemF0aW9uVHlwZSA9PT0gXCJDTElFTlRfVE9LRU5cIjtcblxuICAgIGlmICghdXNlc0NsaWVudFRva2VuKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihcbiAgICAgICAgICBlcnJvcnMuVkFVTFRfTUFOQUdFUl9ERUxFVEVfUEFZTUVOVF9NRVRIT0RfTk9OQ0VfUkVRVUlSRVNfQ0xJRU5UX1RPS0VOXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsaWVudFxuICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICBhcGk6IFwiZ3JhcGhRTEFwaVwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcXVlcnk6IERFTEVURV9QQVlNRU5UX01FVEhPRF9NVVRBVElPTixcbiAgICAgICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgIHNpbmdsZVVzZVRva2VuSWQ6IHBheW1lbnRNZXRob2ROb25jZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcGVyYXRpb25OYW1lOiBcIkRlbGV0ZVBheW1lbnRNZXRob2RGcm9tU2luZ2xlVXNlVG9rZW5cIixcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgY2xpZW50LFxuICAgICAgICAgIFwidmF1bHQtbWFuYWdlci5kZWxldGUtcGF5bWVudC1tZXRob2Quc3VjY2VlZGVkXCJcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBub29wIHRvIHByZXZlbnQgc2VuZGluZyBiYWNrIHRoZSByYXcgZ3JhcGhxbCBkYXRhXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB2YXIgb3JpZ2luYWxFcnJvciA9IGVycm9yLmRldGFpbHMub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgdmFyIGZvcm1hdHRlZEVycm9yO1xuXG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgY2xpZW50LFxuICAgICAgICAgIFwidmF1bHQtbWFuYWdlci5kZWxldGUtcGF5bWVudC1tZXRob2QuZmFpbGVkXCJcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgb3JpZ2luYWxFcnJvclswXSAmJlxuICAgICAgICAgIG9yaWdpbmFsRXJyb3JbMF0uZXh0ZW5zaW9ucy5lcnJvckNsYXNzID09PSBcIk5PVF9GT1VORFwiXG4gICAgICAgICkge1xuICAgICAgICAgIGZvcm1hdHRlZEVycm9yID0gbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICAgIHR5cGU6IGVycm9ycy5WQVVMVF9NQU5BR0VSX1BBWU1FTlRfTUVUSE9EX05PTkNFX05PVF9GT1VORC50eXBlLFxuICAgICAgICAgICAgY29kZTogZXJyb3JzLlZBVUxUX01BTkFHRVJfUEFZTUVOVF9NRVRIT0RfTk9OQ0VfTk9UX0ZPVU5ELmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICBcIkEgcGF5bWVudCBtZXRob2QgZm9yIHBheW1lbnQgbWV0aG9kIG5vbmNlIGBcIiArXG4gICAgICAgICAgICAgIHBheW1lbnRNZXRob2ROb25jZSArXG4gICAgICAgICAgICAgIFwiYCBjb3VsZCBub3QgYmUgZm91bmQuXCIsXG4gICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IG9yaWdpbmFsRXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JtYXR0ZWRFcnJvcikge1xuICAgICAgICAgIGZvcm1hdHRlZEVycm9yID0gbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICAgIHR5cGU6IGVycm9ycy5WQVVMVF9NQU5BR0VSX0RFTEVURV9QQVlNRU5UX01FVEhPRF9VTktOT1dOX0VSUk9SLnR5cGUsXG4gICAgICAgICAgICBjb2RlOiBlcnJvcnMuVkFVTFRfTUFOQUdFUl9ERUxFVEVfUEFZTUVOVF9NRVRIT0RfVU5LTk9XTl9FUlJPUi5jb2RlLFxuICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgXCJBbiB1bmtub3duIGVycm9yIG9jY3VyZWQgd2hlbiBhdHRlbXB0aW5nIHRvIGRlbGV0ZSB0aGUgcGF5bWVudCBtZXRob2QgYXNzb2NhaXRlZCB3aXRoIHRoZSBwYXltZW50IG1ldGhvZCBub25jZSBgXCIgK1xuICAgICAgICAgICAgICBwYXltZW50TWV0aG9kTm9uY2UgK1xuICAgICAgICAgICAgICBcImAuXCIsXG4gICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IG9yaWdpbmFsRXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZvcm1hdHRlZEVycm9yKTtcbiAgICAgIH0pO1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGZvcm1hdFBheW1lbnRNZXRob2RQYXlsb2FkKHBheW1lbnRNZXRob2QpIHtcbiAgdmFyIGZvcm1hdHRlZFBheW1lbnRNZXRob2QgPSB7XG4gICAgbm9uY2U6IHBheW1lbnRNZXRob2Qubm9uY2UsXG4gICAgZGVmYXVsdDogcGF5bWVudE1ldGhvZC5kZWZhdWx0LFxuICAgIGRldGFpbHM6IHBheW1lbnRNZXRob2QuZGV0YWlscyxcbiAgICBoYXNTdWJzY3JpcHRpb246IHBheW1lbnRNZXRob2QuaGFzU3Vic2NyaXB0aW9uLFxuICAgIHR5cGU6IHBheW1lbnRNZXRob2QudHlwZSxcbiAgfTtcblxuICBpZiAocGF5bWVudE1ldGhvZC5kZXNjcmlwdGlvbikge1xuICAgIGZvcm1hdHRlZFBheW1lbnRNZXRob2QuZGVzY3JpcHRpb24gPSBwYXltZW50TWV0aG9kLmRlc2NyaXB0aW9uO1xuICB9XG5cbiAgaWYgKHBheW1lbnRNZXRob2QuYmluRGF0YSkge1xuICAgIGZvcm1hdHRlZFBheW1lbnRNZXRob2QuYmluRGF0YSA9IHBheW1lbnRNZXRob2QuYmluRGF0YTtcbiAgfVxuXG4gIHJldHVybiBmb3JtYXR0ZWRQYXltZW50TWV0aG9kO1xufVxuXG4vKipcbiAqIENsZWFubHkgdGVhciBkb3duIGFueXRoaW5nIHNldCB1cCBieSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvdmF1bHQtbWFuYWdlci5jcmVhdGV8Y3JlYXRlfS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uY2UgdGVhcmRvd24gaXMgY29tcGxldGUuIE5vIGRhdGEgaXMgcmV0dXJuZWQgaWYgdGVhcmRvd24gY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAqIEBleGFtcGxlXG4gKiB2YXVsdE1hbmFnZXJJbnN0YW5jZS50ZWFyZG93bigpO1xuICogQGV4YW1wbGUgPGNhcHRpb24+V2l0aCBjYWxsYmFjazwvY2FwdGlvbj5cbiAqIHZhdWx0TWFuYWdlckluc3RhbmNlLnRlYXJkb3duKGZ1bmN0aW9uICgpIHtcbiAqICAgLy8gdGVhcmRvd24gaXMgY29tcGxldGVcbiAqIH0pO1xuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqL1xuVmF1bHRNYW5hZ2VyLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgY29udmVydE1ldGhvZHNUb0Vycm9yKHRoaXMsIG1ldGhvZHMoVmF1bHRNYW5hZ2VyLnByb3RvdHlwZSkpO1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gd3JhcFByb21pc2Uud3JhcFByb3RvdHlwZShWYXVsdE1hbmFnZXIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/vault-manager/vault-manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/external/index.js":
/*!************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/external/index.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("\nvar __importDefault =\n  (this && this.__importDefault) ||\n  function (mod) {\n    return mod && mod.__esModule ? mod : { default: mod };\n  };\nvar venmo_desktop_1 = __importDefault(__webpack_require__(/*! ./venmo-desktop */ \"(ssr)/./node_modules/braintree-web/venmo/external/venmo-desktop.js\"));\nmodule.exports = function createVenmoDesktop(options) {\n  var instance = new venmo_desktop_1.default(options);\n  return instance.initialize();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9leHRlcm5hbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBLHNDQUFzQyxtQkFBTyxDQUFDLDJGQUFpQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9leHRlcm5hbC9pbmRleC5qcz8xMDQxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9XG4gICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fFxuICBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIG1vZCAmJiBtb2QuX19lc01vZHVsZSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG4gIH07XG52YXIgdmVubW9fZGVza3RvcF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3Zlbm1vLWRlc2t0b3BcIikpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVWZW5tb0Rlc2t0b3Aob3B0aW9ucykge1xuICB2YXIgaW5zdGFuY2UgPSBuZXcgdmVubW9fZGVza3RvcF8xLmRlZmF1bHQob3B0aW9ucyk7XG4gIHJldHVybiBpbnN0YW5jZS5pbml0aWFsaXplKCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/external/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/external/queries.js":
/*!**************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/external/queries.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VENMO_PAYMENT_CONTEXT_STATUS_QUERY =\n  exports.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY =\n  exports.UPDATE_PAYMENT_CONTEXT_QUERY =\n  exports.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY =\n  exports.CREATE_PAYMENT_CONTEXT_QUERY =\n  exports.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY =\n    void 0;\nexports.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY =\n  \"mutation CreateVenmoQRCodePaymentContext($input: CreateVenmoQRCodePaymentContextInput!) {\\n  createVenmoQRCodePaymentContext(input: $input) {\\n    clientMutationId\\n    venmoQRCodePaymentContext {\\n      id\\n      merchantId\\n      createdAt\\n      expiresAt\\n    }\\n  }\\n}\";\nexports.CREATE_PAYMENT_CONTEXT_QUERY =\n  \"mutation CreateVenmoPaymentContext($input: CreateVenmoPaymentContextInput!) {\\n  createVenmoPaymentContext(input: $input) {\\n    clientMutationId\\n    venmoPaymentContext {\\n      id\\n      merchantId\\n      createdAt\\n      expiresAt\\n    }\\n  }\\n}\";\nexports.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY =\n  \"mutation UpdateVenmoQRCodePaymentContext($input: UpdateVenmoQRCodePaymentContextInput!) {\\n  updateVenmoQRCodePaymentContext(input: $input) {\\n    clientMutationId\\n  }\\n}\";\nexports.UPDATE_PAYMENT_CONTEXT_QUERY =\n  \"mutation UpdateVenmoPaymentContextStatus($input: UpdateVenmoPaymentContextStatusInput!) {\\n  updateVenmoPaymentContextStatus(input: $input) {\\n    clientMutationId\\n  }\\n}\";\nexports.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY =\n  \"query PaymentContext($id: ID!) {\\n  node(id: $id) {\\n    ... on VenmoQRCodePaymentContext {\\n      status\\n      paymentMethodId\\n      userName\\n    }\\n  }\\n}\";\nexports.VENMO_PAYMENT_CONTEXT_STATUS_QUERY =\n  \"query PaymentContext($id: ID!) {\\n  node(id: $id) {\\n    ... on VenmoPaymentContext {\\n      status\\n      paymentMethodId\\n      userName\\n      payerInfo {\\n        firstName\\n        lastName\\n        phoneNumber\\n        email\\n        externalId\\n        userName\\n        billingAddress {\\n          fullName\\n          addressLine1\\n          addressLine2\\n          adminArea1\\n          adminArea2\\n          postalCode\\n          countryCode\\n        }\\n        shippingAddress {\\n          fullName\\n          addressLine1\\n          addressLine2\\n          adminArea1\\n          adminArea2\\n          postalCode\\n          countryCode\\n        }\\n      }\\n    }\\n  }\\n}\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9leHRlcm5hbC9xdWVyaWVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBDQUEwQztBQUMxQyxFQUFFLGlEQUFpRDtBQUNuRCxFQUFFLG9DQUFvQztBQUN0QyxFQUFFLDJDQUEyQztBQUM3QyxFQUFFLG9DQUFvQztBQUN0QyxFQUFFLDJDQUEyQztBQUM3QztBQUNBLDJDQUEyQztBQUMzQyw0RkFBNEYsb0RBQW9ELHVEQUF1RCxxRUFBcUUsS0FBSyxHQUFHO0FBQ3BSLG9DQUFvQztBQUNwQyxnRkFBZ0YsOENBQThDLGlEQUFpRCxxRUFBcUUsS0FBSyxHQUFHO0FBQzVQLDJDQUEyQztBQUMzQyw0RkFBNEYsb0RBQW9ELDJCQUEyQixHQUFHO0FBQzlLLG9DQUFvQztBQUNwQyw0RkFBNEYsb0RBQW9ELDJCQUEyQixHQUFHO0FBQzlLLGlEQUFpRDtBQUNqRCxtQ0FBbUMsbUJBQW1CLHdDQUF3Qyw0REFBNEQsS0FBSyxHQUFHO0FBQ2xLLDBDQUEwQztBQUMxQyxtQ0FBbUMsbUJBQW1CLGtDQUFrQyx3RUFBd0UseUlBQXlJLHdLQUF3SywyQkFBMkIsd0tBQXdLLFNBQVMsT0FBTyxLQUFLLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdmVubW8vZXh0ZXJuYWwvcXVlcmllcy5qcz83ZDlkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WRU5NT19QQVlNRU5UX0NPTlRFWFRfU1RBVFVTX1FVRVJZID1cbiAgZXhwb3J0cy5MRUdBQ1lfVkVOTU9fUEFZTUVOVF9DT05URVhUX1NUQVRVU19RVUVSWSA9XG4gIGV4cG9ydHMuVVBEQVRFX1BBWU1FTlRfQ09OVEVYVF9RVUVSWSA9XG4gIGV4cG9ydHMuTEVHQUNZX1VQREFURV9QQVlNRU5UX0NPTlRFWFRfUVVFUlkgPVxuICBleHBvcnRzLkNSRUFURV9QQVlNRU5UX0NPTlRFWFRfUVVFUlkgPVxuICBleHBvcnRzLkxFR0FDWV9DUkVBVEVfUEFZTUVOVF9DT05URVhUX1FVRVJZID1cbiAgICB2b2lkIDA7XG5leHBvcnRzLkxFR0FDWV9DUkVBVEVfUEFZTUVOVF9DT05URVhUX1FVRVJZID1cbiAgXCJtdXRhdGlvbiBDcmVhdGVWZW5tb1FSQ29kZVBheW1lbnRDb250ZXh0KCRpbnB1dDogQ3JlYXRlVmVubW9RUkNvZGVQYXltZW50Q29udGV4dElucHV0ISkge1xcbiAgY3JlYXRlVmVubW9RUkNvZGVQYXltZW50Q29udGV4dChpbnB1dDogJGlucHV0KSB7XFxuICAgIGNsaWVudE11dGF0aW9uSWRcXG4gICAgdmVubW9RUkNvZGVQYXltZW50Q29udGV4dCB7XFxuICAgICAgaWRcXG4gICAgICBtZXJjaGFudElkXFxuICAgICAgY3JlYXRlZEF0XFxuICAgICAgZXhwaXJlc0F0XFxuICAgIH1cXG4gIH1cXG59XCI7XG5leHBvcnRzLkNSRUFURV9QQVlNRU5UX0NPTlRFWFRfUVVFUlkgPVxuICBcIm11dGF0aW9uIENyZWF0ZVZlbm1vUGF5bWVudENvbnRleHQoJGlucHV0OiBDcmVhdGVWZW5tb1BheW1lbnRDb250ZXh0SW5wdXQhKSB7XFxuICBjcmVhdGVWZW5tb1BheW1lbnRDb250ZXh0KGlucHV0OiAkaW5wdXQpIHtcXG4gICAgY2xpZW50TXV0YXRpb25JZFxcbiAgICB2ZW5tb1BheW1lbnRDb250ZXh0IHtcXG4gICAgICBpZFxcbiAgICAgIG1lcmNoYW50SWRcXG4gICAgICBjcmVhdGVkQXRcXG4gICAgICBleHBpcmVzQXRcXG4gICAgfVxcbiAgfVxcbn1cIjtcbmV4cG9ydHMuTEVHQUNZX1VQREFURV9QQVlNRU5UX0NPTlRFWFRfUVVFUlkgPVxuICBcIm11dGF0aW9uIFVwZGF0ZVZlbm1vUVJDb2RlUGF5bWVudENvbnRleHQoJGlucHV0OiBVcGRhdGVWZW5tb1FSQ29kZVBheW1lbnRDb250ZXh0SW5wdXQhKSB7XFxuICB1cGRhdGVWZW5tb1FSQ29kZVBheW1lbnRDb250ZXh0KGlucHV0OiAkaW5wdXQpIHtcXG4gICAgY2xpZW50TXV0YXRpb25JZFxcbiAgfVxcbn1cIjtcbmV4cG9ydHMuVVBEQVRFX1BBWU1FTlRfQ09OVEVYVF9RVUVSWSA9XG4gIFwibXV0YXRpb24gVXBkYXRlVmVubW9QYXltZW50Q29udGV4dFN0YXR1cygkaW5wdXQ6IFVwZGF0ZVZlbm1vUGF5bWVudENvbnRleHRTdGF0dXNJbnB1dCEpIHtcXG4gIHVwZGF0ZVZlbm1vUGF5bWVudENvbnRleHRTdGF0dXMoaW5wdXQ6ICRpbnB1dCkge1xcbiAgICBjbGllbnRNdXRhdGlvbklkXFxuICB9XFxufVwiO1xuZXhwb3J0cy5MRUdBQ1lfVkVOTU9fUEFZTUVOVF9DT05URVhUX1NUQVRVU19RVUVSWSA9XG4gIFwicXVlcnkgUGF5bWVudENvbnRleHQoJGlkOiBJRCEpIHtcXG4gIG5vZGUoaWQ6ICRpZCkge1xcbiAgICAuLi4gb24gVmVubW9RUkNvZGVQYXltZW50Q29udGV4dCB7XFxuICAgICAgc3RhdHVzXFxuICAgICAgcGF5bWVudE1ldGhvZElkXFxuICAgICAgdXNlck5hbWVcXG4gICAgfVxcbiAgfVxcbn1cIjtcbmV4cG9ydHMuVkVOTU9fUEFZTUVOVF9DT05URVhUX1NUQVRVU19RVUVSWSA9XG4gIFwicXVlcnkgUGF5bWVudENvbnRleHQoJGlkOiBJRCEpIHtcXG4gIG5vZGUoaWQ6ICRpZCkge1xcbiAgICAuLi4gb24gVmVubW9QYXltZW50Q29udGV4dCB7XFxuICAgICAgc3RhdHVzXFxuICAgICAgcGF5bWVudE1ldGhvZElkXFxuICAgICAgdXNlck5hbWVcXG4gICAgICBwYXllckluZm8ge1xcbiAgICAgICAgZmlyc3ROYW1lXFxuICAgICAgICBsYXN0TmFtZVxcbiAgICAgICAgcGhvbmVOdW1iZXJcXG4gICAgICAgIGVtYWlsXFxuICAgICAgICBleHRlcm5hbElkXFxuICAgICAgICB1c2VyTmFtZVxcbiAgICAgICAgYmlsbGluZ0FkZHJlc3Mge1xcbiAgICAgICAgICBmdWxsTmFtZVxcbiAgICAgICAgICBhZGRyZXNzTGluZTFcXG4gICAgICAgICAgYWRkcmVzc0xpbmUyXFxuICAgICAgICAgIGFkbWluQXJlYTFcXG4gICAgICAgICAgYWRtaW5BcmVhMlxcbiAgICAgICAgICBwb3N0YWxDb2RlXFxuICAgICAgICAgIGNvdW50cnlDb2RlXFxuICAgICAgICB9XFxuICAgICAgICBzaGlwcGluZ0FkZHJlc3Mge1xcbiAgICAgICAgICBmdWxsTmFtZVxcbiAgICAgICAgICBhZGRyZXNzTGluZTFcXG4gICAgICAgICAgYWRkcmVzc0xpbmUyXFxuICAgICAgICAgIGFkbWluQXJlYTFcXG4gICAgICAgICAgYWRtaW5BcmVhMlxcbiAgICAgICAgICBwb3N0YWxDb2RlXFxuICAgICAgICAgIGNvdW50cnlDb2RlXFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9XFxuICB9XFxufVwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/external/queries.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/external/venmo-desktop.js":
/*!********************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/external/venmo-desktop.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign =\n  (this && this.__assign) ||\n  function () {\n    __assign =\n      Object.assign ||\n      function (t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n      };\n    return __assign.apply(this, arguments);\n  };\nvar __importDefault =\n  (this && this.__importDefault) ||\n  function (mod) {\n    return mod && mod.__esModule ? mod : { default: mod };\n  };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar framebus_1 = __importDefault(__webpack_require__(/*! framebus */ \"(ssr)/./node_modules/framebus/dist/index.js\"));\nvar iframer_1 = __importDefault(__webpack_require__(/*! @braintree/iframer */ \"(ssr)/./node_modules/@braintree/iframer/dist/index.js\"));\nvar uuid_1 = __importDefault(__webpack_require__(/*! @braintree/uuid */ \"(ssr)/./node_modules/@braintree/uuid/index.js\"));\nvar events_1 = __webpack_require__(/*! ../shared/events */ \"(ssr)/./node_modules/braintree-web/venmo/shared/events.js\");\nvar queries_1 = __webpack_require__(/*! ./queries */ \"(ssr)/./node_modules/braintree-web/venmo/external/queries.js\");\nvar VENMO_DESKTOP_POLLING_INTERVAL = 1000; // 1 second\nvar VISUAL_DELAY_BEFORE_SIGNALLING_COMPLETION = 2000; // 2 seconds\nvar VenmoDesktop = /** @class */ (function () {\n  function VenmoDesktop(options) {\n    this.isHidden = true;\n    this.env = options.environment;\n    this.id = uuid_1.default();\n    this.profileId = options.profileId;\n    this.displayName = options.displayName;\n    this.paymentMethodUsage = options.paymentMethodUsage;\n    this.shouldUseLegacyQRCodeMutation = !this.paymentMethodUsage;\n    var frameUrl = options.url + \"#\" + this.env + \"_\" + this.id;\n    this.bus = new framebus_1.default({\n      channel: this.id,\n      verifyDomain: options.verifyDomain,\n      targetFrames: [],\n    });\n    this.apiRequest = options.apiRequest;\n    this.sendEvent = options.sendEvent;\n    this.Promise = options.Promise;\n    this.alertBox = document.createElement(\"div\");\n    this.alertBox.setAttribute(\"data-venmo-desktop-id\", this.id);\n    this.alertBox.setAttribute(\"role\", \"alert\");\n    this.alertBox.style.position = \"fixed\";\n    this.alertBox.style.display = \"none\";\n    this.alertBox.style.height = \"1px\";\n    this.alertBox.style.width = \"1px\";\n    this.alertBox.style.overflow = \"hidden\";\n    this.alertBox.style.zIndex = \"0\";\n    this.iframe = iframer_1.default({\n      src: frameUrl,\n      name: \"venmo-desktop-iframe\",\n      style: {\n        display: \"none\",\n        position: \"fixed\",\n        top: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        left: \"0\",\n        height: \"100%\",\n        width: \"100%\",\n        zIndex: \"9999999\",\n      },\n      title: \"Venmo Desktop\",\n    });\n    this.bus.addTargetFrame(this.iframe);\n  }\n  VenmoDesktop.prototype.initialize = function () {\n    var _this = this;\n    return new this.Promise(function (resolve) {\n      _this.bus.on(events_1.VENMO_DESKTOP_IFRAME_READY, function () {\n        resolve(_this);\n      });\n      _this.bus.on(events_1.VENMO_DESKTOP_REQUEST_NEW_QR_CODE, function () {\n        _this.sendEvent(\"venmo.tokenize.desktop.restarted-from-error-view\");\n        _this.startPolling();\n      });\n      document.body.appendChild(_this.iframe);\n      document.body.appendChild(_this.alertBox);\n    });\n  };\n  VenmoDesktop.prototype.launchDesktopFlow = function () {\n    var _this = this;\n    this.isHidden = false;\n    var promise = new this.Promise(function (resolve, reject) {\n      _this.launchDesktopPromiseRejectFunction = reject;\n      var removeListeners = function () {\n        /* eslint-disable @typescript-eslint/no-use-before-define */\n        _this.bus.off(\n          events_1.VENMO_DESKTOP_CUSTOMER_CANCELED,\n          customerCancelledHandler\n        );\n        _this.bus.off(\n          events_1.VENMO_DESKTOP_UNKNOWN_ERROR,\n          unknownErrorHandler\n        );\n        /* eslint-enable @typescript-eslint/no-use-before-define */\n      };\n      var unknownErrorHandler = function (err) {\n        removeListeners();\n        _this.sendEvent(\"venmo.tokenize.desktop.unknown-error\");\n        reject({\n          allowUIToHandleError: false,\n          reason: \"UNKNOWN_ERROR\",\n          err: err,\n        });\n      };\n      var customerCancelledHandler = function () {\n        removeListeners();\n        _this.updateVenmoDesktopPaymentContext(\"CANCELED\");\n        _this.sendEvent(\n          \"venmo.tokenize.desktop.status-change.canceled-from-modal\"\n        );\n        reject({\n          allowUIToHandleError: false,\n          reason: \"CUSTOMER_CANCELED\",\n        });\n      };\n      _this.completedHandler = function (payload) {\n        removeListeners();\n        resolve(payload);\n      };\n      _this.bus.on(\n        events_1.VENMO_DESKTOP_CUSTOMER_CANCELED,\n        customerCancelledHandler\n      );\n      _this.bus.on(events_1.VENMO_DESKTOP_UNKNOWN_ERROR, unknownErrorHandler);\n    });\n    this.iframe.style.display = \"block\";\n    this.setAlert(\"Generating a QR code, get your Venmo app ready\");\n    this.iframe.focus();\n    this.startPolling();\n    return promise\n      .then(function (result) {\n        delete _this.venmoContextId;\n        delete _this.launchDesktopPromiseRejectFunction;\n        return result;\n      })\n      .catch(function (err) {\n        delete _this.venmoContextId;\n        delete _this.launchDesktopPromiseRejectFunction;\n        return _this.Promise.reject(err);\n      });\n  };\n  VenmoDesktop.prototype.triggerCompleted = function (result) {\n    var _this = this;\n    if (this.isHidden) {\n      return;\n    }\n    setTimeout(function () {\n      if (_this.completedHandler) {\n        _this.completedHandler(result);\n      }\n      delete _this.completedHandler;\n    }, VISUAL_DELAY_BEFORE_SIGNALLING_COMPLETION);\n  };\n  VenmoDesktop.prototype.triggerRejected = function (err) {\n    if (this.launchDesktopPromiseRejectFunction) {\n      this.launchDesktopPromiseRejectFunction(err);\n    }\n  };\n  VenmoDesktop.prototype.hideDesktopFlow = function () {\n    this.setAlert(\"\");\n    this.iframe.style.display = \"none\";\n    this.bus.emit(events_1.VENMO_DESKTOP_CLOSED_FROM_PARENT);\n    this.isHidden = true;\n  };\n  VenmoDesktop.prototype.displayError = function (message) {\n    if (this.isHidden) {\n      return;\n    }\n    this.bus.emit(events_1.VENMO_DESKTOP_DISPLAY_ERROR, {\n      message: message,\n    });\n    this.setAlert(message);\n  };\n  VenmoDesktop.prototype.displayQRCode = function (id, merchantId) {\n    if (this.isHidden) {\n      return;\n    }\n    this.bus.emit(events_1.VENMO_DESKTOP_DISPLAY_QR_CODE, {\n      id: id,\n      merchantId: merchantId,\n    });\n    this.setAlert(\"To scan the QR code, open your Venmo app\");\n  };\n  VenmoDesktop.prototype.authorize = function () {\n    if (this.isHidden) {\n      return;\n    }\n    this.bus.emit(events_1.VENMO_DESKTOP_AUTHORIZE);\n    this.setAlert(\"Venmo account authorized\");\n  };\n  VenmoDesktop.prototype.authorizing = function () {\n    if (this.isHidden) {\n      return;\n    }\n    this.bus.emit(events_1.VENMO_DESKTOP_AUTHORIZING);\n    this.setAlert(\"Authorize on your Venmo app\");\n  };\n  VenmoDesktop.prototype.startPolling = function () {\n    var _this = this;\n    return this.createVenmoDesktopPaymentContext()\n      .then(function (result) {\n        var expiresIn =\n          new Date(result.expiresAt).getTime() -\n          new Date(result.createdAt).getTime();\n        var expiredTime = Date.now() + expiresIn;\n        _this.displayQRCode(result.id, result.merchantId);\n        return _this.pollForStatusChange(result.status, expiredTime);\n      })\n      .then(function (result) {\n        if (!result) {\n          return;\n        }\n        // since we are manually adding a prepended @ sign\n        // we want to make sure that the username does not\n        // start giving us the @ sign up front in the future\n        var username = result.userName || \"\";\n        username = \"@\" + username.replace(\"@\", \"\");\n        _this.triggerCompleted({\n          paymentMethodNonce: result.paymentMethodId,\n          username: username,\n          payerInfo: result.payerInfo,\n          id: _this.venmoContextId || \"\",\n        });\n      })\n      .catch(function (err) {\n        if (err.allowUIToHandleError) {\n          // noop here and let the UI handle the customer error\n          return;\n        }\n        _this.sendEvent(\"venmo.tokenize.desktop.unhandled-error\");\n        _this.triggerRejected(err);\n      });\n  };\n  VenmoDesktop.prototype.pollForStatusChange = function (status, expiredTime) {\n    var _this = this;\n    if (!this.venmoContextId) {\n      return this.Promise.resolve();\n    }\n    if (Date.now() > expiredTime) {\n      return this.updateVenmoDesktopPaymentContext(\"EXPIRED\").then(function () {\n        _this.displayError(\"Something went wrong\");\n        _this.sendEvent(\"venmo.tokenize.desktop.status-change.sdk-timeout\");\n        return _this.Promise.reject({\n          allowUIToHandleError: true,\n          reason: \"TIMEOUT\",\n        });\n      });\n    }\n    return this.lookupVenmoDesktopPaymentContext().then(function (response) {\n      if (!_this.venmoContextId || !response) {\n        return _this.Promise.resolve();\n      }\n      var newStatus = response.status;\n      if (newStatus !== status) {\n        status = newStatus;\n        _this.sendEvent(\n          \"venmo.tokenize.desktop.status-change.\" + status.toLowerCase()\n        );\n        switch (status) {\n          case \"CREATED\":\n            // noop, no need to do anything here\n            // should never be able to get to this point\n            // but we'll keep it in to enumerate the statuses\n            break;\n          case \"EXPIRED\":\n          case \"FAILED\":\n          case \"CANCELED\":\n            var message =\n              status === \"CANCELED\"\n                ? \"The authorization was canceled\"\n                : \"Something went wrong\";\n            _this.displayError(message);\n            // these are all terminal states, so we end it here\n            return _this.Promise.reject({\n              allowUIToHandleError: true,\n              reason: status,\n            });\n          case \"SCANNED\":\n            _this.authorizing();\n            break;\n          case \"APPROVED\":\n            _this.authorize();\n            return _this.Promise.resolve(response);\n          default:\n          // any other statuses are irrelevant to the polling\n          // and can just be ignored\n        }\n      }\n      return new _this.Promise(function (resolve, reject) {\n        setTimeout(function () {\n          _this\n            .pollForStatusChange(status, expiredTime)\n            .then(resolve)\n            .catch(reject);\n        }, VENMO_DESKTOP_POLLING_INTERVAL);\n      });\n    });\n  };\n  VenmoDesktop.prototype.teardown = function () {\n    this.bus.teardown();\n    if (this.iframe.parentNode) {\n      this.iframe.parentNode.removeChild(this.iframe);\n    }\n    if (this.alertBox.parentNode) {\n      this.alertBox.parentNode.removeChild(this.alertBox);\n    }\n  };\n  VenmoDesktop.prototype.setAlert = function (message) {\n    this.alertBox.style.display = message ? \"block\" : \"none\";\n    this.alertBox.textContent = message;\n  };\n  VenmoDesktop.prototype.createPaymentContextFromGraphqlLegacyQRCodeMutation =\n    function (intent) {\n      return this.apiRequest(queries_1.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY, {\n        input: {\n          environment: this.env,\n          intent: intent,\n        },\n      }).then(function (response) {\n        return response\n          .createVenmoQRCodePaymentContext.venmoQRCodePaymentContext;\n      });\n    };\n  VenmoDesktop.prototype.createPaymentContextFromGraphQL = function (intent) {\n    var input = {\n      intent: intent,\n      paymentMethodUsage: this.paymentMethodUsage,\n      customerClient: \"DESKTOP\",\n    };\n    if (this.profileId) {\n      input.merchantProfileId = this.profileId;\n    }\n    if (this.displayName) {\n      input.displayName = this.displayName;\n    }\n    return this.apiRequest(queries_1.CREATE_PAYMENT_CONTEXT_QUERY, {\n      input: input,\n    }).then(function (response) {\n      return response.createVenmoPaymentContext.venmoPaymentContext;\n    });\n  };\n  VenmoDesktop.prototype.createVenmoDesktopPaymentContext = function () {\n    var _this = this;\n    var contextPromise = this.shouldUseLegacyQRCodeMutation\n      ? this.createPaymentContextFromGraphqlLegacyQRCodeMutation(\"PAY_FROM_APP\")\n      : this.createPaymentContextFromGraphQL(\"PAY_FROM_APP\");\n    return contextPromise.then(function (context) {\n      _this.venmoContextId = context.id;\n      var merchantId = _this.profileId || context.merchantId;\n      return {\n        id: context.id,\n        status: context.status,\n        merchantId: merchantId,\n        createdAt: context.createdAt,\n        expiresAt: context.expiresAt,\n      };\n    });\n  };\n  VenmoDesktop.prototype.updateVenmoDesktopPaymentContext = function (\n    status,\n    additionalOptions\n  ) {\n    if (additionalOptions === void 0) {\n      additionalOptions = {};\n    }\n    if (!this.venmoContextId) {\n      return this.Promise.resolve();\n    }\n    var data = {\n      input: __assign(\n        { id: this.venmoContextId, status: status },\n        additionalOptions\n      ),\n    };\n    var query = this.shouldUseLegacyQRCodeMutation\n      ? queries_1.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY\n      : queries_1.UPDATE_PAYMENT_CONTEXT_QUERY;\n    return this.apiRequest(query, data).then(function () {\n      // noop so we can resolve without any data to match the type\n    });\n  };\n  VenmoDesktop.prototype.lookupVenmoDesktopPaymentContext = function () {\n    if (!this.venmoContextId) {\n      return this.Promise.resolve();\n    }\n    var query = this.shouldUseLegacyQRCodeMutation\n      ? queries_1.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY\n      : queries_1.VENMO_PAYMENT_CONTEXT_STATUS_QUERY;\n    return this.apiRequest(query, {\n      id: this.venmoContextId,\n    }).then(function (response) {\n      return response.node;\n    });\n  };\n  return VenmoDesktop;\n})();\nexports[\"default\"] = VenmoDesktop;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9leHRlcm5hbC92ZW5tby1kZXNrdG9wLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQ0FBaUMsbUJBQU8sQ0FBQyw2REFBVTtBQUNuRCxnQ0FBZ0MsbUJBQU8sQ0FBQyxpRkFBb0I7QUFDNUQsNkJBQTZCLG1CQUFPLENBQUMsc0VBQWlCO0FBQ3RELGVBQWUsbUJBQU8sQ0FBQyxtRkFBa0I7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMsK0VBQVc7QUFDbkMsMkNBQTJDO0FBQzNDLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHlDQUF5QztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdmVubW8vZXh0ZXJuYWwvdmVubW8tZGVza3RvcC5qcz9hY2UzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID1cbiAgKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHxcbiAgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID1cbiAgICAgIE9iamVjdC5hc3NpZ24gfHxcbiAgICAgIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKVxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9XG4gICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fFxuICBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIG1vZCAmJiBtb2QuX19lc01vZHVsZSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG4gIH07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZnJhbWVidXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZnJhbWVidXNcIikpO1xudmFyIGlmcmFtZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiQGJyYWludHJlZS9pZnJhbWVyXCIpKTtcbnZhciB1dWlkXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIkBicmFpbnRyZWUvdXVpZFwiKSk7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2V2ZW50c1wiKTtcbnZhciBxdWVyaWVzXzEgPSByZXF1aXJlKFwiLi9xdWVyaWVzXCIpO1xudmFyIFZFTk1PX0RFU0tUT1BfUE9MTElOR19JTlRFUlZBTCA9IDEwMDA7IC8vIDEgc2Vjb25kXG52YXIgVklTVUFMX0RFTEFZX0JFRk9SRV9TSUdOQUxMSU5HX0NPTVBMRVRJT04gPSAyMDAwOyAvLyAyIHNlY29uZHNcbnZhciBWZW5tb0Rlc2t0b3AgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFZlbm1vRGVza3RvcChvcHRpb25zKSB7XG4gICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gICAgdGhpcy5lbnYgPSBvcHRpb25zLmVudmlyb25tZW50O1xuICAgIHRoaXMuaWQgPSB1dWlkXzEuZGVmYXVsdCgpO1xuICAgIHRoaXMucHJvZmlsZUlkID0gb3B0aW9ucy5wcm9maWxlSWQ7XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IG9wdGlvbnMuZGlzcGxheU5hbWU7XG4gICAgdGhpcy5wYXltZW50TWV0aG9kVXNhZ2UgPSBvcHRpb25zLnBheW1lbnRNZXRob2RVc2FnZTtcbiAgICB0aGlzLnNob3VsZFVzZUxlZ2FjeVFSQ29kZU11dGF0aW9uID0gIXRoaXMucGF5bWVudE1ldGhvZFVzYWdlO1xuICAgIHZhciBmcmFtZVVybCA9IG9wdGlvbnMudXJsICsgXCIjXCIgKyB0aGlzLmVudiArIFwiX1wiICsgdGhpcy5pZDtcbiAgICB0aGlzLmJ1cyA9IG5ldyBmcmFtZWJ1c18xLmRlZmF1bHQoe1xuICAgICAgY2hhbm5lbDogdGhpcy5pZCxcbiAgICAgIHZlcmlmeURvbWFpbjogb3B0aW9ucy52ZXJpZnlEb21haW4sXG4gICAgICB0YXJnZXRGcmFtZXM6IFtdLFxuICAgIH0pO1xuICAgIHRoaXMuYXBpUmVxdWVzdCA9IG9wdGlvbnMuYXBpUmVxdWVzdDtcbiAgICB0aGlzLnNlbmRFdmVudCA9IG9wdGlvbnMuc2VuZEV2ZW50O1xuICAgIHRoaXMuUHJvbWlzZSA9IG9wdGlvbnMuUHJvbWlzZTtcbiAgICB0aGlzLmFsZXJ0Qm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmFsZXJ0Qm94LnNldEF0dHJpYnV0ZShcImRhdGEtdmVubW8tZGVza3RvcC1pZFwiLCB0aGlzLmlkKTtcbiAgICB0aGlzLmFsZXJ0Qm94LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJhbGVydFwiKTtcbiAgICB0aGlzLmFsZXJ0Qm94LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgIHRoaXMuYWxlcnRCb3guc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHRoaXMuYWxlcnRCb3guc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcbiAgICB0aGlzLmFsZXJ0Qm94LnN0eWxlLndpZHRoID0gXCIxcHhcIjtcbiAgICB0aGlzLmFsZXJ0Qm94LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICB0aGlzLmFsZXJ0Qm94LnN0eWxlLnpJbmRleCA9IFwiMFwiO1xuICAgIHRoaXMuaWZyYW1lID0gaWZyYW1lcl8xLmRlZmF1bHQoe1xuICAgICAgc3JjOiBmcmFtZVVybCxcbiAgICAgIG5hbWU6IFwidmVubW8tZGVza3RvcC1pZnJhbWVcIixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiLFxuICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICBib3R0b206IFwiMFwiLFxuICAgICAgICByaWdodDogXCIwXCIsXG4gICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIHpJbmRleDogXCI5OTk5OTk5XCIsXG4gICAgICB9LFxuICAgICAgdGl0bGU6IFwiVmVubW8gRGVza3RvcFwiLFxuICAgIH0pO1xuICAgIHRoaXMuYnVzLmFkZFRhcmdldEZyYW1lKHRoaXMuaWZyYW1lKTtcbiAgfVxuICBWZW5tb0Rlc2t0b3AucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IHRoaXMuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgX3RoaXMuYnVzLm9uKGV2ZW50c18xLlZFTk1PX0RFU0tUT1BfSUZSQU1FX1JFQURZLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc29sdmUoX3RoaXMpO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy5idXMub24oZXZlbnRzXzEuVkVOTU9fREVTS1RPUF9SRVFVRVNUX05FV19RUl9DT0RFLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNlbmRFdmVudChcInZlbm1vLnRva2VuaXplLmRlc2t0b3AucmVzdGFydGVkLWZyb20tZXJyb3Itdmlld1wiKTtcbiAgICAgICAgX3RoaXMuc3RhcnRQb2xsaW5nKCk7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoX3RoaXMuaWZyYW1lKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoX3RoaXMuYWxlcnRCb3gpO1xuICAgIH0pO1xuICB9O1xuICBWZW5tb0Rlc2t0b3AucHJvdG90eXBlLmxhdW5jaERlc2t0b3BGbG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5pc0hpZGRlbiA9IGZhbHNlO1xuICAgIHZhciBwcm9taXNlID0gbmV3IHRoaXMuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfdGhpcy5sYXVuY2hEZXNrdG9wUHJvbWlzZVJlamVjdEZ1bmN0aW9uID0gcmVqZWN0O1xuICAgICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lICovXG4gICAgICAgIF90aGlzLmJ1cy5vZmYoXG4gICAgICAgICAgZXZlbnRzXzEuVkVOTU9fREVTS1RPUF9DVVNUT01FUl9DQU5DRUxFRCxcbiAgICAgICAgICBjdXN0b21lckNhbmNlbGxlZEhhbmRsZXJcbiAgICAgICAgKTtcbiAgICAgICAgX3RoaXMuYnVzLm9mZihcbiAgICAgICAgICBldmVudHNfMS5WRU5NT19ERVNLVE9QX1VOS05PV05fRVJST1IsXG4gICAgICAgICAgdW5rbm93bkVycm9ySGFuZGxlclxuICAgICAgICApO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZSAqL1xuICAgICAgfTtcbiAgICAgIHZhciB1bmtub3duRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgX3RoaXMuc2VuZEV2ZW50KFwidmVubW8udG9rZW5pemUuZGVza3RvcC51bmtub3duLWVycm9yXCIpO1xuICAgICAgICByZWplY3Qoe1xuICAgICAgICAgIGFsbG93VUlUb0hhbmRsZUVycm9yOiBmYWxzZSxcbiAgICAgICAgICByZWFzb246IFwiVU5LTk9XTl9FUlJPUlwiLFxuICAgICAgICAgIGVycjogZXJyLFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICB2YXIgY3VzdG9tZXJDYW5jZWxsZWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgX3RoaXMudXBkYXRlVmVubW9EZXNrdG9wUGF5bWVudENvbnRleHQoXCJDQU5DRUxFRFwiKTtcbiAgICAgICAgX3RoaXMuc2VuZEV2ZW50KFxuICAgICAgICAgIFwidmVubW8udG9rZW5pemUuZGVza3RvcC5zdGF0dXMtY2hhbmdlLmNhbmNlbGVkLWZyb20tbW9kYWxcIlxuICAgICAgICApO1xuICAgICAgICByZWplY3Qoe1xuICAgICAgICAgIGFsbG93VUlUb0hhbmRsZUVycm9yOiBmYWxzZSxcbiAgICAgICAgICByZWFzb246IFwiQ1VTVE9NRVJfQ0FOQ0VMRURcIixcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgX3RoaXMuY29tcGxldGVkSGFuZGxlciA9IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICByZXNvbHZlKHBheWxvYWQpO1xuICAgICAgfTtcbiAgICAgIF90aGlzLmJ1cy5vbihcbiAgICAgICAgZXZlbnRzXzEuVkVOTU9fREVTS1RPUF9DVVNUT01FUl9DQU5DRUxFRCxcbiAgICAgICAgY3VzdG9tZXJDYW5jZWxsZWRIYW5kbGVyXG4gICAgICApO1xuICAgICAgX3RoaXMuYnVzLm9uKGV2ZW50c18xLlZFTk1PX0RFU0tUT1BfVU5LTk9XTl9FUlJPUiwgdW5rbm93bkVycm9ySGFuZGxlcik7XG4gICAgfSk7XG4gICAgdGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB0aGlzLnNldEFsZXJ0KFwiR2VuZXJhdGluZyBhIFFSIGNvZGUsIGdldCB5b3VyIFZlbm1vIGFwcCByZWFkeVwiKTtcbiAgICB0aGlzLmlmcmFtZS5mb2N1cygpO1xuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XG4gICAgcmV0dXJuIHByb21pc2VcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgZGVsZXRlIF90aGlzLnZlbm1vQ29udGV4dElkO1xuICAgICAgICBkZWxldGUgX3RoaXMubGF1bmNoRGVza3RvcFByb21pc2VSZWplY3RGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWxldGUgX3RoaXMudmVubW9Db250ZXh0SWQ7XG4gICAgICAgIGRlbGV0ZSBfdGhpcy5sYXVuY2hEZXNrdG9wUHJvbWlzZVJlamVjdEZ1bmN0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXMuUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICB9O1xuICBWZW5tb0Rlc2t0b3AucHJvdG90eXBlLnRyaWdnZXJDb21wbGV0ZWQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAodGhpcy5pc0hpZGRlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5jb21wbGV0ZWRIYW5kbGVyKSB7XG4gICAgICAgIF90aGlzLmNvbXBsZXRlZEhhbmRsZXIocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBfdGhpcy5jb21wbGV0ZWRIYW5kbGVyO1xuICAgIH0sIFZJU1VBTF9ERUxBWV9CRUZPUkVfU0lHTkFMTElOR19DT01QTEVUSU9OKTtcbiAgfTtcbiAgVmVubW9EZXNrdG9wLnByb3RvdHlwZS50cmlnZ2VyUmVqZWN0ZWQgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKHRoaXMubGF1bmNoRGVza3RvcFByb21pc2VSZWplY3RGdW5jdGlvbikge1xuICAgICAgdGhpcy5sYXVuY2hEZXNrdG9wUHJvbWlzZVJlamVjdEZ1bmN0aW9uKGVycik7XG4gICAgfVxuICB9O1xuICBWZW5tb0Rlc2t0b3AucHJvdG90eXBlLmhpZGVEZXNrdG9wRmxvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldEFsZXJ0KFwiXCIpO1xuICAgIHRoaXMuaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB0aGlzLmJ1cy5lbWl0KGV2ZW50c18xLlZFTk1PX0RFU0tUT1BfQ0xPU0VEX0ZST01fUEFSRU5UKTtcbiAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgfTtcbiAgVmVubW9EZXNrdG9wLnByb3RvdHlwZS5kaXNwbGF5RXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLmlzSGlkZGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYnVzLmVtaXQoZXZlbnRzXzEuVkVOTU9fREVTS1RPUF9ESVNQTEFZX0VSUk9SLCB7XG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgIH0pO1xuICAgIHRoaXMuc2V0QWxlcnQobWVzc2FnZSk7XG4gIH07XG4gIFZlbm1vRGVza3RvcC5wcm90b3R5cGUuZGlzcGxheVFSQ29kZSA9IGZ1bmN0aW9uIChpZCwgbWVyY2hhbnRJZCkge1xuICAgIGlmICh0aGlzLmlzSGlkZGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYnVzLmVtaXQoZXZlbnRzXzEuVkVOTU9fREVTS1RPUF9ESVNQTEFZX1FSX0NPREUsIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG1lcmNoYW50SWQ6IG1lcmNoYW50SWQsXG4gICAgfSk7XG4gICAgdGhpcy5zZXRBbGVydChcIlRvIHNjYW4gdGhlIFFSIGNvZGUsIG9wZW4geW91ciBWZW5tbyBhcHBcIik7XG4gIH07XG4gIFZlbm1vRGVza3RvcC5wcm90b3R5cGUuYXV0aG9yaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzSGlkZGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYnVzLmVtaXQoZXZlbnRzXzEuVkVOTU9fREVTS1RPUF9BVVRIT1JJWkUpO1xuICAgIHRoaXMuc2V0QWxlcnQoXCJWZW5tbyBhY2NvdW50IGF1dGhvcml6ZWRcIik7XG4gIH07XG4gIFZlbm1vRGVza3RvcC5wcm90b3R5cGUuYXV0aG9yaXppbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNIaWRkZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5idXMuZW1pdChldmVudHNfMS5WRU5NT19ERVNLVE9QX0FVVEhPUklaSU5HKTtcbiAgICB0aGlzLnNldEFsZXJ0KFwiQXV0aG9yaXplIG9uIHlvdXIgVmVubW8gYXBwXCIpO1xuICB9O1xuICBWZW5tb0Rlc2t0b3AucHJvdG90eXBlLnN0YXJ0UG9sbGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZVZlbm1vRGVza3RvcFBheW1lbnRDb250ZXh0KClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIGV4cGlyZXNJbiA9XG4gICAgICAgICAgbmV3IERhdGUocmVzdWx0LmV4cGlyZXNBdCkuZ2V0VGltZSgpIC1cbiAgICAgICAgICBuZXcgRGF0ZShyZXN1bHQuY3JlYXRlZEF0KS5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBleHBpcmVkVGltZSA9IERhdGUubm93KCkgKyBleHBpcmVzSW47XG4gICAgICAgIF90aGlzLmRpc3BsYXlRUkNvZGUocmVzdWx0LmlkLCByZXN1bHQubWVyY2hhbnRJZCk7XG4gICAgICAgIHJldHVybiBfdGhpcy5wb2xsRm9yU3RhdHVzQ2hhbmdlKHJlc3VsdC5zdGF0dXMsIGV4cGlyZWRUaW1lKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNpbmNlIHdlIGFyZSBtYW51YWxseSBhZGRpbmcgYSBwcmVwZW5kZWQgQCBzaWduXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIHVzZXJuYW1lIGRvZXMgbm90XG4gICAgICAgIC8vIHN0YXJ0IGdpdmluZyB1cyB0aGUgQCBzaWduIHVwIGZyb250IGluIHRoZSBmdXR1cmVcbiAgICAgICAgdmFyIHVzZXJuYW1lID0gcmVzdWx0LnVzZXJOYW1lIHx8IFwiXCI7XG4gICAgICAgIHVzZXJuYW1lID0gXCJAXCIgKyB1c2VybmFtZS5yZXBsYWNlKFwiQFwiLCBcIlwiKTtcbiAgICAgICAgX3RoaXMudHJpZ2dlckNvbXBsZXRlZCh7XG4gICAgICAgICAgcGF5bWVudE1ldGhvZE5vbmNlOiByZXN1bHQucGF5bWVudE1ldGhvZElkLFxuICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICBwYXllckluZm86IHJlc3VsdC5wYXllckluZm8sXG4gICAgICAgICAgaWQ6IF90aGlzLnZlbm1vQ29udGV4dElkIHx8IFwiXCIsXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIuYWxsb3dVSVRvSGFuZGxlRXJyb3IpIHtcbiAgICAgICAgICAvLyBub29wIGhlcmUgYW5kIGxldCB0aGUgVUkgaGFuZGxlIHRoZSBjdXN0b21lciBlcnJvclxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zZW5kRXZlbnQoXCJ2ZW5tby50b2tlbml6ZS5kZXNrdG9wLnVuaGFuZGxlZC1lcnJvclwiKTtcbiAgICAgICAgX3RoaXMudHJpZ2dlclJlamVjdGVkKGVycik7XG4gICAgICB9KTtcbiAgfTtcbiAgVmVubW9EZXNrdG9wLnByb3RvdHlwZS5wb2xsRm9yU3RhdHVzQ2hhbmdlID0gZnVuY3Rpb24gKHN0YXR1cywgZXhwaXJlZFRpbWUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGlmICghdGhpcy52ZW5tb0NvbnRleHRJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGlmIChEYXRlLm5vdygpID4gZXhwaXJlZFRpbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVZlbm1vRGVza3RvcFBheW1lbnRDb250ZXh0KFwiRVhQSVJFRFwiKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuZGlzcGxheUVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XG4gICAgICAgIF90aGlzLnNlbmRFdmVudChcInZlbm1vLnRva2VuaXplLmRlc2t0b3Auc3RhdHVzLWNoYW5nZS5zZGstdGltZW91dFwiKTtcbiAgICAgICAgcmV0dXJuIF90aGlzLlByb21pc2UucmVqZWN0KHtcbiAgICAgICAgICBhbGxvd1VJVG9IYW5kbGVFcnJvcjogdHJ1ZSxcbiAgICAgICAgICByZWFzb246IFwiVElNRU9VVFwiLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb29rdXBWZW5tb0Rlc2t0b3BQYXltZW50Q29udGV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAoIV90aGlzLnZlbm1vQ29udGV4dElkIHx8ICFyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgaWYgKG5ld1N0YXR1cyAhPT0gc3RhdHVzKSB7XG4gICAgICAgIHN0YXR1cyA9IG5ld1N0YXR1cztcbiAgICAgICAgX3RoaXMuc2VuZEV2ZW50KFxuICAgICAgICAgIFwidmVubW8udG9rZW5pemUuZGVza3RvcC5zdGF0dXMtY2hhbmdlLlwiICsgc3RhdHVzLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICBjYXNlIFwiQ1JFQVRFRFwiOlxuICAgICAgICAgICAgLy8gbm9vcCwgbm8gbmVlZCB0byBkbyBhbnl0aGluZyBoZXJlXG4gICAgICAgICAgICAvLyBzaG91bGQgbmV2ZXIgYmUgYWJsZSB0byBnZXQgdG8gdGhpcyBwb2ludFxuICAgICAgICAgICAgLy8gYnV0IHdlJ2xsIGtlZXAgaXQgaW4gdG8gZW51bWVyYXRlIHRoZSBzdGF0dXNlc1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIkVYUElSRURcIjpcbiAgICAgICAgICBjYXNlIFwiRkFJTEVEXCI6XG4gICAgICAgICAgY2FzZSBcIkNBTkNFTEVEXCI6XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9XG4gICAgICAgICAgICAgIHN0YXR1cyA9PT0gXCJDQU5DRUxFRFwiXG4gICAgICAgICAgICAgICAgPyBcIlRoZSBhdXRob3JpemF0aW9uIHdhcyBjYW5jZWxlZFwiXG4gICAgICAgICAgICAgICAgOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCI7XG4gICAgICAgICAgICBfdGhpcy5kaXNwbGF5RXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICAvLyB0aGVzZSBhcmUgYWxsIHRlcm1pbmFsIHN0YXRlcywgc28gd2UgZW5kIGl0IGhlcmVcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5Qcm9taXNlLnJlamVjdCh7XG4gICAgICAgICAgICAgIGFsbG93VUlUb0hhbmRsZUVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICByZWFzb246IHN0YXR1cyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJTQ0FOTkVEXCI6XG4gICAgICAgICAgICBfdGhpcy5hdXRob3JpemluZygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIkFQUFJPVkVEXCI6XG4gICAgICAgICAgICBfdGhpcy5hdXRob3JpemUoKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5Qcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gYW55IG90aGVyIHN0YXR1c2VzIGFyZSBpcnJlbGV2YW50IHRvIHRoZSBwb2xsaW5nXG4gICAgICAgICAgLy8gYW5kIGNhbiBqdXN0IGJlIGlnbm9yZWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBfdGhpcy5Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXNcbiAgICAgICAgICAgIC5wb2xsRm9yU3RhdHVzQ2hhbmdlKHN0YXR1cywgZXhwaXJlZFRpbWUpXG4gICAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH0sIFZFTk1PX0RFU0tUT1BfUE9MTElOR19JTlRFUlZBTCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgVmVubW9EZXNrdG9wLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmJ1cy50ZWFyZG93bigpO1xuICAgIGlmICh0aGlzLmlmcmFtZS5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuaWZyYW1lKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYWxlcnRCb3gucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5hbGVydEJveC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYWxlcnRCb3gpO1xuICAgIH1cbiAgfTtcbiAgVmVubW9EZXNrdG9wLnByb3RvdHlwZS5zZXRBbGVydCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydEJveC5zdHlsZS5kaXNwbGF5ID0gbWVzc2FnZSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgIHRoaXMuYWxlcnRCb3gudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICB9O1xuICBWZW5tb0Rlc2t0b3AucHJvdG90eXBlLmNyZWF0ZVBheW1lbnRDb250ZXh0RnJvbUdyYXBocWxMZWdhY3lRUkNvZGVNdXRhdGlvbiA9XG4gICAgZnVuY3Rpb24gKGludGVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuYXBpUmVxdWVzdChxdWVyaWVzXzEuTEVHQUNZX0NSRUFURV9QQVlNRU5UX0NPTlRFWFRfUVVFUlksIHtcbiAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICBlbnZpcm9ubWVudDogdGhpcy5lbnYsXG4gICAgICAgICAgaW50ZW50OiBpbnRlbnQsXG4gICAgICAgIH0sXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgICAgICAuY3JlYXRlVmVubW9RUkNvZGVQYXltZW50Q29udGV4dC52ZW5tb1FSQ29kZVBheW1lbnRDb250ZXh0O1xuICAgICAgfSk7XG4gICAgfTtcbiAgVmVubW9EZXNrdG9wLnByb3RvdHlwZS5jcmVhdGVQYXltZW50Q29udGV4dEZyb21HcmFwaFFMID0gZnVuY3Rpb24gKGludGVudCkge1xuICAgIHZhciBpbnB1dCA9IHtcbiAgICAgIGludGVudDogaW50ZW50LFxuICAgICAgcGF5bWVudE1ldGhvZFVzYWdlOiB0aGlzLnBheW1lbnRNZXRob2RVc2FnZSxcbiAgICAgIGN1c3RvbWVyQ2xpZW50OiBcIkRFU0tUT1BcIixcbiAgICB9O1xuICAgIGlmICh0aGlzLnByb2ZpbGVJZCkge1xuICAgICAgaW5wdXQubWVyY2hhbnRQcm9maWxlSWQgPSB0aGlzLnByb2ZpbGVJZDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzcGxheU5hbWUpIHtcbiAgICAgIGlucHV0LmRpc3BsYXlOYW1lID0gdGhpcy5kaXNwbGF5TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXBpUmVxdWVzdChxdWVyaWVzXzEuQ1JFQVRFX1BBWU1FTlRfQ09OVEVYVF9RVUVSWSwge1xuICAgICAgaW5wdXQ6IGlucHV0LFxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuY3JlYXRlVmVubW9QYXltZW50Q29udGV4dC52ZW5tb1BheW1lbnRDb250ZXh0O1xuICAgIH0pO1xuICB9O1xuICBWZW5tb0Rlc2t0b3AucHJvdG90eXBlLmNyZWF0ZVZlbm1vRGVza3RvcFBheW1lbnRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGNvbnRleHRQcm9taXNlID0gdGhpcy5zaG91bGRVc2VMZWdhY3lRUkNvZGVNdXRhdGlvblxuICAgICAgPyB0aGlzLmNyZWF0ZVBheW1lbnRDb250ZXh0RnJvbUdyYXBocWxMZWdhY3lRUkNvZGVNdXRhdGlvbihcIlBBWV9GUk9NX0FQUFwiKVxuICAgICAgOiB0aGlzLmNyZWF0ZVBheW1lbnRDb250ZXh0RnJvbUdyYXBoUUwoXCJQQVlfRlJPTV9BUFBcIik7XG4gICAgcmV0dXJuIGNvbnRleHRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIF90aGlzLnZlbm1vQ29udGV4dElkID0gY29udGV4dC5pZDtcbiAgICAgIHZhciBtZXJjaGFudElkID0gX3RoaXMucHJvZmlsZUlkIHx8IGNvbnRleHQubWVyY2hhbnRJZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBjb250ZXh0LmlkLFxuICAgICAgICBzdGF0dXM6IGNvbnRleHQuc3RhdHVzLFxuICAgICAgICBtZXJjaGFudElkOiBtZXJjaGFudElkLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnRleHQuY3JlYXRlZEF0LFxuICAgICAgICBleHBpcmVzQXQ6IGNvbnRleHQuZXhwaXJlc0F0LFxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcbiAgVmVubW9EZXNrdG9wLnByb3RvdHlwZS51cGRhdGVWZW5tb0Rlc2t0b3BQYXltZW50Q29udGV4dCA9IGZ1bmN0aW9uIChcbiAgICBzdGF0dXMsXG4gICAgYWRkaXRpb25hbE9wdGlvbnNcbiAgKSB7XG4gICAgaWYgKGFkZGl0aW9uYWxPcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIGFkZGl0aW9uYWxPcHRpb25zID0ge307XG4gICAgfVxuICAgIGlmICghdGhpcy52ZW5tb0NvbnRleHRJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHZhciBkYXRhID0ge1xuICAgICAgaW5wdXQ6IF9fYXNzaWduKFxuICAgICAgICB7IGlkOiB0aGlzLnZlbm1vQ29udGV4dElkLCBzdGF0dXM6IHN0YXR1cyB9LFxuICAgICAgICBhZGRpdGlvbmFsT3B0aW9uc1xuICAgICAgKSxcbiAgICB9O1xuICAgIHZhciBxdWVyeSA9IHRoaXMuc2hvdWxkVXNlTGVnYWN5UVJDb2RlTXV0YXRpb25cbiAgICAgID8gcXVlcmllc18xLkxFR0FDWV9VUERBVEVfUEFZTUVOVF9DT05URVhUX1FVRVJZXG4gICAgICA6IHF1ZXJpZXNfMS5VUERBVEVfUEFZTUVOVF9DT05URVhUX1FVRVJZO1xuICAgIHJldHVybiB0aGlzLmFwaVJlcXVlc3QocXVlcnksIGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbm9vcCBzbyB3ZSBjYW4gcmVzb2x2ZSB3aXRob3V0IGFueSBkYXRhIHRvIG1hdGNoIHRoZSB0eXBlXG4gICAgfSk7XG4gIH07XG4gIFZlbm1vRGVza3RvcC5wcm90b3R5cGUubG9va3VwVmVubW9EZXNrdG9wUGF5bWVudENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLnZlbm1vQ29udGV4dElkKSB7XG4gICAgICByZXR1cm4gdGhpcy5Qcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdmFyIHF1ZXJ5ID0gdGhpcy5zaG91bGRVc2VMZWdhY3lRUkNvZGVNdXRhdGlvblxuICAgICAgPyBxdWVyaWVzXzEuTEVHQUNZX1ZFTk1PX1BBWU1FTlRfQ09OVEVYVF9TVEFUVVNfUVVFUllcbiAgICAgIDogcXVlcmllc18xLlZFTk1PX1BBWU1FTlRfQ09OVEVYVF9TVEFUVVNfUVVFUlk7XG4gICAgcmV0dXJuIHRoaXMuYXBpUmVxdWVzdChxdWVyeSwge1xuICAgICAgaWQ6IHRoaXMudmVubW9Db250ZXh0SWQsXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5ub2RlO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gVmVubW9EZXNrdG9wO1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZlbm1vRGVza3RvcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/external/venmo-desktop.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/index.js":
/*!***************************************************!*\
  !*** ./node_modules/braintree-web/venmo/index.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/** @module braintree-web/venmo */\n\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar basicComponentVerification = __webpack_require__(/*! ../lib/basic-component-verification */ \"(ssr)/./node_modules/braintree-web/lib/basic-component-verification.js\");\nvar createDeferredClient = __webpack_require__(/*! ../lib/create-deferred-client */ \"(ssr)/./node_modules/braintree-web/lib/create-deferred-client.js\");\nvar createAssetsUrl = __webpack_require__(/*! ../lib/create-assets-url */ \"(ssr)/./node_modules/braintree-web/lib/create-assets-url.js\");\nvar errors = __webpack_require__(/*! ./shared/errors */ \"(ssr)/./node_modules/braintree-web/venmo/shared/errors.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar Venmo = __webpack_require__(/*! ./venmo */ \"(ssr)/./node_modules/braintree-web/venmo/venmo.js\");\nvar supportsVenmo = __webpack_require__(/*! ./shared/supports-venmo */ \"(ssr)/./node_modules/braintree-web/venmo/shared/supports-venmo.js\");\nvar VERSION = \"3.99.0\";\n\n/**\n * @typedef {object} Venmo~lineItem\n * @property {number} quantity Number of units of the item purchased. This value must be a whole number and can't be negative or zero.\n * @property {string} unitAmount Per-unit price of the item. Can include up to 2 decimal places. This value can't be negative or zero.\n * @property {string} name Item name. Maximum 127 characters.\n * @property {string} kind Indicates whether the line item is a debit (sale) or credit (refund) to the customer. Accepted values: `debit` and `credit`.\n * @property {?string} unitTaxAmount Per-unit tax price of the item. Can include up to 2 decimal places. This value can't be negative or zero.\n * @property {?string} description Item description. Maximum 127 characters.\n * @property {?string} productCode Product or UPC code for the item. Maximum 127 characters.\n * @property {?string} url The URL to product information.\n */\n\n/**\n * @static\n * @function create\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {boolean} [options.allowNewBrowserTab=true] This should be set to false if your payment flow requires returning to the same tab, e.g. single page applications. Doing so causes {@link Venmo#isBrowserSupported|isBrowserSupported} to return true only for mobile web browsers that support returning from the Venmo app to the same tab.\n * @param {boolean} [options.allowWebviews=true] This should be set to false if your payment flow does not occur from within a webview that you control. Doing so causes {@link Venmo#isBrowserSupported|isBrowserSupported} to return true only for mobile web browsers that are not webviews.\n * @param {boolean} [options.ignoreHistoryChanges=false] When the Venmo app returns to the website, it will modify the hash of the url to include data about the tokenization. By default, the SDK will put the state of the hash back to where it was before the change was made. Pass `true` to handle the hash change instead of the SDK.\n * @param {string} [options.profileId] The Venmo profile ID to be used during payment authorization. Customers will see the business name and logo associated with this Venmo profile, and it will show up in the Venmo app as a \"Connected Merchant\". Venmo profile IDs can be found in the Braintree Control Panel. Omitting this value will use the default Venmo profile.\n * @param {string} [options.deepLinkReturnUrl] An override for the URL that the Venmo iOS app opens to return from an app switch.\n * @param {boolean} [options.requireManualReturn=false] When `true`, the customer will have to manually switch back to the browser/webview that is presenting Venmo to complete the payment.\n * @param {boolean} [options.useRedirectForIOS=false] Normally, the Venmo flow is launched using `window.open` and the Venmo app intercepts that call and opens the Venmo app instead. If the customer does not have the Venmo app installed, it opens the Venmo website in a new window and instructs the customer to install the app.\n \n * In iOS webviews and Safari View Controllers (a webview-like environment which is indistinguishable from Safari for JavaScript environments), this call to `window.open` will always fail to app switch to Venmo, resulting instead in a white screen. Because of this, an alternate approach is required to launch the Venmo flow.\n *\n * When `useRedirectForIOS` is `true` and the Venmo flow is started in an iOS environment, the Venmo flow will be started by setting `window.location.href` to the Venmo website (which will still be intercepted by the Venmo app and should be the same behavior as if `window.open` was called). However, if the customer does not have the Venmo app installed, the merchant page will instead be replaced with the Venmo website and the customer will need to use the browser's back button to return to the merchant's website. Ensure that your customer's checkout information will not be lost if they are navigated away from the website and return using the browser back button.\n *\n * Due to a bug in iOS's implementation of `window.open` in iOS webviews and Safari View Controllers, if `useRedirectForIOS` is not set to `true` and the flow is launched from an iOS webview or Safari View Controller, the customer will be presented with a blank screen, halting the flow and leaving the customer unable to return to the merchant's website. Setting `useRedirectForIOS` to `true` will allow the flow to continue, but the Venmo app will be unable to return back to the webview/Safari View Controller. It will instead open the merchant's site in a new window in the customer's browser, which means the merchant site must be able to process the Venmo payment. If the SDK is configured with `allowNewBrowserTab = false`, it is unlikely that the website is set up to process the Venmo payment from a new window.\n *\n * If processing the payment from a new window is not possible, use this flag in conjunction with `requireManualReturn` so that the customer may start the flow from a webview/Safari View Controller or their Safari browser and manually return to the place that originated the flow once the Venmo app has authorized the payment and instructed them to do so.\n * @param {string} [options.paymentMethodUsage] The intended usage for the Venmo payment method nonce. Possible options are:\n * * single_use - intended as a one time transaction\n * * multi_use - intended to be vaulted and used for multiple transactions\n * @param {string} [options.displayName] The business name that will be displayed in the Venmo app payment approval screen. Only applicable when used with `paymentMethodUsage` and used by merchants onboarded as PayFast channel partners.\n * @param {boolean} [options.allowDesktop] Used to support desktop users. When enabled, the default mode is to render a scannable QR-code customers scan with their phone's to approve via the mobile app.\n * @param {boolean} [options.allowDesktopWebLogin=false] When `true`, the customer will authorize payment via a window popup that allows them to sign in to their Venmo account. This is used explicitly for customers operating from desktop browsers wanting to avoid the QR Code flow.\n * @param {boolean} [options.mobileWebFallBack] Use this option when you want to use a web-login experience, such as if on mobile and the Venmo app isn't installed.\n * @param {boolean} [options.allowAndroidRecreation=true] This flag is for when your integration uses the [Android PopupBridge](https://github.com/braintree/popup-bridge-android). Setting this flag to false will avoid a page refresh when returning to your page after payment authorization. If not specified, it defaults to true and the Android activity will be recreated, resulting in a page refresh.\n * @param {boolean} [options.collectCustomerBillingAddress] When `true`, the customer's billing address will be collected and displayed on the Venmo paysheet (provided the Enriched Customer Data checkbox is also enabled for the merchant account).\n * @param {boolean} [options.collectCustomerShippingAddress] When `true`, the customer's shipping address will be collected and displayed on the Venmo paysheet (provided the Enriched Customer Data checkbox is also enabled for the merchant account).\n * @param {lineItem[]} [options.lineItems] The {@link Venmo~lineItem|line items} belonging to the transaction. It can include up to 249 line items.\n * @param {string} [options.subTotalAmount] The subtotal amount of the transaction, excluding taxes, discounts, and shipping.\n * @param {string} [options.discountAmount] The total discount amount applied on the transaction.\n * @param {string} [options.shippingAmount] Shipping amount to be charged for the transaction.\n * @param {string} [options.taxAmount] The total tax amount applied to the transaction. This value can't be negative or zero.\n * @param {string} [options.totalAmount] The grand total amount of the transaction.\n *\n * Note: This flow currently requires a full page redirect, which means to utilize this flow your page will need to be able to handle the checkout session across different pages.\n * @param {callback} [callback] The second argument, `data`, is the {@link Venmo} instance. If no callback is provided, `create` returns a promise that resolves with the {@link Venmo} instance.\n * @example\n * braintree.venmo.create({\n *   client: clientInstance\n * }).then(function (venmoInstance) {\n *   // venmoInstance is ready to be used.\n * }).catch(function (createErr) {\n *   console.error('Error creating Venmo instance', createErr);\n * });\n * @example <caption>Allow desktop flow to be used</caption>\n * braintree.venmo.create({\n *   client: clientInstance,\n *   allowDesktop: true\n * }).then(function (venmoInstance) {\n *   // venmoInstance is ready to be used.\n * }).catch(function (createErr) {\n *   console.error('Error creating Venmo instance', createErr);\n * });\n * @returns {(Promise|void)} Returns the Venmo instance.\n */\nfunction create(options) {\n  var name = \"Venmo\";\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      var createPromise, instance;\n\n      if (options.profileId && typeof options.profileId !== \"string\") {\n        return Promise.reject(\n          new BraintreeError(errors.VENMO_INVALID_PROFILE_ID)\n        );\n      }\n\n      if (\n        options.deepLinkReturnUrl &&\n        typeof options.deepLinkReturnUrl !== \"string\"\n      ) {\n        return Promise.reject(\n          new BraintreeError(errors.VENMO_INVALID_DEEP_LINK_RETURN_URL)\n        );\n      }\n\n      createPromise = createDeferredClient\n        .create({\n          authorization: options.authorization,\n          client: options.client,\n          debug: options.debug,\n          assetsUrl: createAssetsUrl.create(options.authorization),\n          name: name,\n        })\n        .then(function (client) {\n          var configuration = client.getConfiguration();\n\n          options.client = client;\n\n          if (!configuration.gatewayConfiguration.payWithVenmo) {\n            return Promise.reject(new BraintreeError(errors.VENMO_NOT_ENABLED));\n          }\n\n          return client;\n        });\n\n      options.createPromise = createPromise;\n      instance = new Venmo(options);\n\n      analytics.sendEvent(createPromise, \"venmo.initialized\");\n\n      return createPromise.then(function () {\n        return instance;\n      });\n    });\n}\n\n/**\n * @static\n * @function isBrowserSupported\n * @param {object} [options] browser support options:\n * @param {boolean} [options.allowNewBrowserTab=true] This should be set to false if your payment flow requires returning to the same tab, e.g. single page applications.\n * @param {boolean} [options.allowWebviews=true] This should be set to false if your payment flow does not occur from within a webview that you control.\n * @example\n * if (braintree.venmo.isBrowserSupported()) {\n *   // set up Venmo\n * }\n * @example <caption>Explicitly require browser support returning to the same tab</caption>\n * if (braintree.venmo.isBrowserSupported({\n *   allowNewBrowserTab: false\n * })) {\n *   // set up Venmo\n * }\n * @example <caption>Explicitly set webviews as disallowed browsers</caption>\n * if (braintree.venmo.isBrowserSupported({\n *   allowWebviews: false\n * })) {\n *   // set up Venmo\n * }\n * @returns {boolean} Whether or not the browser supports Venmo.\n */\nfunction isBrowserSupported(options) {\n  return supportsVenmo.isBrowserSupported(options);\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  isBrowserSupported: isBrowserSupported,\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiOztBQUVBLGdCQUFnQixtQkFBTyxDQUFDLDZFQUFrQjtBQUMxQyxpQ0FBaUMsbUJBQU8sQ0FBQyxtSEFBcUM7QUFDOUUsMkJBQTJCLG1CQUFPLENBQUMsdUdBQStCO0FBQ2xFLHNCQUFzQixtQkFBTyxDQUFDLDZGQUEwQjtBQUN4RCxhQUFhLG1CQUFPLENBQUMsa0ZBQWlCO0FBQ3RDLGtCQUFrQixtQkFBTyxDQUFDLGtHQUF5QjtBQUNuRCxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7QUFDckQsWUFBWSxtQkFBTyxDQUFDLGtFQUFTO0FBQzdCLG9CQUFvQixtQkFBTyxDQUFDLGtHQUF5QjtBQUNyRDs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVEsb0JBQW9CLGNBQWM7QUFDckQsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUyx1S0FBdUssbURBQW1EO0FBQzlPLFdBQVcsU0FBUyxzSkFBc0osbURBQW1EO0FBQzdOLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsWUFBWSx5QkFBeUIsaUNBQWlDO0FBQ2pGLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsVUFBVSxnREFBZ0QsYUFBYSx5RkFBeUYsYUFBYTtBQUN4TDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0osYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEUsWUFBWTtBQUNaO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9pbmRleC5qcz84YjhlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqIEBtb2R1bGUgYnJhaW50cmVlLXdlYi92ZW5tbyAqL1xuXG52YXIgYW5hbHl0aWNzID0gcmVxdWlyZShcIi4uL2xpYi9hbmFseXRpY3NcIik7XG52YXIgYmFzaWNDb21wb25lbnRWZXJpZmljYXRpb24gPSByZXF1aXJlKFwiLi4vbGliL2Jhc2ljLWNvbXBvbmVudC12ZXJpZmljYXRpb25cIik7XG52YXIgY3JlYXRlRGVmZXJyZWRDbGllbnQgPSByZXF1aXJlKFwiLi4vbGliL2NyZWF0ZS1kZWZlcnJlZC1jbGllbnRcIik7XG52YXIgY3JlYXRlQXNzZXRzVXJsID0gcmVxdWlyZShcIi4uL2xpYi9jcmVhdGUtYXNzZXRzLXVybFwiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi9zaGFyZWQvZXJyb3JzXCIpO1xudmFyIHdyYXBQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvd3JhcC1wcm9taXNlXCIpO1xudmFyIEJyYWludHJlZUVycm9yID0gcmVxdWlyZShcIi4uL2xpYi9icmFpbnRyZWUtZXJyb3JcIik7XG52YXIgVmVubW8gPSByZXF1aXJlKFwiLi92ZW5tb1wiKTtcbnZhciBzdXBwb3J0c1Zlbm1vID0gcmVxdWlyZShcIi4vc2hhcmVkL3N1cHBvcnRzLXZlbm1vXCIpO1xudmFyIFZFUlNJT04gPSBcIjMuOTkuMFwiO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFZlbm1vfmxpbmVJdGVtXG4gKiBAcHJvcGVydHkge251bWJlcn0gcXVhbnRpdHkgTnVtYmVyIG9mIHVuaXRzIG9mIHRoZSBpdGVtIHB1cmNoYXNlZC4gVGhpcyB2YWx1ZSBtdXN0IGJlIGEgd2hvbGUgbnVtYmVyIGFuZCBjYW4ndCBiZSBuZWdhdGl2ZSBvciB6ZXJvLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVuaXRBbW91bnQgUGVyLXVuaXQgcHJpY2Ugb2YgdGhlIGl0ZW0uIENhbiBpbmNsdWRlIHVwIHRvIDIgZGVjaW1hbCBwbGFjZXMuIFRoaXMgdmFsdWUgY2FuJ3QgYmUgbmVnYXRpdmUgb3IgemVyby5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lIEl0ZW0gbmFtZS4gTWF4aW11bSAxMjcgY2hhcmFjdGVycy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBraW5kIEluZGljYXRlcyB3aGV0aGVyIHRoZSBsaW5lIGl0ZW0gaXMgYSBkZWJpdCAoc2FsZSkgb3IgY3JlZGl0IChyZWZ1bmQpIHRvIHRoZSBjdXN0b21lci4gQWNjZXB0ZWQgdmFsdWVzOiBgZGViaXRgIGFuZCBgY3JlZGl0YC5cbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gdW5pdFRheEFtb3VudCBQZXItdW5pdCB0YXggcHJpY2Ugb2YgdGhlIGl0ZW0uIENhbiBpbmNsdWRlIHVwIHRvIDIgZGVjaW1hbCBwbGFjZXMuIFRoaXMgdmFsdWUgY2FuJ3QgYmUgbmVnYXRpdmUgb3IgemVyby5cbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gZGVzY3JpcHRpb24gSXRlbSBkZXNjcmlwdGlvbi4gTWF4aW11bSAxMjcgY2hhcmFjdGVycy5cbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gcHJvZHVjdENvZGUgUHJvZHVjdCBvciBVUEMgY29kZSBmb3IgdGhlIGl0ZW0uIE1heGltdW0gMTI3IGNoYXJhY3RlcnMuXG4gKiBAcHJvcGVydHkgez9zdHJpbmd9IHVybCBUaGUgVVJMIHRvIHByb2R1Y3QgaW5mb3JtYXRpb24uXG4gKi9cblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gY3JlYXRlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBDcmVhdGlvbiBvcHRpb25zOlxuICogQHBhcmFtIHtDbGllbnR9IFtvcHRpb25zLmNsaWVudF0gQSB7QGxpbmsgQ2xpZW50fSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hdXRob3JpemF0aW9uXSBBIHRva2VuaXphdGlvbktleSBvciBjbGllbnRUb2tlbi4gQ2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYG9wdGlvbnMuY2xpZW50YC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dOZXdCcm93c2VyVGFiPXRydWVdIFRoaXMgc2hvdWxkIGJlIHNldCB0byBmYWxzZSBpZiB5b3VyIHBheW1lbnQgZmxvdyByZXF1aXJlcyByZXR1cm5pbmcgdG8gdGhlIHNhbWUgdGFiLCBlLmcuIHNpbmdsZSBwYWdlIGFwcGxpY2F0aW9ucy4gRG9pbmcgc28gY2F1c2VzIHtAbGluayBWZW5tbyNpc0Jyb3dzZXJTdXBwb3J0ZWR8aXNCcm93c2VyU3VwcG9ydGVkfSB0byByZXR1cm4gdHJ1ZSBvbmx5IGZvciBtb2JpbGUgd2ViIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCByZXR1cm5pbmcgZnJvbSB0aGUgVmVubW8gYXBwIHRvIHRoZSBzYW1lIHRhYi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dXZWJ2aWV3cz10cnVlXSBUaGlzIHNob3VsZCBiZSBzZXQgdG8gZmFsc2UgaWYgeW91ciBwYXltZW50IGZsb3cgZG9lcyBub3Qgb2NjdXIgZnJvbSB3aXRoaW4gYSB3ZWJ2aWV3IHRoYXQgeW91IGNvbnRyb2wuIERvaW5nIHNvIGNhdXNlcyB7QGxpbmsgVmVubW8jaXNCcm93c2VyU3VwcG9ydGVkfGlzQnJvd3NlclN1cHBvcnRlZH0gdG8gcmV0dXJuIHRydWUgb25seSBmb3IgbW9iaWxlIHdlYiBicm93c2VycyB0aGF0IGFyZSBub3Qgd2Vidmlld3MuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlnbm9yZUhpc3RvcnlDaGFuZ2VzPWZhbHNlXSBXaGVuIHRoZSBWZW5tbyBhcHAgcmV0dXJucyB0byB0aGUgd2Vic2l0ZSwgaXQgd2lsbCBtb2RpZnkgdGhlIGhhc2ggb2YgdGhlIHVybCB0byBpbmNsdWRlIGRhdGEgYWJvdXQgdGhlIHRva2VuaXphdGlvbi4gQnkgZGVmYXVsdCwgdGhlIFNESyB3aWxsIHB1dCB0aGUgc3RhdGUgb2YgdGhlIGhhc2ggYmFjayB0byB3aGVyZSBpdCB3YXMgYmVmb3JlIHRoZSBjaGFuZ2Ugd2FzIG1hZGUuIFBhc3MgYHRydWVgIHRvIGhhbmRsZSB0aGUgaGFzaCBjaGFuZ2UgaW5zdGVhZCBvZiB0aGUgU0RLLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnByb2ZpbGVJZF0gVGhlIFZlbm1vIHByb2ZpbGUgSUQgdG8gYmUgdXNlZCBkdXJpbmcgcGF5bWVudCBhdXRob3JpemF0aW9uLiBDdXN0b21lcnMgd2lsbCBzZWUgdGhlIGJ1c2luZXNzIG5hbWUgYW5kIGxvZ28gYXNzb2NpYXRlZCB3aXRoIHRoaXMgVmVubW8gcHJvZmlsZSwgYW5kIGl0IHdpbGwgc2hvdyB1cCBpbiB0aGUgVmVubW8gYXBwIGFzIGEgXCJDb25uZWN0ZWQgTWVyY2hhbnRcIi4gVmVubW8gcHJvZmlsZSBJRHMgY2FuIGJlIGZvdW5kIGluIHRoZSBCcmFpbnRyZWUgQ29udHJvbCBQYW5lbC4gT21pdHRpbmcgdGhpcyB2YWx1ZSB3aWxsIHVzZSB0aGUgZGVmYXVsdCBWZW5tbyBwcm9maWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmRlZXBMaW5rUmV0dXJuVXJsXSBBbiBvdmVycmlkZSBmb3IgdGhlIFVSTCB0aGF0IHRoZSBWZW5tbyBpT1MgYXBwIG9wZW5zIHRvIHJldHVybiBmcm9tIGFuIGFwcCBzd2l0Y2guXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlcXVpcmVNYW51YWxSZXR1cm49ZmFsc2VdIFdoZW4gYHRydWVgLCB0aGUgY3VzdG9tZXIgd2lsbCBoYXZlIHRvIG1hbnVhbGx5IHN3aXRjaCBiYWNrIHRvIHRoZSBicm93c2VyL3dlYnZpZXcgdGhhdCBpcyBwcmVzZW50aW5nIFZlbm1vIHRvIGNvbXBsZXRlIHRoZSBwYXltZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VSZWRpcmVjdEZvcklPUz1mYWxzZV0gTm9ybWFsbHksIHRoZSBWZW5tbyBmbG93IGlzIGxhdW5jaGVkIHVzaW5nIGB3aW5kb3cub3BlbmAgYW5kIHRoZSBWZW5tbyBhcHAgaW50ZXJjZXB0cyB0aGF0IGNhbGwgYW5kIG9wZW5zIHRoZSBWZW5tbyBhcHAgaW5zdGVhZC4gSWYgdGhlIGN1c3RvbWVyIGRvZXMgbm90IGhhdmUgdGhlIFZlbm1vIGFwcCBpbnN0YWxsZWQsIGl0IG9wZW5zIHRoZSBWZW5tbyB3ZWJzaXRlIGluIGEgbmV3IHdpbmRvdyBhbmQgaW5zdHJ1Y3RzIHRoZSBjdXN0b21lciB0byBpbnN0YWxsIHRoZSBhcHAuXG4gXG4gKiBJbiBpT1Mgd2Vidmlld3MgYW5kIFNhZmFyaSBWaWV3IENvbnRyb2xsZXJzIChhIHdlYnZpZXctbGlrZSBlbnZpcm9ubWVudCB3aGljaCBpcyBpbmRpc3Rpbmd1aXNoYWJsZSBmcm9tIFNhZmFyaSBmb3IgSmF2YVNjcmlwdCBlbnZpcm9ubWVudHMpLCB0aGlzIGNhbGwgdG8gYHdpbmRvdy5vcGVuYCB3aWxsIGFsd2F5cyBmYWlsIHRvIGFwcCBzd2l0Y2ggdG8gVmVubW8sIHJlc3VsdGluZyBpbnN0ZWFkIGluIGEgd2hpdGUgc2NyZWVuLiBCZWNhdXNlIG9mIHRoaXMsIGFuIGFsdGVybmF0ZSBhcHByb2FjaCBpcyByZXF1aXJlZCB0byBsYXVuY2ggdGhlIFZlbm1vIGZsb3cuXG4gKlxuICogV2hlbiBgdXNlUmVkaXJlY3RGb3JJT1NgIGlzIGB0cnVlYCBhbmQgdGhlIFZlbm1vIGZsb3cgaXMgc3RhcnRlZCBpbiBhbiBpT1MgZW52aXJvbm1lbnQsIHRoZSBWZW5tbyBmbG93IHdpbGwgYmUgc3RhcnRlZCBieSBzZXR0aW5nIGB3aW5kb3cubG9jYXRpb24uaHJlZmAgdG8gdGhlIFZlbm1vIHdlYnNpdGUgKHdoaWNoIHdpbGwgc3RpbGwgYmUgaW50ZXJjZXB0ZWQgYnkgdGhlIFZlbm1vIGFwcCBhbmQgc2hvdWxkIGJlIHRoZSBzYW1lIGJlaGF2aW9yIGFzIGlmIGB3aW5kb3cub3BlbmAgd2FzIGNhbGxlZCkuIEhvd2V2ZXIsIGlmIHRoZSBjdXN0b21lciBkb2VzIG5vdCBoYXZlIHRoZSBWZW5tbyBhcHAgaW5zdGFsbGVkLCB0aGUgbWVyY2hhbnQgcGFnZSB3aWxsIGluc3RlYWQgYmUgcmVwbGFjZWQgd2l0aCB0aGUgVmVubW8gd2Vic2l0ZSBhbmQgdGhlIGN1c3RvbWVyIHdpbGwgbmVlZCB0byB1c2UgdGhlIGJyb3dzZXIncyBiYWNrIGJ1dHRvbiB0byByZXR1cm4gdG8gdGhlIG1lcmNoYW50J3Mgd2Vic2l0ZS4gRW5zdXJlIHRoYXQgeW91ciBjdXN0b21lcidzIGNoZWNrb3V0IGluZm9ybWF0aW9uIHdpbGwgbm90IGJlIGxvc3QgaWYgdGhleSBhcmUgbmF2aWdhdGVkIGF3YXkgZnJvbSB0aGUgd2Vic2l0ZSBhbmQgcmV0dXJuIHVzaW5nIHRoZSBicm93c2VyIGJhY2sgYnV0dG9uLlxuICpcbiAqIER1ZSB0byBhIGJ1ZyBpbiBpT1MncyBpbXBsZW1lbnRhdGlvbiBvZiBgd2luZG93Lm9wZW5gIGluIGlPUyB3ZWJ2aWV3cyBhbmQgU2FmYXJpIFZpZXcgQ29udHJvbGxlcnMsIGlmIGB1c2VSZWRpcmVjdEZvcklPU2AgaXMgbm90IHNldCB0byBgdHJ1ZWAgYW5kIHRoZSBmbG93IGlzIGxhdW5jaGVkIGZyb20gYW4gaU9TIHdlYnZpZXcgb3IgU2FmYXJpIFZpZXcgQ29udHJvbGxlciwgdGhlIGN1c3RvbWVyIHdpbGwgYmUgcHJlc2VudGVkIHdpdGggYSBibGFuayBzY3JlZW4sIGhhbHRpbmcgdGhlIGZsb3cgYW5kIGxlYXZpbmcgdGhlIGN1c3RvbWVyIHVuYWJsZSB0byByZXR1cm4gdG8gdGhlIG1lcmNoYW50J3Mgd2Vic2l0ZS4gU2V0dGluZyBgdXNlUmVkaXJlY3RGb3JJT1NgIHRvIGB0cnVlYCB3aWxsIGFsbG93IHRoZSBmbG93IHRvIGNvbnRpbnVlLCBidXQgdGhlIFZlbm1vIGFwcCB3aWxsIGJlIHVuYWJsZSB0byByZXR1cm4gYmFjayB0byB0aGUgd2Vidmlldy9TYWZhcmkgVmlldyBDb250cm9sbGVyLiBJdCB3aWxsIGluc3RlYWQgb3BlbiB0aGUgbWVyY2hhbnQncyBzaXRlIGluIGEgbmV3IHdpbmRvdyBpbiB0aGUgY3VzdG9tZXIncyBicm93c2VyLCB3aGljaCBtZWFucyB0aGUgbWVyY2hhbnQgc2l0ZSBtdXN0IGJlIGFibGUgdG8gcHJvY2VzcyB0aGUgVmVubW8gcGF5bWVudC4gSWYgdGhlIFNESyBpcyBjb25maWd1cmVkIHdpdGggYGFsbG93TmV3QnJvd3NlclRhYiA9IGZhbHNlYCwgaXQgaXMgdW5saWtlbHkgdGhhdCB0aGUgd2Vic2l0ZSBpcyBzZXQgdXAgdG8gcHJvY2VzcyB0aGUgVmVubW8gcGF5bWVudCBmcm9tIGEgbmV3IHdpbmRvdy5cbiAqXG4gKiBJZiBwcm9jZXNzaW5nIHRoZSBwYXltZW50IGZyb20gYSBuZXcgd2luZG93IGlzIG5vdCBwb3NzaWJsZSwgdXNlIHRoaXMgZmxhZyBpbiBjb25qdW5jdGlvbiB3aXRoIGByZXF1aXJlTWFudWFsUmV0dXJuYCBzbyB0aGF0IHRoZSBjdXN0b21lciBtYXkgc3RhcnQgdGhlIGZsb3cgZnJvbSBhIHdlYnZpZXcvU2FmYXJpIFZpZXcgQ29udHJvbGxlciBvciB0aGVpciBTYWZhcmkgYnJvd3NlciBhbmQgbWFudWFsbHkgcmV0dXJuIHRvIHRoZSBwbGFjZSB0aGF0IG9yaWdpbmF0ZWQgdGhlIGZsb3cgb25jZSB0aGUgVmVubW8gYXBwIGhhcyBhdXRob3JpemVkIHRoZSBwYXltZW50IGFuZCBpbnN0cnVjdGVkIHRoZW0gdG8gZG8gc28uXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGF5bWVudE1ldGhvZFVzYWdlXSBUaGUgaW50ZW5kZWQgdXNhZ2UgZm9yIHRoZSBWZW5tbyBwYXltZW50IG1ldGhvZCBub25jZS4gUG9zc2libGUgb3B0aW9ucyBhcmU6XG4gKiAqIHNpbmdsZV91c2UgLSBpbnRlbmRlZCBhcyBhIG9uZSB0aW1lIHRyYW5zYWN0aW9uXG4gKiAqIG11bHRpX3VzZSAtIGludGVuZGVkIHRvIGJlIHZhdWx0ZWQgYW5kIHVzZWQgZm9yIG11bHRpcGxlIHRyYW5zYWN0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmRpc3BsYXlOYW1lXSBUaGUgYnVzaW5lc3MgbmFtZSB0aGF0IHdpbGwgYmUgZGlzcGxheWVkIGluIHRoZSBWZW5tbyBhcHAgcGF5bWVudCBhcHByb3ZhbCBzY3JlZW4uIE9ubHkgYXBwbGljYWJsZSB3aGVuIHVzZWQgd2l0aCBgcGF5bWVudE1ldGhvZFVzYWdlYCBhbmQgdXNlZCBieSBtZXJjaGFudHMgb25ib2FyZGVkIGFzIFBheUZhc3QgY2hhbm5lbCBwYXJ0bmVycy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dEZXNrdG9wXSBVc2VkIHRvIHN1cHBvcnQgZGVza3RvcCB1c2Vycy4gV2hlbiBlbmFibGVkLCB0aGUgZGVmYXVsdCBtb2RlIGlzIHRvIHJlbmRlciBhIHNjYW5uYWJsZSBRUi1jb2RlIGN1c3RvbWVycyBzY2FuIHdpdGggdGhlaXIgcGhvbmUncyB0byBhcHByb3ZlIHZpYSB0aGUgbW9iaWxlIGFwcC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dEZXNrdG9wV2ViTG9naW49ZmFsc2VdIFdoZW4gYHRydWVgLCB0aGUgY3VzdG9tZXIgd2lsbCBhdXRob3JpemUgcGF5bWVudCB2aWEgYSB3aW5kb3cgcG9wdXAgdGhhdCBhbGxvd3MgdGhlbSB0byBzaWduIGluIHRvIHRoZWlyIFZlbm1vIGFjY291bnQuIFRoaXMgaXMgdXNlZCBleHBsaWNpdGx5IGZvciBjdXN0b21lcnMgb3BlcmF0aW5nIGZyb20gZGVza3RvcCBicm93c2VycyB3YW50aW5nIHRvIGF2b2lkIHRoZSBRUiBDb2RlIGZsb3cuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1vYmlsZVdlYkZhbGxCYWNrXSBVc2UgdGhpcyBvcHRpb24gd2hlbiB5b3Ugd2FudCB0byB1c2UgYSB3ZWItbG9naW4gZXhwZXJpZW5jZSwgc3VjaCBhcyBpZiBvbiBtb2JpbGUgYW5kIHRoZSBWZW5tbyBhcHAgaXNuJ3QgaW5zdGFsbGVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd0FuZHJvaWRSZWNyZWF0aW9uPXRydWVdIFRoaXMgZmxhZyBpcyBmb3Igd2hlbiB5b3VyIGludGVncmF0aW9uIHVzZXMgdGhlIFtBbmRyb2lkIFBvcHVwQnJpZGdlXShodHRwczovL2dpdGh1Yi5jb20vYnJhaW50cmVlL3BvcHVwLWJyaWRnZS1hbmRyb2lkKS4gU2V0dGluZyB0aGlzIGZsYWcgdG8gZmFsc2Ugd2lsbCBhdm9pZCBhIHBhZ2UgcmVmcmVzaCB3aGVuIHJldHVybmluZyB0byB5b3VyIHBhZ2UgYWZ0ZXIgcGF5bWVudCBhdXRob3JpemF0aW9uLiBJZiBub3Qgc3BlY2lmaWVkLCBpdCBkZWZhdWx0cyB0byB0cnVlIGFuZCB0aGUgQW5kcm9pZCBhY3Rpdml0eSB3aWxsIGJlIHJlY3JlYXRlZCwgcmVzdWx0aW5nIGluIGEgcGFnZSByZWZyZXNoLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsZWN0Q3VzdG9tZXJCaWxsaW5nQWRkcmVzc10gV2hlbiBgdHJ1ZWAsIHRoZSBjdXN0b21lcidzIGJpbGxpbmcgYWRkcmVzcyB3aWxsIGJlIGNvbGxlY3RlZCBhbmQgZGlzcGxheWVkIG9uIHRoZSBWZW5tbyBwYXlzaGVldCAocHJvdmlkZWQgdGhlIEVucmljaGVkIEN1c3RvbWVyIERhdGEgY2hlY2tib3ggaXMgYWxzbyBlbmFibGVkIGZvciB0aGUgbWVyY2hhbnQgYWNjb3VudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbGxlY3RDdXN0b21lclNoaXBwaW5nQWRkcmVzc10gV2hlbiBgdHJ1ZWAsIHRoZSBjdXN0b21lcidzIHNoaXBwaW5nIGFkZHJlc3Mgd2lsbCBiZSBjb2xsZWN0ZWQgYW5kIGRpc3BsYXllZCBvbiB0aGUgVmVubW8gcGF5c2hlZXQgKHByb3ZpZGVkIHRoZSBFbnJpY2hlZCBDdXN0b21lciBEYXRhIGNoZWNrYm94IGlzIGFsc28gZW5hYmxlZCBmb3IgdGhlIG1lcmNoYW50IGFjY291bnQpLlxuICogQHBhcmFtIHtsaW5lSXRlbVtdfSBbb3B0aW9ucy5saW5lSXRlbXNdIFRoZSB7QGxpbmsgVmVubW9+bGluZUl0ZW18bGluZSBpdGVtc30gYmVsb25naW5nIHRvIHRoZSB0cmFuc2FjdGlvbi4gSXQgY2FuIGluY2x1ZGUgdXAgdG8gMjQ5IGxpbmUgaXRlbXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc3ViVG90YWxBbW91bnRdIFRoZSBzdWJ0b3RhbCBhbW91bnQgb2YgdGhlIHRyYW5zYWN0aW9uLCBleGNsdWRpbmcgdGF4ZXMsIGRpc2NvdW50cywgYW5kIHNoaXBwaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmRpc2NvdW50QW1vdW50XSBUaGUgdG90YWwgZGlzY291bnQgYW1vdW50IGFwcGxpZWQgb24gdGhlIHRyYW5zYWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNoaXBwaW5nQW1vdW50XSBTaGlwcGluZyBhbW91bnQgdG8gYmUgY2hhcmdlZCBmb3IgdGhlIHRyYW5zYWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRheEFtb3VudF0gVGhlIHRvdGFsIHRheCBhbW91bnQgYXBwbGllZCB0byB0aGUgdHJhbnNhY3Rpb24uIFRoaXMgdmFsdWUgY2FuJ3QgYmUgbmVnYXRpdmUgb3IgemVyby5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50b3RhbEFtb3VudF0gVGhlIGdyYW5kIHRvdGFsIGFtb3VudCBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gKlxuICogTm90ZTogVGhpcyBmbG93IGN1cnJlbnRseSByZXF1aXJlcyBhIGZ1bGwgcGFnZSByZWRpcmVjdCwgd2hpY2ggbWVhbnMgdG8gdXRpbGl6ZSB0aGlzIGZsb3cgeW91ciBwYWdlIHdpbGwgbmVlZCB0byBiZSBhYmxlIHRvIGhhbmRsZSB0aGUgY2hlY2tvdXQgc2Vzc2lvbiBhY3Jvc3MgZGlmZmVyZW50IHBhZ2VzLlxuICogQHBhcmFtIHtjYWxsYmFja30gW2NhbGxiYWNrXSBUaGUgc2Vjb25kIGFyZ3VtZW50LCBgZGF0YWAsIGlzIHRoZSB7QGxpbmsgVmVubW99IGluc3RhbmNlLiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgYGNyZWF0ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB7QGxpbmsgVmVubW99IGluc3RhbmNlLlxuICogQGV4YW1wbGVcbiAqIGJyYWludHJlZS52ZW5tby5jcmVhdGUoe1xuICogICBjbGllbnQ6IGNsaWVudEluc3RhbmNlXG4gKiB9KS50aGVuKGZ1bmN0aW9uICh2ZW5tb0luc3RhbmNlKSB7XG4gKiAgIC8vIHZlbm1vSW5zdGFuY2UgaXMgcmVhZHkgdG8gYmUgdXNlZC5cbiAqIH0pLmNhdGNoKGZ1bmN0aW9uIChjcmVhdGVFcnIpIHtcbiAqICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgVmVubW8gaW5zdGFuY2UnLCBjcmVhdGVFcnIpO1xuICogfSk7XG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5BbGxvdyBkZXNrdG9wIGZsb3cgdG8gYmUgdXNlZDwvY2FwdGlvbj5cbiAqIGJyYWludHJlZS52ZW5tby5jcmVhdGUoe1xuICogICBjbGllbnQ6IGNsaWVudEluc3RhbmNlLFxuICogICBhbGxvd0Rlc2t0b3A6IHRydWVcbiAqIH0pLnRoZW4oZnVuY3Rpb24gKHZlbm1vSW5zdGFuY2UpIHtcbiAqICAgLy8gdmVubW9JbnN0YW5jZSBpcyByZWFkeSB0byBiZSB1c2VkLlxuICogfSkuY2F0Y2goZnVuY3Rpb24gKGNyZWF0ZUVycikge1xuICogICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBWZW5tbyBpbnN0YW5jZScsIGNyZWF0ZUVycik7XG4gKiB9KTtcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyB0aGUgVmVubW8gaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zKSB7XG4gIHZhciBuYW1lID0gXCJWZW5tb1wiO1xuXG4gIHJldHVybiBiYXNpY0NvbXBvbmVudFZlcmlmaWNhdGlvblxuICAgIC52ZXJpZnkoe1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGNsaWVudDogb3B0aW9ucy5jbGllbnQsXG4gICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLmF1dGhvcml6YXRpb24sXG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY3JlYXRlUHJvbWlzZSwgaW5zdGFuY2U7XG5cbiAgICAgIGlmIChvcHRpb25zLnByb2ZpbGVJZCAmJiB0eXBlb2Ygb3B0aW9ucy5wcm9maWxlSWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVkVOTU9fSU5WQUxJRF9QUk9GSUxFX0lEKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIG9wdGlvbnMuZGVlcExpbmtSZXR1cm5VcmwgJiZcbiAgICAgICAgdHlwZW9mIG9wdGlvbnMuZGVlcExpbmtSZXR1cm5VcmwgIT09IFwic3RyaW5nXCJcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5WRU5NT19JTlZBTElEX0RFRVBfTElOS19SRVRVUk5fVVJMKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjcmVhdGVQcm9taXNlID0gY3JlYXRlRGVmZXJyZWRDbGllbnRcbiAgICAgICAgLmNyZWF0ZSh7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgIGNsaWVudDogb3B0aW9ucy5jbGllbnQsXG4gICAgICAgICAgZGVidWc6IG9wdGlvbnMuZGVidWcsXG4gICAgICAgICAgYXNzZXRzVXJsOiBjcmVhdGVBc3NldHNVcmwuY3JlYXRlKG9wdGlvbnMuYXV0aG9yaXphdGlvbiksXG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgIHZhciBjb25maWd1cmF0aW9uID0gY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKTtcblxuICAgICAgICAgIG9wdGlvbnMuY2xpZW50ID0gY2xpZW50O1xuXG4gICAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uLmdhdGV3YXlDb25maWd1cmF0aW9uLnBheVdpdGhWZW5tbykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVkVOTU9fTk9UX0VOQUJMRUQpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgICAgICB9KTtcblxuICAgICAgb3B0aW9ucy5jcmVhdGVQcm9taXNlID0gY3JlYXRlUHJvbWlzZTtcbiAgICAgIGluc3RhbmNlID0gbmV3IFZlbm1vKG9wdGlvbnMpO1xuXG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KGNyZWF0ZVByb21pc2UsIFwidmVubW8uaW5pdGlhbGl6ZWRcIik7XG5cbiAgICAgIHJldHVybiBjcmVhdGVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gaXNCcm93c2VyU3VwcG9ydGVkXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIGJyb3dzZXIgc3VwcG9ydCBvcHRpb25zOlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd05ld0Jyb3dzZXJUYWI9dHJ1ZV0gVGhpcyBzaG91bGQgYmUgc2V0IHRvIGZhbHNlIGlmIHlvdXIgcGF5bWVudCBmbG93IHJlcXVpcmVzIHJldHVybmluZyB0byB0aGUgc2FtZSB0YWIsIGUuZy4gc2luZ2xlIHBhZ2UgYXBwbGljYXRpb25zLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1dlYnZpZXdzPXRydWVdIFRoaXMgc2hvdWxkIGJlIHNldCB0byBmYWxzZSBpZiB5b3VyIHBheW1lbnQgZmxvdyBkb2VzIG5vdCBvY2N1ciBmcm9tIHdpdGhpbiBhIHdlYnZpZXcgdGhhdCB5b3UgY29udHJvbC5cbiAqIEBleGFtcGxlXG4gKiBpZiAoYnJhaW50cmVlLnZlbm1vLmlzQnJvd3NlclN1cHBvcnRlZCgpKSB7XG4gKiAgIC8vIHNldCB1cCBWZW5tb1xuICogfVxuICogQGV4YW1wbGUgPGNhcHRpb24+RXhwbGljaXRseSByZXF1aXJlIGJyb3dzZXIgc3VwcG9ydCByZXR1cm5pbmcgdG8gdGhlIHNhbWUgdGFiPC9jYXB0aW9uPlxuICogaWYgKGJyYWludHJlZS52ZW5tby5pc0Jyb3dzZXJTdXBwb3J0ZWQoe1xuICogICBhbGxvd05ld0Jyb3dzZXJUYWI6IGZhbHNlXG4gKiB9KSkge1xuICogICAvLyBzZXQgdXAgVmVubW9cbiAqIH1cbiAqIEBleGFtcGxlIDxjYXB0aW9uPkV4cGxpY2l0bHkgc2V0IHdlYnZpZXdzIGFzIGRpc2FsbG93ZWQgYnJvd3NlcnM8L2NhcHRpb24+XG4gKiBpZiAoYnJhaW50cmVlLnZlbm1vLmlzQnJvd3NlclN1cHBvcnRlZCh7XG4gKiAgIGFsbG93V2Vidmlld3M6IGZhbHNlXG4gKiB9KSkge1xuICogICAvLyBzZXQgdXAgVmVubW9cbiAqIH1cbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlciBzdXBwb3J0cyBWZW5tby5cbiAqL1xuZnVuY3Rpb24gaXNCcm93c2VyU3VwcG9ydGVkKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHN1cHBvcnRzVmVubW8uaXNCcm93c2VyU3VwcG9ydGVkKG9wdGlvbnMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiB3cmFwUHJvbWlzZShjcmVhdGUpLFxuICBpc0Jyb3dzZXJTdXBwb3J0ZWQ6IGlzQnJvd3NlclN1cHBvcnRlZCxcbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvbiBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBTREssIGkuZS4gYHtAcGtnIHZlcnNpb259YC5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIFZFUlNJT046IFZFUlNJT04sXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/shared/browser-detection.js":
/*!**********************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/shared/browser-detection.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar isAndroid = __webpack_require__(/*! @braintree/browser-detection/is-android */ \"(ssr)/./node_modules/@braintree/browser-detection/is-android.js\");\nvar isChrome = __webpack_require__(/*! @braintree/browser-detection/is-chrome */ \"(ssr)/./node_modules/@braintree/browser-detection/is-chrome.js\");\nvar isIos = __webpack_require__(/*! @braintree/browser-detection/is-ios */ \"(ssr)/./node_modules/@braintree/browser-detection/is-ios.js\");\nvar isIosSafari = __webpack_require__(/*! @braintree/browser-detection/is-ios-safari */ \"(ssr)/./node_modules/@braintree/browser-detection/is-ios-safari.js\");\nvar isIosWebview = __webpack_require__(/*! @braintree/browser-detection/is-ios-webview */ \"(ssr)/./node_modules/@braintree/browser-detection/is-ios-webview.js\");\nvar isSamsung = __webpack_require__(/*! @braintree/browser-detection/is-samsung */ \"(ssr)/./node_modules/@braintree/browser-detection/is-samsung.js\");\n\nfunction isAndroidWebview() {\n  return (\n    isAndroid() && window.navigator.userAgent.toLowerCase().indexOf(\"wv\") > -1\n  );\n}\n\nfunction doesNotSupportWindowOpenInIos() {\n  if (!isIos()) {\n    return false;\n  }\n\n  return isIosWebview() || !isIosSafari();\n}\n\nfunction isFacebookOwnedBrowserOnAndroid() {\n  var ua = window.navigator.userAgent.toLowerCase();\n\n  // Huawei's Facebook useragent does not include Android\n  if (ua.indexOf(\"huawei\") > -1 && ua.indexOf(\"fban\") > -1) {\n    return true;\n  }\n\n  if (!isAndroid()) {\n    return false;\n  }\n\n  return ua.indexOf(\"fb_iab\") > -1 || ua.indexOf(\"instagram\") > -1;\n}\n\nfunction isIosChrome() {\n  return isIos() && isChrome();\n}\n\nmodule.exports = {\n  isAndroid: isAndroid,\n  isAndroidWebview: isAndroidWebview,\n  isChrome: isChrome,\n  isIos: isIos,\n  isIosChrome: isIosChrome,\n  isSamsung: isSamsung,\n  isIosSafari: isIosSafari,\n  isIosWebview: isIosWebview,\n  isFacebookOwnedBrowserOnAndroid: isFacebookOwnedBrowserOnAndroid,\n  doesNotSupportWindowOpenInIos: doesNotSupportWindowOpenInIos,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvYnJvd3Nlci1kZXRlY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0JBQWdCLG1CQUFPLENBQUMsZ0hBQXlDO0FBQ2pFLGVBQWUsbUJBQU8sQ0FBQyw4R0FBd0M7QUFDL0QsWUFBWSxtQkFBTyxDQUFDLHdHQUFxQztBQUN6RCxrQkFBa0IsbUJBQU8sQ0FBQyxzSEFBNEM7QUFDdEUsbUJBQW1CLG1CQUFPLENBQUMsd0hBQTZDO0FBQ3hFLGdCQUFnQixtQkFBTyxDQUFDLGdIQUF5Qzs7QUFFakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvYnJvd3Nlci1kZXRlY3Rpb24uanM/M2NiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzQW5kcm9pZCA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWFuZHJvaWRcIik7XG52YXIgaXNDaHJvbWUgPSByZXF1aXJlKFwiQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9pcy1jaHJvbWVcIik7XG52YXIgaXNJb3MgPSByZXF1aXJlKFwiQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9pcy1pb3NcIik7XG52YXIgaXNJb3NTYWZhcmkgPSByZXF1aXJlKFwiQGJyYWludHJlZS9icm93c2VyLWRldGVjdGlvbi9pcy1pb3Mtc2FmYXJpXCIpO1xudmFyIGlzSW9zV2VidmlldyA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLWlvcy13ZWJ2aWV3XCIpO1xudmFyIGlzU2Ftc3VuZyA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2Jyb3dzZXItZGV0ZWN0aW9uL2lzLXNhbXN1bmdcIik7XG5cbmZ1bmN0aW9uIGlzQW5kcm9pZFdlYnZpZXcoKSB7XG4gIHJldHVybiAoXG4gICAgaXNBbmRyb2lkKCkgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid3ZcIikgPiAtMVxuICApO1xufVxuXG5mdW5jdGlvbiBkb2VzTm90U3VwcG9ydFdpbmRvd09wZW5JbklvcygpIHtcbiAgaWYgKCFpc0lvcygpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGlzSW9zV2VidmlldygpIHx8ICFpc0lvc1NhZmFyaSgpO1xufVxuXG5mdW5jdGlvbiBpc0ZhY2Vib29rT3duZWRCcm93c2VyT25BbmRyb2lkKCkge1xuICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIEh1YXdlaSdzIEZhY2Vib29rIHVzZXJhZ2VudCBkb2VzIG5vdCBpbmNsdWRlIEFuZHJvaWRcbiAgaWYgKHVhLmluZGV4T2YoXCJodWF3ZWlcIikgPiAtMSAmJiB1YS5pbmRleE9mKFwiZmJhblwiKSA+IC0xKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoIWlzQW5kcm9pZCgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHVhLmluZGV4T2YoXCJmYl9pYWJcIikgPiAtMSB8fCB1YS5pbmRleE9mKFwiaW5zdGFncmFtXCIpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGlzSW9zQ2hyb21lKCkge1xuICByZXR1cm4gaXNJb3MoKSAmJiBpc0Nocm9tZSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBbmRyb2lkOiBpc0FuZHJvaWQsXG4gIGlzQW5kcm9pZFdlYnZpZXc6IGlzQW5kcm9pZFdlYnZpZXcsXG4gIGlzQ2hyb21lOiBpc0Nocm9tZSxcbiAgaXNJb3M6IGlzSW9zLFxuICBpc0lvc0Nocm9tZTogaXNJb3NDaHJvbWUsXG4gIGlzU2Ftc3VuZzogaXNTYW1zdW5nLFxuICBpc0lvc1NhZmFyaTogaXNJb3NTYWZhcmksXG4gIGlzSW9zV2VidmlldzogaXNJb3NXZWJ2aWV3LFxuICBpc0ZhY2Vib29rT3duZWRCcm93c2VyT25BbmRyb2lkOiBpc0ZhY2Vib29rT3duZWRCcm93c2VyT25BbmRyb2lkLFxuICBkb2VzTm90U3VwcG9ydFdpbmRvd09wZW5JbklvczogZG9lc05vdFN1cHBvcnRXaW5kb3dPcGVuSW5Jb3MsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/shared/browser-detection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/shared/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/shared/constants.js ***!
  \**************************************************************/
/***/ ((module) => {

eval("\n\n/**\n * Venmo shared constants\n * @typedef {object} Venmo~venmoConstants\n * @ignore\n * @property {string} VENMO_APP_OR_MOBILE_AUTH_URL A deep-linked url that will open the Venmo app if installed, or navigate to a Venmo web-login experience if the Venmo app is not present.\n * @property {string} VENMO_MOBILE_APP_AUTH_ONLY_URL A deep-linked url that leads to a Venmo dead-end page if the Venmo app is not installed (page asks customer to download the app).\n * @property {string} VENMO_WEB_LOGIN_URL A non-deeplinked url that leads to a Venmo login page. For use when explicitly wanting to avoid using the Venmo mobile app via a deep-linked url.\n */\nmodule.exports = {\n  DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY: 500,\n  DEFAULT_PROCESS_RESULTS_DELAY: 1000,\n  VENMO_APP_OR_MOBILE_AUTH_URL: \"https://venmo.com/go/checkout\",\n  VENMO_MOBILE_APP_AUTH_ONLY_URL: \"https://venmo.com/braintree/checkout\",\n  VENMO_WEB_LOGIN_URL: \"https://account.venmo.com/go/web\",\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL3Zlbm1vL3NoYXJlZC9jb25zdGFudHMuanM/ODkxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBWZW5tbyBzaGFyZWQgY29uc3RhbnRzXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBWZW5tb352ZW5tb0NvbnN0YW50c1xuICogQGlnbm9yZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFZFTk1PX0FQUF9PUl9NT0JJTEVfQVVUSF9VUkwgQSBkZWVwLWxpbmtlZCB1cmwgdGhhdCB3aWxsIG9wZW4gdGhlIFZlbm1vIGFwcCBpZiBpbnN0YWxsZWQsIG9yIG5hdmlnYXRlIHRvIGEgVmVubW8gd2ViLWxvZ2luIGV4cGVyaWVuY2UgaWYgdGhlIFZlbm1vIGFwcCBpcyBub3QgcHJlc2VudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBWRU5NT19NT0JJTEVfQVBQX0FVVEhfT05MWV9VUkwgQSBkZWVwLWxpbmtlZCB1cmwgdGhhdCBsZWFkcyB0byBhIFZlbm1vIGRlYWQtZW5kIHBhZ2UgaWYgdGhlIFZlbm1vIGFwcCBpcyBub3QgaW5zdGFsbGVkIChwYWdlIGFza3MgY3VzdG9tZXIgdG8gZG93bmxvYWQgdGhlIGFwcCkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gVkVOTU9fV0VCX0xPR0lOX1VSTCBBIG5vbi1kZWVwbGlua2VkIHVybCB0aGF0IGxlYWRzIHRvIGEgVmVubW8gbG9naW4gcGFnZS4gRm9yIHVzZSB3aGVuIGV4cGxpY2l0bHkgd2FudGluZyB0byBhdm9pZCB1c2luZyB0aGUgVmVubW8gbW9iaWxlIGFwcCB2aWEgYSBkZWVwLWxpbmtlZCB1cmwuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBET0NVTUVOVF9WSVNJQklMSVRZX0NIQU5HRV9FVkVOVF9ERUxBWTogNTAwLFxuICBERUZBVUxUX1BST0NFU1NfUkVTVUxUU19ERUxBWTogMTAwMCxcbiAgVkVOTU9fQVBQX09SX01PQklMRV9BVVRIX1VSTDogXCJodHRwczovL3Zlbm1vLmNvbS9nby9jaGVja291dFwiLFxuICBWRU5NT19NT0JJTEVfQVBQX0FVVEhfT05MWV9VUkw6IFwiaHR0cHM6Ly92ZW5tby5jb20vYnJhaW50cmVlL2NoZWNrb3V0XCIsXG4gIFZFTk1PX1dFQl9MT0dJTl9VUkw6IFwiaHR0cHM6Ly9hY2NvdW50LnZlbm1vLmNvbS9nby93ZWJcIixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/shared/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/shared/errors.js":
/*!***********************************************************!*\
  !*** ./node_modules/braintree-web/venmo/shared/errors.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * @name BraintreeError.Venmo - Creation Error Codes\n * @description Errors that occur when [creating the Venmo component](./module-braintree-web_venmo.html#.create).\n * @property {MERCHANT} VENMO_NOT_ENABLED Occurs when Venmo is not enabled on the Braintree control panel.\n * @property {MERCHANT} VENMO_INVALID_PROFILE_ID Occurs when Venmo is initialized with a profile id, but it is invalid.\n * @property {UNKNOWN} VENMO_MOBILE_POLLING_SETUP_FAILED __Deprecated__ No longer returned. Use `VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED` instead.\n * @property {UNKNOWN} VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED Occurs when the request to set up a Venmo Payment Context object fails.\n */\n\n/**\n * @name BraintreeError.Venmo - tokenize Error Codes\n * @description Errors that occur when using the [`tokenize` method](./Venmo.html#tokenize).\n * @property {CUSTOMER} VENMO_APP_CANCELED Occurs when customer cancels flow from the Venmo app.\n * @property {UNKNOWN} VENMO_APP_FAILED Occurs when tokenization fails.\n * @property {CUSTOMER} VENMO_CANCELED Occurs when customer cancels the flow or Venmo app is not available.\n * @property {CUSTOMER} VENMO_CUSTOMER_CANCELED Occurs when customer cancels the flow.\n * @property {CUSTOMER} VENMO_DESKTOP_CANCELED Occurs when customer cancels the Venmo Desktop flow by closing the modal.\n * @property {UNKNOWN} VENMO_DESKTOP_UNKNOWN_ERROR Occurs when an unknown error causes the Venmo Desktop flow to fail.\n * @property {UNKNOWN} VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR Occurs when an unknown network error causes the mobile polling process to fail.\n * @property {CUSTOMER} VENMO_MOBILE_POLLING_TOKENIZATION_EXPIRED Occurs when the polling has expired and the payment cannot be completed.\n * @property {CUSTOMER} VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED Occurs when the polling operation is canceled by the customer.\n * @property {CUSTOMER} VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT Occurs when customer takes too long to complete payment.\n * @property {UNKNOWN} VENMO_MOBILE_POLLING_TOKENIZATION_FAILED Occurs if there is an unknown error during the mobile polling process.\n * @property {NETWORK} VENMO_NETWORK_ERROR Occurs when a network error causes a request to fail.\n * @property {MERCHANT} VENMO_TOKENIZATION_CANCELED_BY_MERCHANT Occurs when `cancelTokenization` is called while tokenization is in progress.\n * @property {UNKNOWN} VENMO_TOKENIZATION_FAILED Occurs when there is an unknown error during the web login experience.\n * @property {MERCHANT} VENMO_TOKENIZATION_REQUEST_ACTIVE Occurs when `tokenize` is called when the flow is already in progress.\n * @property {MERCHANT} VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE Occurs when `cancelTokenization` is called when the flow is not in progress.\n * @property {MERCHANT} VENMO_ECD_DISABLED Occurs when the merchant tries to access customer details without enabling Enriched Customer Data.\n */\n\nvar BraintreeError = __webpack_require__(/*! ../../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\n\nmodule.exports = {\n  VENMO_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VENMO_NOT_ENABLED\",\n    message: \"Venmo is not enabled for this merchant.\",\n  },\n  VENMO_TOKENIZATION_REQUEST_ACTIVE: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VENMO_TOKENIZATION_REQUEST_ACTIVE\",\n    message: \"Another tokenization request is active.\",\n  },\n  VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE\",\n    message: \"No tokenization in progress.\",\n  },\n  VENMO_APP_FAILED: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"VENMO_APP_FAILED\",\n    message: \"Venmo app encountered a problem.\",\n  },\n  VENMO_APP_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"VENMO_APP_CANCELED\",\n    message: \"Venmo app authorization was canceled.\",\n  },\n  VENMO_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"VENMO_CANCELED\",\n    message:\n      \"User canceled Venmo authorization, or Venmo app is not available.\",\n  },\n  VENMO_CUSTOMER_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"VENMO_CUSTOMER_CANCELED\",\n    message: \"User canceled Venmo authorization.\",\n  },\n  VENMO_NETWORK_ERROR: {\n    type: BraintreeError.types.NETWORK,\n    code: \"VENMO_NETWORK_ERROR\",\n    message: \"Something went wrong making the request\",\n  },\n  VENMO_DESKTOP_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"VENMO_DESKTOP_CANCELED\",\n    message:\n      \"User canceled Venmo authorization by closing the Venmo Desktop modal.\",\n  },\n  VENMO_TOKENIZATION_CANCELED_BY_MERCHANT: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VENMO_TOKENIZATION_CANCELED_BY_MERCHANT\",\n    message: \"The Venmo tokenization was canceled by the merchant.\",\n  },\n  VENMO_DESKTOP_UNKNOWN_ERROR: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"VENMO_DESKTOP_UNKNOWN_ERROR\",\n    message: \"Something went wrong with the Venmo Desktop flow.\",\n  },\n  VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED\",\n    message: \"Something went wrong creating the Venmo Payment Context.\",\n  },\n  VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR\",\n    message: \"Something went wrong during mobile polling.\",\n  },\n  VENMO_MOBILE_POLLING_TOKENIZATION_EXPIRED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"VENMO_MOBILE_POLLING_TOKENIZATION_EXPIRED\",\n    message: \"The Venmo authorization request is expired.\",\n  },\n  VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED\",\n    message: \"The Venmo authorization was canceled\",\n  },\n  VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT\",\n    message: \"Customer took too long to authorize Venmo payment.\",\n  },\n  VENMO_MOBILE_POLLING_TOKENIZATION_FAILED: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"VENMO_MOBILE_POLLING_TOKENIZATION_FAILED\",\n    message: \"The Venmo authorization failed.\",\n  },\n  VENMO_INVALID_PROFILE_ID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VENMO_INVALID_PROFILE_ID\",\n    message: \"Venmo profile ID is invalid.\",\n  },\n  VENMO_INVALID_DEEP_LINK_RETURN_URL: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"VENMO_INVALID_DEEP_LINK_RETURN_URL\",\n    message: \"Venmo deep link return URL is invalid.\",\n  },\n  VENMO_TOKENIZATION_FAILED: {\n    type: BraintreeError.types.UNKNOWN,\n    code: \"VENMO_TOKENIZATION_FAILED\",\n    message: \"Venmo encountered a problem\",\n  },\n  VENMO_ECD_DISABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"ECD_DISABLED\",\n    message:\n      \"Cannot collect customer data when ECD is disabled. Enable this feature in the Control Panel to collect this data.\",\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEIsY0FBYyxVQUFVO0FBQ3hCOztBQUVBLHFCQUFxQixtQkFBTyxDQUFDLDRGQUEyQjs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvZXJyb3JzLmpzPzk0YjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5hbWUgQnJhaW50cmVlRXJyb3IuVmVubW8gLSBDcmVhdGlvbiBFcnJvciBDb2Rlc1xuICogQGRlc2NyaXB0aW9uIEVycm9ycyB0aGF0IG9jY3VyIHdoZW4gW2NyZWF0aW5nIHRoZSBWZW5tbyBjb21wb25lbnRdKC4vbW9kdWxlLWJyYWludHJlZS13ZWJfdmVubW8uaHRtbCMuY3JlYXRlKS5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFZFTk1PX05PVF9FTkFCTEVEIE9jY3VycyB3aGVuIFZlbm1vIGlzIG5vdCBlbmFibGVkIG9uIHRoZSBCcmFpbnRyZWUgY29udHJvbCBwYW5lbC5cbiAqIEBwcm9wZXJ0eSB7TUVSQ0hBTlR9IFZFTk1PX0lOVkFMSURfUFJPRklMRV9JRCBPY2N1cnMgd2hlbiBWZW5tbyBpcyBpbml0aWFsaXplZCB3aXRoIGEgcHJvZmlsZSBpZCwgYnV0IGl0IGlzIGludmFsaWQuXG4gKiBAcHJvcGVydHkge1VOS05PV059IFZFTk1PX01PQklMRV9QT0xMSU5HX1NFVFVQX0ZBSUxFRCBfX0RlcHJlY2F0ZWRfXyBObyBsb25nZXIgcmV0dXJuZWQuIFVzZSBgVkVOTU9fTU9CSUxFX1BBWU1FTlRfQ09OVEVYVF9TRVRVUF9GQUlMRURgIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge1VOS05PV059IFZFTk1PX01PQklMRV9QQVlNRU5UX0NPTlRFWFRfU0VUVVBfRkFJTEVEIE9jY3VycyB3aGVuIHRoZSByZXF1ZXN0IHRvIHNldCB1cCBhIFZlbm1vIFBheW1lbnQgQ29udGV4dCBvYmplY3QgZmFpbHMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBCcmFpbnRyZWVFcnJvci5WZW5tbyAtIHRva2VuaXplIEVycm9yIENvZGVzXG4gKiBAZGVzY3JpcHRpb24gRXJyb3JzIHRoYXQgb2NjdXIgd2hlbiB1c2luZyB0aGUgW2B0b2tlbml6ZWAgbWV0aG9kXSguL1Zlbm1vLmh0bWwjdG9rZW5pemUpLlxuICogQHByb3BlcnR5IHtDVVNUT01FUn0gVkVOTU9fQVBQX0NBTkNFTEVEIE9jY3VycyB3aGVuIGN1c3RvbWVyIGNhbmNlbHMgZmxvdyBmcm9tIHRoZSBWZW5tbyBhcHAuXG4gKiBAcHJvcGVydHkge1VOS05PV059IFZFTk1PX0FQUF9GQUlMRUQgT2NjdXJzIHdoZW4gdG9rZW5pemF0aW9uIGZhaWxzLlxuICogQHByb3BlcnR5IHtDVVNUT01FUn0gVkVOTU9fQ0FOQ0VMRUQgT2NjdXJzIHdoZW4gY3VzdG9tZXIgY2FuY2VscyB0aGUgZmxvdyBvciBWZW5tbyBhcHAgaXMgbm90IGF2YWlsYWJsZS5cbiAqIEBwcm9wZXJ0eSB7Q1VTVE9NRVJ9IFZFTk1PX0NVU1RPTUVSX0NBTkNFTEVEIE9jY3VycyB3aGVuIGN1c3RvbWVyIGNhbmNlbHMgdGhlIGZsb3cuXG4gKiBAcHJvcGVydHkge0NVU1RPTUVSfSBWRU5NT19ERVNLVE9QX0NBTkNFTEVEIE9jY3VycyB3aGVuIGN1c3RvbWVyIGNhbmNlbHMgdGhlIFZlbm1vIERlc2t0b3AgZmxvdyBieSBjbG9zaW5nIHRoZSBtb2RhbC5cbiAqIEBwcm9wZXJ0eSB7VU5LTk9XTn0gVkVOTU9fREVTS1RPUF9VTktOT1dOX0VSUk9SIE9jY3VycyB3aGVuIGFuIHVua25vd24gZXJyb3IgY2F1c2VzIHRoZSBWZW5tbyBEZXNrdG9wIGZsb3cgdG8gZmFpbC5cbiAqIEBwcm9wZXJ0eSB7VU5LTk9XTn0gVkVOTU9fTU9CSUxFX1BPTExJTkdfVE9LRU5JWkFUSU9OX05FVFdPUktfRVJST1IgT2NjdXJzIHdoZW4gYW4gdW5rbm93biBuZXR3b3JrIGVycm9yIGNhdXNlcyB0aGUgbW9iaWxlIHBvbGxpbmcgcHJvY2VzcyB0byBmYWlsLlxuICogQHByb3BlcnR5IHtDVVNUT01FUn0gVkVOTU9fTU9CSUxFX1BPTExJTkdfVE9LRU5JWkFUSU9OX0VYUElSRUQgT2NjdXJzIHdoZW4gdGhlIHBvbGxpbmcgaGFzIGV4cGlyZWQgYW5kIHRoZSBwYXltZW50IGNhbm5vdCBiZSBjb21wbGV0ZWQuXG4gKiBAcHJvcGVydHkge0NVU1RPTUVSfSBWRU5NT19NT0JJTEVfUE9MTElOR19UT0tFTklaQVRJT05fQ0FOQ0VMRUQgT2NjdXJzIHdoZW4gdGhlIHBvbGxpbmcgb3BlcmF0aW9uIGlzIGNhbmNlbGVkIGJ5IHRoZSBjdXN0b21lci5cbiAqIEBwcm9wZXJ0eSB7Q1VTVE9NRVJ9IFZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9USU1FT1VUIE9jY3VycyB3aGVuIGN1c3RvbWVyIHRha2VzIHRvbyBsb25nIHRvIGNvbXBsZXRlIHBheW1lbnQuXG4gKiBAcHJvcGVydHkge1VOS05PV059IFZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9GQUlMRUQgT2NjdXJzIGlmIHRoZXJlIGlzIGFuIHVua25vd24gZXJyb3IgZHVyaW5nIHRoZSBtb2JpbGUgcG9sbGluZyBwcm9jZXNzLlxuICogQHByb3BlcnR5IHtORVRXT1JLfSBWRU5NT19ORVRXT1JLX0VSUk9SIE9jY3VycyB3aGVuIGEgbmV0d29yayBlcnJvciBjYXVzZXMgYSByZXF1ZXN0IHRvIGZhaWwuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBWRU5NT19UT0tFTklaQVRJT05fQ0FOQ0VMRURfQllfTUVSQ0hBTlQgT2NjdXJzIHdoZW4gYGNhbmNlbFRva2VuaXphdGlvbmAgaXMgY2FsbGVkIHdoaWxlIHRva2VuaXphdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAqIEBwcm9wZXJ0eSB7VU5LTk9XTn0gVkVOTU9fVE9LRU5JWkFUSU9OX0ZBSUxFRCBPY2N1cnMgd2hlbiB0aGVyZSBpcyBhbiB1bmtub3duIGVycm9yIGR1cmluZyB0aGUgd2ViIGxvZ2luIGV4cGVyaWVuY2UuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBWRU5NT19UT0tFTklaQVRJT05fUkVRVUVTVF9BQ1RJVkUgT2NjdXJzIHdoZW4gYHRva2VuaXplYCBpcyBjYWxsZWQgd2hlbiB0aGUgZmxvdyBpcyBhbHJlYWR5IGluIHByb2dyZXNzLlxuICogQHByb3BlcnR5IHtNRVJDSEFOVH0gVkVOTU9fVE9LRU5JWkFUSU9OX1JFUVVFU1RfTk9UX0FDVElWRSBPY2N1cnMgd2hlbiBgY2FuY2VsVG9rZW5pemF0aW9uYCBpcyBjYWxsZWQgd2hlbiB0aGUgZmxvdyBpcyBub3QgaW4gcHJvZ3Jlc3MuXG4gKiBAcHJvcGVydHkge01FUkNIQU5UfSBWRU5NT19FQ0RfRElTQUJMRUQgT2NjdXJzIHdoZW4gdGhlIG1lcmNoYW50IHRyaWVzIHRvIGFjY2VzcyBjdXN0b21lciBkZXRhaWxzIHdpdGhvdXQgZW5hYmxpbmcgRW5yaWNoZWQgQ3VzdG9tZXIgRGF0YS5cbiAqL1xuXG52YXIgQnJhaW50cmVlRXJyb3IgPSByZXF1aXJlKFwiLi4vLi4vbGliL2JyYWludHJlZS1lcnJvclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFZFTk1PX05PVF9FTkFCTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTUVSQ0hBTlQsXG4gICAgY29kZTogXCJWRU5NT19OT1RfRU5BQkxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiVmVubW8gaXMgbm90IGVuYWJsZWQgZm9yIHRoaXMgbWVyY2hhbnQuXCIsXG4gIH0sXG4gIFZFTk1PX1RPS0VOSVpBVElPTl9SRVFVRVNUX0FDVElWRToge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVkVOTU9fVE9LRU5JWkFUSU9OX1JFUVVFU1RfQUNUSVZFXCIsXG4gICAgbWVzc2FnZTogXCJBbm90aGVyIHRva2VuaXphdGlvbiByZXF1ZXN0IGlzIGFjdGl2ZS5cIixcbiAgfSxcbiAgVkVOTU9fVE9LRU5JWkFUSU9OX1JFUVVFU1RfTk9UX0FDVElWRToge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVkVOTU9fVE9LRU5JWkFUSU9OX1JFUVVFU1RfTk9UX0FDVElWRVwiLFxuICAgIG1lc3NhZ2U6IFwiTm8gdG9rZW5pemF0aW9uIGluIHByb2dyZXNzLlwiLFxuICB9LFxuICBWRU5NT19BUFBfRkFJTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuVU5LTk9XTixcbiAgICBjb2RlOiBcIlZFTk1PX0FQUF9GQUlMRURcIixcbiAgICBtZXNzYWdlOiBcIlZlbm1vIGFwcCBlbmNvdW50ZXJlZCBhIHByb2JsZW0uXCIsXG4gIH0sXG4gIFZFTk1PX0FQUF9DQU5DRUxFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLkNVU1RPTUVSLFxuICAgIGNvZGU6IFwiVkVOTU9fQVBQX0NBTkNFTEVEXCIsXG4gICAgbWVzc2FnZTogXCJWZW5tbyBhcHAgYXV0aG9yaXphdGlvbiB3YXMgY2FuY2VsZWQuXCIsXG4gIH0sXG4gIFZFTk1PX0NBTkNFTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJWRU5NT19DQU5DRUxFRFwiLFxuICAgIG1lc3NhZ2U6XG4gICAgICBcIlVzZXIgY2FuY2VsZWQgVmVubW8gYXV0aG9yaXphdGlvbiwgb3IgVmVubW8gYXBwIGlzIG5vdCBhdmFpbGFibGUuXCIsXG4gIH0sXG4gIFZFTk1PX0NVU1RPTUVSX0NBTkNFTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJWRU5NT19DVVNUT01FUl9DQU5DRUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiVXNlciBjYW5jZWxlZCBWZW5tbyBhdXRob3JpemF0aW9uLlwiLFxuICB9LFxuICBWRU5NT19ORVRXT1JLX0VSUk9SOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuTkVUV09SSyxcbiAgICBjb2RlOiBcIlZFTk1PX05FVFdPUktfRVJST1JcIixcbiAgICBtZXNzYWdlOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nIG1ha2luZyB0aGUgcmVxdWVzdFwiLFxuICB9LFxuICBWRU5NT19ERVNLVE9QX0NBTkNFTEVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJWRU5NT19ERVNLVE9QX0NBTkNFTEVEXCIsXG4gICAgbWVzc2FnZTpcbiAgICAgIFwiVXNlciBjYW5jZWxlZCBWZW5tbyBhdXRob3JpemF0aW9uIGJ5IGNsb3NpbmcgdGhlIFZlbm1vIERlc2t0b3AgbW9kYWwuXCIsXG4gIH0sXG4gIFZFTk1PX1RPS0VOSVpBVElPTl9DQU5DRUxFRF9CWV9NRVJDSEFOVDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVkVOTU9fVE9LRU5JWkFUSU9OX0NBTkNFTEVEX0JZX01FUkNIQU5UXCIsXG4gICAgbWVzc2FnZTogXCJUaGUgVmVubW8gdG9rZW5pemF0aW9uIHdhcyBjYW5jZWxlZCBieSB0aGUgbWVyY2hhbnQuXCIsXG4gIH0sXG4gIFZFTk1PX0RFU0tUT1BfVU5LTk9XTl9FUlJPUjoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLlVOS05PV04sXG4gICAgY29kZTogXCJWRU5NT19ERVNLVE9QX1VOS05PV05fRVJST1JcIixcbiAgICBtZXNzYWdlOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggdGhlIFZlbm1vIERlc2t0b3AgZmxvdy5cIixcbiAgfSxcbiAgVkVOTU9fTU9CSUxFX1BBWU1FTlRfQ09OVEVYVF9TRVRVUF9GQUlMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5ORVRXT1JLLFxuICAgIGNvZGU6IFwiVkVOTU9fTU9CSUxFX1BBWU1FTlRfQ09OVEVYVF9TRVRVUF9GQUlMRURcIixcbiAgICBtZXNzYWdlOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nIGNyZWF0aW5nIHRoZSBWZW5tbyBQYXltZW50IENvbnRleHQuXCIsXG4gIH0sXG4gIFZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9ORVRXT1JLX0VSUk9SOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuVU5LTk9XTixcbiAgICBjb2RlOiBcIlZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9ORVRXT1JLX0VSUk9SXCIsXG4gICAgbWVzc2FnZTogXCJTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgbW9iaWxlIHBvbGxpbmcuXCIsXG4gIH0sXG4gIFZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9FWFBJUkVEOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJWRU5NT19NT0JJTEVfUE9MTElOR19UT0tFTklaQVRJT05fRVhQSVJFRFwiLFxuICAgIG1lc3NhZ2U6IFwiVGhlIFZlbm1vIGF1dGhvcml6YXRpb24gcmVxdWVzdCBpcyBleHBpcmVkLlwiLFxuICB9LFxuICBWRU5NT19NT0JJTEVfUE9MTElOR19UT0tFTklaQVRJT05fQ0FOQ0VMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5DVVNUT01FUixcbiAgICBjb2RlOiBcIlZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9DQU5DRUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiVGhlIFZlbm1vIGF1dGhvcml6YXRpb24gd2FzIGNhbmNlbGVkXCIsXG4gIH0sXG4gIFZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9USU1FT1VUOiB7XG4gICAgdHlwZTogQnJhaW50cmVlRXJyb3IudHlwZXMuQ1VTVE9NRVIsXG4gICAgY29kZTogXCJWRU5NT19NT0JJTEVfUE9MTElOR19UT0tFTklaQVRJT05fVElNRU9VVFwiLFxuICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgdG9vayB0b28gbG9uZyB0byBhdXRob3JpemUgVmVubW8gcGF5bWVudC5cIixcbiAgfSxcbiAgVkVOTU9fTU9CSUxFX1BPTExJTkdfVE9LRU5JWkFUSU9OX0ZBSUxFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLlVOS05PV04sXG4gICAgY29kZTogXCJWRU5NT19NT0JJTEVfUE9MTElOR19UT0tFTklaQVRJT05fRkFJTEVEXCIsXG4gICAgbWVzc2FnZTogXCJUaGUgVmVubW8gYXV0aG9yaXphdGlvbiBmYWlsZWQuXCIsXG4gIH0sXG4gIFZFTk1PX0lOVkFMSURfUFJPRklMRV9JRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiVkVOTU9fSU5WQUxJRF9QUk9GSUxFX0lEXCIsXG4gICAgbWVzc2FnZTogXCJWZW5tbyBwcm9maWxlIElEIGlzIGludmFsaWQuXCIsXG4gIH0sXG4gIFZFTk1PX0lOVkFMSURfREVFUF9MSU5LX1JFVFVSTl9VUkw6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5NRVJDSEFOVCxcbiAgICBjb2RlOiBcIlZFTk1PX0lOVkFMSURfREVFUF9MSU5LX1JFVFVSTl9VUkxcIixcbiAgICBtZXNzYWdlOiBcIlZlbm1vIGRlZXAgbGluayByZXR1cm4gVVJMIGlzIGludmFsaWQuXCIsXG4gIH0sXG4gIFZFTk1PX1RPS0VOSVpBVElPTl9GQUlMRUQ6IHtcbiAgICB0eXBlOiBCcmFpbnRyZWVFcnJvci50eXBlcy5VTktOT1dOLFxuICAgIGNvZGU6IFwiVkVOTU9fVE9LRU5JWkFUSU9OX0ZBSUxFRFwiLFxuICAgIG1lc3NhZ2U6IFwiVmVubW8gZW5jb3VudGVyZWQgYSBwcm9ibGVtXCIsXG4gIH0sXG4gIFZFTk1PX0VDRF9ESVNBQkxFRDoge1xuICAgIHR5cGU6IEJyYWludHJlZUVycm9yLnR5cGVzLk1FUkNIQU5ULFxuICAgIGNvZGU6IFwiRUNEX0RJU0FCTEVEXCIsXG4gICAgbWVzc2FnZTpcbiAgICAgIFwiQ2Fubm90IGNvbGxlY3QgY3VzdG9tZXIgZGF0YSB3aGVuIEVDRCBpcyBkaXNhYmxlZC4gRW5hYmxlIHRoaXMgZmVhdHVyZSBpbiB0aGUgQ29udHJvbCBQYW5lbCB0byBjb2xsZWN0IHRoaXMgZGF0YS5cIixcbiAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/shared/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/shared/events.js":
/*!***********************************************************!*\
  !*** ./node_modules/braintree-web/venmo/shared/events.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VENMO_DESKTOP_UNKNOWN_ERROR =\n  exports.VENMO_DESKTOP_REQUEST_NEW_QR_CODE =\n  exports.VENMO_DESKTOP_CLOSED_FROM_PARENT =\n  exports.VENMO_DESKTOP_IFRAME_READY =\n  exports.VENMO_DESKTOP_DISPLAY_QR_CODE =\n  exports.VENMO_DESKTOP_DISPLAY_ERROR =\n  exports.VENMO_DESKTOP_CUSTOMER_CANCELED =\n  exports.VENMO_DESKTOP_AUTHORIZING =\n  exports.VENMO_DESKTOP_AUTHORIZE =\n  exports.VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT =\n    void 0;\nexports.VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT =\n  \"VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT\";\nexports.VENMO_DESKTOP_AUTHORIZE = \"VENMO_DESKTOP_AUTHORIZE\";\nexports.VENMO_DESKTOP_AUTHORIZING = \"VENMO_DESKTOP_AUTHORIZING\";\nexports.VENMO_DESKTOP_CUSTOMER_CANCELED = \"VENMO_DESKTOP_CUSTOMER_CANCELED\";\nexports.VENMO_DESKTOP_DISPLAY_ERROR = \"VENMO_DESKTOP_DISPLAY_ERROR\";\nexports.VENMO_DESKTOP_DISPLAY_QR_CODE = \"VENMO_DESKTOP_DISPLAY_QR_CODE\";\nexports.VENMO_DESKTOP_IFRAME_READY = \"VENMO_DESKTOP_IFRAME_READY\";\nexports.VENMO_DESKTOP_CLOSED_FROM_PARENT = \"VENMO_DESKTOP_CLOSED_FROM_PARENT\";\nexports.VENMO_DESKTOP_REQUEST_NEW_QR_CODE = \"VENMO_DESKTOP_REQUEST_NEW_QR_CODE\";\nexports.VENMO_DESKTOP_UNKNOWN_ERROR = \"VENMO_DESKTOP_UNKNOWN_ERROR\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvZXZlbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1DQUFtQztBQUNuQyxFQUFFLHlDQUF5QztBQUMzQyxFQUFFLHdDQUF3QztBQUMxQyxFQUFFLGtDQUFrQztBQUNwQyxFQUFFLHFDQUFxQztBQUN2QyxFQUFFLG1DQUFtQztBQUNyQyxFQUFFLHVDQUF1QztBQUN6QyxFQUFFLGlDQUFpQztBQUNuQyxFQUFFLCtCQUErQjtBQUNqQyxFQUFFLDZDQUE2QztBQUMvQztBQUNBLDZDQUE2QztBQUM3QztBQUNBLCtCQUErQjtBQUMvQixpQ0FBaUM7QUFDakMsdUNBQXVDO0FBQ3ZDLG1DQUFtQztBQUNuQyxxQ0FBcUM7QUFDckMsa0NBQWtDO0FBQ2xDLHdDQUF3QztBQUN4Qyx5Q0FBeUM7QUFDekMsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL3Zlbm1vL3NoYXJlZC9ldmVudHMuanM/MDYyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVkVOTU9fREVTS1RPUF9VTktOT1dOX0VSUk9SID1cbiAgZXhwb3J0cy5WRU5NT19ERVNLVE9QX1JFUVVFU1RfTkVXX1FSX0NPREUgPVxuICBleHBvcnRzLlZFTk1PX0RFU0tUT1BfQ0xPU0VEX0ZST01fUEFSRU5UID1cbiAgZXhwb3J0cy5WRU5NT19ERVNLVE9QX0lGUkFNRV9SRUFEWSA9XG4gIGV4cG9ydHMuVkVOTU9fREVTS1RPUF9ESVNQTEFZX1FSX0NPREUgPVxuICBleHBvcnRzLlZFTk1PX0RFU0tUT1BfRElTUExBWV9FUlJPUiA9XG4gIGV4cG9ydHMuVkVOTU9fREVTS1RPUF9DVVNUT01FUl9DQU5DRUxFRCA9XG4gIGV4cG9ydHMuVkVOTU9fREVTS1RPUF9BVVRIT1JJWklORyA9XG4gIGV4cG9ydHMuVkVOTU9fREVTS1RPUF9BVVRIT1JJWkUgPVxuICBleHBvcnRzLlZFTk1PX0RFU0tUT1BfQVVUSE9SSVpBVElPTl9USU1FRF9PVVQgPVxuICAgIHZvaWQgMDtcbmV4cG9ydHMuVkVOTU9fREVTS1RPUF9BVVRIT1JJWkFUSU9OX1RJTUVEX09VVCA9XG4gIFwiVkVOTU9fREVTS1RPUF9BVVRIT1JJWkFUSU9OX1RJTUVEX09VVFwiO1xuZXhwb3J0cy5WRU5NT19ERVNLVE9QX0FVVEhPUklaRSA9IFwiVkVOTU9fREVTS1RPUF9BVVRIT1JJWkVcIjtcbmV4cG9ydHMuVkVOTU9fREVTS1RPUF9BVVRIT1JJWklORyA9IFwiVkVOTU9fREVTS1RPUF9BVVRIT1JJWklOR1wiO1xuZXhwb3J0cy5WRU5NT19ERVNLVE9QX0NVU1RPTUVSX0NBTkNFTEVEID0gXCJWRU5NT19ERVNLVE9QX0NVU1RPTUVSX0NBTkNFTEVEXCI7XG5leHBvcnRzLlZFTk1PX0RFU0tUT1BfRElTUExBWV9FUlJPUiA9IFwiVkVOTU9fREVTS1RPUF9ESVNQTEFZX0VSUk9SXCI7XG5leHBvcnRzLlZFTk1PX0RFU0tUT1BfRElTUExBWV9RUl9DT0RFID0gXCJWRU5NT19ERVNLVE9QX0RJU1BMQVlfUVJfQ09ERVwiO1xuZXhwb3J0cy5WRU5NT19ERVNLVE9QX0lGUkFNRV9SRUFEWSA9IFwiVkVOTU9fREVTS1RPUF9JRlJBTUVfUkVBRFlcIjtcbmV4cG9ydHMuVkVOTU9fREVTS1RPUF9DTE9TRURfRlJPTV9QQVJFTlQgPSBcIlZFTk1PX0RFU0tUT1BfQ0xPU0VEX0ZST01fUEFSRU5UXCI7XG5leHBvcnRzLlZFTk1PX0RFU0tUT1BfUkVRVUVTVF9ORVdfUVJfQ09ERSA9IFwiVkVOTU9fREVTS1RPUF9SRVFVRVNUX05FV19RUl9DT0RFXCI7XG5leHBvcnRzLlZFTk1PX0RFU0tUT1BfVU5LTk9XTl9FUlJPUiA9IFwiVkVOTU9fREVTS1RPUF9VTktOT1dOX0VSUk9SXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/shared/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/shared/get-venmo-url.js":
/*!******************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/shared/get-venmo-url.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar venmoConstants = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/braintree-web/venmo/shared/constants.js\");\n\nfunction getVenmoUrl(options) {\n  if (options.useAllowDesktopWebLogin)\n    return venmoConstants.VENMO_WEB_LOGIN_URL;\n\n  if (options.mobileWebFallBack)\n    return venmoConstants.VENMO_APP_OR_MOBILE_AUTH_URL;\n\n  return venmoConstants.VENMO_MOBILE_APP_AUTH_ONLY_URL;\n}\n\nmodule.exports = getVenmoUrl;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvZ2V0LXZlbm1vLXVybC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLHFCQUFxQixtQkFBTyxDQUFDLGlGQUFhOztBQUUxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdGF1cmFudC8uL25vZGVfbW9kdWxlcy9icmFpbnRyZWUtd2ViL3Zlbm1vL3NoYXJlZC9nZXQtdmVubW8tdXJsLmpzP2JjMjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdmVubW9Db25zdGFudHMgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5cbmZ1bmN0aW9uIGdldFZlbm1vVXJsKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMudXNlQWxsb3dEZXNrdG9wV2ViTG9naW4pXG4gICAgcmV0dXJuIHZlbm1vQ29uc3RhbnRzLlZFTk1PX1dFQl9MT0dJTl9VUkw7XG5cbiAgaWYgKG9wdGlvbnMubW9iaWxlV2ViRmFsbEJhY2spXG4gICAgcmV0dXJuIHZlbm1vQ29uc3RhbnRzLlZFTk1PX0FQUF9PUl9NT0JJTEVfQVVUSF9VUkw7XG5cbiAgcmV0dXJuIHZlbm1vQ29uc3RhbnRzLlZFTk1PX01PQklMRV9BUFBfQVVUSF9PTkxZX1VSTDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWZW5tb1VybDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/shared/get-venmo-url.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/shared/supports-venmo.js":
/*!*******************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/shared/supports-venmo.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar browserDetection = __webpack_require__(/*! ./browser-detection */ \"(ssr)/./node_modules/braintree-web/venmo/shared/browser-detection.js\");\nvar inIframe = __webpack_require__(/*! ../../lib/in-iframe */ \"(ssr)/./node_modules/braintree-web/lib/in-iframe.js\");\n\nfunction isBrowserSupported(options) {\n  var isKnownUnsupportedMobileBrowser,\n    merchantAllowsDesktopBrowsers,\n    merchantAllowsIosChrome,\n    merchantAllowsReturningToNewBrowserTab,\n    merchantAllowsWebviews;\n  var isAndroid = browserDetection.isAndroid();\n  var isMobileDevice = isAndroid || browserDetection.isIos();\n  var isAndroidChrome = isAndroid && browserDetection.isChrome();\n  var isMobileDeviceThatSupportsReturnToSameTab =\n    browserDetection.isIosSafari() || isAndroidChrome;\n\n  options = options || {};\n  // NEXT_MAJOR_VERSION allowDesktop will default to true, but can be opted out\n  merchantAllowsDesktopBrowsers =\n    (options.allowDesktopWebLogin || options.allowDesktop) === true;\n  merchantAllowsReturningToNewBrowserTab = options.hasOwnProperty(\n    \"allowNewBrowserTab\"\n  )\n    ? options.allowNewBrowserTab\n    : true;\n  // NEXT_MAJOR_VERSION webviews are not supported, except for the case where\n  // the merchant themselves is presenting venmo in a webview using the deep\n  // link url to get back to their app. For the next major version, we should\n  // just not have this option and instead require the merchant to determine\n  // if the venmo button should be displayed when presenting it in the\n  // merchant's app via a webview.\n  merchantAllowsWebviews = options.hasOwnProperty(\"allowWebviews\")\n    ? options.allowWebviews\n    : true;\n  // Venmo only works on iOS Chrome when the\n  // button is not rendered in an iFrame and\n  // allowNewBrowserTab is set to true\n  merchantAllowsIosChrome =\n    merchantAllowsReturningToNewBrowserTab && !inIframe();\n\n  isKnownUnsupportedMobileBrowser =\n    (!merchantAllowsIosChrome && browserDetection.isIosChrome()) ||\n    browserDetection.isFacebookOwnedBrowserOnAndroid() ||\n    browserDetection.isSamsung();\n\n  if (isKnownUnsupportedMobileBrowser) {\n    return false;\n  }\n\n  if (\n    !merchantAllowsWebviews &&\n    (browserDetection.isAndroidWebview() || browserDetection.isIosWebview())\n  ) {\n    return false;\n  }\n\n  if (!isMobileDevice) {\n    return merchantAllowsDesktopBrowsers;\n  }\n\n  if (!merchantAllowsReturningToNewBrowserTab) {\n    return isMobileDeviceThatSupportsReturnToSameTab;\n  }\n\n  return isMobileDevice;\n}\n\nmodule.exports = {\n  isBrowserSupported: isBrowserSupported,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvc3VwcG9ydHMtdmVubW8uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsdUJBQXVCLG1CQUFPLENBQUMsaUdBQXFCO0FBQ3BELGVBQWUsbUJBQU8sQ0FBQyxnRkFBcUI7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXN0YXVyYW50Ly4vbm9kZV9tb2R1bGVzL2JyYWludHJlZS13ZWIvdmVubW8vc2hhcmVkL3N1cHBvcnRzLXZlbm1vLmpzPzdmZGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBicm93c2VyRGV0ZWN0aW9uID0gcmVxdWlyZShcIi4vYnJvd3Nlci1kZXRlY3Rpb25cIik7XG52YXIgaW5JZnJhbWUgPSByZXF1aXJlKFwiLi4vLi4vbGliL2luLWlmcmFtZVwiKTtcblxuZnVuY3Rpb24gaXNCcm93c2VyU3VwcG9ydGVkKG9wdGlvbnMpIHtcbiAgdmFyIGlzS25vd25VbnN1cHBvcnRlZE1vYmlsZUJyb3dzZXIsXG4gICAgbWVyY2hhbnRBbGxvd3NEZXNrdG9wQnJvd3NlcnMsXG4gICAgbWVyY2hhbnRBbGxvd3NJb3NDaHJvbWUsXG4gICAgbWVyY2hhbnRBbGxvd3NSZXR1cm5pbmdUb05ld0Jyb3dzZXJUYWIsXG4gICAgbWVyY2hhbnRBbGxvd3NXZWJ2aWV3cztcbiAgdmFyIGlzQW5kcm9pZCA9IGJyb3dzZXJEZXRlY3Rpb24uaXNBbmRyb2lkKCk7XG4gIHZhciBpc01vYmlsZURldmljZSA9IGlzQW5kcm9pZCB8fCBicm93c2VyRGV0ZWN0aW9uLmlzSW9zKCk7XG4gIHZhciBpc0FuZHJvaWRDaHJvbWUgPSBpc0FuZHJvaWQgJiYgYnJvd3NlckRldGVjdGlvbi5pc0Nocm9tZSgpO1xuICB2YXIgaXNNb2JpbGVEZXZpY2VUaGF0U3VwcG9ydHNSZXR1cm5Ub1NhbWVUYWIgPVxuICAgIGJyb3dzZXJEZXRlY3Rpb24uaXNJb3NTYWZhcmkoKSB8fCBpc0FuZHJvaWRDaHJvbWU7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIC8vIE5FWFRfTUFKT1JfVkVSU0lPTiBhbGxvd0Rlc2t0b3Agd2lsbCBkZWZhdWx0IHRvIHRydWUsIGJ1dCBjYW4gYmUgb3B0ZWQgb3V0XG4gIG1lcmNoYW50QWxsb3dzRGVza3RvcEJyb3dzZXJzID1cbiAgICAob3B0aW9ucy5hbGxvd0Rlc2t0b3BXZWJMb2dpbiB8fCBvcHRpb25zLmFsbG93RGVza3RvcCkgPT09IHRydWU7XG4gIG1lcmNoYW50QWxsb3dzUmV0dXJuaW5nVG9OZXdCcm93c2VyVGFiID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcbiAgICBcImFsbG93TmV3QnJvd3NlclRhYlwiXG4gIClcbiAgICA/IG9wdGlvbnMuYWxsb3dOZXdCcm93c2VyVGFiXG4gICAgOiB0cnVlO1xuICAvLyBORVhUX01BSk9SX1ZFUlNJT04gd2Vidmlld3MgYXJlIG5vdCBzdXBwb3J0ZWQsIGV4Y2VwdCBmb3IgdGhlIGNhc2Ugd2hlcmVcbiAgLy8gdGhlIG1lcmNoYW50IHRoZW1zZWx2ZXMgaXMgcHJlc2VudGluZyB2ZW5tbyBpbiBhIHdlYnZpZXcgdXNpbmcgdGhlIGRlZXBcbiAgLy8gbGluayB1cmwgdG8gZ2V0IGJhY2sgdG8gdGhlaXIgYXBwLiBGb3IgdGhlIG5leHQgbWFqb3IgdmVyc2lvbiwgd2Ugc2hvdWxkXG4gIC8vIGp1c3Qgbm90IGhhdmUgdGhpcyBvcHRpb24gYW5kIGluc3RlYWQgcmVxdWlyZSB0aGUgbWVyY2hhbnQgdG8gZGV0ZXJtaW5lXG4gIC8vIGlmIHRoZSB2ZW5tbyBidXR0b24gc2hvdWxkIGJlIGRpc3BsYXllZCB3aGVuIHByZXNlbnRpbmcgaXQgaW4gdGhlXG4gIC8vIG1lcmNoYW50J3MgYXBwIHZpYSBhIHdlYnZpZXcuXG4gIG1lcmNoYW50QWxsb3dzV2Vidmlld3MgPSBvcHRpb25zLmhhc093blByb3BlcnR5KFwiYWxsb3dXZWJ2aWV3c1wiKVxuICAgID8gb3B0aW9ucy5hbGxvd1dlYnZpZXdzXG4gICAgOiB0cnVlO1xuICAvLyBWZW5tbyBvbmx5IHdvcmtzIG9uIGlPUyBDaHJvbWUgd2hlbiB0aGVcbiAgLy8gYnV0dG9uIGlzIG5vdCByZW5kZXJlZCBpbiBhbiBpRnJhbWUgYW5kXG4gIC8vIGFsbG93TmV3QnJvd3NlclRhYiBpcyBzZXQgdG8gdHJ1ZVxuICBtZXJjaGFudEFsbG93c0lvc0Nocm9tZSA9XG4gICAgbWVyY2hhbnRBbGxvd3NSZXR1cm5pbmdUb05ld0Jyb3dzZXJUYWIgJiYgIWluSWZyYW1lKCk7XG5cbiAgaXNLbm93blVuc3VwcG9ydGVkTW9iaWxlQnJvd3NlciA9XG4gICAgKCFtZXJjaGFudEFsbG93c0lvc0Nocm9tZSAmJiBicm93c2VyRGV0ZWN0aW9uLmlzSW9zQ2hyb21lKCkpIHx8XG4gICAgYnJvd3NlckRldGVjdGlvbi5pc0ZhY2Vib29rT3duZWRCcm93c2VyT25BbmRyb2lkKCkgfHxcbiAgICBicm93c2VyRGV0ZWN0aW9uLmlzU2Ftc3VuZygpO1xuXG4gIGlmIChpc0tub3duVW5zdXBwb3J0ZWRNb2JpbGVCcm93c2VyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKFxuICAgICFtZXJjaGFudEFsbG93c1dlYnZpZXdzICYmXG4gICAgKGJyb3dzZXJEZXRlY3Rpb24uaXNBbmRyb2lkV2VidmlldygpIHx8IGJyb3dzZXJEZXRlY3Rpb24uaXNJb3NXZWJ2aWV3KCkpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghaXNNb2JpbGVEZXZpY2UpIHtcbiAgICByZXR1cm4gbWVyY2hhbnRBbGxvd3NEZXNrdG9wQnJvd3NlcnM7XG4gIH1cblxuICBpZiAoIW1lcmNoYW50QWxsb3dzUmV0dXJuaW5nVG9OZXdCcm93c2VyVGFiKSB7XG4gICAgcmV0dXJuIGlzTW9iaWxlRGV2aWNlVGhhdFN1cHBvcnRzUmV0dXJuVG9TYW1lVGFiO1xuICB9XG5cbiAgcmV0dXJuIGlzTW9iaWxlRGV2aWNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNCcm93c2VyU3VwcG9ydGVkOiBpc0Jyb3dzZXJTdXBwb3J0ZWQsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/shared/supports-venmo.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/shared/web-login-backdrop.js":
/*!***********************************************************************!*\
  !*** ./node_modules/braintree-web/venmo/shared/web-login-backdrop.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar frameService = __webpack_require__(/*! ../../lib/frame-service/external */ \"(ssr)/./node_modules/braintree-web/lib/frame-service/external/index.js\");\nvar useMin = __webpack_require__(/*! ../../lib/use-min */ \"(ssr)/./node_modules/braintree-web/lib/use-min.js\");\nvar ExtendedPromise = __webpack_require__(/*! @braintree/extended-promise */ \"(ssr)/./node_modules/@braintree/extended-promise/dist/index.js\");\n\nvar VERSION = \"3.99.0\";\nvar VENMO_LOGO_SVG =\n  '<svg width=\"198\" height=\"58\" viewBox=\"0 0 198 58\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M43.0702 13.6572C44.1935 15.4585 44.6999 17.3139 44.6999 19.6576C44.6999 27.1328 38.1277 36.8436 32.7935 43.6625H20.6099L15.7236 15.2939L26.3917 14.3105L28.9751 34.4966C31.389 30.6783 34.3678 24.6779 34.3678 20.587C34.3678 18.3477 33.9727 16.8225 33.3553 15.5666L43.0702 13.6572Z\" fill=\"white\"/>\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M56.8965 26.1491C58.8596 26.1491 63.8018 25.2772 63.8018 22.5499C63.8018 21.2402 62.8481 20.587 61.7242 20.587C59.7579 20.587 57.1776 22.8763 56.8965 26.1491ZM56.6715 31.5506C56.6715 34.8807 58.5787 36.1873 61.107 36.1873C63.8603 36.1873 66.4966 35.534 69.923 33.8433L68.6324 42.3523C66.2183 43.4976 62.4559 44.2617 58.8039 44.2617C49.5403 44.2617 46.2249 38.8071 46.2249 31.9879C46.2249 23.1496 51.6179 13.765 62.7365 13.765C68.858 13.765 72.2809 17.0949 72.2809 21.7317C72.2815 29.2066 62.4005 31.4965 56.6715 31.5506Z\" fill=\"white\"/>\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M103.067 20.3142C103.067 21.4052 102.897 22.9875 102.727 24.0216L99.5262 43.6622H89.1385L92.0585 25.658C92.1139 25.1696 92.284 24.1865 92.284 23.6411C92.284 22.3314 91.4414 22.0047 90.4282 22.0047C89.0826 22.0047 87.7337 22.6042 86.8354 23.0418L83.5234 43.6625H73.0772L77.8495 14.257H86.8908L87.0052 16.6041C89.1382 15.2404 91.9469 13.7656 95.932 13.7656C101.212 13.765 103.067 16.3845 103.067 20.3142Z\" fill=\"white\"/>\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M133.906 16.9841C136.881 14.9131 139.69 13.765 143.563 13.765C148.897 13.765 150.753 16.3845 150.753 20.3142C150.753 21.4052 150.583 22.9875 150.413 24.0216L147.216 43.6622H136.825L139.801 25.2774C139.855 24.786 139.971 24.1865 139.971 23.8063C139.971 22.3317 139.128 22.0047 138.115 22.0047C136.824 22.0047 135.535 22.5501 134.577 23.0418L131.266 43.6625H120.878L123.854 25.2777C123.908 24.7863 124.02 24.1868 124.02 23.8065C124.02 22.332 123.177 22.0049 122.167 22.0049C120.819 22.0049 119.473 22.6045 118.574 23.0421L115.26 43.6628H104.817L109.589 14.2573H118.52L118.8 16.7122C120.878 15.241 123.684 13.7662 127.446 13.7662C130.704 13.765 132.837 15.129 133.906 16.9841Z\" fill=\"white\"/>\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M171.426 25.5502C171.426 23.1496 170.808 21.513 168.956 21.513C164.857 21.513 164.015 28.55 164.015 32.1498C164.015 34.8807 164.802 36.5709 166.653 36.5709C170.528 36.5709 171.426 29.1497 171.426 25.5502ZM153.458 31.7152C153.458 22.442 158.511 13.765 170.136 13.765C178.896 13.765 182.098 18.7854 182.098 25.7148C182.098 34.8805 177.099 44.3723 165.194 44.3723C156.378 44.3723 153.458 38.7525 153.458 31.7152Z\" fill=\"white\"/>\\n</svg>';\nvar CONTINUE_OR_CANCEL_INSTRUCTIONS =\n  \"Tap cancel payment to cancel and return to the business. Continue payment will relaunch the payment window.\";\n\nvar POPUP_WIDTH = 400;\nvar POPUP_HEIGHT = 570;\nvar ELEMENT_IDS = {\n  backdrop: \"venmo-desktop-web-backdrop\",\n  backdropHidden: \"venmo-desktop-web-backdrop.hidden\",\n  backdropContainer: \"venmo-backdrop-container\",\n  cancelButton: \"venmo-popup-cancel-button\",\n  continueButton: \"venmo-popup-continue-button\",\n  message: \"venmo-message\",\n  instructions: \"venmo-instructions\",\n  venmoLogo: \"venmo-full-logo\",\n};\n\nExtendedPromise.suppressUnhandledPromiseMessage = true;\n\nfunction openPopup(options) {\n  var frameServiceInstance = options.frameServiceInstance;\n  var venmoUrl = options.venmoUrl;\n  var checkForStatusChange = options.checkForStatusChange;\n  var cancelTokenization = options.cancelTokenization;\n  var extendedPromise = new ExtendedPromise();\n\n  document\n    .getElementById(ELEMENT_IDS.continueButton)\n    .addEventListener(\"click\", function () {\n      frameServiceInstance.focus();\n    });\n  document\n    .getElementById(ELEMENT_IDS.cancelButton)\n    .addEventListener(\"click\", function () {\n      frameServiceInstance.close();\n      cancelTokenization();\n      closeBackdrop();\n    });\n\n  frameServiceInstance.open({}, function (frameServiceErr) {\n    var retryStartingCount = 1;\n\n    if (frameServiceErr) {\n      extendedPromise.reject(frameServiceErr);\n    } else {\n      checkForStatusChange(retryStartingCount)\n        .then(function (data) {\n          extendedPromise.resolve(data);\n        })\n        .catch(function (statusCheckError) {\n          extendedPromise.reject(statusCheckError);\n        });\n    }\n    frameServiceInstance.close();\n    closeBackdrop();\n  });\n  frameServiceInstance.redirect(venmoUrl);\n\n  return extendedPromise;\n}\n\nfunction centeredPopupDimensions() {\n  var popupTop =\n    Math.round((window.outerHeight - POPUP_HEIGHT) / 2) + window.screenTop;\n  var popupLeft =\n    Math.round((window.outerWidth - POPUP_WIDTH) / 2) + window.screenLeft;\n\n  return {\n    top: popupTop,\n    left: popupLeft,\n  };\n}\n\nfunction closeBackdrop() {\n  document.getElementById(\"venmo-desktop-web-backdrop\").classList.add(\"hidden\");\n}\n\nfunction getElementStyles() {\n  var backdropStyles = [\n    \"#\" + ELEMENT_IDS.backdropHidden + \" {\",\n    \"display: none;\",\n    \"}\",\n    \"#\" + ELEMENT_IDS.backdrop + \" {\",\n    \"z-index: 3141592632;\",\n    \"cursor: pointer;\",\n    \"position: fixed;\",\n    \"top: 0;\",\n    \"left: 0;\",\n    \"bottom: 0;\",\n    \"width: 100%;\",\n    \"background: rgba(0, 0, 0, 0.8);\",\n    \"}\",\n  ];\n  var backdropContainerStyles = [\n    \"#\" + ELEMENT_IDS.backdropContainer + \" {\",\n    \"display: flex;\",\n    \"align-content: center;\",\n    \"justify-content: center;\",\n    \"align-items: center;\",\n    \"width: 100%;\",\n    \"height: 100%;\",\n    \"flex-direction: column;\",\n    \"}\",\n  ];\n\n  var cancelButtonStyles = [\n    \"#\" + ELEMENT_IDS.cancelButton + \" {\",\n    \"height: 24px;\",\n    \"width: 380px;\",\n    \"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\",\n    \"font-style: normal;\",\n    \"font-weight: 700;\",\n    \"font-size: 18px;\",\n    \"line-height: 24px;\",\n    \"text-align: center;\",\n    \"background-color: transparent;\",\n    \"border: none;\",\n    \"color: #FFFFFF;\",\n    \"margin-top: 28px;\",\n    \"}\",\n  ];\n\n  var continueButtonStyles = [\n    \"#\" + ELEMENT_IDS.continueButton + \" {\",\n    \"width: 400px;\",\n    \"height: 50px;\",\n    \"background: #0074DE;\",\n    \"border-radius: 24px;\",\n    \"border: none;\",\n    \"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\",\n    \"font-style: normal;\",\n    \"font-weight: 700;\",\n    \"font-size: 18px;\",\n    \"color: #FFFFFF;\",\n    \"margin-top: 44px;\",\n    \"}\",\n  ];\n\n  var messageStyles = [\n    \"#\" + ELEMENT_IDS.message + \" {\",\n    \"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\",\n    \"font-style: normal;\",\n    \"font-weight: 500;\",\n    \"font-size: 24px;\",\n    \"line-height: 32px;\",\n    \"text-align: center;\",\n    \"color: #FFFFFF;\",\n    \"margin-top: 32px;\",\n    \"}\",\n  ];\n\n  var instructionStyles = [\n    \"#\" + ELEMENT_IDS.instructions + \" {\",\n    \"font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\",\n    \"font-style: normal;\",\n    \"font-weight: 400;\",\n    \"font-size: 16px;\",\n    \"line-height: 20px;\",\n    \"text-align: center;\",\n    \"color: #FFFFFF;\",\n    \"margin-top: 16px;\",\n    \"width: 400px;\",\n    \"}\",\n  ];\n\n  var allStyles = backdropStyles.concat(\n    backdropContainerStyles,\n    cancelButtonStyles,\n    continueButtonStyles,\n    messageStyles,\n    instructionStyles\n  );\n\n  return allStyles.join(\"\\n\");\n}\n\nfunction buildAndStyleElements() {\n  var alreadyRenderedBackdrop = document.getElementById(ELEMENT_IDS.backdrop);\n  var backdropStylesElement,\n    backdropDiv,\n    backDropContentContainer,\n    venmoLogoDiv,\n    venmoMessageDiv,\n    instructionsDiv,\n    continueButton,\n    cancelButton;\n\n  if (alreadyRenderedBackdrop) {\n    alreadyRenderedBackdrop.classList.remove(\"hidden\");\n\n    return;\n  }\n  backdropStylesElement = document.createElement(\"style\");\n  backdropDiv = document.createElement(\"div\");\n  backDropContentContainer = document.createElement(\"div\");\n  venmoLogoDiv = document.createElement(\"div\");\n  venmoMessageDiv = document.createElement(\"div\");\n  instructionsDiv = document.createElement(\"div\");\n  continueButton = document.createElement(\"button\");\n  cancelButton = document.createElement(\"button\");\n\n  backdropStylesElement.id = \"venmo-desktop-web__injected-styles\";\n  backdropStylesElement.innerHTML = getElementStyles();\n\n  backdropDiv.id = ELEMENT_IDS.backdrop;\n\n  backDropContentContainer.id = ELEMENT_IDS.backdropContainer;\n\n  venmoLogoDiv.id = ELEMENT_IDS.venmoLogo;\n  venmoLogoDiv.innerHTML = VENMO_LOGO_SVG;\n\n  venmoMessageDiv.id = ELEMENT_IDS.message;\n  venmoMessageDiv.innerText = \"What would you like to do?\";\n\n  instructionsDiv.id = ELEMENT_IDS.instructions;\n  instructionsDiv.innerText = CONTINUE_OR_CANCEL_INSTRUCTIONS;\n\n  continueButton.id = ELEMENT_IDS.continueButton;\n  continueButton.innerText = \"Continue payment\";\n\n  cancelButton.id = ELEMENT_IDS.cancelButton;\n  cancelButton.innerText = \"Cancel payment\";\n\n  document.head.appendChild(backdropStylesElement);\n  backDropContentContainer.appendChild(venmoLogoDiv);\n  backDropContentContainer.appendChild(venmoMessageDiv);\n  backDropContentContainer.appendChild(instructionsDiv);\n  backDropContentContainer.appendChild(continueButton);\n  backDropContentContainer.appendChild(cancelButton);\n  backdropDiv.appendChild(backDropContentContainer);\n  document.body.appendChild(backdropDiv);\n\n  backdropDiv.addEventListener(\"click\", function (event) {\n    event.stopPropagation();\n  });\n}\n\n/**\n * Applies a backdrop over the page, and opens a popup to the supplied url. Uses supplied status and cancel functions to handle the flow.\n * @function runWebLogin\n * @ignore\n * @param {object} options Options for running the web login flow.\n * @param {string} options.venmoUrl Venmo url that is to be used for logging in.\n * @param {Venmo~checkPaymentContextStatusAndProcessResult} options.checkForStatusChange {@link Venmo~checkPaymentContextStatusAndProcessResult} to be invoked in order to check for a payment context status update.\n * @param {Venmo~cancelTokenization} options.cancelTokenization {@link Venmo~cancelTokenization} to be invoked when the appropriate payment context status is retrieved.\n * @param {boolean} options.debug A flag to control whether to use minified assets or not.\n * @returns {Promise} Returns a promise\n */\nfunction runWebLogin(options) {\n  buildAndStyleElements();\n\n  return openPopup(options);\n}\n\n/**\n * When using frameservice, it needs to be created separately from the action of opening. The setup process includes\n * steps that browsers may consider async or too disconnected from the user action required to open a popup.\n *\n * This function enables us to do that setup at an appropriate time.\n * @function setupDesktopWebLogin\n * @ignore\n * @param {object} options Options use for setting up the Desktop Web Login flow.\n * @param {string} options.assetsUrl Url that points to the hosted Braintree assets.\n * @param {boolean} options.debug A flag to control whether to use minified assets or not.\n\n * @returns {Promise} Returns a promise\n */\nfunction setupDesktopWebLogin(options) {\n  var extendedPromise = new ExtendedPromise();\n  var popupName = \"venmoDesktopWebLogin\";\n  var assetsUrl = options.assetsUrl;\n  var debug = options.debug || false;\n  var popupLocation = centeredPopupDimensions();\n  var assetsBaseUrl = assetsUrl + \"/web/\" + VERSION + \"/html\";\n\n  frameService.create(\n    {\n      name: popupName,\n      dispatchFrameUrl:\n        assetsBaseUrl + \"/dispatch-frame\" + useMin(debug) + \".html\",\n      openFrameUrl:\n        assetsBaseUrl + \"/venmo-landing-frame\" + useMin(debug) + \".html\",\n      top: popupLocation.top,\n      left: popupLocation.left,\n      height: POPUP_HEIGHT,\n      width: POPUP_WIDTH,\n    },\n    function (frameServiceInstance) {\n      extendedPromise.resolve(frameServiceInstance);\n    }\n  );\n\n  return extendedPromise;\n}\n\nmodule.exports = {\n  runWebLogin: runWebLogin,\n  openPopup: openPopup,\n  setupDesktopWebLogin: setupDesktopWebLogin,\n  POPUP_WIDTH: POPUP_WIDTH,\n  POPUP_HEIGHT: POPUP_HEIGHT,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvd2ViLWxvZ2luLWJhY2tkcm9wLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLG1CQUFtQixtQkFBTyxDQUFDLGdIQUFrQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsNEVBQW1CO0FBQ3hDLHNCQUFzQixtQkFBTyxDQUFDLG1HQUE2Qjs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsOEJBQThCO0FBQzlCOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLG1CQUFtQjtBQUNuQixNQUFNO0FBQ04sb0NBQW9DO0FBQ3BDLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIscUJBQXFCO0FBQ3JCLFlBQVk7QUFDWixhQUFhO0FBQ2IsZUFBZTtBQUNmLGlCQUFpQjtBQUNqQixvQ0FBb0M7QUFDcEMsTUFBTTtBQUNOO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsbUJBQW1CO0FBQ25CLDJCQUEyQjtBQUMzQiw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEIsNEJBQTRCO0FBQzVCLE1BQU07QUFDTjs7QUFFQTtBQUNBLHdDQUF3QztBQUN4QyxrQkFBa0I7QUFDbEIsa0JBQWtCO0FBQ2xCLGlFQUFpRTtBQUNqRSx3QkFBd0I7QUFDeEIsc0JBQXNCO0FBQ3RCLHFCQUFxQjtBQUNyQix1QkFBdUI7QUFDdkIsd0JBQXdCO0FBQ3hCLG1DQUFtQztBQUNuQyxrQkFBa0I7QUFDbEIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixNQUFNO0FBQ047O0FBRUE7QUFDQSwwQ0FBMEM7QUFDMUMsa0JBQWtCO0FBQ2xCLGtCQUFrQjtBQUNsQix5QkFBeUI7QUFDekIseUJBQXlCO0FBQ3pCLGtCQUFrQjtBQUNsQixpRUFBaUU7QUFDakUsd0JBQXdCO0FBQ3hCLHNCQUFzQjtBQUN0QixxQkFBcUI7QUFDckIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixNQUFNO0FBQ047O0FBRUE7QUFDQSxtQ0FBbUM7QUFDbkMsaUVBQWlFO0FBQ2pFLHdCQUF3QjtBQUN4QixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLHVCQUF1QjtBQUN2Qix3QkFBd0I7QUFDeEIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixNQUFNO0FBQ047O0FBRUE7QUFDQSx3Q0FBd0M7QUFDeEMsaUVBQWlFO0FBQ2pFLHdCQUF3QjtBQUN4QixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLHVCQUF1QjtBQUN2Qix3QkFBd0I7QUFDeEIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixrQkFBa0I7QUFDbEIsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaURBQWlELDhCQUE4Qix1REFBdUQ7QUFDakosV0FBVywwQkFBMEIsNEJBQTRCLGdDQUFnQztBQUNqRyxXQUFXLFNBQVM7QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7O0FBRXBCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby9zaGFyZWQvd2ViLWxvZ2luLWJhY2tkcm9wLmpzPzU0ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBmcmFtZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vLi4vbGliL2ZyYW1lLXNlcnZpY2UvZXh0ZXJuYWxcIik7XG52YXIgdXNlTWluID0gcmVxdWlyZShcIi4uLy4uL2xpYi91c2UtbWluXCIpO1xudmFyIEV4dGVuZGVkUHJvbWlzZSA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL2V4dGVuZGVkLXByb21pc2VcIik7XG5cbnZhciBWRVJTSU9OID0gXCIzLjk5LjBcIjtcbnZhciBWRU5NT19MT0dPX1NWRyA9XG4gICc8c3ZnIHdpZHRoPVwiMTk4XCIgaGVpZ2h0PVwiNThcIiB2aWV3Qm94PVwiMCAwIDE5OCA1OFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTQzLjA3MDIgMTMuNjU3MkM0NC4xOTM1IDE1LjQ1ODUgNDQuNjk5OSAxNy4zMTM5IDQ0LjY5OTkgMTkuNjU3NkM0NC42OTk5IDI3LjEzMjggMzguMTI3NyAzNi44NDM2IDMyLjc5MzUgNDMuNjYyNUgyMC42MDk5TDE1LjcyMzYgMTUuMjkzOUwyNi4zOTE3IDE0LjMxMDVMMjguOTc1MSAzNC40OTY2QzMxLjM4OSAzMC42NzgzIDM0LjM2NzggMjQuNjc3OSAzNC4zNjc4IDIwLjU4N0MzNC4zNjc4IDE4LjM0NzcgMzMuOTcyNyAxNi44MjI1IDMzLjM1NTMgMTUuNTY2Nkw0My4wNzAyIDEzLjY1NzJaXCIgZmlsbD1cIndoaXRlXCIvPlxcbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTU2Ljg5NjUgMjYuMTQ5MUM1OC44NTk2IDI2LjE0OTEgNjMuODAxOCAyNS4yNzcyIDYzLjgwMTggMjIuNTQ5OUM2My44MDE4IDIxLjI0MDIgNjIuODQ4MSAyMC41ODcgNjEuNzI0MiAyMC41ODdDNTkuNzU3OSAyMC41ODcgNTcuMTc3NiAyMi44NzYzIDU2Ljg5NjUgMjYuMTQ5MVpNNTYuNjcxNSAzMS41NTA2QzU2LjY3MTUgMzQuODgwNyA1OC41Nzg3IDM2LjE4NzMgNjEuMTA3IDM2LjE4NzNDNjMuODYwMyAzNi4xODczIDY2LjQ5NjYgMzUuNTM0IDY5LjkyMyAzMy44NDMzTDY4LjYzMjQgNDIuMzUyM0M2Ni4yMTgzIDQzLjQ5NzYgNjIuNDU1OSA0NC4yNjE3IDU4LjgwMzkgNDQuMjYxN0M0OS41NDAzIDQ0LjI2MTcgNDYuMjI0OSAzOC44MDcxIDQ2LjIyNDkgMzEuOTg3OUM0Ni4yMjQ5IDIzLjE0OTYgNTEuNjE3OSAxMy43NjUgNjIuNzM2NSAxMy43NjVDNjguODU4IDEzLjc2NSA3Mi4yODA5IDE3LjA5NDkgNzIuMjgwOSAyMS43MzE3QzcyLjI4MTUgMjkuMjA2NiA2Mi40MDA1IDMxLjQ5NjUgNTYuNjcxNSAzMS41NTA2WlwiIGZpbGw9XCJ3aGl0ZVwiLz5cXG4gIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMDMuMDY3IDIwLjMxNDJDMTAzLjA2NyAyMS40MDUyIDEwMi44OTcgMjIuOTg3NSAxMDIuNzI3IDI0LjAyMTZMOTkuNTI2MiA0My42NjIySDg5LjEzODVMOTIuMDU4NSAyNS42NThDOTIuMTEzOSAyNS4xNjk2IDkyLjI4NCAyNC4xODY1IDkyLjI4NCAyMy42NDExQzkyLjI4NCAyMi4zMzE0IDkxLjQ0MTQgMjIuMDA0NyA5MC40MjgyIDIyLjAwNDdDODkuMDgyNiAyMi4wMDQ3IDg3LjczMzcgMjIuNjA0MiA4Ni44MzU0IDIzLjA0MThMODMuNTIzNCA0My42NjI1SDczLjA3NzJMNzcuODQ5NSAxNC4yNTdIODYuODkwOEw4Ny4wMDUyIDE2LjYwNDFDODkuMTM4MiAxNS4yNDA0IDkxLjk0NjkgMTMuNzY1NiA5NS45MzIgMTMuNzY1NkMxMDEuMjEyIDEzLjc2NSAxMDMuMDY3IDE2LjM4NDUgMTAzLjA2NyAyMC4zMTQyWlwiIGZpbGw9XCJ3aGl0ZVwiLz5cXG4gIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMzMuOTA2IDE2Ljk4NDFDMTM2Ljg4MSAxNC45MTMxIDEzOS42OSAxMy43NjUgMTQzLjU2MyAxMy43NjVDMTQ4Ljg5NyAxMy43NjUgMTUwLjc1MyAxNi4zODQ1IDE1MC43NTMgMjAuMzE0MkMxNTAuNzUzIDIxLjQwNTIgMTUwLjU4MyAyMi45ODc1IDE1MC40MTMgMjQuMDIxNkwxNDcuMjE2IDQzLjY2MjJIMTM2LjgyNUwxMzkuODAxIDI1LjI3NzRDMTM5Ljg1NSAyNC43ODYgMTM5Ljk3MSAyNC4xODY1IDEzOS45NzEgMjMuODA2M0MxMzkuOTcxIDIyLjMzMTcgMTM5LjEyOCAyMi4wMDQ3IDEzOC4xMTUgMjIuMDA0N0MxMzYuODI0IDIyLjAwNDcgMTM1LjUzNSAyMi41NTAxIDEzNC41NzcgMjMuMDQxOEwxMzEuMjY2IDQzLjY2MjVIMTIwLjg3OEwxMjMuODU0IDI1LjI3NzdDMTIzLjkwOCAyNC43ODYzIDEyNC4wMiAyNC4xODY4IDEyNC4wMiAyMy44MDY1QzEyNC4wMiAyMi4zMzIgMTIzLjE3NyAyMi4wMDQ5IDEyMi4xNjcgMjIuMDA0OUMxMjAuODE5IDIyLjAwNDkgMTE5LjQ3MyAyMi42MDQ1IDExOC41NzQgMjMuMDQyMUwxMTUuMjYgNDMuNjYyOEgxMDQuODE3TDEwOS41ODkgMTQuMjU3M0gxMTguNTJMMTE4LjggMTYuNzEyMkMxMjAuODc4IDE1LjI0MSAxMjMuNjg0IDEzLjc2NjIgMTI3LjQ0NiAxMy43NjYyQzEzMC43MDQgMTMuNzY1IDEzMi44MzcgMTUuMTI5IDEzMy45MDYgMTYuOTg0MVpcIiBmaWxsPVwid2hpdGVcIi8+XFxuICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTcxLjQyNiAyNS41NTAyQzE3MS40MjYgMjMuMTQ5NiAxNzAuODA4IDIxLjUxMyAxNjguOTU2IDIxLjUxM0MxNjQuODU3IDIxLjUxMyAxNjQuMDE1IDI4LjU1IDE2NC4wMTUgMzIuMTQ5OEMxNjQuMDE1IDM0Ljg4MDcgMTY0LjgwMiAzNi41NzA5IDE2Ni42NTMgMzYuNTcwOUMxNzAuNTI4IDM2LjU3MDkgMTcxLjQyNiAyOS4xNDk3IDE3MS40MjYgMjUuNTUwMlpNMTUzLjQ1OCAzMS43MTUyQzE1My40NTggMjIuNDQyIDE1OC41MTEgMTMuNzY1IDE3MC4xMzYgMTMuNzY1QzE3OC44OTYgMTMuNzY1IDE4Mi4wOTggMTguNzg1NCAxODIuMDk4IDI1LjcxNDhDMTgyLjA5OCAzNC44ODA1IDE3Ny4wOTkgNDQuMzcyMyAxNjUuMTk0IDQ0LjM3MjNDMTU2LjM3OCA0NC4zNzIzIDE1My40NTggMzguNzUyNSAxNTMuNDU4IDMxLjcxNTJaXCIgZmlsbD1cIndoaXRlXCIvPlxcbjwvc3ZnPic7XG52YXIgQ09OVElOVUVfT1JfQ0FOQ0VMX0lOU1RSVUNUSU9OUyA9XG4gIFwiVGFwIGNhbmNlbCBwYXltZW50IHRvIGNhbmNlbCBhbmQgcmV0dXJuIHRvIHRoZSBidXNpbmVzcy4gQ29udGludWUgcGF5bWVudCB3aWxsIHJlbGF1bmNoIHRoZSBwYXltZW50IHdpbmRvdy5cIjtcblxudmFyIFBPUFVQX1dJRFRIID0gNDAwO1xudmFyIFBPUFVQX0hFSUdIVCA9IDU3MDtcbnZhciBFTEVNRU5UX0lEUyA9IHtcbiAgYmFja2Ryb3A6IFwidmVubW8tZGVza3RvcC13ZWItYmFja2Ryb3BcIixcbiAgYmFja2Ryb3BIaWRkZW46IFwidmVubW8tZGVza3RvcC13ZWItYmFja2Ryb3AuaGlkZGVuXCIsXG4gIGJhY2tkcm9wQ29udGFpbmVyOiBcInZlbm1vLWJhY2tkcm9wLWNvbnRhaW5lclwiLFxuICBjYW5jZWxCdXR0b246IFwidmVubW8tcG9wdXAtY2FuY2VsLWJ1dHRvblwiLFxuICBjb250aW51ZUJ1dHRvbjogXCJ2ZW5tby1wb3B1cC1jb250aW51ZS1idXR0b25cIixcbiAgbWVzc2FnZTogXCJ2ZW5tby1tZXNzYWdlXCIsXG4gIGluc3RydWN0aW9uczogXCJ2ZW5tby1pbnN0cnVjdGlvbnNcIixcbiAgdmVubW9Mb2dvOiBcInZlbm1vLWZ1bGwtbG9nb1wiLFxufTtcblxuRXh0ZW5kZWRQcm9taXNlLnN1cHByZXNzVW5oYW5kbGVkUHJvbWlzZU1lc3NhZ2UgPSB0cnVlO1xuXG5mdW5jdGlvbiBvcGVuUG9wdXAob3B0aW9ucykge1xuICB2YXIgZnJhbWVTZXJ2aWNlSW5zdGFuY2UgPSBvcHRpb25zLmZyYW1lU2VydmljZUluc3RhbmNlO1xuICB2YXIgdmVubW9VcmwgPSBvcHRpb25zLnZlbm1vVXJsO1xuICB2YXIgY2hlY2tGb3JTdGF0dXNDaGFuZ2UgPSBvcHRpb25zLmNoZWNrRm9yU3RhdHVzQ2hhbmdlO1xuICB2YXIgY2FuY2VsVG9rZW5pemF0aW9uID0gb3B0aW9ucy5jYW5jZWxUb2tlbml6YXRpb247XG4gIHZhciBleHRlbmRlZFByb21pc2UgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG5cbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQoRUxFTUVOVF9JRFMuY29udGludWVCdXR0b24pXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmcmFtZVNlcnZpY2VJbnN0YW5jZS5mb2N1cygpO1xuICAgIH0pO1xuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZChFTEVNRU5UX0lEUy5jYW5jZWxCdXR0b24pXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmcmFtZVNlcnZpY2VJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgY2FuY2VsVG9rZW5pemF0aW9uKCk7XG4gICAgICBjbG9zZUJhY2tkcm9wKCk7XG4gICAgfSk7XG5cbiAgZnJhbWVTZXJ2aWNlSW5zdGFuY2Uub3Blbih7fSwgZnVuY3Rpb24gKGZyYW1lU2VydmljZUVycikge1xuICAgIHZhciByZXRyeVN0YXJ0aW5nQ291bnQgPSAxO1xuXG4gICAgaWYgKGZyYW1lU2VydmljZUVycikge1xuICAgICAgZXh0ZW5kZWRQcm9taXNlLnJlamVjdChmcmFtZVNlcnZpY2VFcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja0ZvclN0YXR1c0NoYW5nZShyZXRyeVN0YXJ0aW5nQ291bnQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgZXh0ZW5kZWRQcm9taXNlLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoc3RhdHVzQ2hlY2tFcnJvcikge1xuICAgICAgICAgIGV4dGVuZGVkUHJvbWlzZS5yZWplY3Qoc3RhdHVzQ2hlY2tFcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmcmFtZVNlcnZpY2VJbnN0YW5jZS5jbG9zZSgpO1xuICAgIGNsb3NlQmFja2Ryb3AoKTtcbiAgfSk7XG4gIGZyYW1lU2VydmljZUluc3RhbmNlLnJlZGlyZWN0KHZlbm1vVXJsKTtcblxuICByZXR1cm4gZXh0ZW5kZWRQcm9taXNlO1xufVxuXG5mdW5jdGlvbiBjZW50ZXJlZFBvcHVwRGltZW5zaW9ucygpIHtcbiAgdmFyIHBvcHVwVG9wID1cbiAgICBNYXRoLnJvdW5kKCh3aW5kb3cub3V0ZXJIZWlnaHQgLSBQT1BVUF9IRUlHSFQpIC8gMikgKyB3aW5kb3cuc2NyZWVuVG9wO1xuICB2YXIgcG9wdXBMZWZ0ID1cbiAgICBNYXRoLnJvdW5kKCh3aW5kb3cub3V0ZXJXaWR0aCAtIFBPUFVQX1dJRFRIKSAvIDIpICsgd2luZG93LnNjcmVlbkxlZnQ7XG5cbiAgcmV0dXJuIHtcbiAgICB0b3A6IHBvcHVwVG9wLFxuICAgIGxlZnQ6IHBvcHVwTGVmdCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xvc2VCYWNrZHJvcCgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZW5tby1kZXNrdG9wLXdlYi1iYWNrZHJvcFwiKS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50U3R5bGVzKCkge1xuICB2YXIgYmFja2Ryb3BTdHlsZXMgPSBbXG4gICAgXCIjXCIgKyBFTEVNRU5UX0lEUy5iYWNrZHJvcEhpZGRlbiArIFwiIHtcIixcbiAgICBcImRpc3BsYXk6IG5vbmU7XCIsXG4gICAgXCJ9XCIsXG4gICAgXCIjXCIgKyBFTEVNRU5UX0lEUy5iYWNrZHJvcCArIFwiIHtcIixcbiAgICBcInotaW5kZXg6IDMxNDE1OTI2MzI7XCIsXG4gICAgXCJjdXJzb3I6IHBvaW50ZXI7XCIsXG4gICAgXCJwb3NpdGlvbjogZml4ZWQ7XCIsXG4gICAgXCJ0b3A6IDA7XCIsXG4gICAgXCJsZWZ0OiAwO1wiLFxuICAgIFwiYm90dG9tOiAwO1wiLFxuICAgIFwid2lkdGg6IDEwMCU7XCIsXG4gICAgXCJiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XCIsXG4gICAgXCJ9XCIsXG4gIF07XG4gIHZhciBiYWNrZHJvcENvbnRhaW5lclN0eWxlcyA9IFtcbiAgICBcIiNcIiArIEVMRU1FTlRfSURTLmJhY2tkcm9wQ29udGFpbmVyICsgXCIge1wiLFxuICAgIFwiZGlzcGxheTogZmxleDtcIixcbiAgICBcImFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcIixcbiAgICBcImp1c3RpZnktY29udGVudDogY2VudGVyO1wiLFxuICAgIFwiYWxpZ24taXRlbXM6IGNlbnRlcjtcIixcbiAgICBcIndpZHRoOiAxMDAlO1wiLFxuICAgIFwiaGVpZ2h0OiAxMDAlO1wiLFxuICAgIFwiZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcIixcbiAgICBcIn1cIixcbiAgXTtcblxuICB2YXIgY2FuY2VsQnV0dG9uU3R5bGVzID0gW1xuICAgIFwiI1wiICsgRUxFTUVOVF9JRFMuY2FuY2VsQnV0dG9uICsgXCIge1wiLFxuICAgIFwiaGVpZ2h0OiAyNHB4O1wiLFxuICAgIFwid2lkdGg6IDM4MHB4O1wiLFxuICAgIFwiZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XCIsXG4gICAgXCJmb250LXN0eWxlOiBub3JtYWw7XCIsXG4gICAgXCJmb250LXdlaWdodDogNzAwO1wiLFxuICAgIFwiZm9udC1zaXplOiAxOHB4O1wiLFxuICAgIFwibGluZS1oZWlnaHQ6IDI0cHg7XCIsXG4gICAgXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCIsXG4gICAgXCJiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcIixcbiAgICBcImJvcmRlcjogbm9uZTtcIixcbiAgICBcImNvbG9yOiAjRkZGRkZGO1wiLFxuICAgIFwibWFyZ2luLXRvcDogMjhweDtcIixcbiAgICBcIn1cIixcbiAgXTtcblxuICB2YXIgY29udGludWVCdXR0b25TdHlsZXMgPSBbXG4gICAgXCIjXCIgKyBFTEVNRU5UX0lEUy5jb250aW51ZUJ1dHRvbiArIFwiIHtcIixcbiAgICBcIndpZHRoOiA0MDBweDtcIixcbiAgICBcImhlaWdodDogNTBweDtcIixcbiAgICBcImJhY2tncm91bmQ6ICMwMDc0REU7XCIsXG4gICAgXCJib3JkZXItcmFkaXVzOiAyNHB4O1wiLFxuICAgIFwiYm9yZGVyOiBub25lO1wiLFxuICAgIFwiZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XCIsXG4gICAgXCJmb250LXN0eWxlOiBub3JtYWw7XCIsXG4gICAgXCJmb250LXdlaWdodDogNzAwO1wiLFxuICAgIFwiZm9udC1zaXplOiAxOHB4O1wiLFxuICAgIFwiY29sb3I6ICNGRkZGRkY7XCIsXG4gICAgXCJtYXJnaW4tdG9wOiA0NHB4O1wiLFxuICAgIFwifVwiLFxuICBdO1xuXG4gIHZhciBtZXNzYWdlU3R5bGVzID0gW1xuICAgIFwiI1wiICsgRUxFTUVOVF9JRFMubWVzc2FnZSArIFwiIHtcIixcbiAgICBcImZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1wiLFxuICAgIFwiZm9udC1zdHlsZTogbm9ybWFsO1wiLFxuICAgIFwiZm9udC13ZWlnaHQ6IDUwMDtcIixcbiAgICBcImZvbnQtc2l6ZTogMjRweDtcIixcbiAgICBcImxpbmUtaGVpZ2h0OiAzMnB4O1wiLFxuICAgIFwidGV4dC1hbGlnbjogY2VudGVyO1wiLFxuICAgIFwiY29sb3I6ICNGRkZGRkY7XCIsXG4gICAgXCJtYXJnaW4tdG9wOiAzMnB4O1wiLFxuICAgIFwifVwiLFxuICBdO1xuXG4gIHZhciBpbnN0cnVjdGlvblN0eWxlcyA9IFtcbiAgICBcIiNcIiArIEVMRU1FTlRfSURTLmluc3RydWN0aW9ucyArIFwiIHtcIixcbiAgICBcImZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1wiLFxuICAgIFwiZm9udC1zdHlsZTogbm9ybWFsO1wiLFxuICAgIFwiZm9udC13ZWlnaHQ6IDQwMDtcIixcbiAgICBcImZvbnQtc2l6ZTogMTZweDtcIixcbiAgICBcImxpbmUtaGVpZ2h0OiAyMHB4O1wiLFxuICAgIFwidGV4dC1hbGlnbjogY2VudGVyO1wiLFxuICAgIFwiY29sb3I6ICNGRkZGRkY7XCIsXG4gICAgXCJtYXJnaW4tdG9wOiAxNnB4O1wiLFxuICAgIFwid2lkdGg6IDQwMHB4O1wiLFxuICAgIFwifVwiLFxuICBdO1xuXG4gIHZhciBhbGxTdHlsZXMgPSBiYWNrZHJvcFN0eWxlcy5jb25jYXQoXG4gICAgYmFja2Ryb3BDb250YWluZXJTdHlsZXMsXG4gICAgY2FuY2VsQnV0dG9uU3R5bGVzLFxuICAgIGNvbnRpbnVlQnV0dG9uU3R5bGVzLFxuICAgIG1lc3NhZ2VTdHlsZXMsXG4gICAgaW5zdHJ1Y3Rpb25TdHlsZXNcbiAgKTtcblxuICByZXR1cm4gYWxsU3R5bGVzLmpvaW4oXCJcXG5cIik7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQW5kU3R5bGVFbGVtZW50cygpIHtcbiAgdmFyIGFscmVhZHlSZW5kZXJlZEJhY2tkcm9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoRUxFTUVOVF9JRFMuYmFja2Ryb3ApO1xuICB2YXIgYmFja2Ryb3BTdHlsZXNFbGVtZW50LFxuICAgIGJhY2tkcm9wRGl2LFxuICAgIGJhY2tEcm9wQ29udGVudENvbnRhaW5lcixcbiAgICB2ZW5tb0xvZ29EaXYsXG4gICAgdmVubW9NZXNzYWdlRGl2LFxuICAgIGluc3RydWN0aW9uc0RpdixcbiAgICBjb250aW51ZUJ1dHRvbixcbiAgICBjYW5jZWxCdXR0b247XG5cbiAgaWYgKGFscmVhZHlSZW5kZXJlZEJhY2tkcm9wKSB7XG4gICAgYWxyZWFkeVJlbmRlcmVkQmFja2Ryb3AuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcblxuICAgIHJldHVybjtcbiAgfVxuICBiYWNrZHJvcFN0eWxlc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIGJhY2tkcm9wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYmFja0Ryb3BDb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdmVubW9Mb2dvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdmVubW9NZXNzYWdlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgaW5zdHJ1Y3Rpb25zRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29udGludWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXG4gIGJhY2tkcm9wU3R5bGVzRWxlbWVudC5pZCA9IFwidmVubW8tZGVza3RvcC13ZWJfX2luamVjdGVkLXN0eWxlc1wiO1xuICBiYWNrZHJvcFN0eWxlc0VsZW1lbnQuaW5uZXJIVE1MID0gZ2V0RWxlbWVudFN0eWxlcygpO1xuXG4gIGJhY2tkcm9wRGl2LmlkID0gRUxFTUVOVF9JRFMuYmFja2Ryb3A7XG5cbiAgYmFja0Ryb3BDb250ZW50Q29udGFpbmVyLmlkID0gRUxFTUVOVF9JRFMuYmFja2Ryb3BDb250YWluZXI7XG5cbiAgdmVubW9Mb2dvRGl2LmlkID0gRUxFTUVOVF9JRFMudmVubW9Mb2dvO1xuICB2ZW5tb0xvZ29EaXYuaW5uZXJIVE1MID0gVkVOTU9fTE9HT19TVkc7XG5cbiAgdmVubW9NZXNzYWdlRGl2LmlkID0gRUxFTUVOVF9JRFMubWVzc2FnZTtcbiAgdmVubW9NZXNzYWdlRGl2LmlubmVyVGV4dCA9IFwiV2hhdCB3b3VsZCB5b3UgbGlrZSB0byBkbz9cIjtcblxuICBpbnN0cnVjdGlvbnNEaXYuaWQgPSBFTEVNRU5UX0lEUy5pbnN0cnVjdGlvbnM7XG4gIGluc3RydWN0aW9uc0Rpdi5pbm5lclRleHQgPSBDT05USU5VRV9PUl9DQU5DRUxfSU5TVFJVQ1RJT05TO1xuXG4gIGNvbnRpbnVlQnV0dG9uLmlkID0gRUxFTUVOVF9JRFMuY29udGludWVCdXR0b247XG4gIGNvbnRpbnVlQnV0dG9uLmlubmVyVGV4dCA9IFwiQ29udGludWUgcGF5bWVudFwiO1xuXG4gIGNhbmNlbEJ1dHRvbi5pZCA9IEVMRU1FTlRfSURTLmNhbmNlbEJ1dHRvbjtcbiAgY2FuY2VsQnV0dG9uLmlubmVyVGV4dCA9IFwiQ2FuY2VsIHBheW1lbnRcIjtcblxuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGJhY2tkcm9wU3R5bGVzRWxlbWVudCk7XG4gIGJhY2tEcm9wQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZCh2ZW5tb0xvZ29EaXYpO1xuICBiYWNrRHJvcENvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodmVubW9NZXNzYWdlRGl2KTtcbiAgYmFja0Ryb3BDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGluc3RydWN0aW9uc0Rpdik7XG4gIGJhY2tEcm9wQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChjb250aW51ZUJ1dHRvbik7XG4gIGJhY2tEcm9wQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChjYW5jZWxCdXR0b24pO1xuICBiYWNrZHJvcERpdi5hcHBlbmRDaGlsZChiYWNrRHJvcENvbnRlbnRDb250YWluZXIpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhY2tkcm9wRGl2KTtcblxuICBiYWNrZHJvcERpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEFwcGxpZXMgYSBiYWNrZHJvcCBvdmVyIHRoZSBwYWdlLCBhbmQgb3BlbnMgYSBwb3B1cCB0byB0aGUgc3VwcGxpZWQgdXJsLiBVc2VzIHN1cHBsaWVkIHN0YXR1cyBhbmQgY2FuY2VsIGZ1bmN0aW9ucyB0byBoYW5kbGUgdGhlIGZsb3cuXG4gKiBAZnVuY3Rpb24gcnVuV2ViTG9naW5cbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgZm9yIHJ1bm5pbmcgdGhlIHdlYiBsb2dpbiBmbG93LlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudmVubW9VcmwgVmVubW8gdXJsIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgbG9nZ2luZyBpbi5cbiAqIEBwYXJhbSB7VmVubW9+Y2hlY2tQYXltZW50Q29udGV4dFN0YXR1c0FuZFByb2Nlc3NSZXN1bHR9IG9wdGlvbnMuY2hlY2tGb3JTdGF0dXNDaGFuZ2Uge0BsaW5rIFZlbm1vfmNoZWNrUGF5bWVudENvbnRleHRTdGF0dXNBbmRQcm9jZXNzUmVzdWx0fSB0byBiZSBpbnZva2VkIGluIG9yZGVyIHRvIGNoZWNrIGZvciBhIHBheW1lbnQgY29udGV4dCBzdGF0dXMgdXBkYXRlLlxuICogQHBhcmFtIHtWZW5tb35jYW5jZWxUb2tlbml6YXRpb259IG9wdGlvbnMuY2FuY2VsVG9rZW5pemF0aW9uIHtAbGluayBWZW5tb35jYW5jZWxUb2tlbml6YXRpb259IHRvIGJlIGludm9rZWQgd2hlbiB0aGUgYXBwcm9wcmlhdGUgcGF5bWVudCBjb250ZXh0IHN0YXR1cyBpcyByZXRyaWV2ZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZGVidWcgQSBmbGFnIHRvIGNvbnRyb2wgd2hldGhlciB0byB1c2UgbWluaWZpZWQgYXNzZXRzIG9yIG5vdC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZVxuICovXG5mdW5jdGlvbiBydW5XZWJMb2dpbihvcHRpb25zKSB7XG4gIGJ1aWxkQW5kU3R5bGVFbGVtZW50cygpO1xuXG4gIHJldHVybiBvcGVuUG9wdXAob3B0aW9ucyk7XG59XG5cbi8qKlxuICogV2hlbiB1c2luZyBmcmFtZXNlcnZpY2UsIGl0IG5lZWRzIHRvIGJlIGNyZWF0ZWQgc2VwYXJhdGVseSBmcm9tIHRoZSBhY3Rpb24gb2Ygb3BlbmluZy4gVGhlIHNldHVwIHByb2Nlc3MgaW5jbHVkZXNcbiAqIHN0ZXBzIHRoYXQgYnJvd3NlcnMgbWF5IGNvbnNpZGVyIGFzeW5jIG9yIHRvbyBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgdXNlciBhY3Rpb24gcmVxdWlyZWQgdG8gb3BlbiBhIHBvcHVwLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZW5hYmxlcyB1cyB0byBkbyB0aGF0IHNldHVwIGF0IGFuIGFwcHJvcHJpYXRlIHRpbWUuXG4gKiBAZnVuY3Rpb24gc2V0dXBEZXNrdG9wV2ViTG9naW5cbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgdXNlIGZvciBzZXR0aW5nIHVwIHRoZSBEZXNrdG9wIFdlYiBMb2dpbiBmbG93LlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYXNzZXRzVXJsIFVybCB0aGF0IHBvaW50cyB0byB0aGUgaG9zdGVkIEJyYWludHJlZSBhc3NldHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZGVidWcgQSBmbGFnIHRvIGNvbnRyb2wgd2hldGhlciB0byB1c2UgbWluaWZpZWQgYXNzZXRzIG9yIG5vdC5cblxuICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlXG4gKi9cbmZ1bmN0aW9uIHNldHVwRGVza3RvcFdlYkxvZ2luKG9wdGlvbnMpIHtcbiAgdmFyIGV4dGVuZGVkUHJvbWlzZSA9IG5ldyBFeHRlbmRlZFByb21pc2UoKTtcbiAgdmFyIHBvcHVwTmFtZSA9IFwidmVubW9EZXNrdG9wV2ViTG9naW5cIjtcbiAgdmFyIGFzc2V0c1VybCA9IG9wdGlvbnMuYXNzZXRzVXJsO1xuICB2YXIgZGVidWcgPSBvcHRpb25zLmRlYnVnIHx8IGZhbHNlO1xuICB2YXIgcG9wdXBMb2NhdGlvbiA9IGNlbnRlcmVkUG9wdXBEaW1lbnNpb25zKCk7XG4gIHZhciBhc3NldHNCYXNlVXJsID0gYXNzZXRzVXJsICsgXCIvd2ViL1wiICsgVkVSU0lPTiArIFwiL2h0bWxcIjtcblxuICBmcmFtZVNlcnZpY2UuY3JlYXRlKFxuICAgIHtcbiAgICAgIG5hbWU6IHBvcHVwTmFtZSxcbiAgICAgIGRpc3BhdGNoRnJhbWVVcmw6XG4gICAgICAgIGFzc2V0c0Jhc2VVcmwgKyBcIi9kaXNwYXRjaC1mcmFtZVwiICsgdXNlTWluKGRlYnVnKSArIFwiLmh0bWxcIixcbiAgICAgIG9wZW5GcmFtZVVybDpcbiAgICAgICAgYXNzZXRzQmFzZVVybCArIFwiL3Zlbm1vLWxhbmRpbmctZnJhbWVcIiArIHVzZU1pbihkZWJ1ZykgKyBcIi5odG1sXCIsXG4gICAgICB0b3A6IHBvcHVwTG9jYXRpb24udG9wLFxuICAgICAgbGVmdDogcG9wdXBMb2NhdGlvbi5sZWZ0LFxuICAgICAgaGVpZ2h0OiBQT1BVUF9IRUlHSFQsXG4gICAgICB3aWR0aDogUE9QVVBfV0lEVEgsXG4gICAgfSxcbiAgICBmdW5jdGlvbiAoZnJhbWVTZXJ2aWNlSW5zdGFuY2UpIHtcbiAgICAgIGV4dGVuZGVkUHJvbWlzZS5yZXNvbHZlKGZyYW1lU2VydmljZUluc3RhbmNlKTtcbiAgICB9XG4gICk7XG5cbiAgcmV0dXJuIGV4dGVuZGVkUHJvbWlzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJ1bldlYkxvZ2luOiBydW5XZWJMb2dpbixcbiAgb3BlblBvcHVwOiBvcGVuUG9wdXAsXG4gIHNldHVwRGVza3RvcFdlYkxvZ2luOiBzZXR1cERlc2t0b3BXZWJMb2dpbixcbiAgUE9QVVBfV0lEVEg6IFBPUFVQX1dJRFRILFxuICBQT1BVUF9IRUlHSFQ6IFBPUFVQX0hFSUdIVCxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/shared/web-login-backdrop.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/braintree-web/venmo/venmo.js":
/*!***************************************************!*\
  !*** ./node_modules/braintree-web/venmo/venmo.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nvar analytics = __webpack_require__(/*! ../lib/analytics */ \"(ssr)/./node_modules/braintree-web/lib/analytics.js\");\nvar isBrowserSupported = __webpack_require__(/*! ./shared/supports-venmo */ \"(ssr)/./node_modules/braintree-web/venmo/shared/supports-venmo.js\");\nvar browserDetection = __webpack_require__(/*! ./shared/browser-detection */ \"(ssr)/./node_modules/braintree-web/venmo/shared/browser-detection.js\");\nvar constants = __webpack_require__(/*! ./shared/constants */ \"(ssr)/./node_modules/braintree-web/venmo/shared/constants.js\");\nvar errors = __webpack_require__(/*! ./shared/errors */ \"(ssr)/./node_modules/braintree-web/venmo/shared/errors.js\");\nvar querystring = __webpack_require__(/*! ../lib/querystring */ \"(ssr)/./node_modules/braintree-web/lib/querystring.js\");\nvar isVerifiedDomain = __webpack_require__(/*! ../lib/is-verified-domain */ \"(ssr)/./node_modules/braintree-web/lib/is-verified-domain.js\");\nvar methods = __webpack_require__(/*! ../lib/methods */ \"(ssr)/./node_modules/braintree-web/lib/methods.js\");\nvar convertMethodsToError = __webpack_require__(/*! ../lib/convert-methods-to-error */ \"(ssr)/./node_modules/braintree-web/lib/convert-methods-to-error.js\");\nvar wrapPromise = __webpack_require__(/*! @braintree/wrap-promise */ \"(ssr)/./node_modules/@braintree/wrap-promise/dist/wrap-promise.js\");\nvar BraintreeError = __webpack_require__(/*! ../lib/braintree-error */ \"(ssr)/./node_modules/braintree-web/lib/braintree-error.js\");\nvar inIframe = __webpack_require__(/*! ../lib/in-iframe */ \"(ssr)/./node_modules/braintree-web/lib/in-iframe.js\");\nvar ExtendedPromise = __webpack_require__(/*! @braintree/extended-promise */ \"(ssr)/./node_modules/@braintree/extended-promise/dist/index.js\");\nvar getVenmoUrl = __webpack_require__(/*! ./shared/get-venmo-url */ \"(ssr)/./node_modules/braintree-web/venmo/shared/get-venmo-url.js\");\nvar desktopWebLogin = __webpack_require__(/*! ./shared/web-login-backdrop */ \"(ssr)/./node_modules/braintree-web/venmo/shared/web-login-backdrop.js\");\nvar snakeCaseToCamelCase = __webpack_require__(/*! ../lib/snake-case-to-camel-case */ \"(ssr)/./node_modules/braintree-web/lib/snake-case-to-camel-case.js\");\n\n// NEXT_MAJOR_VERSION the source code for this is actually in a\n// typescript repo called venmo-desktop, once the SDK is migrated\n// to typescript, we can move the TS files out of that separate\n// repo and into the web SDK properly\nvar createVenmoDesktop = __webpack_require__(/*! ./external/ */ \"(ssr)/./node_modules/braintree-web/venmo/external/index.js\");\nvar graphqlQueries = __webpack_require__(/*! ./external/queries */ \"(ssr)/./node_modules/braintree-web/venmo/external/queries.js\");\n\nvar VERSION = \"3.99.0\";\nvar DEFAULT_MOBILE_POLLING_INTERVAL = 250; // 1/4 second\nvar DEFAULT_MOBILE_EXPIRING_THRESHOLD = 300000; // 5 minutes\n\nExtendedPromise.suppressUnhandledPromiseMessage = true;\n\n/**\n * Venmo tokenize payload.\n * @typedef {object} Venmo~tokenizePayload\n * @property {string} nonce The payment method nonce.\n * @property {string} type The payment method type, always `VenmoAccount`.\n * @property {object} details Additional Venmo account details.\n * @property {string} details.username The username of the Venmo account.\n * @property {string} details.paymentContextId The context ID of the Venmo payment. Only available when used with {@link https://braintree.github.io/braintree-web/current/module-braintree-web_venmo.html#.create|`paymentMethodUsage`}.\n */\n\n/**\n * @class\n * @param {object} options The Venmo {@link module:braintree-web/venmo.create create} options.\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/venmo.create|braintree-web.venmo.create} instead.</strong>\n * @classdesc This class represents a Venmo component produced by {@link module:braintree-web/venmo.create|braintree-web/venmo.create}. Instances of this class have methods for tokenizing Venmo payments.\n */\nfunction Venmo(options) {\n  var self = this;\n\n  this._allowDesktopWebLogin = options.allowDesktopWebLogin || false;\n  this._mobileWebFallBack = options.mobileWebFallBack || false;\n  this._createPromise = options.createPromise;\n  this._allowNewBrowserTab = options.allowNewBrowserTab !== false;\n  this._allowWebviews = options.allowWebviews !== false;\n  this._allowDesktop = options.allowDesktop === true;\n  this._useRedirectForIOS = options.useRedirectForIOS === true;\n  this._profileId = options.profileId;\n  this._displayName = options.displayName;\n  this._deepLinkReturnUrl = options.deepLinkReturnUrl;\n  this._ignoreHistoryChanges = options.ignoreHistoryChanges;\n  this._paymentMethodUsage = (options.paymentMethodUsage || \"\").toUpperCase();\n  this._shouldUseLegacyFlow = !this._paymentMethodUsage;\n  this._requireManualReturn = options.requireManualReturn === true;\n  this._useDesktopQRFlow =\n    this._allowDesktop && this._isDesktop() && !this._allowDesktopWebLogin;\n  this._useAllowDesktopWebLogin =\n    this._allowDesktopWebLogin && this._isDesktop();\n  this._cannotHaveReturnUrls = inIframe() || this._requireManualReturn;\n  this._allowAndroidRecreation = options.allowAndroidRecreation !== false;\n  this._maxRetryCount = 3;\n  this._collectCustomerBillingAddress =\n    options.collectCustomerBillingAddress || false;\n  this._collectCustomerShippingAddress =\n    options.collectCustomerShippingAddress || false;\n  this._lineItems = options.lineItems;\n  this._subTotalAmount = options.subTotalAmount;\n  this._discountAmount = options.discountAmount;\n  this._taxAmount = options.taxAmount;\n  this._shippingAmount = options.shippingAmount;\n  this._totalAmount = options.totalAmount;\n\n  this._shouldCreateVenmoPaymentContext =\n    this._cannotHaveReturnUrls || !this._shouldUseLegacyFlow;\n\n  analytics.sendEvent(\n    this._createPromise,\n    \"venmo.desktop-flow.configured.\" + String(Boolean(this._allowDesktop))\n  );\n\n  // if the url has a tokenization result, that indicates\n  // that it cannot be the desktop flow or the manual return\n  // flow. If it's the hash change with paymentMethodUsage\n  // flow, we want to skip creating a new payment context, since\n  // there is already a pending payment context waiting to be\n  // processed. For the hash change flow without paymentMethodUsage,\n  // no further actions are needed.\n  if (this.hasTokenizationResult()) {\n    analytics.sendEvent(\n      this._createPromise,\n      \"venmo.appswitch.return-in-new-tab\"\n    );\n  } else if (this._useDesktopQRFlow) {\n    this._createPromise = this._createPromise.then(function (client) {\n      var config = client.getConfiguration().gatewayConfiguration;\n\n      return createVenmoDesktop({\n        url:\n          config.assetsUrl +\n          \"/web/\" +\n          VERSION +\n          \"/html/venmo-desktop-frame.html\",\n        environment:\n          config.environment === \"production\" ? \"PRODUCTION\" : \"SANDBOX\",\n        profileId: self._profileId || config.payWithVenmo.merchantId,\n        paymentMethodUsage: self._paymentMethodUsage,\n        displayName: self._displayName,\n        Promise: Promise,\n        apiRequest: function (query, data) {\n          return client\n            .request({\n              api: \"graphQLApi\",\n              data: {\n                query: query,\n                variables: data,\n              },\n            })\n            .then(function (response) {\n              return response.data;\n            });\n        },\n        sendEvent: function (eventName) {\n          analytics.sendEvent(self._createPromise, eventName);\n        },\n        verifyDomain: isVerifiedDomain,\n      })\n        .then(function (venmoDesktopInstance) {\n          self._venmoDesktopInstance = venmoDesktopInstance;\n          analytics.sendEvent(\n            self._createPromise,\n            \"venmo.desktop-flow.presented\"\n          );\n\n          return client;\n        })\n        .catch(function () {\n          analytics.sendEvent(\n            self._createPromise,\n            \"venmo.desktop-flow.setup-failed\"\n          );\n          self._useDesktopQRFlow = false;\n\n          return client;\n        });\n    });\n  } else if (this._shouldCreateVenmoPaymentContext) {\n    // these variables are only relevant for the manual return flow\n    // and they are only set to make testing easier (so they can\n    // be overwritten with smaller values in the tests)\n    this._mobilePollingInterval = DEFAULT_MOBILE_POLLING_INTERVAL;\n    this._mobilePollingExpiresThreshold = DEFAULT_MOBILE_EXPIRING_THRESHOLD;\n\n    this._createPromise = this._createPromise.then(function (client) {\n      var paymentContextPromise, webLoginPromise;\n      var analyticsCategory = self._cannotHaveReturnUrls\n        ? \"manual-return\"\n        : \"mobile-payment-context\";\n      var config = client.getConfiguration();\n\n      webLoginPromise = desktopWebLogin\n        .setupDesktopWebLogin({\n          assetsUrl: config.gatewayConfiguration.assetsUrl,\n          debug: config.isDebug,\n        })\n        .then(function (frameServiceInstance) {\n          self._frameServiceInstance = frameServiceInstance;\n        })\n        .catch(function (desktopWebErr) {\n          return desktopWebErr;\n        });\n\n      self._mobilePollingContextEnvironment =\n        config.gatewayConfiguration.environment.toUpperCase();\n\n      paymentContextPromise = self\n        ._createVenmoPaymentContext(client)\n        .then(function () {\n          analytics.sendEvent(\n            self._createPromise,\n            \"venmo.\" + analyticsCategory + \".presented\"\n          );\n\n          return client;\n        })\n        .catch(function (err) {\n          analytics.sendEvent(\n            self._createPromise,\n            \"venmo.\" + analyticsCategory + \".setup-failed\"\n          );\n\n          return Promise.reject(\n            new BraintreeError({\n              type: errors.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.type,\n              code: errors.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.code,\n              message: isValidationError(err)\n                ? err.details.originalError[0].message\n                : errors.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.message,\n              details: {\n                originalError: err,\n              },\n            })\n          );\n        });\n\n      return ExtendedPromise.all([webLoginPromise, paymentContextPromise])\n        .then(function (results) {\n          var paymentContextResult = results[1]; // We only care about the returned value of the paymentContextPromise\n\n          return Promise.resolve(paymentContextResult);\n        })\n        .catch(function (promiseErr) {\n          // ExtendedPromise.all returns just one error and it's either which fails first/at all.\n          return Promise.reject(promiseErr);\n        });\n    });\n  }\n}\n\nfunction isValidationError(err) {\n  return (\n    err.details &&\n    err.details.originalError &&\n    err.details.originalError[0] &&\n    err.details.originalError[0].extensions &&\n    err.details.originalError[0].extensions.errorClass === \"VALIDATION\" &&\n    err.details.originalError[0].extensions.errorType === \"user_error\"\n  );\n}\n\nVenmo.prototype._createVenmoPaymentContext = function (\n  client,\n  cancelIfTokenizationInProgress\n) {\n  var self = this;\n  var promise, transactionDetails;\n  var configuration = client.getConfiguration();\n  var venmoConfiguration = configuration.gatewayConfiguration.payWithVenmo;\n  var transactionDetailsPresent = false;\n\n  if (!this._shouldCreateVenmoPaymentContext) {\n    return Promise.resolve();\n  }\n\n  if (this._shouldUseLegacyFlow) {\n    promise = client\n      .request({\n        api: \"graphQLApi\",\n        data: {\n          query: graphqlQueries.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY,\n          variables: {\n            input: {\n              environment: this._mobilePollingContextEnvironment,\n              intent: \"PAY_FROM_APP\",\n            },\n          },\n        },\n      })\n      .then(function (response) {\n        return response\n          .data.createVenmoQRCodePaymentContext.venmoQRCodePaymentContext;\n      });\n  } else {\n    // Merchants are not allowed to collect user addresses unless ECD (Enriched Customer Data) is enabled on the BT Control Panel.\n    if (\n      (this._collectCustomerBillingAddress ||\n        this._collectCustomerShippingAddress) &&\n      !venmoConfiguration.enrichedCustomerDataEnabled\n    ) {\n      return Promise.reject(new BraintreeError(errors.VENMO_ECD_DISABLED));\n    }\n\n    if (this._lineItems) {\n      this._lineItems.forEach(function (item) {\n        item.unitTaxAmount = item.unitTaxAmount || \"0\";\n      });\n    }\n    transactionDetails = {\n      subTotalAmount: this._subTotalAmount,\n      discountAmount: this._discountAmount,\n      taxAmount: this._taxAmount,\n      shippingAmount: this._shippingAmount,\n      totalAmount: this._totalAmount,\n      lineItems: this._lineItems,\n    };\n    transactionDetailsPresent = Object.keys(transactionDetails).some(function (\n      detail\n    ) {\n      return transactionDetails[detail] !== undefined; // eslint-disable-line no-undefined\n    });\n    promise = client\n      .request({\n        api: \"graphQLApi\",\n        data: {\n          query: graphqlQueries.CREATE_PAYMENT_CONTEXT_QUERY,\n          variables: {\n            input: {\n              paymentMethodUsage: this._paymentMethodUsage,\n              intent: \"CONTINUE\",\n              customerClient: \"MOBILE_WEB\",\n              displayName: this._displayName,\n              paysheetDetails: {\n                collectCustomerBillingAddress:\n                  this._collectCustomerBillingAddress,\n                collectCustomerShippingAddress:\n                  this._collectCustomerShippingAddress,\n                transactionDetails: transactionDetailsPresent\n                  ? transactionDetails\n                  : undefined, // eslint-disable-line no-undefined\n              },\n            },\n          },\n        },\n      })\n      .then(function (response) {\n        return response.data.createVenmoPaymentContext.venmoPaymentContext;\n      });\n  }\n\n  return promise.then(function (context) {\n    var expiredTime = new Date(context.expiresAt) - new Date(context.createdAt);\n    var refreshIn = expiredTime * 0.6666;\n\n    // prevents multiple setTimeouts from firing from separate calls\n    // to create a payment context by canceling the previous one\n    // if there is a pending call\n    clearTimeout(self._refreshPaymentContextTimeout);\n    self._refreshPaymentContextTimeout = setTimeout(function () {\n      if (self._tokenizationInProgress) {\n        return;\n      }\n      self._createVenmoPaymentContext(client, true);\n    }, refreshIn);\n\n    if (cancelIfTokenizationInProgress && self._tokenizationInProgress) {\n      return;\n    }\n\n    self._venmoPaymentContextStatus = context.status;\n    self._venmoPaymentContextId = context.id;\n  });\n};\n\nVenmo.prototype.appSwitch = function (url) {\n  if (this._deepLinkReturnUrl) {\n    if (isIosWebviewInDeepLinkReturnUrlFlow()) {\n      analytics.sendEvent(\n        this._createPromise,\n        \"venmo.appswitch.start.ios-webview\"\n      );\n      // Deep link URLs do not launch iOS apps from a webview when using window.open or PopupBridge.open.\n      window.location.href = url;\n    } else if (\n      window.popupBridge &&\n      typeof window.popupBridge.open === \"function\"\n    ) {\n      analytics.sendEvent(\n        this._createPromise,\n        \"venmo.appswitch.start.popup-bridge\"\n      );\n      window.popupBridge.open(url);\n    } else {\n      analytics.sendEvent(this._createPromise, \"venmo.appswitch.start.webview\");\n      window.open(url);\n    }\n  } else {\n    analytics.sendEvent(this._createPromise, \"venmo.appswitch.start.browser\");\n\n    if (\n      browserDetection.doesNotSupportWindowOpenInIos() ||\n      this._shouldUseRedirectStrategy()\n    ) {\n      window.location.href = url;\n    } else {\n      window.open(url);\n    }\n  }\n};\n\nVenmo.prototype.getUrl = function () {\n  return this._createPromise.then(\n    function (client) {\n      var configuration = client.getConfiguration();\n      var params = {};\n      var currentUrl =\n        this._deepLinkReturnUrl ||\n        window.location.href.replace(window.location.hash, \"\");\n      var venmoConfiguration = configuration.gatewayConfiguration.payWithVenmo;\n      var analyticsMetadata = configuration.analyticsMetadata;\n      var accessToken = venmoConfiguration.accessToken;\n      var braintreeData = {\n        _meta: {\n          version: analyticsMetadata.sdkVersion,\n          integration: analyticsMetadata.integration,\n          platform: analyticsMetadata.platform,\n          sessionId: analyticsMetadata.sessionId,\n        },\n      };\n\n      this._isDebug = configuration.isDebug;\n      this._assetsUrl = configuration.gatewayConfiguration.assetsUrl;\n\n      currentUrl = currentUrl.replace(/#*$/, \"\");\n\n      /* eslint-disable camelcase */\n      if (this._venmoPaymentContextId) {\n        if (this._shouldUseLegacyFlow) {\n          // NEXT_MAJOR_VERSION stop adding the context id to the access token.\n          // the context id is placed here for backwards compatiblity\n          // with versions of the venmo app that did not support\n          // pulling the resource id off of the query params\n          accessToken += \"|pcid:\" + this._venmoPaymentContextId;\n        } else {\n          params.resource_id = this._venmoPaymentContextId;\n        }\n      }\n\n      if (this._shouldIncludeReturnUrls() || this._useAllowDesktopWebLogin) {\n        if (this._useAllowDesktopWebLogin) {\n          currentUrl =\n            this._assetsUrl + \"/web/\" + VERSION + \"/html/redirect-frame.html\";\n        }\n        params[\"x-success\"] = currentUrl + \"#venmoSuccess=1\";\n        params[\"x-cancel\"] = currentUrl + \"#venmoCancel=1\";\n        params[\"x-error\"] = currentUrl + \"#venmoError=1\";\n      } else {\n        params[\"x-success\"] = \"NOOP\";\n        params[\"x-cancel\"] = \"NOOP\";\n        params[\"x-error\"] = \"NOOP\";\n      }\n\n      if (!this._allowAndroidRecreation) {\n        params.allowAndroidRecreation = 0;\n      } else {\n        params.allowAndroidRecreation = 1;\n      }\n\n      params.ua = window.navigator.userAgent;\n      params.braintree_merchant_id =\n        this._profileId || venmoConfiguration.merchantId;\n      params.braintree_access_token = accessToken;\n      params.braintree_environment = venmoConfiguration.environment;\n      params.braintree_sdk_data = btoa(JSON.stringify(braintreeData));\n\n      return (\n        getVenmoUrl({\n          useAllowDesktopWebLogin: this._useAllowDesktopWebLogin,\n          mobileWebFallBack: this._mobileWebFallBack,\n        }) +\n        \"?\" +\n        querystring.stringify(params)\n      );\n    }.bind(this)\n  );\n};\n\n/**\n * Returns a boolean indicating whether the current browser supports Venmo as a payment method. Please note that iOS Chrome is not supported when the Venmo button is rendered in an iFrame.\n *\n * If `options.allowNewBrowserTab` is false when calling {@link module:braintree-web/venmo.create|venmo.create}, this method will return true only for browsers known to support returning from the Venmo app to the same browser tab. Currently, this is limited to iOS Safari and Android Chrome.\n * If `options.allowWebviews` is false when calling {@link module:braintree-web/venmo.create|venmo.create}, this method will return true only for mobile browsers that are not webviews.\n * @public\n * @returns {boolean} True if the current browser is supported, false if not.\n */\nVenmo.prototype.isBrowserSupported = function () {\n  return isBrowserSupported.isBrowserSupported({\n    allowNewBrowserTab: this._allowNewBrowserTab,\n    allowWebviews: this._allowWebviews,\n    allowDesktop: this._allowDesktop,\n    allowDesktopWebLogin: this._allowDesktopWebLogin,\n  });\n};\n\n/**\n * Returns a boolean indicating whether a Venmo tokenization result is ready to be processed immediately.\n *\n * This method should be called after initialization to see if the result of Venmo authorization is available. If it returns true, call {@link Venmo#tokenize|tokenize} immediately to process the results.\n *\n * @public\n * @returns {boolean} True if the results of Venmo payment authorization are available and ready to process.\n */\nVenmo.prototype.hasTokenizationResult = function () {\n  return this._hasTokenizationResult();\n};\n\n// a private version that lets us pass in a custom hash\n// when listening on a hashchange event\nVenmo.prototype._hasTokenizationResult = function (hash) {\n  var params = getFragmentParameters(hash);\n\n  return (\n    typeof (params.venmoSuccess || params.venmoError || params.venmoCancel) !==\n    \"undefined\"\n  );\n};\n\nVenmo.prototype._shouldIncludeReturnUrls = function () {\n  // when a deep link return url is passed, we should always\n  // respect it and include the return urls so the venmo app\n  // can app switch back to it\n  if (this._deepLinkReturnUrl) {\n    return true;\n  }\n\n  // when the sdk is initialized within an iframe, it's\n  // impossible to return back to the correct place automatically\n  // without also setting a deepLinkReturnUrl. When the return\n  // urls are omitted, the Venmo app prompts the user to return\n  // manually.\n  return !this._cannotHaveReturnUrls;\n};\n\nVenmo.prototype._isDesktop = function () {\n  return !(browserDetection.isIos() || browserDetection.isAndroid());\n};\n\n/**\n * Launches the Venmo flow and returns a nonce payload.\n *\n * If {@link Venmo#hasTokenizationResult|hasTokenizationResult} returns true, calling tokenize will immediately process and return the results without initiating the Venmo payment authorization flow.\n *\n * Only one Venmo flow can be active at a time. One way to achieve this is to disable your Venmo button while the flow is open.\n * @public\n * @param {object} [options] Options for tokenization.\n * @param {number} [options.processResultsDelay=500] The amount of time in milliseconds to delay processing the results. In most cases, this value should be left as the default.\n * @param {callback} [callback] The second argument, <code>data</code>, is a {@link Venmo~tokenizePayload|tokenizePayload}. If no callback is provided, the method will return a Promise that resolves with a {@link Venmo~tokenizePayload|tokenizePayload}.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * button.addEventListener('click', function () {\n *   // Disable the button so that we don't attempt to open multiple popups.\n *   button.setAttribute('disabled', 'disabled');\n *\n *   // Because tokenize opens a new window, this must be called\n *   // as a result of a user action, such as a button click.\n *   venmoInstance.tokenize().then(function (payload) {\n *     // Submit payload.nonce to your server\n *     // Use payload.username to get the Venmo username and display any UI\n *   }).catch(function (tokenizeError) {\n *     // Handle flow errors or premature flow closure\n *     switch (tokenizeErr.code) {\n *       case 'VENMO_APP_CANCELED':\n *         console.log('User canceled Venmo flow.');\n *         break;\n *       case 'VENMO_CANCELED':\n *         console.log('User canceled Venmo, or Venmo app is not available.');\n *         break;\n *       default:\n *         console.error('Error!', tokenizeErr);\n *     }\n *   }).then(function () {\n *     button.removeAttribute('disabled');\n *   });\n * });\n */\nVenmo.prototype.tokenize = function (options) {\n  var self = this;\n  var tokenizationPromise;\n\n  options = options || {};\n\n  if (this._tokenizationInProgress === true) {\n    return Promise.reject(\n      new BraintreeError(errors.VENMO_TOKENIZATION_REQUEST_ACTIVE)\n    );\n  }\n\n  this._tokenizationInProgress = true;\n  if (this._useDesktopQRFlow) {\n    // for the desktop flow, we create a venmo payment\n    // context and then present a qr code modal to the\n    // customer and they will open up their venmo app\n    // and scan it and approve the purchase on their\n    // mobile device. The sdk will start polling\n    // in order to determine when the status of the\n    // payment context has updated and then pass the\n    // resulting nonce back to the merchant.\n    tokenizationPromise = this._tokenizeForDesktopQRFlow(options);\n  } else if (this._useAllowDesktopWebLogin) {\n    /**\n     * For Desktop Web Login, we open a browser popup to allow for authorization. Once authorized, the redirect urls are used by Venmo, and we query the API for a payment context status update.\n     *\n     * - Payment context is created on initialization\n     * - Popup is opened to Venmo login url.\n     *  - The payment is authorized or canceled, and the popup is closed\n     * - Once the popup is closed, we query the API for a payment context status update\n     *\n     * This is an alternate, opt-in flow to be used the Desktop QR Flow is not desired for Pay with Venmo desktop experiences.\n     */\n    tokenizationPromise = this._tokenizeWebLoginWithRedirect();\n  } else if (this._cannotHaveReturnUrls) {\n    // in the manual return strategy, we create the payment\n    // context on initialization, then continually poll once\n    // the app switch begins until we get a response indiciating\n    // the payment context was approved by the customer on the\n    // Venmo app. The payment context response also includes a\n    // nonce. There are 2 cases where we use the manual return\n    // strategy:\n    // 1. the sdk is instantiated in an iframe, because\n    //    the venmo app is unable to redirect automatically\n    //    when that is the case so we rely on the customer\n    //    to do a manual redirect and continunally poll for\n    //    updates on the payment context to get the nonce\n    // 2. same deal for when `requireManualReturn` is configured\n    tokenizationPromise = this._tokenizeForMobileWithManualReturn();\n  } else {\n    // the default mobile flow is to app switch to the\n    // venmo app, and then have the venmo app switch\n    // back to the page with the venmo nonce details\n    // encoded into the hash portion of the url. If\n    // `paymentMethodUsage` is provided when instantiating\n    // the sdk, we also create a payment context and pass\n    // the resource id to the Venmo app during the app switch.\n    // Once we get a succesful return, we ping the payment\n    // context query to get any additional data needed\n    // to send back to the merchant.\n    tokenizationPromise =\n      this._tokenizeForMobileWithHashChangeListeners(options);\n  }\n\n  return tokenizationPromise\n    .then(function (payload) {\n      return self._createPromise\n        .then(function (client) {\n          return self._createVenmoPaymentContext(client);\n        })\n        .then(function () {\n          self._tokenizationInProgress = false;\n\n          return formatTokenizePayload(payload);\n        });\n    })\n    .catch(function (err) {\n      return self._createPromise\n        .then(function (client) {\n          // We create a new Payment Context because if the last one failed, then presumably we don't want to use it again.\n          // On the first pass, we create the payment context at initialization, and since we used that first one we now need to create a new one\n          // for the next time someone tries to tokenize.\n          return self._createVenmoPaymentContext(client);\n        })\n        .then(function () {\n          self._tokenizationInProgress = false;\n\n          return Promise.reject(err);\n        });\n    });\n};\n\n/**\n * Cancels the venmo tokenization process\n *\n * @public\n * @function Venmo~cancelTokenization\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * venmoTokenizeButton.addEventListener('click', function () {\n *   venmoInstance.tokenize().then(function (payload) {\n *     // handle payload\n *   }).catch(function (err) {\n *     if (err.code === 'VENMO_TOKENIZATION_CANCELED_BY_MERCHANT') {\n *       // tokenization was canceled by calling cancelTokenization\n *     }\n *   });\n * });\n *\n * venmoCancelButton.addEventListener('click', function () {\n *   // Hide the button when the venmo flow is not in progress\n *   venmoCancelButton.style.display = \"none\";\n *\n *   venmoInstance.cancelTokenization().then(function () {\n *     // done canceling the flow\n *   }).catch(function (err) {\n *     // should only get here if there is no tokenization in progress\n *   });\n * });\n */\nVenmo.prototype.cancelTokenization = function () {\n  if (!this._tokenizationInProgress) {\n    return Promise.reject(\n      new BraintreeError(errors.VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE)\n    );\n  }\n\n  this._removeVisibilityEventListener();\n\n  // important to reject the tokenization promise first\n  // so the tokenize method rejects with this error\n  // rather than a customer canceled error in the mobile\n  // polling and desktop flows\n  if (this._tokenizePromise) {\n    this._tokenizePromise.reject(\n      new BraintreeError(errors.VENMO_TOKENIZATION_CANCELED_BY_MERCHANT)\n    );\n  }\n\n  return Promise.all([\n    this._cancelMobilePaymentContext(),\n    this._cancelVenmoDesktopContext(),\n  ]);\n};\n\nVenmo.prototype._tokenizeWebLoginWithRedirect = function () {\n  var self = this;\n\n  analytics.sendEvent(self._createPromise, \"venmo.tokenize.web-login.start\");\n  this._tokenizePromise = new ExtendedPromise();\n\n  return this.getUrl().then(function (url) {\n    desktopWebLogin\n      .runWebLogin({\n        checkForStatusChange:\n          self._checkPaymentContextStatusAndProcessResult.bind(self),\n        cancelTokenization: self.cancelTokenization.bind(self),\n        frameServiceInstance: self._frameServiceInstance,\n        venmoUrl: url,\n        debug: self._isDebug,\n      })\n      .then(function (payload) {\n        analytics.sendEvent(\n          self._createPromise,\n          \"venmo.tokenize.web-login.success\"\n        );\n\n        self._tokenizePromise.resolve({\n          paymentMethodNonce: payload.paymentMethodId,\n          username: payload.userName,\n          payerInfo: payload.payerInfo,\n          id: self._venmoPaymentContextId,\n        });\n      })\n      .catch(function (err) {\n        analytics.sendEvent(\n          self._createPromise,\n          \"venmo.tokenize.web-login.failure\"\n        );\n\n        self._tokenizePromise.reject(err);\n      });\n\n    return self._tokenizePromise;\n  });\n};\n\nVenmo.prototype._queryPaymentContextStatus = function (id) {\n  var self = this;\n\n  return this._createPromise\n    .then(function (client) {\n      var query = self._shouldUseLegacyFlow\n        ? graphqlQueries.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY\n        : graphqlQueries.VENMO_PAYMENT_CONTEXT_STATUS_QUERY;\n\n      return client.request({\n        api: \"graphQLApi\",\n        data: {\n          query: query,\n          variables: {\n            id: id,\n          },\n        },\n      });\n    })\n    .then(function (response) {\n      return response.data.node;\n    });\n};\n\n/**\n * Queries the GraphQL API to get the payment context and process the status. Retries until there is an update to the payment context status.\n * @name Venmo~checkPaymentContextStatusAndProcessResult\n * @ignore\n * @param {number} retryCount The counter for tracking number of retries made against the API.\n * @returns {Promise} Returns a promise\n */\nVenmo.prototype._checkPaymentContextStatusAndProcessResult = function (\n  retryCount\n) {\n  var self = this;\n\n  return self\n    ._queryPaymentContextStatus(self._venmoPaymentContextId)\n    .catch(function (networkError) {\n      return Promise.reject(\n        new BraintreeError({\n          type: errors.VENMO_NETWORK_ERROR.type,\n          code: errors.VENMO_NETWORK_ERROR.code,\n          message: errors.VENMO_NETWORK_ERROR.message,\n          details: networkError,\n        })\n      );\n    })\n    .then(function (node) {\n      var resultStatus = node.status;\n\n      if (resultStatus !== self._venmoPaymentContextStatus) {\n        self._venmoPaymentContextStatus = resultStatus;\n\n        analytics.sendEvent(\n          self._createPromise,\n          \"venmo.tokenize.web-login.status-change\"\n        );\n\n        switch (resultStatus) {\n          case \"APPROVED\":\n            return Promise.resolve(node);\n          case \"CANCELED\":\n            return Promise.reject(\n              new BraintreeError(errors.VENMO_CUSTOMER_CANCELED)\n            );\n          case \"FAILED\":\n            return Promise.reject(\n              new BraintreeError(errors.VENMO_TOKENIZATION_FAILED)\n            );\n          default:\n        }\n      }\n\n      return new Promise(function (resolve, reject) {\n        if (retryCount < self._maxRetryCount) {\n          retryCount++;\n\n          return self\n            ._checkPaymentContextStatusAndProcessResult(retryCount)\n            .then(resolve)\n            .catch(reject);\n        }\n\n        return reject(new BraintreeError(errors.VENMO_TOKENIZATION_FAILED));\n      });\n    });\n};\n\nVenmo.prototype._pollForStatusChange = function () {\n  var self = this;\n\n  if (Date.now() > self._mobilePollingContextExpiresIn) {\n    return Promise.reject(\n      new BraintreeError(errors.VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT)\n    );\n  }\n\n  return this._queryPaymentContextStatus(this._venmoPaymentContextId)\n    .catch(function (networkError) {\n      return Promise.reject(\n        new BraintreeError({\n          type: errors.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.type,\n          code: errors.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.code,\n          message:\n            errors.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.message,\n          details: {\n            originalError: networkError,\n          },\n        })\n      );\n    })\n    .then(function (node) {\n      var newStatus = node.status;\n\n      if (newStatus !== self._venmoPaymentContextStatus) {\n        self._venmoPaymentContextStatus = newStatus;\n\n        analytics.sendEvent(\n          self._createPromise,\n          \"venmo.tokenize.manual-return.status-change.\" +\n            newStatus.toLowerCase()\n        );\n\n        switch (newStatus) {\n          case \"EXPIRED\":\n          case \"FAILED\":\n          case \"CANCELED\":\n            return Promise.reject(\n              new BraintreeError(\n                errors[\"VENMO_MOBILE_POLLING_TOKENIZATION_\" + newStatus]\n              )\n            );\n          case \"APPROVED\":\n            return Promise.resolve(node);\n          case \"CREATED\":\n          case \"SCANNED\":\n          default:\n          // any other statuses are irrelevant to the polling\n          // and can just be ignored\n        }\n      }\n\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          self._pollForStatusChange().then(resolve).catch(reject);\n        }, self._mobilePollingInterval);\n      });\n    });\n};\n\nVenmo.prototype._tokenizeForMobileWithManualReturn = function () {\n  var self = this;\n\n  analytics.sendEvent(\n    this._createPromise,\n    \"venmo.tokenize.manual-return.start\"\n  );\n\n  this._mobilePollingContextExpiresIn =\n    Date.now() + this._mobilePollingExpiresThreshold;\n  this._tokenizePromise = new ExtendedPromise();\n\n  this._pollForStatusChange()\n    .then(function (payload) {\n      analytics.sendEvent(\n        self._createPromise,\n        \"venmo.tokenize.manual-return.success\"\n      );\n\n      self._tokenizePromise.resolve({\n        paymentMethodNonce: payload.paymentMethodId,\n        username: payload.userName,\n        payerInfo: payload.payerInfo,\n        id: self._venmoPaymentContextId,\n      });\n    })\n    .catch(function (err) {\n      analytics.sendEvent(\n        self._createPromise,\n        \"venmo.tokenize.manual-return.failure\"\n      );\n\n      self._tokenizePromise.reject(err);\n    });\n\n  return this.getUrl().then(function (url) {\n    self.appSwitch(url);\n\n    return self._tokenizePromise;\n  });\n};\n\nVenmo.prototype._shouldUseRedirectStrategy = function () {\n  if (!browserDetection.isIos()) {\n    return false;\n  }\n\n  if (this._mobileWebFallBack === true) {\n    return true;\n  }\n\n  return this._useRedirectForIOS;\n};\n\nVenmo.prototype._tokenizeForMobileWithHashChangeListeners = function (options) {\n  var self = this;\n  var resultProcessingInProgress, visibilityChangeListenerTimeout;\n\n  if (this.hasTokenizationResult()) {\n    return this.processHashChangeFlowResults();\n  }\n\n  analytics.sendEvent(this._createPromise, \"venmo.tokenize.mobile.start\");\n  this._tokenizePromise = new ExtendedPromise();\n\n  this._previousHash = window.location.hash;\n\n  function completeFlow(hash) {\n    var error;\n\n    self\n      .processHashChangeFlowResults(hash)\n      .catch(function (err) {\n        error = err;\n      })\n      .then(function (res) {\n        if (\n          !self._ignoreHistoryChanges &&\n          window.location.hash !== self._previousHash\n        ) {\n          window.location.hash = self._previousHash;\n        }\n        self._removeVisibilityEventListener();\n\n        if (error) {\n          self._tokenizePromise.reject(error);\n        } else {\n          self._tokenizePromise.resolve(res);\n        }\n        delete self._tokenizePromise;\n      });\n  }\n\n  // The Venmo SDK app switches back with the results of the\n  // tokenization encoded in the hash\n  this._onHashChangeListener = function (e) {\n    var hash = e.newURL.split(\"#\")[1];\n\n    if (!self._hasTokenizationResult(hash)) {\n      return;\n    }\n\n    resultProcessingInProgress = true;\n    clearTimeout(visibilityChangeListenerTimeout);\n    completeFlow(hash);\n  };\n\n  window.addEventListener(\"hashchange\", this._onHashChangeListener, false);\n\n  // Subscribe to document visibility change events to detect when app switch\n  // has returned. Acts as a fallback for the hashchange listener and catches\n  // the cancel case via manual app switch back\n  this._visibilityChangeListener = function () {\n    var delay =\n      options.processResultsDelay || constants.DEFAULT_PROCESS_RESULTS_DELAY;\n\n    if (!window.document.hidden) {\n      if (!resultProcessingInProgress) {\n        visibilityChangeListenerTimeout = setTimeout(completeFlow, delay);\n      }\n    }\n  };\n\n  return this.getUrl().then(function (url) {\n    self.appSwitch(url);\n\n    // Add a brief delay to ignore visibility change events that occur right before app switch\n    setTimeout(function () {\n      window.document.addEventListener(\n        documentVisibilityChangeEventName(),\n        self._visibilityChangeListener\n      );\n    }, constants.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY);\n\n    return self._tokenizePromise;\n  });\n};\n\nVenmo.prototype._tokenizeForDesktopQRFlow = function () {\n  var self = this;\n\n  analytics.sendEvent(this._createPromise, \"venmo.tokenize.desktop.start\");\n\n  this._tokenizePromise = new ExtendedPromise();\n\n  this._createPromise\n    .then(function () {\n      return self._venmoDesktopInstance.launchDesktopFlow();\n    })\n    .then(function (payload) {\n      self._venmoDesktopInstance.hideDesktopFlow();\n\n      analytics.sendEvent(\n        self._createPromise,\n        \"venmo.tokenize.desktop.success\"\n      );\n\n      self._tokenizePromise.resolve(payload);\n    })\n    .catch(function (err) {\n      analytics.sendEvent(\n        self._createPromise,\n        \"venmo.tokenize.desktop.failure\"\n      );\n\n      if (self._venmoDesktopInstance) {\n        self._venmoDesktopInstance.hideDesktopFlow();\n      }\n\n      if (err && err.reason === \"CUSTOMER_CANCELED\") {\n        self._tokenizePromise.reject(\n          new BraintreeError(errors.VENMO_DESKTOP_CANCELED)\n        );\n\n        return;\n      }\n\n      self._tokenizePromise.reject(\n        new BraintreeError({\n          type: errors.VENMO_DESKTOP_UNKNOWN_ERROR.type,\n          code: errors.VENMO_DESKTOP_UNKNOWN_ERROR.code,\n          message: errors.VENMO_DESKTOP_UNKNOWN_ERROR.message,\n          details: {\n            originalError: err,\n          },\n        })\n      );\n    });\n\n  return this._tokenizePromise;\n};\n\nVenmo.prototype._cancelMobilePaymentContext = function () {\n  var self = this;\n\n  return this._createPromise.then(function (client) {\n    var query;\n\n    if (self._venmoPaymentContextId) {\n      query = self._shouldUseLegacyFlow\n        ? graphqlQueries.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY\n        : graphqlQueries.UPDATE_PAYMENT_CONTEXT_QUERY;\n\n      return client.request({\n        api: \"graphQLApi\",\n        data: {\n          query: query,\n          variables: {\n            input: {\n              id: self._venmoPaymentContextId,\n              status: \"CANCELED\",\n            },\n          },\n        },\n      });\n    }\n\n    return Promise.resolve();\n  });\n};\n\nVenmo.prototype._cancelVenmoDesktopContext = function () {\n  var self = this;\n\n  return this._createPromise.then(function () {\n    if (self._venmoDesktopInstance) {\n      self._venmoDesktopInstance.updateVenmoDesktopPaymentContext(\"CANCELED\");\n    }\n\n    return Promise.resolve();\n  });\n};\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/venmo.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * venmoInstance.teardown();\n * @example <caption>With callback</caption>\n * venmoInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nVenmo.prototype.teardown = function () {\n  var self = this;\n\n  this._removeVisibilityEventListener();\n\n  return this._createPromise.then(\n    function () {\n      if (self._venmoDesktopInstance) {\n        self._venmoDesktopInstance.teardown();\n      }\n\n      clearTimeout(self._refreshPaymentContextTimeout);\n      self._cancelMobilePaymentContext();\n\n      convertMethodsToError(this, methods(Venmo.prototype));\n    }.bind(this)\n  );\n};\n\nVenmo.prototype._removeVisibilityEventListener = function () {\n  window.removeEventListener(\"hashchange\", this._onHashChangeListener);\n  window.document.removeEventListener(\n    documentVisibilityChangeEventName(),\n    this._visibilityChangeListener\n  );\n\n  delete this._visibilityChangeListener;\n  delete this._onHashChangeListener;\n};\n\n/**\n * The hash parameter in this function is optional. If no hash parameter is passed, the `getFragmentParameters` function will default to the hash present in the website's URL instead.\n *\n * There are two scenarios where this method is called:\n *\n * 1. When called within a browser that is capable of returning to the same tab that started the Venmo flow, we set up a listener to detect hash changes in the url. Part of the return to the merchant's website from the Venmo app includes encoding the details of the purchase in the hash of the url. The callback is invoked and the hash is pulled off from the event payload. The reason we pull the hash off of the event payload instead of pulling it directly from the URL is because sometimes a single page app will use the hash parameter for it's routing system, and it's possible to hit a race condition where the routing code has already removed the Venmo specific attributes from the hash before we are able to pull it off the url. Grabbing the hash from the event handler instead ensures we get the Venmo details, no matter what the url is converted to.\n * 2. The other scenario is for browsers that cannot return to the same tab, and instead the Venmo app must open a new tab. Since there is no hash listener to pull the hash from, we pull the hash details directly from the url using the `getFragmentParameters` method.\n *\n * @ignore\n * @param {string} [hash] Optionally provided browser url hash.\n * @returns {Promise} Returns a promise\n */\nVenmo.prototype.processHashChangeFlowResults = function (hash) {\n  var self = this;\n  var params = getFragmentParameters(hash);\n\n  // NEXT_MAJOR_VERSION only rely on payment context status call and stop relying on the\n  // content of the hash\n\n  return new Promise(function (resolve, reject) {\n    if (!self._shouldUseLegacyFlow) {\n      self\n        ._pollForStatusChange()\n        .then(function (payload) {\n          analytics.sendEvent(\n            self._createPromise,\n            \"venmo.appswitch.handle.payment-context-status-query.success\"\n          );\n\n          return resolve({\n            paymentMethodNonce: payload.paymentMethodId,\n            username: payload.userName,\n            payerInfo: payload.payerInfo,\n            id: self._venmoPaymentContextId,\n          });\n        })\n        .catch(function (err) {\n          if (\n            err.type === errors.VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED.type\n          ) {\n            // We want to reject in this case because if it the process was canceled, we don't want to take the happy path\n            reject(err);\n          }\n\n          analytics.sendEvent(\n            self._createPromise,\n            \"venmo.process-results.payment-context-status-query-failed\"\n          );\n          // If the polling request fails, but not because of cancelization, we will rely on the params provided from the hash\n          resolve(params);\n        });\n    } else if (params.venmoSuccess) {\n      analytics.sendEvent(\n        self._createPromise,\n        \"venmo.appswitch.handle.success\"\n      );\n\n      resolve(params);\n    } else if (params.venmoError) {\n      analytics.sendEvent(self._createPromise, \"venmo.appswitch.handle.error\");\n      reject(\n        new BraintreeError({\n          type: errors.VENMO_APP_FAILED.type,\n          code: errors.VENMO_APP_FAILED.code,\n          message: errors.VENMO_APP_FAILED.message,\n          details: {\n            originalError: {\n              message: decodeURIComponent(params.errorMessage),\n              code: params.errorCode,\n            },\n          },\n        })\n      );\n    } else if (params.venmoCancel) {\n      analytics.sendEvent(self._createPromise, \"venmo.appswitch.handle.cancel\");\n      reject(new BraintreeError(errors.VENMO_APP_CANCELED));\n    } else {\n      // User has either manually switched back to browser, or app is not available for app switch\n      analytics.sendEvent(\n        self._createPromise,\n        \"venmo.appswitch.cancel-or-unavailable\"\n      );\n      reject(new BraintreeError(errors.VENMO_CANCELED));\n    }\n\n    self._clearFragmentParameters();\n  });\n};\n\nVenmo.prototype._clearFragmentParameters = function () {\n  if (this._ignoreHistoryChanges) {\n    return;\n  }\n\n  if (\n    typeof window.history.replaceState === \"function\" &&\n    window.location.hash\n  ) {\n    history.pushState(\n      {},\n      \"\",\n      window.location.href.slice(0, window.location.href.indexOf(\"#\"))\n    );\n  }\n};\n\nfunction getFragmentParameters(hash) {\n  var keyValuesArray = (hash || window.location.hash.substring(1)).split(\"&\");\n\n  var parsedParams = keyValuesArray.reduce(function (toReturn, keyValue) {\n    var parts = keyValue.split(\"=\");\n    // some Single Page Apps may pre-pend a / to the first value\n    // in the hash, assuming it's a route in their app\n    // instead of information from Venmo, this removes all\n    // non-alphanumeric characters from the keys in the params\n    var decodedKey = decodeURIComponent(parts[0]).replace(/\\W/g, \"\");\n    var key = snakeCaseToCamelCase(decodedKey);\n    var value = decodeURIComponent(parts[1]);\n\n    toReturn[key] = value;\n\n    return toReturn;\n  }, {});\n\n  if (parsedParams.resourceId) {\n    parsedParams.id = parsedParams.resourceId;\n  }\n\n  return parsedParams;\n}\n\nfunction formatUserName(username) {\n  username = username || \"\";\n\n  // NEXT_MAJOR_VERSION the web sdks have a prepended @ sign\n  // but the ios and android ones do not. This should be standardized\n  return \"@\" + username.replace(\"@\", \"\");\n}\n\nfunction formatTokenizePayload(payload) {\n  var formattedPayload = {\n    nonce: payload.paymentMethodNonce,\n    type: \"VenmoAccount\",\n    details: {\n      username: formatUserName(payload.username),\n      paymentContextId: payload.id,\n    },\n  };\n\n  if (payload.payerInfo) {\n    formattedPayload.details.payerInfo = payload.payerInfo;\n    formattedPayload.details.payerInfo.userName = formatUserName(\n      payload.payerInfo.userName\n    );\n  }\n\n  return formattedPayload;\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\nfunction documentVisibilityChangeEventName() {\n  var visibilityChange;\n\n  if (typeof window.document.hidden !== \"undefined\") {\n    // Opera 12.10 and Firefox 18 and later support\n    visibilityChange = \"visibilitychange\";\n  } else if (typeof window.document.msHidden !== \"undefined\") {\n    visibilityChange = \"msvisibilitychange\";\n  } else if (typeof window.document.webkitHidden !== \"undefined\") {\n    visibilityChange = \"webkitvisibilitychange\";\n  }\n\n  return visibilityChange;\n}\n\nfunction isIosWebviewInDeepLinkReturnUrlFlow() {\n  // we know it's a webview because this flow only gets\n  // used when checking the deep link flow\n  // test the platform here to get around custom useragents\n  return (\n    window.navigator.platform &&\n    /iPhone|iPad|iPod/.test(window.navigator.platform)\n  );\n}\n\nmodule.exports = wrapPromise.wrapPrototype(Venmo);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby92ZW5tby5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQkFBZ0IsbUJBQU8sQ0FBQyw2RUFBa0I7QUFDMUMseUJBQXlCLG1CQUFPLENBQUMsa0dBQXlCO0FBQzFELHVCQUF1QixtQkFBTyxDQUFDLHdHQUE0QjtBQUMzRCxnQkFBZ0IsbUJBQU8sQ0FBQyx3RkFBb0I7QUFDNUMsYUFBYSxtQkFBTyxDQUFDLGtGQUFpQjtBQUN0QyxrQkFBa0IsbUJBQU8sQ0FBQyxpRkFBb0I7QUFDOUMsdUJBQXVCLG1CQUFPLENBQUMsK0ZBQTJCO0FBQzFELGNBQWMsbUJBQU8sQ0FBQyx5RUFBZ0I7QUFDdEMsNEJBQTRCLG1CQUFPLENBQUMsMkdBQWlDO0FBQ3JFLGtCQUFrQixtQkFBTyxDQUFDLGtHQUF5QjtBQUNuRCxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBd0I7QUFDckQsZUFBZSxtQkFBTyxDQUFDLDZFQUFrQjtBQUN6QyxzQkFBc0IsbUJBQU8sQ0FBQyxtR0FBNkI7QUFDM0Qsa0JBQWtCLG1CQUFPLENBQUMsZ0dBQXdCO0FBQ2xELHNCQUFzQixtQkFBTyxDQUFDLDBHQUE2QjtBQUMzRCwyQkFBMkIsbUJBQU8sQ0FBQywyR0FBaUM7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMsK0VBQWE7QUFDOUMscUJBQXFCLG1CQUFPLENBQUMsd0ZBQW9COztBQUVqRDtBQUNBLDJDQUEyQztBQUMzQyxnREFBZ0Q7O0FBRWhEOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUSw2RkFBNkYscUhBQXFIO0FBQ3hPOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVEsbUJBQW1CLGdEQUFnRDtBQUN0RixtRUFBbUUsb0VBQW9FO0FBQ3ZJLG1FQUFtRSxtRUFBbUU7QUFDdEk7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxpREFBaUQ7O0FBRWpEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxxREFBcUQ7QUFDL0cscURBQXFELHFEQUFxRDtBQUMxRztBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5SUFBeUksK0JBQStCO0FBQ3hLO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTyx5REFBeUQ7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVUseURBQXlELDRDQUE0QyxxRkFBcUYsNENBQTRDO0FBQzNQLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPOztBQUVQO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHlDQUF5QywrQ0FBK0M7QUFDeEY7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUcsSUFBSTs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3RhdXJhbnQvLi9ub2RlX21vZHVsZXMvYnJhaW50cmVlLXdlYi92ZW5tby92ZW5tby5qcz84YzU2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgYW5hbHl0aWNzID0gcmVxdWlyZShcIi4uL2xpYi9hbmFseXRpY3NcIik7XG52YXIgaXNCcm93c2VyU3VwcG9ydGVkID0gcmVxdWlyZShcIi4vc2hhcmVkL3N1cHBvcnRzLXZlbm1vXCIpO1xudmFyIGJyb3dzZXJEZXRlY3Rpb24gPSByZXF1aXJlKFwiLi9zaGFyZWQvYnJvd3Nlci1kZXRlY3Rpb25cIik7XG52YXIgY29uc3RhbnRzID0gcmVxdWlyZShcIi4vc2hhcmVkL2NvbnN0YW50c1wiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi9zaGFyZWQvZXJyb3JzXCIpO1xudmFyIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZShcIi4uL2xpYi9xdWVyeXN0cmluZ1wiKTtcbnZhciBpc1ZlcmlmaWVkRG9tYWluID0gcmVxdWlyZShcIi4uL2xpYi9pcy12ZXJpZmllZC1kb21haW5cIik7XG52YXIgbWV0aG9kcyA9IHJlcXVpcmUoXCIuLi9saWIvbWV0aG9kc1wiKTtcbnZhciBjb252ZXJ0TWV0aG9kc1RvRXJyb3IgPSByZXF1aXJlKFwiLi4vbGliL2NvbnZlcnQtbWV0aG9kcy10by1lcnJvclwiKTtcbnZhciB3cmFwUHJvbWlzZSA9IHJlcXVpcmUoXCJAYnJhaW50cmVlL3dyYXAtcHJvbWlzZVwiKTtcbnZhciBCcmFpbnRyZWVFcnJvciA9IHJlcXVpcmUoXCIuLi9saWIvYnJhaW50cmVlLWVycm9yXCIpO1xudmFyIGluSWZyYW1lID0gcmVxdWlyZShcIi4uL2xpYi9pbi1pZnJhbWVcIik7XG52YXIgRXh0ZW5kZWRQcm9taXNlID0gcmVxdWlyZShcIkBicmFpbnRyZWUvZXh0ZW5kZWQtcHJvbWlzZVwiKTtcbnZhciBnZXRWZW5tb1VybCA9IHJlcXVpcmUoXCIuL3NoYXJlZC9nZXQtdmVubW8tdXJsXCIpO1xudmFyIGRlc2t0b3BXZWJMb2dpbiA9IHJlcXVpcmUoXCIuL3NoYXJlZC93ZWItbG9naW4tYmFja2Ryb3BcIik7XG52YXIgc25ha2VDYXNlVG9DYW1lbENhc2UgPSByZXF1aXJlKFwiLi4vbGliL3NuYWtlLWNhc2UtdG8tY2FtZWwtY2FzZVwiKTtcblxuLy8gTkVYVF9NQUpPUl9WRVJTSU9OIHRoZSBzb3VyY2UgY29kZSBmb3IgdGhpcyBpcyBhY3R1YWxseSBpbiBhXG4vLyB0eXBlc2NyaXB0IHJlcG8gY2FsbGVkIHZlbm1vLWRlc2t0b3AsIG9uY2UgdGhlIFNESyBpcyBtaWdyYXRlZFxuLy8gdG8gdHlwZXNjcmlwdCwgd2UgY2FuIG1vdmUgdGhlIFRTIGZpbGVzIG91dCBvZiB0aGF0IHNlcGFyYXRlXG4vLyByZXBvIGFuZCBpbnRvIHRoZSB3ZWIgU0RLIHByb3Blcmx5XG52YXIgY3JlYXRlVmVubW9EZXNrdG9wID0gcmVxdWlyZShcIi4vZXh0ZXJuYWwvXCIpO1xudmFyIGdyYXBocWxRdWVyaWVzID0gcmVxdWlyZShcIi4vZXh0ZXJuYWwvcXVlcmllc1wiKTtcblxudmFyIFZFUlNJT04gPSBcIjMuOTkuMFwiO1xudmFyIERFRkFVTFRfTU9CSUxFX1BPTExJTkdfSU5URVJWQUwgPSAyNTA7IC8vIDEvNCBzZWNvbmRcbnZhciBERUZBVUxUX01PQklMRV9FWFBJUklOR19USFJFU0hPTEQgPSAzMDAwMDA7IC8vIDUgbWludXRlc1xuXG5FeHRlbmRlZFByb21pc2Uuc3VwcHJlc3NVbmhhbmRsZWRQcm9taXNlTWVzc2FnZSA9IHRydWU7XG5cbi8qKlxuICogVmVubW8gdG9rZW5pemUgcGF5bG9hZC5cbiAqIEB0eXBlZGVmIHtvYmplY3R9IFZlbm1vfnRva2VuaXplUGF5bG9hZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5vbmNlIFRoZSBwYXltZW50IG1ldGhvZCBub25jZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSBwYXltZW50IG1ldGhvZCB0eXBlLCBhbHdheXMgYFZlbm1vQWNjb3VudGAuXG4gKiBAcHJvcGVydHkge29iamVjdH0gZGV0YWlscyBBZGRpdGlvbmFsIFZlbm1vIGFjY291bnQgZGV0YWlscy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLnVzZXJuYW1lIFRoZSB1c2VybmFtZSBvZiB0aGUgVmVubW8gYWNjb3VudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXRhaWxzLnBheW1lbnRDb250ZXh0SWQgVGhlIGNvbnRleHQgSUQgb2YgdGhlIFZlbm1vIHBheW1lbnQuIE9ubHkgYXZhaWxhYmxlIHdoZW4gdXNlZCB3aXRoIHtAbGluayBodHRwczovL2JyYWludHJlZS5naXRodWIuaW8vYnJhaW50cmVlLXdlYi9jdXJyZW50L21vZHVsZS1icmFpbnRyZWUtd2ViX3Zlbm1vLmh0bWwjLmNyZWF0ZXxgcGF5bWVudE1ldGhvZFVzYWdlYH0uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFRoZSBWZW5tbyB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvdmVubW8uY3JlYXRlIGNyZWF0ZX0gb3B0aW9ucy5cbiAqIEBkZXNjcmlwdGlvbiA8c3Ryb25nPkRvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gVXNlIHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi92ZW5tby5jcmVhdGV8YnJhaW50cmVlLXdlYi52ZW5tby5jcmVhdGV9IGluc3RlYWQuPC9zdHJvbmc+XG4gKiBAY2xhc3NkZXNjIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIFZlbm1vIGNvbXBvbmVudCBwcm9kdWNlZCBieSB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvdmVubW8uY3JlYXRlfGJyYWludHJlZS13ZWIvdmVubW8uY3JlYXRlfS4gSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgaGF2ZSBtZXRob2RzIGZvciB0b2tlbml6aW5nIFZlbm1vIHBheW1lbnRzLlxuICovXG5mdW5jdGlvbiBWZW5tbyhvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLl9hbGxvd0Rlc2t0b3BXZWJMb2dpbiA9IG9wdGlvbnMuYWxsb3dEZXNrdG9wV2ViTG9naW4gfHwgZmFsc2U7XG4gIHRoaXMuX21vYmlsZVdlYkZhbGxCYWNrID0gb3B0aW9ucy5tb2JpbGVXZWJGYWxsQmFjayB8fCBmYWxzZTtcbiAgdGhpcy5fY3JlYXRlUHJvbWlzZSA9IG9wdGlvbnMuY3JlYXRlUHJvbWlzZTtcbiAgdGhpcy5fYWxsb3dOZXdCcm93c2VyVGFiID0gb3B0aW9ucy5hbGxvd05ld0Jyb3dzZXJUYWIgIT09IGZhbHNlO1xuICB0aGlzLl9hbGxvd1dlYnZpZXdzID0gb3B0aW9ucy5hbGxvd1dlYnZpZXdzICE9PSBmYWxzZTtcbiAgdGhpcy5fYWxsb3dEZXNrdG9wID0gb3B0aW9ucy5hbGxvd0Rlc2t0b3AgPT09IHRydWU7XG4gIHRoaXMuX3VzZVJlZGlyZWN0Rm9ySU9TID0gb3B0aW9ucy51c2VSZWRpcmVjdEZvcklPUyA9PT0gdHJ1ZTtcbiAgdGhpcy5fcHJvZmlsZUlkID0gb3B0aW9ucy5wcm9maWxlSWQ7XG4gIHRoaXMuX2Rpc3BsYXlOYW1lID0gb3B0aW9ucy5kaXNwbGF5TmFtZTtcbiAgdGhpcy5fZGVlcExpbmtSZXR1cm5VcmwgPSBvcHRpb25zLmRlZXBMaW5rUmV0dXJuVXJsO1xuICB0aGlzLl9pZ25vcmVIaXN0b3J5Q2hhbmdlcyA9IG9wdGlvbnMuaWdub3JlSGlzdG9yeUNoYW5nZXM7XG4gIHRoaXMuX3BheW1lbnRNZXRob2RVc2FnZSA9IChvcHRpb25zLnBheW1lbnRNZXRob2RVc2FnZSB8fCBcIlwiKS50b1VwcGVyQ2FzZSgpO1xuICB0aGlzLl9zaG91bGRVc2VMZWdhY3lGbG93ID0gIXRoaXMuX3BheW1lbnRNZXRob2RVc2FnZTtcbiAgdGhpcy5fcmVxdWlyZU1hbnVhbFJldHVybiA9IG9wdGlvbnMucmVxdWlyZU1hbnVhbFJldHVybiA9PT0gdHJ1ZTtcbiAgdGhpcy5fdXNlRGVza3RvcFFSRmxvdyA9XG4gICAgdGhpcy5fYWxsb3dEZXNrdG9wICYmIHRoaXMuX2lzRGVza3RvcCgpICYmICF0aGlzLl9hbGxvd0Rlc2t0b3BXZWJMb2dpbjtcbiAgdGhpcy5fdXNlQWxsb3dEZXNrdG9wV2ViTG9naW4gPVxuICAgIHRoaXMuX2FsbG93RGVza3RvcFdlYkxvZ2luICYmIHRoaXMuX2lzRGVza3RvcCgpO1xuICB0aGlzLl9jYW5ub3RIYXZlUmV0dXJuVXJscyA9IGluSWZyYW1lKCkgfHwgdGhpcy5fcmVxdWlyZU1hbnVhbFJldHVybjtcbiAgdGhpcy5fYWxsb3dBbmRyb2lkUmVjcmVhdGlvbiA9IG9wdGlvbnMuYWxsb3dBbmRyb2lkUmVjcmVhdGlvbiAhPT0gZmFsc2U7XG4gIHRoaXMuX21heFJldHJ5Q291bnQgPSAzO1xuICB0aGlzLl9jb2xsZWN0Q3VzdG9tZXJCaWxsaW5nQWRkcmVzcyA9XG4gICAgb3B0aW9ucy5jb2xsZWN0Q3VzdG9tZXJCaWxsaW5nQWRkcmVzcyB8fCBmYWxzZTtcbiAgdGhpcy5fY29sbGVjdEN1c3RvbWVyU2hpcHBpbmdBZGRyZXNzID1cbiAgICBvcHRpb25zLmNvbGxlY3RDdXN0b21lclNoaXBwaW5nQWRkcmVzcyB8fCBmYWxzZTtcbiAgdGhpcy5fbGluZUl0ZW1zID0gb3B0aW9ucy5saW5lSXRlbXM7XG4gIHRoaXMuX3N1YlRvdGFsQW1vdW50ID0gb3B0aW9ucy5zdWJUb3RhbEFtb3VudDtcbiAgdGhpcy5fZGlzY291bnRBbW91bnQgPSBvcHRpb25zLmRpc2NvdW50QW1vdW50O1xuICB0aGlzLl90YXhBbW91bnQgPSBvcHRpb25zLnRheEFtb3VudDtcbiAgdGhpcy5fc2hpcHBpbmdBbW91bnQgPSBvcHRpb25zLnNoaXBwaW5nQW1vdW50O1xuICB0aGlzLl90b3RhbEFtb3VudCA9IG9wdGlvbnMudG90YWxBbW91bnQ7XG5cbiAgdGhpcy5fc2hvdWxkQ3JlYXRlVmVubW9QYXltZW50Q29udGV4dCA9XG4gICAgdGhpcy5fY2Fubm90SGF2ZVJldHVyblVybHMgfHwgIXRoaXMuX3Nob3VsZFVzZUxlZ2FjeUZsb3c7XG5cbiAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICB0aGlzLl9jcmVhdGVQcm9taXNlLFxuICAgIFwidmVubW8uZGVza3RvcC1mbG93LmNvbmZpZ3VyZWQuXCIgKyBTdHJpbmcoQm9vbGVhbih0aGlzLl9hbGxvd0Rlc2t0b3ApKVxuICApO1xuXG4gIC8vIGlmIHRoZSB1cmwgaGFzIGEgdG9rZW5pemF0aW9uIHJlc3VsdCwgdGhhdCBpbmRpY2F0ZXNcbiAgLy8gdGhhdCBpdCBjYW5ub3QgYmUgdGhlIGRlc2t0b3AgZmxvdyBvciB0aGUgbWFudWFsIHJldHVyblxuICAvLyBmbG93LiBJZiBpdCdzIHRoZSBoYXNoIGNoYW5nZSB3aXRoIHBheW1lbnRNZXRob2RVc2FnZVxuICAvLyBmbG93LCB3ZSB3YW50IHRvIHNraXAgY3JlYXRpbmcgYSBuZXcgcGF5bWVudCBjb250ZXh0LCBzaW5jZVxuICAvLyB0aGVyZSBpcyBhbHJlYWR5IGEgcGVuZGluZyBwYXltZW50IGNvbnRleHQgd2FpdGluZyB0byBiZVxuICAvLyBwcm9jZXNzZWQuIEZvciB0aGUgaGFzaCBjaGFuZ2UgZmxvdyB3aXRob3V0IHBheW1lbnRNZXRob2RVc2FnZSxcbiAgLy8gbm8gZnVydGhlciBhY3Rpb25zIGFyZSBuZWVkZWQuXG4gIGlmICh0aGlzLmhhc1Rva2VuaXphdGlvblJlc3VsdCgpKSB7XG4gICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgIHRoaXMuX2NyZWF0ZVByb21pc2UsXG4gICAgICBcInZlbm1vLmFwcHN3aXRjaC5yZXR1cm4taW4tbmV3LXRhYlwiXG4gICAgKTtcbiAgfSBlbHNlIGlmICh0aGlzLl91c2VEZXNrdG9wUVJGbG93KSB7XG4gICAgdGhpcy5fY3JlYXRlUHJvbWlzZSA9IHRoaXMuX2NyZWF0ZVByb21pc2UudGhlbihmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICB2YXIgY29uZmlnID0gY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKS5nYXRld2F5Q29uZmlndXJhdGlvbjtcblxuICAgICAgcmV0dXJuIGNyZWF0ZVZlbm1vRGVza3RvcCh7XG4gICAgICAgIHVybDpcbiAgICAgICAgICBjb25maWcuYXNzZXRzVXJsICtcbiAgICAgICAgICBcIi93ZWIvXCIgK1xuICAgICAgICAgIFZFUlNJT04gK1xuICAgICAgICAgIFwiL2h0bWwvdmVubW8tZGVza3RvcC1mcmFtZS5odG1sXCIsXG4gICAgICAgIGVudmlyb25tZW50OlxuICAgICAgICAgIGNvbmZpZy5lbnZpcm9ubWVudCA9PT0gXCJwcm9kdWN0aW9uXCIgPyBcIlBST0RVQ1RJT05cIiA6IFwiU0FOREJPWFwiLFxuICAgICAgICBwcm9maWxlSWQ6IHNlbGYuX3Byb2ZpbGVJZCB8fCBjb25maWcucGF5V2l0aFZlbm1vLm1lcmNoYW50SWQsXG4gICAgICAgIHBheW1lbnRNZXRob2RVc2FnZTogc2VsZi5fcGF5bWVudE1ldGhvZFVzYWdlLFxuICAgICAgICBkaXNwbGF5TmFtZTogc2VsZi5fZGlzcGxheU5hbWUsXG4gICAgICAgIFByb21pc2U6IFByb21pc2UsXG4gICAgICAgIGFwaVJlcXVlc3Q6IGZ1bmN0aW9uIChxdWVyeSwgZGF0YSkge1xuICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgYXBpOiBcImdyYXBoUUxBcGlcIixcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IGRhdGEsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbmRFdmVudDogZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoc2VsZi5fY3JlYXRlUHJvbWlzZSwgZXZlbnROYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmVyaWZ5RG9tYWluOiBpc1ZlcmlmaWVkRG9tYWluLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZlbm1vRGVza3RvcEluc3RhbmNlKSB7XG4gICAgICAgICAgc2VsZi5fdmVubW9EZXNrdG9wSW5zdGFuY2UgPSB2ZW5tb0Rlc2t0b3BJbnN0YW5jZTtcbiAgICAgICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgICAgIFwidmVubW8uZGVza3RvcC1mbG93LnByZXNlbnRlZFwiXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICAgICAgICBcInZlbm1vLmRlc2t0b3AtZmxvdy5zZXR1cC1mYWlsZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2VsZi5fdXNlRGVza3RvcFFSRmxvdyA9IGZhbHNlO1xuXG4gICAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodGhpcy5fc2hvdWxkQ3JlYXRlVmVubW9QYXltZW50Q29udGV4dCkge1xuICAgIC8vIHRoZXNlIHZhcmlhYmxlcyBhcmUgb25seSByZWxldmFudCBmb3IgdGhlIG1hbnVhbCByZXR1cm4gZmxvd1xuICAgIC8vIGFuZCB0aGV5IGFyZSBvbmx5IHNldCB0byBtYWtlIHRlc3RpbmcgZWFzaWVyIChzbyB0aGV5IGNhblxuICAgIC8vIGJlIG92ZXJ3cml0dGVuIHdpdGggc21hbGxlciB2YWx1ZXMgaW4gdGhlIHRlc3RzKVxuICAgIHRoaXMuX21vYmlsZVBvbGxpbmdJbnRlcnZhbCA9IERFRkFVTFRfTU9CSUxFX1BPTExJTkdfSU5URVJWQUw7XG4gICAgdGhpcy5fbW9iaWxlUG9sbGluZ0V4cGlyZXNUaHJlc2hvbGQgPSBERUZBVUxUX01PQklMRV9FWFBJUklOR19USFJFU0hPTEQ7XG5cbiAgICB0aGlzLl9jcmVhdGVQcm9taXNlID0gdGhpcy5fY3JlYXRlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHZhciBwYXltZW50Q29udGV4dFByb21pc2UsIHdlYkxvZ2luUHJvbWlzZTtcbiAgICAgIHZhciBhbmFseXRpY3NDYXRlZ29yeSA9IHNlbGYuX2Nhbm5vdEhhdmVSZXR1cm5VcmxzXG4gICAgICAgID8gXCJtYW51YWwtcmV0dXJuXCJcbiAgICAgICAgOiBcIm1vYmlsZS1wYXltZW50LWNvbnRleHRcIjtcbiAgICAgIHZhciBjb25maWcgPSBjbGllbnQuZ2V0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgICB3ZWJMb2dpblByb21pc2UgPSBkZXNrdG9wV2ViTG9naW5cbiAgICAgICAgLnNldHVwRGVza3RvcFdlYkxvZ2luKHtcbiAgICAgICAgICBhc3NldHNVcmw6IGNvbmZpZy5nYXRld2F5Q29uZmlndXJhdGlvbi5hc3NldHNVcmwsXG4gICAgICAgICAgZGVidWc6IGNvbmZpZy5pc0RlYnVnLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZnJhbWVTZXJ2aWNlSW5zdGFuY2UpIHtcbiAgICAgICAgICBzZWxmLl9mcmFtZVNlcnZpY2VJbnN0YW5jZSA9IGZyYW1lU2VydmljZUluc3RhbmNlO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGRlc2t0b3BXZWJFcnIpIHtcbiAgICAgICAgICByZXR1cm4gZGVza3RvcFdlYkVycjtcbiAgICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX21vYmlsZVBvbGxpbmdDb250ZXh0RW52aXJvbm1lbnQgPVxuICAgICAgICBjb25maWcuZ2F0ZXdheUNvbmZpZ3VyYXRpb24uZW52aXJvbm1lbnQudG9VcHBlckNhc2UoKTtcblxuICAgICAgcGF5bWVudENvbnRleHRQcm9taXNlID0gc2VsZlxuICAgICAgICAuX2NyZWF0ZVZlbm1vUGF5bWVudENvbnRleHQoY2xpZW50KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICAgICAgICBcInZlbm1vLlwiICsgYW5hbHl0aWNzQ2F0ZWdvcnkgKyBcIi5wcmVzZW50ZWRcIlxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICAgICAgXCJ2ZW5tby5cIiArIGFuYWx5dGljc0NhdGVnb3J5ICsgXCIuc2V0dXAtZmFpbGVkXCJcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICAgICAgdHlwZTogZXJyb3JzLlZFTk1PX01PQklMRV9QQVlNRU5UX0NPTlRFWFRfU0VUVVBfRkFJTEVELnR5cGUsXG4gICAgICAgICAgICAgIGNvZGU6IGVycm9ycy5WRU5NT19NT0JJTEVfUEFZTUVOVF9DT05URVhUX1NFVFVQX0ZBSUxFRC5jb2RlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBpc1ZhbGlkYXRpb25FcnJvcihlcnIpXG4gICAgICAgICAgICAgICAgPyBlcnIuZGV0YWlscy5vcmlnaW5hbEVycm9yWzBdLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICA6IGVycm9ycy5WRU5NT19NT0JJTEVfUEFZTUVOVF9DT05URVhUX1NFVFVQX0ZBSUxFRC5tZXNzYWdlLFxuICAgICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIEV4dGVuZGVkUHJvbWlzZS5hbGwoW3dlYkxvZ2luUHJvbWlzZSwgcGF5bWVudENvbnRleHRQcm9taXNlXSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICB2YXIgcGF5bWVudENvbnRleHRSZXN1bHQgPSByZXN1bHRzWzFdOyAvLyBXZSBvbmx5IGNhcmUgYWJvdXQgdGhlIHJldHVybmVkIHZhbHVlIG9mIHRoZSBwYXltZW50Q29udGV4dFByb21pc2VcblxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGF5bWVudENvbnRleHRSZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHByb21pc2VFcnIpIHtcbiAgICAgICAgICAvLyBFeHRlbmRlZFByb21pc2UuYWxsIHJldHVybnMganVzdCBvbmUgZXJyb3IgYW5kIGl0J3MgZWl0aGVyIHdoaWNoIGZhaWxzIGZpcnN0L2F0IGFsbC5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocHJvbWlzZUVycik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRhdGlvbkVycm9yKGVycikge1xuICByZXR1cm4gKFxuICAgIGVyci5kZXRhaWxzICYmXG4gICAgZXJyLmRldGFpbHMub3JpZ2luYWxFcnJvciAmJlxuICAgIGVyci5kZXRhaWxzLm9yaWdpbmFsRXJyb3JbMF0gJiZcbiAgICBlcnIuZGV0YWlscy5vcmlnaW5hbEVycm9yWzBdLmV4dGVuc2lvbnMgJiZcbiAgICBlcnIuZGV0YWlscy5vcmlnaW5hbEVycm9yWzBdLmV4dGVuc2lvbnMuZXJyb3JDbGFzcyA9PT0gXCJWQUxJREFUSU9OXCIgJiZcbiAgICBlcnIuZGV0YWlscy5vcmlnaW5hbEVycm9yWzBdLmV4dGVuc2lvbnMuZXJyb3JUeXBlID09PSBcInVzZXJfZXJyb3JcIlxuICApO1xufVxuXG5WZW5tby5wcm90b3R5cGUuX2NyZWF0ZVZlbm1vUGF5bWVudENvbnRleHQgPSBmdW5jdGlvbiAoXG4gIGNsaWVudCxcbiAgY2FuY2VsSWZUb2tlbml6YXRpb25JblByb2dyZXNzXG4pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSwgdHJhbnNhY3Rpb25EZXRhaWxzO1xuICB2YXIgY29uZmlndXJhdGlvbiA9IGNsaWVudC5nZXRDb25maWd1cmF0aW9uKCk7XG4gIHZhciB2ZW5tb0NvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uLmdhdGV3YXlDb25maWd1cmF0aW9uLnBheVdpdGhWZW5tbztcbiAgdmFyIHRyYW5zYWN0aW9uRGV0YWlsc1ByZXNlbnQgPSBmYWxzZTtcblxuICBpZiAoIXRoaXMuX3Nob3VsZENyZWF0ZVZlbm1vUGF5bWVudENvbnRleHQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBpZiAodGhpcy5fc2hvdWxkVXNlTGVnYWN5Rmxvdykge1xuICAgIHByb21pc2UgPSBjbGllbnRcbiAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgYXBpOiBcImdyYXBoUUxBcGlcIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHF1ZXJ5OiBncmFwaHFsUXVlcmllcy5MRUdBQ1lfQ1JFQVRFX1BBWU1FTlRfQ09OVEVYVF9RVUVSWSxcbiAgICAgICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgIGVudmlyb25tZW50OiB0aGlzLl9tb2JpbGVQb2xsaW5nQ29udGV4dEVudmlyb25tZW50LFxuICAgICAgICAgICAgICBpbnRlbnQ6IFwiUEFZX0ZST01fQVBQXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgICAgIC5kYXRhLmNyZWF0ZVZlbm1vUVJDb2RlUGF5bWVudENvbnRleHQudmVubW9RUkNvZGVQYXltZW50Q29udGV4dDtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vIE1lcmNoYW50cyBhcmUgbm90IGFsbG93ZWQgdG8gY29sbGVjdCB1c2VyIGFkZHJlc3NlcyB1bmxlc3MgRUNEIChFbnJpY2hlZCBDdXN0b21lciBEYXRhKSBpcyBlbmFibGVkIG9uIHRoZSBCVCBDb250cm9sIFBhbmVsLlxuICAgIGlmIChcbiAgICAgICh0aGlzLl9jb2xsZWN0Q3VzdG9tZXJCaWxsaW5nQWRkcmVzcyB8fFxuICAgICAgICB0aGlzLl9jb2xsZWN0Q3VzdG9tZXJTaGlwcGluZ0FkZHJlc3MpICYmXG4gICAgICAhdmVubW9Db25maWd1cmF0aW9uLmVucmljaGVkQ3VzdG9tZXJEYXRhRW5hYmxlZFxuICAgICkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVkVOTU9fRUNEX0RJU0FCTEVEKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xpbmVJdGVtcykge1xuICAgICAgdGhpcy5fbGluZUl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaXRlbS51bml0VGF4QW1vdW50ID0gaXRlbS51bml0VGF4QW1vdW50IHx8IFwiMFwiO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRyYW5zYWN0aW9uRGV0YWlscyA9IHtcbiAgICAgIHN1YlRvdGFsQW1vdW50OiB0aGlzLl9zdWJUb3RhbEFtb3VudCxcbiAgICAgIGRpc2NvdW50QW1vdW50OiB0aGlzLl9kaXNjb3VudEFtb3VudCxcbiAgICAgIHRheEFtb3VudDogdGhpcy5fdGF4QW1vdW50LFxuICAgICAgc2hpcHBpbmdBbW91bnQ6IHRoaXMuX3NoaXBwaW5nQW1vdW50LFxuICAgICAgdG90YWxBbW91bnQ6IHRoaXMuX3RvdGFsQW1vdW50LFxuICAgICAgbGluZUl0ZW1zOiB0aGlzLl9saW5lSXRlbXMsXG4gICAgfTtcbiAgICB0cmFuc2FjdGlvbkRldGFpbHNQcmVzZW50ID0gT2JqZWN0LmtleXModHJhbnNhY3Rpb25EZXRhaWxzKS5zb21lKGZ1bmN0aW9uIChcbiAgICAgIGRldGFpbFxuICAgICkge1xuICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRGV0YWlsc1tkZXRhaWxdICE9PSB1bmRlZmluZWQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZpbmVkXG4gICAgfSk7XG4gICAgcHJvbWlzZSA9IGNsaWVudFxuICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICBhcGk6IFwiZ3JhcGhRTEFwaVwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcXVlcnk6IGdyYXBocWxRdWVyaWVzLkNSRUFURV9QQVlNRU5UX0NPTlRFWFRfUVVFUlksXG4gICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICBwYXltZW50TWV0aG9kVXNhZ2U6IHRoaXMuX3BheW1lbnRNZXRob2RVc2FnZSxcbiAgICAgICAgICAgICAgaW50ZW50OiBcIkNPTlRJTlVFXCIsXG4gICAgICAgICAgICAgIGN1c3RvbWVyQ2xpZW50OiBcIk1PQklMRV9XRUJcIixcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHRoaXMuX2Rpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICBwYXlzaGVldERldGFpbHM6IHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0Q3VzdG9tZXJCaWxsaW5nQWRkcmVzczpcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RDdXN0b21lckJpbGxpbmdBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNvbGxlY3RDdXN0b21lclNoaXBwaW5nQWRkcmVzczpcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RDdXN0b21lclNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkRldGFpbHM6IHRyYW5zYWN0aW9uRGV0YWlsc1ByZXNlbnRcbiAgICAgICAgICAgICAgICAgID8gdHJhbnNhY3Rpb25EZXRhaWxzXG4gICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZmluZWRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY3JlYXRlVmVubW9QYXltZW50Q29udGV4dC52ZW5tb1BheW1lbnRDb250ZXh0O1xuICAgICAgfSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgdmFyIGV4cGlyZWRUaW1lID0gbmV3IERhdGUoY29udGV4dC5leHBpcmVzQXQpIC0gbmV3IERhdGUoY29udGV4dC5jcmVhdGVkQXQpO1xuICAgIHZhciByZWZyZXNoSW4gPSBleHBpcmVkVGltZSAqIDAuNjY2NjtcblxuICAgIC8vIHByZXZlbnRzIG11bHRpcGxlIHNldFRpbWVvdXRzIGZyb20gZmlyaW5nIGZyb20gc2VwYXJhdGUgY2FsbHNcbiAgICAvLyB0byBjcmVhdGUgYSBwYXltZW50IGNvbnRleHQgYnkgY2FuY2VsaW5nIHRoZSBwcmV2aW91cyBvbmVcbiAgICAvLyBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgY2FsbFxuICAgIGNsZWFyVGltZW91dChzZWxmLl9yZWZyZXNoUGF5bWVudENvbnRleHRUaW1lb3V0KTtcbiAgICBzZWxmLl9yZWZyZXNoUGF5bWVudENvbnRleHRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5fdG9rZW5pemF0aW9uSW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWxmLl9jcmVhdGVWZW5tb1BheW1lbnRDb250ZXh0KGNsaWVudCwgdHJ1ZSk7XG4gICAgfSwgcmVmcmVzaEluKTtcblxuICAgIGlmIChjYW5jZWxJZlRva2VuaXphdGlvbkluUHJvZ3Jlc3MgJiYgc2VsZi5fdG9rZW5pemF0aW9uSW5Qcm9ncmVzcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYuX3Zlbm1vUGF5bWVudENvbnRleHRTdGF0dXMgPSBjb250ZXh0LnN0YXR1cztcbiAgICBzZWxmLl92ZW5tb1BheW1lbnRDb250ZXh0SWQgPSBjb250ZXh0LmlkO1xuICB9KTtcbn07XG5cblZlbm1vLnByb3RvdHlwZS5hcHBTd2l0Y2ggPSBmdW5jdGlvbiAodXJsKSB7XG4gIGlmICh0aGlzLl9kZWVwTGlua1JldHVyblVybCkge1xuICAgIGlmIChpc0lvc1dlYnZpZXdJbkRlZXBMaW5rUmV0dXJuVXJsRmxvdygpKSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICB0aGlzLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcInZlbm1vLmFwcHN3aXRjaC5zdGFydC5pb3Mtd2Vidmlld1wiXG4gICAgICApO1xuICAgICAgLy8gRGVlcCBsaW5rIFVSTHMgZG8gbm90IGxhdW5jaCBpT1MgYXBwcyBmcm9tIGEgd2VidmlldyB3aGVuIHVzaW5nIHdpbmRvdy5vcGVuIG9yIFBvcHVwQnJpZGdlLm9wZW4uXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgd2luZG93LnBvcHVwQnJpZGdlICYmXG4gICAgICB0eXBlb2Ygd2luZG93LnBvcHVwQnJpZGdlLm9wZW4gPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgdGhpcy5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgXCJ2ZW5tby5hcHBzd2l0Y2guc3RhcnQucG9wdXAtYnJpZGdlXCJcbiAgICAgICk7XG4gICAgICB3aW5kb3cucG9wdXBCcmlkZ2Uub3Blbih1cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KHRoaXMuX2NyZWF0ZVByb21pc2UsIFwidmVubW8uYXBwc3dpdGNoLnN0YXJ0LndlYnZpZXdcIik7XG4gICAgICB3aW5kb3cub3Blbih1cmwpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhbmFseXRpY3Muc2VuZEV2ZW50KHRoaXMuX2NyZWF0ZVByb21pc2UsIFwidmVubW8uYXBwc3dpdGNoLnN0YXJ0LmJyb3dzZXJcIik7XG5cbiAgICBpZiAoXG4gICAgICBicm93c2VyRGV0ZWN0aW9uLmRvZXNOb3RTdXBwb3J0V2luZG93T3BlbkluSW9zKCkgfHxcbiAgICAgIHRoaXMuX3Nob3VsZFVzZVJlZGlyZWN0U3RyYXRlZ3koKVxuICAgICkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5vcGVuKHVybCk7XG4gICAgfVxuICB9XG59O1xuXG5WZW5tby5wcm90b3R5cGUuZ2V0VXJsID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fY3JlYXRlUHJvbWlzZS50aGVuKFxuICAgIGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHZhciBjb25maWd1cmF0aW9uID0gY2xpZW50LmdldENvbmZpZ3VyYXRpb24oKTtcbiAgICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICAgIHZhciBjdXJyZW50VXJsID1cbiAgICAgICAgdGhpcy5fZGVlcExpbmtSZXR1cm5VcmwgfHxcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uaGFzaCwgXCJcIik7XG4gICAgICB2YXIgdmVubW9Db25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbi5nYXRld2F5Q29uZmlndXJhdGlvbi5wYXlXaXRoVmVubW87XG4gICAgICB2YXIgYW5hbHl0aWNzTWV0YWRhdGEgPSBjb25maWd1cmF0aW9uLmFuYWx5dGljc01ldGFkYXRhO1xuICAgICAgdmFyIGFjY2Vzc1Rva2VuID0gdmVubW9Db25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuO1xuICAgICAgdmFyIGJyYWludHJlZURhdGEgPSB7XG4gICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgdmVyc2lvbjogYW5hbHl0aWNzTWV0YWRhdGEuc2RrVmVyc2lvbixcbiAgICAgICAgICBpbnRlZ3JhdGlvbjogYW5hbHl0aWNzTWV0YWRhdGEuaW50ZWdyYXRpb24sXG4gICAgICAgICAgcGxhdGZvcm06IGFuYWx5dGljc01ldGFkYXRhLnBsYXRmb3JtLFxuICAgICAgICAgIHNlc3Npb25JZDogYW5hbHl0aWNzTWV0YWRhdGEuc2Vzc2lvbklkLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgdGhpcy5faXNEZWJ1ZyA9IGNvbmZpZ3VyYXRpb24uaXNEZWJ1ZztcbiAgICAgIHRoaXMuX2Fzc2V0c1VybCA9IGNvbmZpZ3VyYXRpb24uZ2F0ZXdheUNvbmZpZ3VyYXRpb24uYXNzZXRzVXJsO1xuXG4gICAgICBjdXJyZW50VXJsID0gY3VycmVudFVybC5yZXBsYWNlKC8jKiQvLCBcIlwiKTtcblxuICAgICAgLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4gICAgICBpZiAodGhpcy5fdmVubW9QYXltZW50Q29udGV4dElkKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRVc2VMZWdhY3lGbG93KSB7XG4gICAgICAgICAgLy8gTkVYVF9NQUpPUl9WRVJTSU9OIHN0b3AgYWRkaW5nIHRoZSBjb250ZXh0IGlkIHRvIHRoZSBhY2Nlc3MgdG9rZW4uXG4gICAgICAgICAgLy8gdGhlIGNvbnRleHQgaWQgaXMgcGxhY2VkIGhlcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmxpdHlcbiAgICAgICAgICAvLyB3aXRoIHZlcnNpb25zIG9mIHRoZSB2ZW5tbyBhcHAgdGhhdCBkaWQgbm90IHN1cHBvcnRcbiAgICAgICAgICAvLyBwdWxsaW5nIHRoZSByZXNvdXJjZSBpZCBvZmYgb2YgdGhlIHF1ZXJ5IHBhcmFtc1xuICAgICAgICAgIGFjY2Vzc1Rva2VuICs9IFwifHBjaWQ6XCIgKyB0aGlzLl92ZW5tb1BheW1lbnRDb250ZXh0SWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW1zLnJlc291cmNlX2lkID0gdGhpcy5fdmVubW9QYXltZW50Q29udGV4dElkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9zaG91bGRJbmNsdWRlUmV0dXJuVXJscygpIHx8IHRoaXMuX3VzZUFsbG93RGVza3RvcFdlYkxvZ2luKSB7XG4gICAgICAgIGlmICh0aGlzLl91c2VBbGxvd0Rlc2t0b3BXZWJMb2dpbikge1xuICAgICAgICAgIGN1cnJlbnRVcmwgPVxuICAgICAgICAgICAgdGhpcy5fYXNzZXRzVXJsICsgXCIvd2ViL1wiICsgVkVSU0lPTiArIFwiL2h0bWwvcmVkaXJlY3QtZnJhbWUuaHRtbFwiO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtc1tcIngtc3VjY2Vzc1wiXSA9IGN1cnJlbnRVcmwgKyBcIiN2ZW5tb1N1Y2Nlc3M9MVwiO1xuICAgICAgICBwYXJhbXNbXCJ4LWNhbmNlbFwiXSA9IGN1cnJlbnRVcmwgKyBcIiN2ZW5tb0NhbmNlbD0xXCI7XG4gICAgICAgIHBhcmFtc1tcIngtZXJyb3JcIl0gPSBjdXJyZW50VXJsICsgXCIjdmVubW9FcnJvcj0xXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXNbXCJ4LXN1Y2Nlc3NcIl0gPSBcIk5PT1BcIjtcbiAgICAgICAgcGFyYW1zW1wieC1jYW5jZWxcIl0gPSBcIk5PT1BcIjtcbiAgICAgICAgcGFyYW1zW1wieC1lcnJvclwiXSA9IFwiTk9PUFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2FsbG93QW5kcm9pZFJlY3JlYXRpb24pIHtcbiAgICAgICAgcGFyYW1zLmFsbG93QW5kcm9pZFJlY3JlYXRpb24gPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zLmFsbG93QW5kcm9pZFJlY3JlYXRpb24gPSAxO1xuICAgICAgfVxuXG4gICAgICBwYXJhbXMudWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICAgIHBhcmFtcy5icmFpbnRyZWVfbWVyY2hhbnRfaWQgPVxuICAgICAgICB0aGlzLl9wcm9maWxlSWQgfHwgdmVubW9Db25maWd1cmF0aW9uLm1lcmNoYW50SWQ7XG4gICAgICBwYXJhbXMuYnJhaW50cmVlX2FjY2Vzc190b2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgICAgcGFyYW1zLmJyYWludHJlZV9lbnZpcm9ubWVudCA9IHZlbm1vQ29uZmlndXJhdGlvbi5lbnZpcm9ubWVudDtcbiAgICAgIHBhcmFtcy5icmFpbnRyZWVfc2RrX2RhdGEgPSBidG9hKEpTT04uc3RyaW5naWZ5KGJyYWludHJlZURhdGEpKTtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgZ2V0VmVubW9Vcmwoe1xuICAgICAgICAgIHVzZUFsbG93RGVza3RvcFdlYkxvZ2luOiB0aGlzLl91c2VBbGxvd0Rlc2t0b3BXZWJMb2dpbixcbiAgICAgICAgICBtb2JpbGVXZWJGYWxsQmFjazogdGhpcy5fbW9iaWxlV2ViRmFsbEJhY2ssXG4gICAgICAgIH0pICtcbiAgICAgICAgXCI/XCIgK1xuICAgICAgICBxdWVyeXN0cmluZy5zdHJpbmdpZnkocGFyYW1zKVxuICAgICAgKTtcbiAgICB9LmJpbmQodGhpcylcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgc3VwcG9ydHMgVmVubW8gYXMgYSBwYXltZW50IG1ldGhvZC4gUGxlYXNlIG5vdGUgdGhhdCBpT1MgQ2hyb21lIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB0aGUgVmVubW8gYnV0dG9uIGlzIHJlbmRlcmVkIGluIGFuIGlGcmFtZS5cbiAqXG4gKiBJZiBgb3B0aW9ucy5hbGxvd05ld0Jyb3dzZXJUYWJgIGlzIGZhbHNlIHdoZW4gY2FsbGluZyB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvdmVubW8uY3JlYXRlfHZlbm1vLmNyZWF0ZX0sIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRydWUgb25seSBmb3IgYnJvd3NlcnMga25vd24gdG8gc3VwcG9ydCByZXR1cm5pbmcgZnJvbSB0aGUgVmVubW8gYXBwIHRvIHRoZSBzYW1lIGJyb3dzZXIgdGFiLiBDdXJyZW50bHksIHRoaXMgaXMgbGltaXRlZCB0byBpT1MgU2FmYXJpIGFuZCBBbmRyb2lkIENocm9tZS5cbiAqIElmIGBvcHRpb25zLmFsbG93V2Vidmlld3NgIGlzIGZhbHNlIHdoZW4gY2FsbGluZyB7QGxpbmsgbW9kdWxlOmJyYWludHJlZS13ZWIvdmVubW8uY3JlYXRlfHZlbm1vLmNyZWF0ZX0sIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRydWUgb25seSBmb3IgbW9iaWxlIGJyb3dzZXJzIHRoYXQgYXJlIG5vdCB3ZWJ2aWV3cy5cbiAqIEBwdWJsaWNcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgc3VwcG9ydGVkLCBmYWxzZSBpZiBub3QuXG4gKi9cblZlbm1vLnByb3RvdHlwZS5pc0Jyb3dzZXJTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBpc0Jyb3dzZXJTdXBwb3J0ZWQuaXNCcm93c2VyU3VwcG9ydGVkKHtcbiAgICBhbGxvd05ld0Jyb3dzZXJUYWI6IHRoaXMuX2FsbG93TmV3QnJvd3NlclRhYixcbiAgICBhbGxvd1dlYnZpZXdzOiB0aGlzLl9hbGxvd1dlYnZpZXdzLFxuICAgIGFsbG93RGVza3RvcDogdGhpcy5fYWxsb3dEZXNrdG9wLFxuICAgIGFsbG93RGVza3RvcFdlYkxvZ2luOiB0aGlzLl9hbGxvd0Rlc2t0b3BXZWJMb2dpbixcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBhIFZlbm1vIHRva2VuaXphdGlvbiByZXN1bHQgaXMgcmVhZHkgdG8gYmUgcHJvY2Vzc2VkIGltbWVkaWF0ZWx5LlxuICpcbiAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbGl6YXRpb24gdG8gc2VlIGlmIHRoZSByZXN1bHQgb2YgVmVubW8gYXV0aG9yaXphdGlvbiBpcyBhdmFpbGFibGUuIElmIGl0IHJldHVybnMgdHJ1ZSwgY2FsbCB7QGxpbmsgVmVubW8jdG9rZW5pemV8dG9rZW5pemV9IGltbWVkaWF0ZWx5IHRvIHByb2Nlc3MgdGhlIHJlc3VsdHMuXG4gKlxuICogQHB1YmxpY1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHJlc3VsdHMgb2YgVmVubW8gcGF5bWVudCBhdXRob3JpemF0aW9uIGFyZSBhdmFpbGFibGUgYW5kIHJlYWR5IHRvIHByb2Nlc3MuXG4gKi9cblZlbm1vLnByb3RvdHlwZS5oYXNUb2tlbml6YXRpb25SZXN1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9oYXNUb2tlbml6YXRpb25SZXN1bHQoKTtcbn07XG5cbi8vIGEgcHJpdmF0ZSB2ZXJzaW9uIHRoYXQgbGV0cyB1cyBwYXNzIGluIGEgY3VzdG9tIGhhc2hcbi8vIHdoZW4gbGlzdGVuaW5nIG9uIGEgaGFzaGNoYW5nZSBldmVudFxuVmVubW8ucHJvdG90eXBlLl9oYXNUb2tlbml6YXRpb25SZXN1bHQgPSBmdW5jdGlvbiAoaGFzaCkge1xuICB2YXIgcGFyYW1zID0gZ2V0RnJhZ21lbnRQYXJhbWV0ZXJzKGhhc2gpO1xuXG4gIHJldHVybiAoXG4gICAgdHlwZW9mIChwYXJhbXMudmVubW9TdWNjZXNzIHx8IHBhcmFtcy52ZW5tb0Vycm9yIHx8IHBhcmFtcy52ZW5tb0NhbmNlbCkgIT09XG4gICAgXCJ1bmRlZmluZWRcIlxuICApO1xufTtcblxuVmVubW8ucHJvdG90eXBlLl9zaG91bGRJbmNsdWRlUmV0dXJuVXJscyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gd2hlbiBhIGRlZXAgbGluayByZXR1cm4gdXJsIGlzIHBhc3NlZCwgd2Ugc2hvdWxkIGFsd2F5c1xuICAvLyByZXNwZWN0IGl0IGFuZCBpbmNsdWRlIHRoZSByZXR1cm4gdXJscyBzbyB0aGUgdmVubW8gYXBwXG4gIC8vIGNhbiBhcHAgc3dpdGNoIGJhY2sgdG8gaXRcbiAgaWYgKHRoaXMuX2RlZXBMaW5rUmV0dXJuVXJsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB3aGVuIHRoZSBzZGsgaXMgaW5pdGlhbGl6ZWQgd2l0aGluIGFuIGlmcmFtZSwgaXQnc1xuICAvLyBpbXBvc3NpYmxlIHRvIHJldHVybiBiYWNrIHRvIHRoZSBjb3JyZWN0IHBsYWNlIGF1dG9tYXRpY2FsbHlcbiAgLy8gd2l0aG91dCBhbHNvIHNldHRpbmcgYSBkZWVwTGlua1JldHVyblVybC4gV2hlbiB0aGUgcmV0dXJuXG4gIC8vIHVybHMgYXJlIG9taXR0ZWQsIHRoZSBWZW5tbyBhcHAgcHJvbXB0cyB0aGUgdXNlciB0byByZXR1cm5cbiAgLy8gbWFudWFsbHkuXG4gIHJldHVybiAhdGhpcy5fY2Fubm90SGF2ZVJldHVyblVybHM7XG59O1xuXG5WZW5tby5wcm90b3R5cGUuX2lzRGVza3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEoYnJvd3NlckRldGVjdGlvbi5pc0lvcygpIHx8IGJyb3dzZXJEZXRlY3Rpb24uaXNBbmRyb2lkKCkpO1xufTtcblxuLyoqXG4gKiBMYXVuY2hlcyB0aGUgVmVubW8gZmxvdyBhbmQgcmV0dXJucyBhIG5vbmNlIHBheWxvYWQuXG4gKlxuICogSWYge0BsaW5rIFZlbm1vI2hhc1Rva2VuaXphdGlvblJlc3VsdHxoYXNUb2tlbml6YXRpb25SZXN1bHR9IHJldHVybnMgdHJ1ZSwgY2FsbGluZyB0b2tlbml6ZSB3aWxsIGltbWVkaWF0ZWx5IHByb2Nlc3MgYW5kIHJldHVybiB0aGUgcmVzdWx0cyB3aXRob3V0IGluaXRpYXRpbmcgdGhlIFZlbm1vIHBheW1lbnQgYXV0aG9yaXphdGlvbiBmbG93LlxuICpcbiAqIE9ubHkgb25lIFZlbm1vIGZsb3cgY2FuIGJlIGFjdGl2ZSBhdCBhIHRpbWUuIE9uZSB3YXkgdG8gYWNoaWV2ZSB0aGlzIGlzIHRvIGRpc2FibGUgeW91ciBWZW5tbyBidXR0b24gd2hpbGUgdGhlIGZsb3cgaXMgb3Blbi5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBmb3IgdG9rZW5pemF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnByb2Nlc3NSZXN1bHRzRGVsYXk9NTAwXSBUaGUgYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGRlbGF5IHByb2Nlc3NpbmcgdGhlIHJlc3VsdHMuIEluIG1vc3QgY2FzZXMsIHRoaXMgdmFsdWUgc2hvdWxkIGJlIGxlZnQgYXMgdGhlIGRlZmF1bHQuXG4gKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2FsbGJhY2tdIFRoZSBzZWNvbmQgYXJndW1lbnQsIDxjb2RlPmRhdGE8L2NvZGU+LCBpcyBhIHtAbGluayBWZW5tb350b2tlbml6ZVBheWxvYWR8dG9rZW5pemVQYXlsb2FkfS4gSWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQsIHRoZSBtZXRob2Qgd2lsbCByZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHtAbGluayBWZW5tb350b2tlbml6ZVBheWxvYWR8dG9rZW5pemVQYXlsb2FkfS5cbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKiBAZXhhbXBsZVxuICogYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICogICAvLyBEaXNhYmxlIHRoZSBidXR0b24gc28gdGhhdCB3ZSBkb24ndCBhdHRlbXB0IHRvIG9wZW4gbXVsdGlwbGUgcG9wdXBzLlxuICogICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICpcbiAqICAgLy8gQmVjYXVzZSB0b2tlbml6ZSBvcGVucyBhIG5ldyB3aW5kb3csIHRoaXMgbXVzdCBiZSBjYWxsZWRcbiAqICAgLy8gYXMgYSByZXN1bHQgb2YgYSB1c2VyIGFjdGlvbiwgc3VjaCBhcyBhIGJ1dHRvbiBjbGljay5cbiAqICAgdmVubW9JbnN0YW5jZS50b2tlbml6ZSgpLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAqICAgICAvLyBTdWJtaXQgcGF5bG9hZC5ub25jZSB0byB5b3VyIHNlcnZlclxuICogICAgIC8vIFVzZSBwYXlsb2FkLnVzZXJuYW1lIHRvIGdldCB0aGUgVmVubW8gdXNlcm5hbWUgYW5kIGRpc3BsYXkgYW55IFVJXG4gKiAgIH0pLmNhdGNoKGZ1bmN0aW9uICh0b2tlbml6ZUVycm9yKSB7XG4gKiAgICAgLy8gSGFuZGxlIGZsb3cgZXJyb3JzIG9yIHByZW1hdHVyZSBmbG93IGNsb3N1cmVcbiAqICAgICBzd2l0Y2ggKHRva2VuaXplRXJyLmNvZGUpIHtcbiAqICAgICAgIGNhc2UgJ1ZFTk1PX0FQUF9DQU5DRUxFRCc6XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGNhbmNlbGVkIFZlbm1vIGZsb3cuJyk7XG4gKiAgICAgICAgIGJyZWFrO1xuICogICAgICAgY2FzZSAnVkVOTU9fQ0FOQ0VMRUQnOlxuICogICAgICAgICBjb25zb2xlLmxvZygnVXNlciBjYW5jZWxlZCBWZW5tbywgb3IgVmVubW8gYXBwIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gKiAgICAgICAgIGJyZWFrO1xuICogICAgICAgZGVmYXVsdDpcbiAqICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IhJywgdG9rZW5pemVFcnIpO1xuICogICAgIH1cbiAqICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gKiAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuVmVubW8ucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdG9rZW5pemF0aW9uUHJvbWlzZTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAodGhpcy5fdG9rZW5pemF0aW9uSW5Qcm9ncmVzcyA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVkVOTU9fVE9LRU5JWkFUSU9OX1JFUVVFU1RfQUNUSVZFKVxuICAgICk7XG4gIH1cblxuICB0aGlzLl90b2tlbml6YXRpb25JblByb2dyZXNzID0gdHJ1ZTtcbiAgaWYgKHRoaXMuX3VzZURlc2t0b3BRUkZsb3cpIHtcbiAgICAvLyBmb3IgdGhlIGRlc2t0b3AgZmxvdywgd2UgY3JlYXRlIGEgdmVubW8gcGF5bWVudFxuICAgIC8vIGNvbnRleHQgYW5kIHRoZW4gcHJlc2VudCBhIHFyIGNvZGUgbW9kYWwgdG8gdGhlXG4gICAgLy8gY3VzdG9tZXIgYW5kIHRoZXkgd2lsbCBvcGVuIHVwIHRoZWlyIHZlbm1vIGFwcFxuICAgIC8vIGFuZCBzY2FuIGl0IGFuZCBhcHByb3ZlIHRoZSBwdXJjaGFzZSBvbiB0aGVpclxuICAgIC8vIG1vYmlsZSBkZXZpY2UuIFRoZSBzZGsgd2lsbCBzdGFydCBwb2xsaW5nXG4gICAgLy8gaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHdoZW4gdGhlIHN0YXR1cyBvZiB0aGVcbiAgICAvLyBwYXltZW50IGNvbnRleHQgaGFzIHVwZGF0ZWQgYW5kIHRoZW4gcGFzcyB0aGVcbiAgICAvLyByZXN1bHRpbmcgbm9uY2UgYmFjayB0byB0aGUgbWVyY2hhbnQuXG4gICAgdG9rZW5pemF0aW9uUHJvbWlzZSA9IHRoaXMuX3Rva2VuaXplRm9yRGVza3RvcFFSRmxvdyhvcHRpb25zKTtcbiAgfSBlbHNlIGlmICh0aGlzLl91c2VBbGxvd0Rlc2t0b3BXZWJMb2dpbikge1xuICAgIC8qKlxuICAgICAqIEZvciBEZXNrdG9wIFdlYiBMb2dpbiwgd2Ugb3BlbiBhIGJyb3dzZXIgcG9wdXAgdG8gYWxsb3cgZm9yIGF1dGhvcml6YXRpb24uIE9uY2UgYXV0aG9yaXplZCwgdGhlIHJlZGlyZWN0IHVybHMgYXJlIHVzZWQgYnkgVmVubW8sIGFuZCB3ZSBxdWVyeSB0aGUgQVBJIGZvciBhIHBheW1lbnQgY29udGV4dCBzdGF0dXMgdXBkYXRlLlxuICAgICAqXG4gICAgICogLSBQYXltZW50IGNvbnRleHQgaXMgY3JlYXRlZCBvbiBpbml0aWFsaXphdGlvblxuICAgICAqIC0gUG9wdXAgaXMgb3BlbmVkIHRvIFZlbm1vIGxvZ2luIHVybC5cbiAgICAgKiAgLSBUaGUgcGF5bWVudCBpcyBhdXRob3JpemVkIG9yIGNhbmNlbGVkLCBhbmQgdGhlIHBvcHVwIGlzIGNsb3NlZFxuICAgICAqIC0gT25jZSB0aGUgcG9wdXAgaXMgY2xvc2VkLCB3ZSBxdWVyeSB0aGUgQVBJIGZvciBhIHBheW1lbnQgY29udGV4dCBzdGF0dXMgdXBkYXRlXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGFuIGFsdGVybmF0ZSwgb3B0LWluIGZsb3cgdG8gYmUgdXNlZCB0aGUgRGVza3RvcCBRUiBGbG93IGlzIG5vdCBkZXNpcmVkIGZvciBQYXkgd2l0aCBWZW5tbyBkZXNrdG9wIGV4cGVyaWVuY2VzLlxuICAgICAqL1xuICAgIHRva2VuaXphdGlvblByb21pc2UgPSB0aGlzLl90b2tlbml6ZVdlYkxvZ2luV2l0aFJlZGlyZWN0KCk7XG4gIH0gZWxzZSBpZiAodGhpcy5fY2Fubm90SGF2ZVJldHVyblVybHMpIHtcbiAgICAvLyBpbiB0aGUgbWFudWFsIHJldHVybiBzdHJhdGVneSwgd2UgY3JlYXRlIHRoZSBwYXltZW50XG4gICAgLy8gY29udGV4dCBvbiBpbml0aWFsaXphdGlvbiwgdGhlbiBjb250aW51YWxseSBwb2xsIG9uY2VcbiAgICAvLyB0aGUgYXBwIHN3aXRjaCBiZWdpbnMgdW50aWwgd2UgZ2V0IGEgcmVzcG9uc2UgaW5kaWNpYXRpbmdcbiAgICAvLyB0aGUgcGF5bWVudCBjb250ZXh0IHdhcyBhcHByb3ZlZCBieSB0aGUgY3VzdG9tZXIgb24gdGhlXG4gICAgLy8gVmVubW8gYXBwLiBUaGUgcGF5bWVudCBjb250ZXh0IHJlc3BvbnNlIGFsc28gaW5jbHVkZXMgYVxuICAgIC8vIG5vbmNlLiBUaGVyZSBhcmUgMiBjYXNlcyB3aGVyZSB3ZSB1c2UgdGhlIG1hbnVhbCByZXR1cm5cbiAgICAvLyBzdHJhdGVneTpcbiAgICAvLyAxLiB0aGUgc2RrIGlzIGluc3RhbnRpYXRlZCBpbiBhbiBpZnJhbWUsIGJlY2F1c2VcbiAgICAvLyAgICB0aGUgdmVubW8gYXBwIGlzIHVuYWJsZSB0byByZWRpcmVjdCBhdXRvbWF0aWNhbGx5XG4gICAgLy8gICAgd2hlbiB0aGF0IGlzIHRoZSBjYXNlIHNvIHdlIHJlbHkgb24gdGhlIGN1c3RvbWVyXG4gICAgLy8gICAgdG8gZG8gYSBtYW51YWwgcmVkaXJlY3QgYW5kIGNvbnRpbnVuYWxseSBwb2xsIGZvclxuICAgIC8vICAgIHVwZGF0ZXMgb24gdGhlIHBheW1lbnQgY29udGV4dCB0byBnZXQgdGhlIG5vbmNlXG4gICAgLy8gMi4gc2FtZSBkZWFsIGZvciB3aGVuIGByZXF1aXJlTWFudWFsUmV0dXJuYCBpcyBjb25maWd1cmVkXG4gICAgdG9rZW5pemF0aW9uUHJvbWlzZSA9IHRoaXMuX3Rva2VuaXplRm9yTW9iaWxlV2l0aE1hbnVhbFJldHVybigpO1xuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBkZWZhdWx0IG1vYmlsZSBmbG93IGlzIHRvIGFwcCBzd2l0Y2ggdG8gdGhlXG4gICAgLy8gdmVubW8gYXBwLCBhbmQgdGhlbiBoYXZlIHRoZSB2ZW5tbyBhcHAgc3dpdGNoXG4gICAgLy8gYmFjayB0byB0aGUgcGFnZSB3aXRoIHRoZSB2ZW5tbyBub25jZSBkZXRhaWxzXG4gICAgLy8gZW5jb2RlZCBpbnRvIHRoZSBoYXNoIHBvcnRpb24gb2YgdGhlIHVybC4gSWZcbiAgICAvLyBgcGF5bWVudE1ldGhvZFVzYWdlYCBpcyBwcm92aWRlZCB3aGVuIGluc3RhbnRpYXRpbmdcbiAgICAvLyB0aGUgc2RrLCB3ZSBhbHNvIGNyZWF0ZSBhIHBheW1lbnQgY29udGV4dCBhbmQgcGFzc1xuICAgIC8vIHRoZSByZXNvdXJjZSBpZCB0byB0aGUgVmVubW8gYXBwIGR1cmluZyB0aGUgYXBwIHN3aXRjaC5cbiAgICAvLyBPbmNlIHdlIGdldCBhIHN1Y2Nlc2Z1bCByZXR1cm4sIHdlIHBpbmcgdGhlIHBheW1lbnRcbiAgICAvLyBjb250ZXh0IHF1ZXJ5IHRvIGdldCBhbnkgYWRkaXRpb25hbCBkYXRhIG5lZWRlZFxuICAgIC8vIHRvIHNlbmQgYmFjayB0byB0aGUgbWVyY2hhbnQuXG4gICAgdG9rZW5pemF0aW9uUHJvbWlzZSA9XG4gICAgICB0aGlzLl90b2tlbml6ZUZvck1vYmlsZVdpdGhIYXNoQ2hhbmdlTGlzdGVuZXJzKG9wdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIHRva2VuaXphdGlvblByb21pc2VcbiAgICAudGhlbihmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHNlbGYuX2NyZWF0ZVByb21pc2VcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVWZW5tb1BheW1lbnRDb250ZXh0KGNsaWVudCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLl90b2tlbml6YXRpb25JblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAgICAgICByZXR1cm4gZm9ybWF0VG9rZW5pemVQYXlsb2FkKHBheWxvYWQpO1xuICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi5fY3JlYXRlUHJvbWlzZVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICAgICAgLy8gV2UgY3JlYXRlIGEgbmV3IFBheW1lbnQgQ29udGV4dCBiZWNhdXNlIGlmIHRoZSBsYXN0IG9uZSBmYWlsZWQsIHRoZW4gcHJlc3VtYWJseSB3ZSBkb24ndCB3YW50IHRvIHVzZSBpdCBhZ2Fpbi5cbiAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgcGFzcywgd2UgY3JlYXRlIHRoZSBwYXltZW50IGNvbnRleHQgYXQgaW5pdGlhbGl6YXRpb24sIGFuZCBzaW5jZSB3ZSB1c2VkIHRoYXQgZmlyc3Qgb25lIHdlIG5vdyBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICAvLyBmb3IgdGhlIG5leHQgdGltZSBzb21lb25lIHRyaWVzIHRvIHRva2VuaXplLlxuICAgICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVWZW5tb1BheW1lbnRDb250ZXh0KGNsaWVudCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLl90b2tlbml6YXRpb25JblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIENhbmNlbHMgdGhlIHZlbm1vIHRva2VuaXphdGlvbiBwcm9jZXNzXG4gKlxuICogQHB1YmxpY1xuICogQGZ1bmN0aW9uIFZlbm1vfmNhbmNlbFRva2VuaXphdGlvblxuICogQHJldHVybnMgeyhQcm9taXNlfHZvaWQpfSBSZXR1cm5zIGEgcHJvbWlzZSBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZC5cbiAqIEBleGFtcGxlXG4gKiB2ZW5tb1Rva2VuaXplQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICogICB2ZW5tb0luc3RhbmNlLnRva2VuaXplKCkudGhlbihmdW5jdGlvbiAocGF5bG9hZCkge1xuICogICAgIC8vIGhhbmRsZSBwYXlsb2FkXG4gKiAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAqICAgICBpZiAoZXJyLmNvZGUgPT09ICdWRU5NT19UT0tFTklaQVRJT05fQ0FOQ0VMRURfQllfTUVSQ0hBTlQnKSB7XG4gKiAgICAgICAvLyB0b2tlbml6YXRpb24gd2FzIGNhbmNlbGVkIGJ5IGNhbGxpbmcgY2FuY2VsVG9rZW5pemF0aW9uXG4gKiAgICAgfVxuICogICB9KTtcbiAqIH0pO1xuICpcbiAqIHZlbm1vQ2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICogICAvLyBIaWRlIHRoZSBidXR0b24gd2hlbiB0aGUgdmVubW8gZmxvdyBpcyBub3QgaW4gcHJvZ3Jlc3NcbiAqICAgdmVubW9DYW5jZWxCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICpcbiAqICAgdmVubW9JbnN0YW5jZS5jYW5jZWxUb2tlbml6YXRpb24oKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAqICAgICAvLyBkb25lIGNhbmNlbGluZyB0aGUgZmxvd1xuICogICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gKiAgICAgLy8gc2hvdWxkIG9ubHkgZ2V0IGhlcmUgaWYgdGhlcmUgaXMgbm8gdG9rZW5pemF0aW9uIGluIHByb2dyZXNzXG4gKiAgIH0pO1xuICogfSk7XG4gKi9cblZlbm1vLnByb3RvdHlwZS5jYW5jZWxUb2tlbml6YXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5fdG9rZW5pemF0aW9uSW5Qcm9ncmVzcykge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVkVOTU9fVE9LRU5JWkFUSU9OX1JFUVVFU1RfTk9UX0FDVElWRSlcbiAgICApO1xuICB9XG5cbiAgdGhpcy5fcmVtb3ZlVmlzaWJpbGl0eUV2ZW50TGlzdGVuZXIoKTtcblxuICAvLyBpbXBvcnRhbnQgdG8gcmVqZWN0IHRoZSB0b2tlbml6YXRpb24gcHJvbWlzZSBmaXJzdFxuICAvLyBzbyB0aGUgdG9rZW5pemUgbWV0aG9kIHJlamVjdHMgd2l0aCB0aGlzIGVycm9yXG4gIC8vIHJhdGhlciB0aGFuIGEgY3VzdG9tZXIgY2FuY2VsZWQgZXJyb3IgaW4gdGhlIG1vYmlsZVxuICAvLyBwb2xsaW5nIGFuZCBkZXNrdG9wIGZsb3dzXG4gIGlmICh0aGlzLl90b2tlbml6ZVByb21pc2UpIHtcbiAgICB0aGlzLl90b2tlbml6ZVByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5WRU5NT19UT0tFTklaQVRJT05fQ0FOQ0VMRURfQllfTUVSQ0hBTlQpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgdGhpcy5fY2FuY2VsTW9iaWxlUGF5bWVudENvbnRleHQoKSxcbiAgICB0aGlzLl9jYW5jZWxWZW5tb0Rlc2t0b3BDb250ZXh0KCksXG4gIF0pO1xufTtcblxuVmVubW8ucHJvdG90eXBlLl90b2tlbml6ZVdlYkxvZ2luV2l0aFJlZGlyZWN0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgYW5hbHl0aWNzLnNlbmRFdmVudChzZWxmLl9jcmVhdGVQcm9taXNlLCBcInZlbm1vLnRva2VuaXplLndlYi1sb2dpbi5zdGFydFwiKTtcbiAgdGhpcy5fdG9rZW5pemVQcm9taXNlID0gbmV3IEV4dGVuZGVkUHJvbWlzZSgpO1xuXG4gIHJldHVybiB0aGlzLmdldFVybCgpLnRoZW4oZnVuY3Rpb24gKHVybCkge1xuICAgIGRlc2t0b3BXZWJMb2dpblxuICAgICAgLnJ1bldlYkxvZ2luKHtcbiAgICAgICAgY2hlY2tGb3JTdGF0dXNDaGFuZ2U6XG4gICAgICAgICAgc2VsZi5fY2hlY2tQYXltZW50Q29udGV4dFN0YXR1c0FuZFByb2Nlc3NSZXN1bHQuYmluZChzZWxmKSxcbiAgICAgICAgY2FuY2VsVG9rZW5pemF0aW9uOiBzZWxmLmNhbmNlbFRva2VuaXphdGlvbi5iaW5kKHNlbGYpLFxuICAgICAgICBmcmFtZVNlcnZpY2VJbnN0YW5jZTogc2VsZi5fZnJhbWVTZXJ2aWNlSW5zdGFuY2UsXG4gICAgICAgIHZlbm1vVXJsOiB1cmwsXG4gICAgICAgIGRlYnVnOiBzZWxmLl9pc0RlYnVnLFxuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgICBcInZlbm1vLnRva2VuaXplLndlYi1sb2dpbi5zdWNjZXNzXCJcbiAgICAgICAgKTtcblxuICAgICAgICBzZWxmLl90b2tlbml6ZVByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgcGF5bWVudE1ldGhvZE5vbmNlOiBwYXlsb2FkLnBheW1lbnRNZXRob2RJZCxcbiAgICAgICAgICB1c2VybmFtZTogcGF5bG9hZC51c2VyTmFtZSxcbiAgICAgICAgICBwYXllckluZm86IHBheWxvYWQucGF5ZXJJbmZvLFxuICAgICAgICAgIGlkOiBzZWxmLl92ZW5tb1BheW1lbnRDb250ZXh0SWQsXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgICBcInZlbm1vLnRva2VuaXplLndlYi1sb2dpbi5mYWlsdXJlXCJcbiAgICAgICAgKTtcblxuICAgICAgICBzZWxmLl90b2tlbml6ZVByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9KTtcblxuICAgIHJldHVybiBzZWxmLl90b2tlbml6ZVByb21pc2U7XG4gIH0pO1xufTtcblxuVmVubW8ucHJvdG90eXBlLl9xdWVyeVBheW1lbnRDb250ZXh0U3RhdHVzID0gZnVuY3Rpb24gKGlkKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gdGhpcy5fY3JlYXRlUHJvbWlzZVxuICAgIC50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHZhciBxdWVyeSA9IHNlbGYuX3Nob3VsZFVzZUxlZ2FjeUZsb3dcbiAgICAgICAgPyBncmFwaHFsUXVlcmllcy5MRUdBQ1lfVkVOTU9fUEFZTUVOVF9DT05URVhUX1NUQVRVU19RVUVSWVxuICAgICAgICA6IGdyYXBocWxRdWVyaWVzLlZFTk1PX1BBWU1FTlRfQ09OVEVYVF9TVEFUVVNfUVVFUlk7XG5cbiAgICAgIHJldHVybiBjbGllbnQucmVxdWVzdCh7XG4gICAgICAgIGFwaTogXCJncmFwaFFMQXBpXCIsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5ub2RlO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBRdWVyaWVzIHRoZSBHcmFwaFFMIEFQSSB0byBnZXQgdGhlIHBheW1lbnQgY29udGV4dCBhbmQgcHJvY2VzcyB0aGUgc3RhdHVzLiBSZXRyaWVzIHVudGlsIHRoZXJlIGlzIGFuIHVwZGF0ZSB0byB0aGUgcGF5bWVudCBjb250ZXh0IHN0YXR1cy5cbiAqIEBuYW1lIFZlbm1vfmNoZWNrUGF5bWVudENvbnRleHRTdGF0dXNBbmRQcm9jZXNzUmVzdWx0XG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge251bWJlcn0gcmV0cnlDb3VudCBUaGUgY291bnRlciBmb3IgdHJhY2tpbmcgbnVtYmVyIG9mIHJldHJpZXMgbWFkZSBhZ2FpbnN0IHRoZSBBUEkuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2VcbiAqL1xuVmVubW8ucHJvdG90eXBlLl9jaGVja1BheW1lbnRDb250ZXh0U3RhdHVzQW5kUHJvY2Vzc1Jlc3VsdCA9IGZ1bmN0aW9uIChcbiAgcmV0cnlDb3VudFxuKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gc2VsZlxuICAgIC5fcXVlcnlQYXltZW50Q29udGV4dFN0YXR1cyhzZWxmLl92ZW5tb1BheW1lbnRDb250ZXh0SWQpXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChuZXR3b3JrRXJyb3IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICB0eXBlOiBlcnJvcnMuVkVOTU9fTkVUV09SS19FUlJPUi50eXBlLFxuICAgICAgICAgIGNvZGU6IGVycm9ycy5WRU5NT19ORVRXT1JLX0VSUk9SLmNvZGUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JzLlZFTk1PX05FVFdPUktfRVJST1IubWVzc2FnZSxcbiAgICAgICAgICBkZXRhaWxzOiBuZXR3b3JrRXJyb3IsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciByZXN1bHRTdGF0dXMgPSBub2RlLnN0YXR1cztcblxuICAgICAgaWYgKHJlc3VsdFN0YXR1cyAhPT0gc2VsZi5fdmVubW9QYXltZW50Q29udGV4dFN0YXR1cykge1xuICAgICAgICBzZWxmLl92ZW5tb1BheW1lbnRDb250ZXh0U3RhdHVzID0gcmVzdWx0U3RhdHVzO1xuXG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgICBcInZlbm1vLnRva2VuaXplLndlYi1sb2dpbi5zdGF0dXMtY2hhbmdlXCJcbiAgICAgICAgKTtcblxuICAgICAgICBzd2l0Y2ggKHJlc3VsdFN0YXR1cykge1xuICAgICAgICAgIGNhc2UgXCJBUFBST1ZFRFwiOlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2RlKTtcbiAgICAgICAgICBjYXNlIFwiQ0FOQ0VMRURcIjpcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5WRU5NT19DVVNUT01FUl9DQU5DRUxFRClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBcIkZBSUxFRFwiOlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlZFTk1PX1RPS0VOSVpBVElPTl9GQUlMRUQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBzZWxmLl9tYXhSZXRyeUNvdW50KSB7XG4gICAgICAgICAgcmV0cnlDb3VudCsrO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGZcbiAgICAgICAgICAgIC5fY2hlY2tQYXltZW50Q29udGV4dFN0YXR1c0FuZFByb2Nlc3NSZXN1bHQocmV0cnlDb3VudClcbiAgICAgICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWplY3QobmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5WRU5NT19UT0tFTklaQVRJT05fRkFJTEVEKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbn07XG5cblZlbm1vLnByb3RvdHlwZS5fcG9sbEZvclN0YXR1c0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChEYXRlLm5vdygpID4gc2VsZi5fbW9iaWxlUG9sbGluZ0NvbnRleHRFeHBpcmVzSW4pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9USU1FT1VUKVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fcXVlcnlQYXltZW50Q29udGV4dFN0YXR1cyh0aGlzLl92ZW5tb1BheW1lbnRDb250ZXh0SWQpXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChuZXR3b3JrRXJyb3IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICB0eXBlOiBlcnJvcnMuVkVOTU9fTU9CSUxFX1BPTExJTkdfVE9LRU5JWkFUSU9OX05FVFdPUktfRVJST1IudHlwZSxcbiAgICAgICAgICBjb2RlOiBlcnJvcnMuVkVOTU9fTU9CSUxFX1BPTExJTkdfVE9LRU5JWkFUSU9OX05FVFdPUktfRVJST1IuY29kZSxcbiAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgZXJyb3JzLlZFTk1PX01PQklMRV9QT0xMSU5HX1RPS0VOSVpBVElPTl9ORVRXT1JLX0VSUk9SLm1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogbmV0d29ya0Vycm9yLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBuZXdTdGF0dXMgPSBub2RlLnN0YXR1cztcblxuICAgICAgaWYgKG5ld1N0YXR1cyAhPT0gc2VsZi5fdmVubW9QYXltZW50Q29udGV4dFN0YXR1cykge1xuICAgICAgICBzZWxmLl92ZW5tb1BheW1lbnRDb250ZXh0U3RhdHVzID0gbmV3U3RhdHVzO1xuXG4gICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgICBcInZlbm1vLnRva2VuaXplLm1hbnVhbC1yZXR1cm4uc3RhdHVzLWNoYW5nZS5cIiArXG4gICAgICAgICAgICBuZXdTdGF0dXMudG9Mb3dlckNhc2UoKVxuICAgICAgICApO1xuXG4gICAgICAgIHN3aXRjaCAobmV3U3RhdHVzKSB7XG4gICAgICAgICAgY2FzZSBcIkVYUElSRURcIjpcbiAgICAgICAgICBjYXNlIFwiRkFJTEVEXCI6XG4gICAgICAgICAgY2FzZSBcIkNBTkNFTEVEXCI6XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgICAgIG5ldyBCcmFpbnRyZWVFcnJvcihcbiAgICAgICAgICAgICAgICBlcnJvcnNbXCJWRU5NT19NT0JJTEVfUE9MTElOR19UT0tFTklaQVRJT05fXCIgKyBuZXdTdGF0dXNdXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBcIkFQUFJPVkVEXCI6XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vZGUpO1xuICAgICAgICAgIGNhc2UgXCJDUkVBVEVEXCI6XG4gICAgICAgICAgY2FzZSBcIlNDQU5ORURcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGFueSBvdGhlciBzdGF0dXNlcyBhcmUgaXJyZWxldmFudCB0byB0aGUgcG9sbGluZ1xuICAgICAgICAgIC8vIGFuZCBjYW4ganVzdCBiZSBpZ25vcmVkXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5fcG9sbEZvclN0YXR1c0NoYW5nZSgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSwgc2VsZi5fbW9iaWxlUG9sbGluZ0ludGVydmFsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuVmVubW8ucHJvdG90eXBlLl90b2tlbml6ZUZvck1vYmlsZVdpdGhNYW51YWxSZXR1cm4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgIHRoaXMuX2NyZWF0ZVByb21pc2UsXG4gICAgXCJ2ZW5tby50b2tlbml6ZS5tYW51YWwtcmV0dXJuLnN0YXJ0XCJcbiAgKTtcblxuICB0aGlzLl9tb2JpbGVQb2xsaW5nQ29udGV4dEV4cGlyZXNJbiA9XG4gICAgRGF0ZS5ub3coKSArIHRoaXMuX21vYmlsZVBvbGxpbmdFeHBpcmVzVGhyZXNob2xkO1xuICB0aGlzLl90b2tlbml6ZVByb21pc2UgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG5cbiAgdGhpcy5fcG9sbEZvclN0YXR1c0NoYW5nZSgpXG4gICAgLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICAgIFwidmVubW8udG9rZW5pemUubWFudWFsLXJldHVybi5zdWNjZXNzXCJcbiAgICAgICk7XG5cbiAgICAgIHNlbGYuX3Rva2VuaXplUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgcGF5bWVudE1ldGhvZE5vbmNlOiBwYXlsb2FkLnBheW1lbnRNZXRob2RJZCxcbiAgICAgICAgdXNlcm5hbWU6IHBheWxvYWQudXNlck5hbWUsXG4gICAgICAgIHBheWVySW5mbzogcGF5bG9hZC5wYXllckluZm8sXG4gICAgICAgIGlkOiBzZWxmLl92ZW5tb1BheW1lbnRDb250ZXh0SWQsXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcInZlbm1vLnRva2VuaXplLm1hbnVhbC1yZXR1cm4uZmFpbHVyZVwiXG4gICAgICApO1xuXG4gICAgICBzZWxmLl90b2tlbml6ZVByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuZ2V0VXJsKCkudGhlbihmdW5jdGlvbiAodXJsKSB7XG4gICAgc2VsZi5hcHBTd2l0Y2godXJsKTtcblxuICAgIHJldHVybiBzZWxmLl90b2tlbml6ZVByb21pc2U7XG4gIH0pO1xufTtcblxuVmVubW8ucHJvdG90eXBlLl9zaG91bGRVc2VSZWRpcmVjdFN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIWJyb3dzZXJEZXRlY3Rpb24uaXNJb3MoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl9tb2JpbGVXZWJGYWxsQmFjayA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX3VzZVJlZGlyZWN0Rm9ySU9TO1xufTtcblxuVmVubW8ucHJvdG90eXBlLl90b2tlbml6ZUZvck1vYmlsZVdpdGhIYXNoQ2hhbmdlTGlzdGVuZXJzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcmVzdWx0UHJvY2Vzc2luZ0luUHJvZ3Jlc3MsIHZpc2liaWxpdHlDaGFuZ2VMaXN0ZW5lclRpbWVvdXQ7XG5cbiAgaWYgKHRoaXMuaGFzVG9rZW5pemF0aW9uUmVzdWx0KCkpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzSGFzaENoYW5nZUZsb3dSZXN1bHRzKCk7XG4gIH1cblxuICBhbmFseXRpY3Muc2VuZEV2ZW50KHRoaXMuX2NyZWF0ZVByb21pc2UsIFwidmVubW8udG9rZW5pemUubW9iaWxlLnN0YXJ0XCIpO1xuICB0aGlzLl90b2tlbml6ZVByb21pc2UgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG5cbiAgdGhpcy5fcHJldmlvdXNIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgZnVuY3Rpb24gY29tcGxldGVGbG93KGhhc2gpIHtcbiAgICB2YXIgZXJyb3I7XG5cbiAgICBzZWxmXG4gICAgICAucHJvY2Vzc0hhc2hDaGFuZ2VGbG93UmVzdWx0cyhoYXNoKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXNlbGYuX2lnbm9yZUhpc3RvcnlDaGFuZ2VzICYmXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggIT09IHNlbGYuX3ByZXZpb3VzSGFzaFxuICAgICAgICApIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNlbGYuX3ByZXZpb3VzSGFzaDtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl9yZW1vdmVWaXNpYmlsaXR5RXZlbnRMaXN0ZW5lcigpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHNlbGYuX3Rva2VuaXplUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX3Rva2VuaXplUHJvbWlzZS5yZXNvbHZlKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHNlbGYuX3Rva2VuaXplUHJvbWlzZTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gVGhlIFZlbm1vIFNESyBhcHAgc3dpdGNoZXMgYmFjayB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZVxuICAvLyB0b2tlbml6YXRpb24gZW5jb2RlZCBpbiB0aGUgaGFzaFxuICB0aGlzLl9vbkhhc2hDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhhc2ggPSBlLm5ld1VSTC5zcGxpdChcIiNcIilbMV07XG5cbiAgICBpZiAoIXNlbGYuX2hhc1Rva2VuaXphdGlvblJlc3VsdChoYXNoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlc3VsdFByb2Nlc3NpbmdJblByb2dyZXNzID0gdHJ1ZTtcbiAgICBjbGVhclRpbWVvdXQodmlzaWJpbGl0eUNoYW5nZUxpc3RlbmVyVGltZW91dCk7XG4gICAgY29tcGxldGVGbG93KGhhc2gpO1xuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCB0aGlzLl9vbkhhc2hDaGFuZ2VMaXN0ZW5lciwgZmFsc2UpO1xuXG4gIC8vIFN1YnNjcmliZSB0byBkb2N1bWVudCB2aXNpYmlsaXR5IGNoYW5nZSBldmVudHMgdG8gZGV0ZWN0IHdoZW4gYXBwIHN3aXRjaFxuICAvLyBoYXMgcmV0dXJuZWQuIEFjdHMgYXMgYSBmYWxsYmFjayBmb3IgdGhlIGhhc2hjaGFuZ2UgbGlzdGVuZXIgYW5kIGNhdGNoZXNcbiAgLy8gdGhlIGNhbmNlbCBjYXNlIHZpYSBtYW51YWwgYXBwIHN3aXRjaCBiYWNrXG4gIHRoaXMuX3Zpc2liaWxpdHlDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGVsYXkgPVxuICAgICAgb3B0aW9ucy5wcm9jZXNzUmVzdWx0c0RlbGF5IHx8IGNvbnN0YW50cy5ERUZBVUxUX1BST0NFU1NfUkVTVUxUU19ERUxBWTtcblxuICAgIGlmICghd2luZG93LmRvY3VtZW50LmhpZGRlbikge1xuICAgICAgaWYgKCFyZXN1bHRQcm9jZXNzaW5nSW5Qcm9ncmVzcykge1xuICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlTGlzdGVuZXJUaW1lb3V0ID0gc2V0VGltZW91dChjb21wbGV0ZUZsb3csIGRlbGF5KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHRoaXMuZ2V0VXJsKCkudGhlbihmdW5jdGlvbiAodXJsKSB7XG4gICAgc2VsZi5hcHBTd2l0Y2godXJsKTtcblxuICAgIC8vIEFkZCBhIGJyaWVmIGRlbGF5IHRvIGlnbm9yZSB2aXNpYmlsaXR5IGNoYW5nZSBldmVudHMgdGhhdCBvY2N1ciByaWdodCBiZWZvcmUgYXBwIHN3aXRjaFxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIGRvY3VtZW50VmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZSgpLFxuICAgICAgICBzZWxmLl92aXNpYmlsaXR5Q2hhbmdlTGlzdGVuZXJcbiAgICAgICk7XG4gICAgfSwgY29uc3RhbnRzLkRPQ1VNRU5UX1ZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UX0RFTEFZKTtcblxuICAgIHJldHVybiBzZWxmLl90b2tlbml6ZVByb21pc2U7XG4gIH0pO1xufTtcblxuVmVubW8ucHJvdG90eXBlLl90b2tlbml6ZUZvckRlc2t0b3BRUkZsb3cgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBhbmFseXRpY3Muc2VuZEV2ZW50KHRoaXMuX2NyZWF0ZVByb21pc2UsIFwidmVubW8udG9rZW5pemUuZGVza3RvcC5zdGFydFwiKTtcblxuICB0aGlzLl90b2tlbml6ZVByb21pc2UgPSBuZXcgRXh0ZW5kZWRQcm9taXNlKCk7XG5cbiAgdGhpcy5fY3JlYXRlUHJvbWlzZVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzZWxmLl92ZW5tb0Rlc2t0b3BJbnN0YW5jZS5sYXVuY2hEZXNrdG9wRmxvdygpO1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgIHNlbGYuX3Zlbm1vRGVza3RvcEluc3RhbmNlLmhpZGVEZXNrdG9wRmxvdygpO1xuXG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcInZlbm1vLnRva2VuaXplLmRlc2t0b3Auc3VjY2Vzc1wiXG4gICAgICApO1xuXG4gICAgICBzZWxmLl90b2tlbml6ZVByb21pc2UucmVzb2x2ZShwYXlsb2FkKTtcbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcInZlbm1vLnRva2VuaXplLmRlc2t0b3AuZmFpbHVyZVwiXG4gICAgICApO1xuXG4gICAgICBpZiAoc2VsZi5fdmVubW9EZXNrdG9wSW5zdGFuY2UpIHtcbiAgICAgICAgc2VsZi5fdmVubW9EZXNrdG9wSW5zdGFuY2UuaGlkZURlc2t0b3BGbG93KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnIgJiYgZXJyLnJlYXNvbiA9PT0gXCJDVVNUT01FUl9DQU5DRUxFRFwiKSB7XG4gICAgICAgIHNlbGYuX3Rva2VuaXplUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKGVycm9ycy5WRU5NT19ERVNLVE9QX0NBTkNFTEVEKVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fdG9rZW5pemVQcm9taXNlLnJlamVjdChcbiAgICAgICAgbmV3IEJyYWludHJlZUVycm9yKHtcbiAgICAgICAgICB0eXBlOiBlcnJvcnMuVkVOTU9fREVTS1RPUF9VTktOT1dOX0VSUk9SLnR5cGUsXG4gICAgICAgICAgY29kZTogZXJyb3JzLlZFTk1PX0RFU0tUT1BfVU5LTk9XTl9FUlJPUi5jb2RlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9ycy5WRU5NT19ERVNLVE9QX1VOS05PV05fRVJST1IubWVzc2FnZSxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuX3Rva2VuaXplUHJvbWlzZTtcbn07XG5cblZlbm1vLnByb3RvdHlwZS5fY2FuY2VsTW9iaWxlUGF5bWVudENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gdGhpcy5fY3JlYXRlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICB2YXIgcXVlcnk7XG5cbiAgICBpZiAoc2VsZi5fdmVubW9QYXltZW50Q29udGV4dElkKSB7XG4gICAgICBxdWVyeSA9IHNlbGYuX3Nob3VsZFVzZUxlZ2FjeUZsb3dcbiAgICAgICAgPyBncmFwaHFsUXVlcmllcy5MRUdBQ1lfVVBEQVRFX1BBWU1FTlRfQ09OVEVYVF9RVUVSWVxuICAgICAgICA6IGdyYXBocWxRdWVyaWVzLlVQREFURV9QQVlNRU5UX0NPTlRFWFRfUVVFUlk7XG5cbiAgICAgIHJldHVybiBjbGllbnQucmVxdWVzdCh7XG4gICAgICAgIGFwaTogXCJncmFwaFFMQXBpXCIsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICBpZDogc2VsZi5fdmVubW9QYXltZW50Q29udGV4dElkLFxuICAgICAgICAgICAgICBzdGF0dXM6IFwiQ0FOQ0VMRURcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSk7XG59O1xuXG5WZW5tby5wcm90b3R5cGUuX2NhbmNlbFZlbm1vRGVza3RvcENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICByZXR1cm4gdGhpcy5fY3JlYXRlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2VsZi5fdmVubW9EZXNrdG9wSW5zdGFuY2UpIHtcbiAgICAgIHNlbGYuX3Zlbm1vRGVza3RvcEluc3RhbmNlLnVwZGF0ZVZlbm1vRGVza3RvcFBheW1lbnRDb250ZXh0KFwiQ0FOQ0VMRURcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQ2xlYW5seSB0ZWFyIGRvd24gYW55dGhpbmcgc2V0IHVwIGJ5IHtAbGluayBtb2R1bGU6YnJhaW50cmVlLXdlYi92ZW5tby5jcmVhdGV8Y3JlYXRlfS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYWxsYmFja10gQ2FsbGVkIG9uY2UgdGVhcmRvd24gaXMgY29tcGxldGUuIE5vIGRhdGEgaXMgcmV0dXJuZWQgaWYgdGVhcmRvd24gY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAqIEBleGFtcGxlXG4gKiB2ZW5tb0luc3RhbmNlLnRlYXJkb3duKCk7XG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5XaXRoIGNhbGxiYWNrPC9jYXB0aW9uPlxuICogdmVubW9JbnN0YW5jZS50ZWFyZG93bihmdW5jdGlvbiAoKSB7XG4gKiAgIC8vIHRlYXJkb3duIGlzIGNvbXBsZXRlXG4gKiB9KTtcbiAqIEByZXR1cm5zIHsoUHJvbWlzZXx2b2lkKX0gUmV0dXJucyBhIHByb21pc2UgaWYgbm8gY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gKi9cblZlbm1vLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX3JlbW92ZVZpc2liaWxpdHlFdmVudExpc3RlbmVyKCk7XG5cbiAgcmV0dXJuIHRoaXMuX2NyZWF0ZVByb21pc2UudGhlbihcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5fdmVubW9EZXNrdG9wSW5zdGFuY2UpIHtcbiAgICAgICAgc2VsZi5fdmVubW9EZXNrdG9wSW5zdGFuY2UudGVhcmRvd24oKTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3JlZnJlc2hQYXltZW50Q29udGV4dFRpbWVvdXQpO1xuICAgICAgc2VsZi5fY2FuY2VsTW9iaWxlUGF5bWVudENvbnRleHQoKTtcblxuICAgICAgY29udmVydE1ldGhvZHNUb0Vycm9yKHRoaXMsIG1ldGhvZHMoVmVubW8ucHJvdG90eXBlKSk7XG4gICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG5WZW5tby5wcm90b3R5cGUuX3JlbW92ZVZpc2liaWxpdHlFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgdGhpcy5fb25IYXNoQ2hhbmdlTGlzdGVuZXIpO1xuICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICBkb2N1bWVudFZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUoKSxcbiAgICB0aGlzLl92aXNpYmlsaXR5Q2hhbmdlTGlzdGVuZXJcbiAgKTtcblxuICBkZWxldGUgdGhpcy5fdmlzaWJpbGl0eUNoYW5nZUxpc3RlbmVyO1xuICBkZWxldGUgdGhpcy5fb25IYXNoQ2hhbmdlTGlzdGVuZXI7XG59O1xuXG4vKipcbiAqIFRoZSBoYXNoIHBhcmFtZXRlciBpbiB0aGlzIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLiBJZiBubyBoYXNoIHBhcmFtZXRlciBpcyBwYXNzZWQsIHRoZSBgZ2V0RnJhZ21lbnRQYXJhbWV0ZXJzYCBmdW5jdGlvbiB3aWxsIGRlZmF1bHQgdG8gdGhlIGhhc2ggcHJlc2VudCBpbiB0aGUgd2Vic2l0ZSdzIFVSTCBpbnN0ZWFkLlxuICpcbiAqIFRoZXJlIGFyZSB0d28gc2NlbmFyaW9zIHdoZXJlIHRoaXMgbWV0aG9kIGlzIGNhbGxlZDpcbiAqXG4gKiAxLiBXaGVuIGNhbGxlZCB3aXRoaW4gYSBicm93c2VyIHRoYXQgaXMgY2FwYWJsZSBvZiByZXR1cm5pbmcgdG8gdGhlIHNhbWUgdGFiIHRoYXQgc3RhcnRlZCB0aGUgVmVubW8gZmxvdywgd2Ugc2V0IHVwIGEgbGlzdGVuZXIgdG8gZGV0ZWN0IGhhc2ggY2hhbmdlcyBpbiB0aGUgdXJsLiBQYXJ0IG9mIHRoZSByZXR1cm4gdG8gdGhlIG1lcmNoYW50J3Mgd2Vic2l0ZSBmcm9tIHRoZSBWZW5tbyBhcHAgaW5jbHVkZXMgZW5jb2RpbmcgdGhlIGRldGFpbHMgb2YgdGhlIHB1cmNoYXNlIGluIHRoZSBoYXNoIG9mIHRoZSB1cmwuIFRoZSBjYWxsYmFjayBpcyBpbnZva2VkIGFuZCB0aGUgaGFzaCBpcyBwdWxsZWQgb2ZmIGZyb20gdGhlIGV2ZW50IHBheWxvYWQuIFRoZSByZWFzb24gd2UgcHVsbCB0aGUgaGFzaCBvZmYgb2YgdGhlIGV2ZW50IHBheWxvYWQgaW5zdGVhZCBvZiBwdWxsaW5nIGl0IGRpcmVjdGx5IGZyb20gdGhlIFVSTCBpcyBiZWNhdXNlIHNvbWV0aW1lcyBhIHNpbmdsZSBwYWdlIGFwcCB3aWxsIHVzZSB0aGUgaGFzaCBwYXJhbWV0ZXIgZm9yIGl0J3Mgcm91dGluZyBzeXN0ZW0sIGFuZCBpdCdzIHBvc3NpYmxlIHRvIGhpdCBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIHRoZSByb3V0aW5nIGNvZGUgaGFzIGFscmVhZHkgcmVtb3ZlZCB0aGUgVmVubW8gc3BlY2lmaWMgYXR0cmlidXRlcyBmcm9tIHRoZSBoYXNoIGJlZm9yZSB3ZSBhcmUgYWJsZSB0byBwdWxsIGl0IG9mZiB0aGUgdXJsLiBHcmFiYmluZyB0aGUgaGFzaCBmcm9tIHRoZSBldmVudCBoYW5kbGVyIGluc3RlYWQgZW5zdXJlcyB3ZSBnZXQgdGhlIFZlbm1vIGRldGFpbHMsIG5vIG1hdHRlciB3aGF0IHRoZSB1cmwgaXMgY29udmVydGVkIHRvLlxuICogMi4gVGhlIG90aGVyIHNjZW5hcmlvIGlzIGZvciBicm93c2VycyB0aGF0IGNhbm5vdCByZXR1cm4gdG8gdGhlIHNhbWUgdGFiLCBhbmQgaW5zdGVhZCB0aGUgVmVubW8gYXBwIG11c3Qgb3BlbiBhIG5ldyB0YWIuIFNpbmNlIHRoZXJlIGlzIG5vIGhhc2ggbGlzdGVuZXIgdG8gcHVsbCB0aGUgaGFzaCBmcm9tLCB3ZSBwdWxsIHRoZSBoYXNoIGRldGFpbHMgZGlyZWN0bHkgZnJvbSB0aGUgdXJsIHVzaW5nIHRoZSBgZ2V0RnJhZ21lbnRQYXJhbWV0ZXJzYCBtZXRob2QuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IFtoYXNoXSBPcHRpb25hbGx5IHByb3ZpZGVkIGJyb3dzZXIgdXJsIGhhc2guXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2VcbiAqL1xuVmVubW8ucHJvdG90eXBlLnByb2Nlc3NIYXNoQ2hhbmdlRmxvd1Jlc3VsdHMgPSBmdW5jdGlvbiAoaGFzaCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwYXJhbXMgPSBnZXRGcmFnbWVudFBhcmFtZXRlcnMoaGFzaCk7XG5cbiAgLy8gTkVYVF9NQUpPUl9WRVJTSU9OIG9ubHkgcmVseSBvbiBwYXltZW50IGNvbnRleHQgc3RhdHVzIGNhbGwgYW5kIHN0b3AgcmVseWluZyBvbiB0aGVcbiAgLy8gY29udGVudCBvZiB0aGUgaGFzaFxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFzZWxmLl9zaG91bGRVc2VMZWdhY3lGbG93KSB7XG4gICAgICBzZWxmXG4gICAgICAgIC5fcG9sbEZvclN0YXR1c0NoYW5nZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgICAgIHNlbGYuX2NyZWF0ZVByb21pc2UsXG4gICAgICAgICAgICBcInZlbm1vLmFwcHN3aXRjaC5oYW5kbGUucGF5bWVudC1jb250ZXh0LXN0YXR1cy1xdWVyeS5zdWNjZXNzXCJcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoe1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZE5vbmNlOiBwYXlsb2FkLnBheW1lbnRNZXRob2RJZCxcbiAgICAgICAgICAgIHVzZXJuYW1lOiBwYXlsb2FkLnVzZXJOYW1lLFxuICAgICAgICAgICAgcGF5ZXJJbmZvOiBwYXlsb2FkLnBheWVySW5mbyxcbiAgICAgICAgICAgIGlkOiBzZWxmLl92ZW5tb1BheW1lbnRDb250ZXh0SWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZXJyLnR5cGUgPT09IGVycm9ycy5WRU5NT19NT0JJTEVfUE9MTElOR19UT0tFTklaQVRJT05fQ0FOQ0VMRUQudHlwZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byByZWplY3QgaW4gdGhpcyBjYXNlIGJlY2F1c2UgaWYgaXQgdGhlIHByb2Nlc3Mgd2FzIGNhbmNlbGVkLCB3ZSBkb24ndCB3YW50IHRvIHRha2UgdGhlIGhhcHB5IHBhdGhcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoXG4gICAgICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICAgICAgXCJ2ZW5tby5wcm9jZXNzLXJlc3VsdHMucGF5bWVudC1jb250ZXh0LXN0YXR1cy1xdWVyeS1mYWlsZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gSWYgdGhlIHBvbGxpbmcgcmVxdWVzdCBmYWlscywgYnV0IG5vdCBiZWNhdXNlIG9mIGNhbmNlbGl6YXRpb24sIHdlIHdpbGwgcmVseSBvbiB0aGUgcGFyYW1zIHByb3ZpZGVkIGZyb20gdGhlIGhhc2hcbiAgICAgICAgICByZXNvbHZlKHBhcmFtcyk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLnZlbm1vU3VjY2Vzcykge1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChcbiAgICAgICAgc2VsZi5fY3JlYXRlUHJvbWlzZSxcbiAgICAgICAgXCJ2ZW5tby5hcHBzd2l0Y2guaGFuZGxlLnN1Y2Nlc3NcIlxuICAgICAgKTtcblxuICAgICAgcmVzb2x2ZShwYXJhbXMpO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLnZlbm1vRXJyb3IpIHtcbiAgICAgIGFuYWx5dGljcy5zZW5kRXZlbnQoc2VsZi5fY3JlYXRlUHJvbWlzZSwgXCJ2ZW5tby5hcHBzd2l0Y2guaGFuZGxlLmVycm9yXCIpO1xuICAgICAgcmVqZWN0KFxuICAgICAgICBuZXcgQnJhaW50cmVlRXJyb3Ioe1xuICAgICAgICAgIHR5cGU6IGVycm9ycy5WRU5NT19BUFBfRkFJTEVELnR5cGUsXG4gICAgICAgICAgY29kZTogZXJyb3JzLlZFTk1PX0FQUF9GQUlMRUQuY29kZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvcnMuVkVOTU9fQVBQX0ZBSUxFRC5tZXNzYWdlLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtcy5lcnJvck1lc3NhZ2UpLFxuICAgICAgICAgICAgICBjb2RlOiBwYXJhbXMuZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcy52ZW5tb0NhbmNlbCkge1xuICAgICAgYW5hbHl0aWNzLnNlbmRFdmVudChzZWxmLl9jcmVhdGVQcm9taXNlLCBcInZlbm1vLmFwcHN3aXRjaC5oYW5kbGUuY2FuY2VsXCIpO1xuICAgICAgcmVqZWN0KG5ldyBCcmFpbnRyZWVFcnJvcihlcnJvcnMuVkVOTU9fQVBQX0NBTkNFTEVEKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVzZXIgaGFzIGVpdGhlciBtYW51YWxseSBzd2l0Y2hlZCBiYWNrIHRvIGJyb3dzZXIsIG9yIGFwcCBpcyBub3QgYXZhaWxhYmxlIGZvciBhcHAgc3dpdGNoXG4gICAgICBhbmFseXRpY3Muc2VuZEV2ZW50KFxuICAgICAgICBzZWxmLl9jcmVhdGVQcm9taXNlLFxuICAgICAgICBcInZlbm1vLmFwcHN3aXRjaC5jYW5jZWwtb3ItdW5hdmFpbGFibGVcIlxuICAgICAgKTtcbiAgICAgIHJlamVjdChuZXcgQnJhaW50cmVlRXJyb3IoZXJyb3JzLlZFTk1PX0NBTkNFTEVEKSk7XG4gICAgfVxuXG4gICAgc2VsZi5fY2xlYXJGcmFnbWVudFBhcmFtZXRlcnMoKTtcbiAgfSk7XG59O1xuXG5WZW5tby5wcm90b3R5cGUuX2NsZWFyRnJhZ21lbnRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5faWdub3JlSGlzdG9yeUNoYW5nZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoXG4gICAgdHlwZW9mIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgd2luZG93LmxvY2F0aW9uLmhhc2hcbiAgKSB7XG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoXG4gICAgICB7fSxcbiAgICAgIFwiXCIsXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSgwLCB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKFwiI1wiKSlcbiAgICApO1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRGcmFnbWVudFBhcmFtZXRlcnMoaGFzaCkge1xuICB2YXIga2V5VmFsdWVzQXJyYXkgPSAoaGFzaCB8fCB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpLnNwbGl0KFwiJlwiKTtcblxuICB2YXIgcGFyc2VkUGFyYW1zID0ga2V5VmFsdWVzQXJyYXkucmVkdWNlKGZ1bmN0aW9uICh0b1JldHVybiwga2V5VmFsdWUpIHtcbiAgICB2YXIgcGFydHMgPSBrZXlWYWx1ZS5zcGxpdChcIj1cIik7XG4gICAgLy8gc29tZSBTaW5nbGUgUGFnZSBBcHBzIG1heSBwcmUtcGVuZCBhIC8gdG8gdGhlIGZpcnN0IHZhbHVlXG4gICAgLy8gaW4gdGhlIGhhc2gsIGFzc3VtaW5nIGl0J3MgYSByb3V0ZSBpbiB0aGVpciBhcHBcbiAgICAvLyBpbnN0ZWFkIG9mIGluZm9ybWF0aW9uIGZyb20gVmVubW8sIHRoaXMgcmVtb3ZlcyBhbGxcbiAgICAvLyBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgZnJvbSB0aGUga2V5cyBpbiB0aGUgcGFyYW1zXG4gICAgdmFyIGRlY29kZWRLZXkgPSBkZWNvZGVVUklDb21wb25lbnQocGFydHNbMF0pLnJlcGxhY2UoL1xcVy9nLCBcIlwiKTtcbiAgICB2YXIga2V5ID0gc25ha2VDYXNlVG9DYW1lbENhc2UoZGVjb2RlZEtleSk7XG4gICAgdmFyIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzFdKTtcblxuICAgIHRvUmV0dXJuW2tleV0gPSB2YWx1ZTtcblxuICAgIHJldHVybiB0b1JldHVybjtcbiAgfSwge30pO1xuXG4gIGlmIChwYXJzZWRQYXJhbXMucmVzb3VyY2VJZCkge1xuICAgIHBhcnNlZFBhcmFtcy5pZCA9IHBhcnNlZFBhcmFtcy5yZXNvdXJjZUlkO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlZFBhcmFtcztcbn1cblxuZnVuY3Rpb24gZm9ybWF0VXNlck5hbWUodXNlcm5hbWUpIHtcbiAgdXNlcm5hbWUgPSB1c2VybmFtZSB8fCBcIlwiO1xuXG4gIC8vIE5FWFRfTUFKT1JfVkVSU0lPTiB0aGUgd2ViIHNka3MgaGF2ZSBhIHByZXBlbmRlZCBAIHNpZ25cbiAgLy8gYnV0IHRoZSBpb3MgYW5kIGFuZHJvaWQgb25lcyBkbyBub3QuIFRoaXMgc2hvdWxkIGJlIHN0YW5kYXJkaXplZFxuICByZXR1cm4gXCJAXCIgKyB1c2VybmFtZS5yZXBsYWNlKFwiQFwiLCBcIlwiKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VG9rZW5pemVQYXlsb2FkKHBheWxvYWQpIHtcbiAgdmFyIGZvcm1hdHRlZFBheWxvYWQgPSB7XG4gICAgbm9uY2U6IHBheWxvYWQucGF5bWVudE1ldGhvZE5vbmNlLFxuICAgIHR5cGU6IFwiVmVubW9BY2NvdW50XCIsXG4gICAgZGV0YWlsczoge1xuICAgICAgdXNlcm5hbWU6IGZvcm1hdFVzZXJOYW1lKHBheWxvYWQudXNlcm5hbWUpLFxuICAgICAgcGF5bWVudENvbnRleHRJZDogcGF5bG9hZC5pZCxcbiAgICB9LFxuICB9O1xuXG4gIGlmIChwYXlsb2FkLnBheWVySW5mbykge1xuICAgIGZvcm1hdHRlZFBheWxvYWQuZGV0YWlscy5wYXllckluZm8gPSBwYXlsb2FkLnBheWVySW5mbztcbiAgICBmb3JtYXR0ZWRQYXlsb2FkLmRldGFpbHMucGF5ZXJJbmZvLnVzZXJOYW1lID0gZm9ybWF0VXNlck5hbWUoXG4gICAgICBwYXlsb2FkLnBheWVySW5mby51c2VyTmFtZVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gZm9ybWF0dGVkUGF5bG9hZDtcbn1cblxuLy8gRnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUGFnZV9WaXNpYmlsaXR5X0FQSVxuZnVuY3Rpb24gZG9jdW1lbnRWaXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lKCkge1xuICB2YXIgdmlzaWJpbGl0eUNoYW5nZTtcblxuICBpZiAodHlwZW9mIHdpbmRvdy5kb2N1bWVudC5oaWRkZW4gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBPcGVyYSAxMi4xMCBhbmQgRmlyZWZveCAxOCBhbmQgbGF0ZXIgc3VwcG9ydFxuICAgIHZpc2liaWxpdHlDaGFuZ2UgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93LmRvY3VtZW50Lm1zSGlkZGVuICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmlzaWJpbGl0eUNoYW5nZSA9IFwibXN2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5kb2N1bWVudC53ZWJraXRIaWRkZW4gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2aXNpYmlsaXR5Q2hhbmdlID0gXCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gIH1cblxuICByZXR1cm4gdmlzaWJpbGl0eUNoYW5nZTtcbn1cblxuZnVuY3Rpb24gaXNJb3NXZWJ2aWV3SW5EZWVwTGlua1JldHVyblVybEZsb3coKSB7XG4gIC8vIHdlIGtub3cgaXQncyBhIHdlYnZpZXcgYmVjYXVzZSB0aGlzIGZsb3cgb25seSBnZXRzXG4gIC8vIHVzZWQgd2hlbiBjaGVja2luZyB0aGUgZGVlcCBsaW5rIGZsb3dcbiAgLy8gdGVzdCB0aGUgcGxhdGZvcm0gaGVyZSB0byBnZXQgYXJvdW5kIGN1c3RvbSB1c2VyYWdlbnRzXG4gIHJldHVybiAoXG4gICAgd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSAmJlxuICAgIC9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pXG4gICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd3JhcFByb21pc2Uud3JhcFByb3RvdHlwZShWZW5tbyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/braintree-web/venmo/venmo.js\n");

/***/ })

};
;